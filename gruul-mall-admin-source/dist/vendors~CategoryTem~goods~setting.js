((typeof self !== 'undefined' ? self : this)["webpackJsonp"] = (typeof self !== 'undefined' ? self : this)["webpackJsonp"] || []).push([["vendors~CategoryTem~goods~setting"],{

/***/ "./node_modules/core-js/modules/_same-value.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_same-value.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zYW1lLXZhbHVlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2FtZS12YWx1ZS5qcz84M2ExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi45IFNhbWVWYWx1ZSh4LCB5KVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaXMgfHwgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIHJldHVybiB4ID09PSB5ID8geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkgOiB4ICE9IHggJiYgeSAhPSB5O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/_same-value.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/_strict-method.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/_strict-method.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar fails = __webpack_require__(/*! ./_fails */ \"./node_modules/core-js/modules/_fails.js\");\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpY3QtbWV0aG9kLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaWN0LW1ldGhvZC5qcz8yZjIxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7XG4gIHJldHVybiAhIW1ldGhvZCAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY2FsbFxuICAgIGFyZyA/IG1ldGhvZC5jYWxsKG51bGwsIGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgMSkgOiBtZXRob2QuY2FsbChudWxsKTtcbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/_strict-method.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.array.find-index.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/modules/es6.array.find-index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = __webpack_require__(/*! ./_export */ \"./node_modules/core-js/modules/_export.js\");\nvar $find = __webpack_require__(/*! ./_array-methods */ \"./node_modules/core-js/modules/_array-methods.js\")(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n__webpack_require__(/*! ./_add-to-unscopables */ \"./node_modules/core-js/modules/_add-to-unscopables.js\")(KEY);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maW5kLWluZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZC1pbmRleC5qcz8yMGQ2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIDIyLjEuMy45IEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgocHJlZGljYXRlLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkZmluZCA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSg2KTtcbnZhciBLRVkgPSAnZmluZEluZGV4JztcbnZhciBmb3JjZWQgPSB0cnVlO1xuLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbmlmIChLRVkgaW4gW10pIEFycmF5KDEpW0tFWV0oZnVuY3Rpb24gKCkgeyBmb3JjZWQgPSBmYWxzZTsgfSk7XG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuICBmaW5kSW5kZXg6IGZ1bmN0aW9uIGZpbmRJbmRleChjYWxsYmFja2ZuIC8qICwgdGhhdCA9IHVuZGVmaW5lZCAqLykge1xuICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoS0VZKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.array.find-index.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.array.sort.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/es6.array.sort.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar $export = __webpack_require__(/*! ./_export */ \"./node_modules/core-js/modules/_export.js\");\nvar aFunction = __webpack_require__(/*! ./_a-function */ \"./node_modules/core-js/modules/_a-function.js\");\nvar toObject = __webpack_require__(/*! ./_to-object */ \"./node_modules/core-js/modules/_to-object.js\");\nvar fails = __webpack_require__(/*! ./_fails */ \"./node_modules/core-js/modules/_fails.js\");\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !__webpack_require__(/*! ./_strict-method */ \"./node_modules/core-js/modules/_strict-method.js\")($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5zb3J0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuc29ydC5qcz81NWRkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyICRzb3J0ID0gW10uc29ydDtcbnZhciB0ZXN0ID0gWzEsIDIsIDNdO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIElFOC1cbiAgdGVzdC5zb3J0KHVuZGVmaW5lZCk7XG59KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBWOCBidWdcbiAgdGVzdC5zb3J0KG51bGwpO1xuICAvLyBPbGQgV2ViS2l0XG59KSB8fCAhcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKCRzb3J0KSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4zLjI1IEFycmF5LnByb3RvdHlwZS5zb3J0KGNvbXBhcmVmbilcbiAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlZm4pIHtcbiAgICByZXR1cm4gY29tcGFyZWZuID09PSB1bmRlZmluZWRcbiAgICAgID8gJHNvcnQuY2FsbCh0b09iamVjdCh0aGlzKSlcbiAgICAgIDogJHNvcnQuY2FsbCh0b09iamVjdCh0aGlzKSwgYUZ1bmN0aW9uKGNvbXBhcmVmbikpO1xuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.array.sort.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.regexp.constructor.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/modules/es6.regexp.constructor.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var global = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/modules/_global.js\");\nvar inheritIfRequired = __webpack_require__(/*! ./_inherit-if-required */ \"./node_modules/core-js/modules/_inherit-if-required.js\");\nvar dP = __webpack_require__(/*! ./_object-dp */ \"./node_modules/core-js/modules/_object-dp.js\").f;\nvar gOPN = __webpack_require__(/*! ./_object-gopn */ \"./node_modules/core-js/modules/_object-gopn.js\").f;\nvar isRegExp = __webpack_require__(/*! ./_is-regexp */ \"./node_modules/core-js/modules/_is-regexp.js\");\nvar $flags = __webpack_require__(/*! ./_flags */ \"./node_modules/core-js/modules/_flags.js\");\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (__webpack_require__(/*! ./_descriptors */ \"./node_modules/core-js/modules/_descriptors.js\") && (!CORRECT_NEW || __webpack_require__(/*! ./_fails */ \"./node_modules/core-js/modules/_fails.js\")(function () {\n  re2[__webpack_require__(/*! ./_wks */ \"./node_modules/core-js/modules/_wks.js\")('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  __webpack_require__(/*! ./_redefine */ \"./node_modules/core-js/modules/_redefine.js\")(global, 'RegExp', $RegExp);\n}\n\n__webpack_require__(/*! ./_set-species */ \"./node_modules/core-js/modules/_set-species.js\")('RegExp');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuY29uc3RydWN0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuY29uc3RydWN0b3IuanM/M2IyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaW5oZXJpdElmUmVxdWlyZWQgPSByZXF1aXJlKCcuL19pbmhlcml0LWlmLXJlcXVpcmVkJyk7XG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgaXNSZWdFeHAgPSByZXF1aXJlKCcuL19pcy1yZWdleHAnKTtcbnZhciAkZmxhZ3MgPSByZXF1aXJlKCcuL19mbGFncycpO1xudmFyICRSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xudmFyIEJhc2UgPSAkUmVnRXhwO1xudmFyIHByb3RvID0gJFJlZ0V4cC5wcm90b3R5cGU7XG52YXIgcmUxID0gL2EvZztcbnZhciByZTIgPSAvYS9nO1xuLy8gXCJuZXdcIiBjcmVhdGVzIGEgbmV3IG9iamVjdCwgb2xkIHdlYmtpdCBidWdneSBoZXJlXG52YXIgQ09SUkVDVF9ORVcgPSBuZXcgJFJlZ0V4cChyZTEpICE9PSByZTE7XG5cbmlmIChyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICghQ09SUkVDVF9ORVcgfHwgcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJlMltyZXF1aXJlKCcuL193a3MnKSgnbWF0Y2gnKV0gPSBmYWxzZTtcbiAgLy8gUmVnRXhwIGNvbnN0cnVjdG9yIGNhbiBhbHRlciBmbGFncyBhbmQgSXNSZWdFeHAgd29ya3MgY29ycmVjdCB3aXRoIEBAbWF0Y2hcbiAgcmV0dXJuICRSZWdFeHAocmUxKSAhPSByZTEgfHwgJFJlZ0V4cChyZTIpID09IHJlMiB8fCAkUmVnRXhwKHJlMSwgJ2knKSAhPSAnL2EvaSc7XG59KSkpIHtcbiAgJFJlZ0V4cCA9IGZ1bmN0aW9uIFJlZ0V4cChwLCBmKSB7XG4gICAgdmFyIHRpUkUgPSB0aGlzIGluc3RhbmNlb2YgJFJlZ0V4cDtcbiAgICB2YXIgcGlSRSA9IGlzUmVnRXhwKHApO1xuICAgIHZhciBmaVUgPSBmID09PSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuICF0aVJFICYmIHBpUkUgJiYgcC5jb25zdHJ1Y3RvciA9PT0gJFJlZ0V4cCAmJiBmaVUgPyBwXG4gICAgICA6IGluaGVyaXRJZlJlcXVpcmVkKENPUlJFQ1RfTkVXXG4gICAgICAgID8gbmV3IEJhc2UocGlSRSAmJiAhZmlVID8gcC5zb3VyY2UgOiBwLCBmKVxuICAgICAgICA6IEJhc2UoKHBpUkUgPSBwIGluc3RhbmNlb2YgJFJlZ0V4cCkgPyBwLnNvdXJjZSA6IHAsIHBpUkUgJiYgZmlVID8gJGZsYWdzLmNhbGwocCkgOiBmKVxuICAgICAgLCB0aVJFID8gdGhpcyA6IHByb3RvLCAkUmVnRXhwKTtcbiAgfTtcbiAgdmFyIHByb3h5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGtleSBpbiAkUmVnRXhwIHx8IGRQKCRSZWdFeHAsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBCYXNlW2tleV07IH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIChpdCkgeyBCYXNlW2tleV0gPSBpdDsgfVxuICAgIH0pO1xuICB9O1xuICBmb3IgKHZhciBrZXlzID0gZ09QTihCYXNlKSwgaSA9IDA7IGtleXMubGVuZ3RoID4gaTspIHByb3h5KGtleXNbaSsrXSk7XG4gIHByb3RvLmNvbnN0cnVjdG9yID0gJFJlZ0V4cDtcbiAgJFJlZ0V4cC5wcm90b3R5cGUgPSBwcm90bztcbiAgcmVxdWlyZSgnLi9fcmVkZWZpbmUnKShnbG9iYWwsICdSZWdFeHAnLCAkUmVnRXhwKTtcbn1cblxucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKSgnUmVnRXhwJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.regexp.constructor.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.regexp.match.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/es6.regexp.match.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar anObject = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/modules/_an-object.js\");\nvar toLength = __webpack_require__(/*! ./_to-length */ \"./node_modules/core-js/modules/_to-length.js\");\nvar advanceStringIndex = __webpack_require__(/*! ./_advance-string-index */ \"./node_modules/core-js/modules/_advance-string-index.js\");\nvar regExpExec = __webpack_require__(/*! ./_regexp-exec-abstract */ \"./node_modules/core-js/modules/_regexp-exec-abstract.js\");\n\n// @@match logic\n__webpack_require__(/*! ./_fix-re-wks */ \"./node_modules/core-js/modules/_fix-re-wks.js\")('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAubWF0Y2guanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAubWF0Y2guanM/NDkxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi9fYWR2YW5jZS1zdHJpbmctaW5kZXgnKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi9fcmVnZXhwLWV4ZWMtYWJzdHJhY3QnKTtcblxuLy8gQEBtYXRjaCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdtYXRjaCcsIDEsIGZ1bmN0aW9uIChkZWZpbmVkLCBNQVRDSCwgJG1hdGNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5tYXRjaFxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlZ2V4cCkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gcmVnZXhwID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlZ2V4cFtNQVRDSF07XG4gICAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IGZuLmNhbGwocmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtNQVRDSF0oU3RyaW5nKE8pKTtcbiAgICB9LFxuICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAbWF0Y2hdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAbWF0Y2hcbiAgICBmdW5jdGlvbiAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKCRtYXRjaCwgcmVnZXhwLCB0aGlzKTtcbiAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHJlZ2V4cCk7XG4gICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIGlmICghcnguZ2xvYmFsKSByZXR1cm4gcmVnRXhwRXhlYyhyeCwgUyk7XG4gICAgICB2YXIgZnVsbFVuaWNvZGUgPSByeC51bmljb2RlO1xuICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgIHZhciBBID0gW107XG4gICAgICB2YXIgbiA9IDA7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgd2hpbGUgKChyZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKSkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIG1hdGNoU3RyID0gU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIEFbbl0gPSBtYXRjaFN0cjtcbiAgICAgICAgaWYgKG1hdGNoU3RyID09PSAnJykgcngubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKHJ4Lmxhc3RJbmRleCksIGZ1bGxVbmljb2RlKTtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4gPT09IDAgPyBudWxsIDogQTtcbiAgICB9XG4gIF07XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.regexp.match.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.regexp.search.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/modules/es6.regexp.search.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar anObject = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/modules/_an-object.js\");\nvar sameValue = __webpack_require__(/*! ./_same-value */ \"./node_modules/core-js/modules/_same-value.js\");\nvar regExpExec = __webpack_require__(/*! ./_regexp-exec-abstract */ \"./node_modules/core-js/modules/_regexp-exec-abstract.js\");\n\n// @@search logic\n__webpack_require__(/*! ./_fix-re-wks */ \"./node_modules/core-js/modules/_fix-re-wks.js\")('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc2VhcmNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNlYXJjaC5qcz8zODZkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgc2FtZVZhbHVlID0gcmVxdWlyZSgnLi9fc2FtZS12YWx1ZScpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuL19yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xuXG4vLyBAQHNlYXJjaCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzZWFyY2gnLCAxLCBmdW5jdGlvbiAoZGVmaW5lZCwgU0VBUkNILCAkc2VhcmNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zZWFyY2hgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuc2VhcmNoXG4gICAgZnVuY3Rpb24gc2VhcmNoKHJlZ2V4cCkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gcmVnZXhwID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlZ2V4cFtTRUFSQ0hdO1xuICAgICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbU0VBUkNIXShTdHJpbmcoTykpO1xuICAgIH0sXG4gICAgLy8gYFJlZ0V4cC5wcm90b3R5cGVbQEBzZWFyY2hdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAc2VhcmNoXG4gICAgZnVuY3Rpb24gKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZSgkc2VhcmNoLCByZWdleHAsIHRoaXMpO1xuICAgICAgaWYgKHJlcy5kb25lKSByZXR1cm4gcmVzLnZhbHVlO1xuICAgICAgdmFyIHJ4ID0gYW5PYmplY3QocmVnZXhwKTtcbiAgICAgIHZhciBTID0gU3RyaW5nKHRoaXMpO1xuICAgICAgdmFyIHByZXZpb3VzTGFzdEluZGV4ID0gcngubGFzdEluZGV4O1xuICAgICAgaWYgKCFzYW1lVmFsdWUocHJldmlvdXNMYXN0SW5kZXgsIDApKSByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgdmFyIHJlc3VsdCA9IHJlZ0V4cEV4ZWMocngsIFMpO1xuICAgICAgaWYgKCFzYW1lVmFsdWUocngubGFzdEluZGV4LCBwcmV2aW91c0xhc3RJbmRleCkpIHJ4Lmxhc3RJbmRleCA9IHByZXZpb3VzTGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gbnVsbCA/IC0xIDogcmVzdWx0LmluZGV4O1xuICAgIH1cbiAgXTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.regexp.search.js\n");

/***/ }),

/***/ "./node_modules/core-js/modules/es6.regexp.split.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/es6.regexp.split.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isRegExp = __webpack_require__(/*! ./_is-regexp */ \"./node_modules/core-js/modules/_is-regexp.js\");\nvar anObject = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/modules/_an-object.js\");\nvar speciesConstructor = __webpack_require__(/*! ./_species-constructor */ \"./node_modules/core-js/modules/_species-constructor.js\");\nvar advanceStringIndex = __webpack_require__(/*! ./_advance-string-index */ \"./node_modules/core-js/modules/_advance-string-index.js\");\nvar toLength = __webpack_require__(/*! ./_to-length */ \"./node_modules/core-js/modules/_to-length.js\");\nvar callRegExpExec = __webpack_require__(/*! ./_regexp-exec-abstract */ \"./node_modules/core-js/modules/_regexp-exec-abstract.js\");\nvar regexpExec = __webpack_require__(/*! ./_regexp-exec */ \"./node_modules/core-js/modules/_regexp-exec.js\");\nvar fails = __webpack_require__(/*! ./_fails */ \"./node_modules/core-js/modules/_fails.js\");\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\n__webpack_require__(/*! ./_fix-re-wks */ \"./node_modules/core-js/modules/_fix-re-wks.js\")('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQuanM/MjhhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4vX2lzLXJlZ2V4cCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4vX2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjYWxsUmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyICRtaW4gPSBNYXRoLm1pbjtcbnZhciAkcHVzaCA9IFtdLnB1c2g7XG52YXIgJFNQTElUID0gJ3NwbGl0JztcbnZhciBMRU5HVEggPSAnbGVuZ3RoJztcbnZhciBMQVNUX0lOREVYID0gJ2xhc3RJbmRleCc7XG52YXIgTUFYX1VJTlQzMiA9IDB4ZmZmZmZmZmY7XG5cbi8vIGJhYmVsLW1pbmlmeSB0cmFuc3BpbGVzIFJlZ0V4cCgneCcsICd5JykgLT4gL3gveSBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgU1VQUE9SVFNfWSA9ICFmYWlscyhmdW5jdGlvbiAoKSB7IFJlZ0V4cChNQVhfVUlOVDMyLCAneScpOyB9KTtcblxuLy8gQEBzcGxpdCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzcGxpdCcsIDIsIGZ1bmN0aW9uIChkZWZpbmVkLCBTUExJVCwgJHNwbGl0LCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgdmFyIGludGVybmFsU3BsaXQ7XG4gIGlmIChcbiAgICAnYWJiYydbJFNQTElUXSgvKGIpKi8pWzFdID09ICdjJyB8fFxuICAgICd0ZXN0J1skU1BMSVRdKC8oPzopLywgLTEpW0xFTkdUSF0gIT0gNCB8fFxuICAgICdhYidbJFNQTElUXSgvKD86YWIpKi8pW0xFTkdUSF0gIT0gMiB8fFxuICAgICcuJ1skU1BMSVRdKC8oLj8pKC4/KS8pW0xFTkdUSF0gIT0gNCB8fFxuICAgICcuJ1skU1BMSVRdKC8oKSgpLylbTEVOR1RIXSA+IDEgfHxcbiAgICAnJ1skU1BMSVRdKC8uPy8pW0xFTkdUSF1cbiAgKSB7XG4gICAgLy8gYmFzZWQgb24gZXM1LXNoaW0gaW1wbGVtZW50YXRpb24sIG5lZWQgdG8gcmV3b3JrIGl0XG4gICAgaW50ZXJuYWxTcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkICYmIGxpbWl0ID09PSAwKSByZXR1cm4gW107XG4gICAgICAvLyBJZiBgc2VwYXJhdG9yYCBpcyBub3QgYSByZWdleCwgdXNlIG5hdGl2ZSBzcGxpdFxuICAgICAgaWYgKCFpc1JlZ0V4cChzZXBhcmF0b3IpKSByZXR1cm4gJHNwbGl0LmNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgIHZhciBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLm11bHRpbGluZSA/ICdtJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgPyAneScgOiAnJyk7XG4gICAgICB2YXIgbGFzdExhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgc3BsaXRMaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfVUlOVDMyIDogbGltaXQgPj4+IDA7XG4gICAgICAvLyBNYWtlIGBnbG9iYWxgIGFuZCBhdm9pZCBgbGFzdEluZGV4YCBpc3N1ZXMgYnkgd29ya2luZyB3aXRoIGEgY29weVxuICAgICAgdmFyIHNlcGFyYXRvckNvcHkgPSBuZXcgUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIGZsYWdzICsgJ2cnKTtcbiAgICAgIHZhciBtYXRjaCwgbGFzdEluZGV4LCBsYXN0TGVuZ3RoO1xuICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXhwRXhlYy5jYWxsKHNlcGFyYXRvckNvcHksIHN0cmluZykpIHtcbiAgICAgICAgbGFzdEluZGV4ID0gc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXTtcbiAgICAgICAgaWYgKGxhc3RJbmRleCA+IGxhc3RMYXN0SW5kZXgpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICBpZiAobWF0Y2hbTEVOR1RIXSA+IDEgJiYgbWF0Y2guaW5kZXggPCBzdHJpbmdbTEVOR1RIXSkgJHB1c2guYXBwbHkob3V0cHV0LCBtYXRjaC5zbGljZSgxKSk7XG4gICAgICAgICAgbGFzdExlbmd0aCA9IG1hdGNoWzBdW0xFTkdUSF07XG4gICAgICAgICAgbGFzdExhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICBpZiAob3V0cHV0W0xFTkdUSF0gPj0gc3BsaXRMaW1pdCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWF0gPT09IG1hdGNoLmluZGV4KSBzZXBhcmF0b3JDb3B5W0xBU1RfSU5ERVhdKys7IC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0TGFzdEluZGV4ID09PSBzdHJpbmdbTEVOR1RIXSkge1xuICAgICAgICBpZiAobGFzdExlbmd0aCB8fCAhc2VwYXJhdG9yQ29weS50ZXN0KCcnKSkgb3V0cHV0LnB1c2goJycpO1xuICAgICAgfSBlbHNlIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICByZXR1cm4gb3V0cHV0W0xFTkdUSF0gPiBzcGxpdExpbWl0ID8gb3V0cHV0LnNsaWNlKDAsIHNwbGl0TGltaXQpIDogb3V0cHV0O1xuICAgIH07XG4gIC8vIENoYWtyYSwgVjhcbiAgfSBlbHNlIGlmICgnMCdbJFNQTElUXSh1bmRlZmluZWQsIDApW0xFTkdUSF0pIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHJldHVybiBzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCAmJiBsaW1pdCA9PT0gMCA/IFtdIDogJHNwbGl0LmNhbGwodGhpcywgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gJHNwbGl0O1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zcGxpdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5zcGxpdFxuICAgIGZ1bmN0aW9uIHNwbGl0KHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICAgIHZhciBzcGxpdHRlciA9IHNlcGFyYXRvciA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZXBhcmF0b3JbU1BMSVRdO1xuICAgICAgcmV0dXJuIHNwbGl0dGVyICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBzcGxpdHRlci5jYWxsKHNlcGFyYXRvciwgTywgbGltaXQpXG4gICAgICAgIDogaW50ZXJuYWxTcGxpdC5jYWxsKFN0cmluZyhPKSwgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHNwbGl0XG4gICAgLy9cbiAgICAvLyBOT1RFOiBUaGlzIGNhbm5vdCBiZSBwcm9wZXJseSBwb2x5ZmlsbGVkIGluIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0XG4gICAgLy8gdGhlICd5JyBmbGFnLlxuICAgIGZ1bmN0aW9uIChyZWdleHAsIGxpbWl0KSB7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKGludGVybmFsU3BsaXQsIHJlZ2V4cCwgdGhpcywgbGltaXQsIGludGVybmFsU3BsaXQgIT09ICRzcGxpdCk7XG4gICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG5cbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHJlZ2V4cCk7XG4gICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHJ4LCBSZWdFeHApO1xuXG4gICAgICB2YXIgdW5pY29kZU1hdGNoaW5nID0gcngudW5pY29kZTtcbiAgICAgIHZhciBmbGFncyA9IChyeC5pZ25vcmVDYXNlID8gJ2knIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyeC5tdWx0aWxpbmUgPyAnbScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJ4LnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKFNVUFBPUlRTX1kgPyAneScgOiAnZycpO1xuXG4gICAgICAvLyBeKD8gKyByeCArICkgaXMgbmVlZGVkLCBpbiBjb21iaW5hdGlvbiB3aXRoIHNvbWUgUyBzbGljaW5nLCB0b1xuICAgICAgLy8gc2ltdWxhdGUgdGhlICd5JyBmbGFnLlxuICAgICAgdmFyIHNwbGl0dGVyID0gbmV3IEMoU1VQUE9SVFNfWSA/IHJ4IDogJ14oPzonICsgcnguc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgICB2YXIgbGltID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9VSU5UMzIgOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmIChsaW0gPT09IDApIHJldHVybiBbXTtcbiAgICAgIGlmIChTLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTKSA9PT0gbnVsbCA/IFtTXSA6IFtdO1xuICAgICAgdmFyIHAgPSAwO1xuICAgICAgdmFyIHEgPSAwO1xuICAgICAgdmFyIEEgPSBbXTtcbiAgICAgIHdoaWxlIChxIDwgUy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXR0ZXIubGFzdEluZGV4ID0gU1VQUE9SVFNfWSA/IHEgOiAwO1xuICAgICAgICB2YXIgeiA9IGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTVVBQT1JUU19ZID8gUyA6IFMuc2xpY2UocSkpO1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHogPT09IG51bGwgfHxcbiAgICAgICAgICAoZSA9ICRtaW4odG9MZW5ndGgoc3BsaXR0ZXIubGFzdEluZGV4ICsgKFNVUFBPUlRTX1kgPyAwIDogcSkpLCBTLmxlbmd0aCkpID09PSBwXG4gICAgICAgICkge1xuICAgICAgICAgIHEgPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgcSwgdW5pY29kZU1hdGNoaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBLnB1c2goUy5zbGljZShwLCBxKSk7XG4gICAgICAgICAgaWYgKEEubGVuZ3RoID09PSBsaW0pIHJldHVybiBBO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHoubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBBLnB1c2goeltpXSk7XG4gICAgICAgICAgICBpZiAoQS5sZW5ndGggPT09IGxpbSkgcmV0dXJuIEE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHEgPSBwID0gZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQS5wdXNoKFMuc2xpY2UocCkpO1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICBdO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/core-js/modules/es6.regexp.split.js\n");

/***/ }),

/***/ "./node_modules/wangeditor/dist/wangEditor.js":
/*!****************************************************!*\
  !*** ./node_modules/wangeditor/dist/wangEditor.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 146);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(147);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__extends\", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__rest\", function() { return __rest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__decorate\", function() { return __decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__param\", function() { return __param; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__metadata\", function() { return __metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__awaiter\", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__generator\", function() { return __generator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__createBinding\", function() { return __createBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__exportStar\", function() { return __exportStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__values\", function() { return __values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__read\", function() { return __read; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spread\", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spreadArrays\", function() { return __spreadArrays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__spreadArray\", function() { return __spreadArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__await\", function() { return __await; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncGenerator\", function() { return __asyncGenerator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncDelegator\", function() { return __asyncDelegator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__asyncValues\", function() { return __asyncValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__makeTemplateObject\", function() { return __makeTemplateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importStar\", function() { return __importStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__importDefault\", function() { return __importDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldGet\", function() { return __classPrivateFieldGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__classPrivateFieldSet\", function() { return __classPrivateFieldSet; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nvar __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nfunction __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 封装 DOM 操作\n * @wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _isArray = _interopRequireDefault(__webpack_require__(96));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\nvar _map2 = _interopRequireDefault(__webpack_require__(125));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\nvar _splice = _interopRequireDefault(__webpack_require__(99));\n\nvar _filter = _interopRequireDefault(__webpack_require__(76));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\nvar _bind = _interopRequireDefault(__webpack_require__(61));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.DomElement = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar AGENT_EVENTS = [];\n/**\n * 根据 html 字符串创建 elem\n * @param {String} html html\n */\n\nfunction _createElemByHTML(html) {\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  var elems = div.children;\n  return util_1.toArray(elems);\n}\n/**\n * 判断是否是 DOM List\n * @param selector DOM 元素或列表\n */\n\n\nfunction _isDOMList(selector) {\n  if (!selector) {\n    return false;\n  }\n\n  if (selector instanceof HTMLCollection || selector instanceof NodeList) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * 封装 querySelectorAll\n * @param selector css 选择器\n */\n\n\nfunction _querySelectorAll(selector) {\n  var elems = document.querySelectorAll(selector);\n  return util_1.toArray(elems);\n}\n/**\n * 封装 _styleArrTrim\n * @param styleArr css\n */\n\n\nfunction _styleArrTrim(style) {\n  var styleArr = [];\n  var resultArr = [];\n\n  if (!(0, _isArray[\"default\"])(style)) {\n    // 有 style，将 style 按照 `;` 拆分为数组\n    styleArr = style.split(';');\n  } else {\n    styleArr = style;\n  }\n\n  (0, _forEach[\"default\"])(styleArr).call(styleArr, function (item) {\n    var _context;\n\n    // 对每项样式，按照 : 拆分为 key 和 value\n    var arr = (0, _map[\"default\"])(_context = item.split(':')).call(_context, function (i) {\n      return (0, _trim[\"default\"])(i).call(i);\n    });\n\n    if (arr.length === 2) {\n      resultArr.push(arr[0] + ':' + arr[1]);\n    }\n  });\n  return resultArr;\n} // 构造函数\n\n\nvar DomElement = function () {\n  /**\n   * 构造函数\n   * @param selector 任一类型的选择器\n   */\n  function DomElement(selector) {\n    // 初始化属性\n    this.elems = [];\n    this.length = this.elems.length;\n    this.dataSource = new _map2[\"default\"]();\n\n    if (!selector) {\n      return;\n    } // 原本就是 DomElement 实例，则直接返回\n\n\n    if (selector instanceof DomElement) {\n      return selector;\n    }\n\n    var selectorResult = []; // 存储查询结果\n\n    var nodeType = selector instanceof Node ? selector.nodeType : -1;\n    this.selector = selector;\n\n    if (nodeType === 1 || nodeType === 9) {\n      selectorResult = [selector];\n    } else if (_isDOMList(selector)) {\n      // DOM List\n      selectorResult = util_1.toArray(selector);\n    } else if (selector instanceof Array) {\n      // Element 数组（其他数据类型，暂时忽略）\n      selectorResult = selector;\n    } else if (typeof selector === 'string') {\n      var _context2;\n\n      // 字符串\n      var tmpSelector = (0, _trim[\"default\"])(_context2 = selector.replace('/\\n/mg', '')).call(_context2);\n\n      if ((0, _indexOf[\"default\"])(tmpSelector).call(tmpSelector, '<') === 0) {\n        // 如 <div>\n        selectorResult = _createElemByHTML(tmpSelector);\n      } else {\n        // 如 #id .class\n        selectorResult = _querySelectorAll(tmpSelector);\n      }\n    }\n\n    var length = selectorResult.length;\n\n    if (!length) {\n      // 空数组\n      return this;\n    } // 加入 DOM 节点\n\n\n    var i = 0;\n\n    for (; i < length; i++) {\n      this.elems.push(selectorResult[i]);\n    }\n\n    this.length = length;\n  }\n\n  (0, _defineProperty[\"default\"])(DomElement.prototype, \"id\", {\n    /**\n     * 获取元素 id\n     */\n    get: function get() {\n      return this.elems[0].id;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 遍历所有元素，执行回调函数\n   * @param fn 回调函数\n   */\n\n  DomElement.prototype.forEach = function (fn) {\n    for (var i = 0; i < this.length; i++) {\n      var elem = this.elems[i];\n      var result = fn.call(elem, elem, i);\n\n      if (result === false) {\n        break;\n      }\n    }\n\n    return this;\n  };\n  /**\n   * 克隆元素\n   * @param deep 是否深度克隆\n   */\n\n\n  DomElement.prototype.clone = function (deep) {\n    var _context3;\n\n    if (deep === void 0) {\n      deep = false;\n    }\n\n    var cloneList = [];\n    (0, _forEach[\"default\"])(_context3 = this.elems).call(_context3, function (elem) {\n      cloneList.push(elem.cloneNode(!!deep));\n    });\n    return $(cloneList);\n  };\n  /**\n   * 获取第几个元素\n   * @param index index\n   */\n\n\n  DomElement.prototype.get = function (index) {\n    if (index === void 0) {\n      index = 0;\n    }\n\n    var length = this.length;\n\n    if (index >= length) {\n      index = index % length;\n    }\n\n    return $(this.elems[index]);\n  };\n  /**\n   * 获取第一个元素\n   */\n\n\n  DomElement.prototype.first = function () {\n    return this.get(0);\n  };\n  /**\n   * 获取最后一个元素\n   */\n\n\n  DomElement.prototype.last = function () {\n    var length = this.length;\n    return this.get(length - 1);\n  };\n\n  DomElement.prototype.on = function (type, selector, fn) {\n    var _context4;\n\n    if (!type) return this; // 没有 selector ，只有 type 和 fn\n\n    if (typeof selector === 'function') {\n      fn = selector;\n      selector = '';\n    }\n\n    return (0, _forEach[\"default\"])(_context4 = this).call(_context4, function (elem) {\n      // 没有事件代理\n      if (!selector) {\n        // 无代理\n        elem.addEventListener(type, fn);\n        return;\n      } // 有事件代理\n\n\n      var agentFn = function agentFn(e) {\n        var target = e.target;\n\n        if (target.matches(selector)) {\n          ;\n          fn.call(target, e);\n        }\n      };\n\n      elem.addEventListener(type, agentFn); // 缓存代理事件\n\n      AGENT_EVENTS.push({\n        elem: elem,\n        selector: selector,\n        fn: fn,\n        agentFn: agentFn\n      });\n    });\n  };\n\n  DomElement.prototype.off = function (type, selector, fn) {\n    var _context5;\n\n    if (!type) return this; // 没有 selector ，只有 type 和 fn\n\n    if (typeof selector === 'function') {\n      fn = selector;\n      selector = '';\n    }\n\n    return (0, _forEach[\"default\"])(_context5 = this).call(_context5, function (elem) {\n      // 解绑事件代理\n      if (selector) {\n        var idx = -1;\n\n        for (var i = 0; i < AGENT_EVENTS.length; i++) {\n          var item = AGENT_EVENTS[i];\n\n          if (item.selector === selector && item.fn === fn && item.elem === elem) {\n            idx = i;\n            break;\n          }\n        }\n\n        if (idx !== -1) {\n          var agentFn = (0, _splice[\"default\"])(AGENT_EVENTS).call(AGENT_EVENTS, idx, 1)[0].agentFn;\n          elem.removeEventListener(type, agentFn);\n        }\n      } else {\n        // @ts-ignore\n        elem.removeEventListener(type, fn);\n      }\n    });\n  };\n\n  DomElement.prototype.attr = function (key, val) {\n    var _context6;\n\n    if (val == null) {\n      // 获取数据\n      return this.elems[0].getAttribute(key) || '';\n    } // 否则，设置属性\n\n\n    return (0, _forEach[\"default\"])(_context6 = this).call(_context6, function (elem) {\n      elem.setAttribute(key, val);\n    });\n  };\n  /**\n   * 删除 属性\n   * @param key key\n   */\n\n\n  DomElement.prototype.removeAttr = function (key) {\n    var _context7;\n\n    (0, _forEach[\"default\"])(_context7 = this).call(_context7, function (elem) {\n      elem.removeAttribute(key);\n    });\n  };\n  /**\n   * 添加 css class\n   * @param className css class\n   */\n\n\n  DomElement.prototype.addClass = function (className) {\n    var _context8;\n\n    if (!className) {\n      return this;\n    }\n\n    return (0, _forEach[\"default\"])(_context8 = this).call(_context8, function (elem) {\n      if (elem.className) {\n        // 当前有 class\n        var arr = elem.className.split(/\\s/);\n        arr = (0, _filter[\"default\"])(arr).call(arr, function (item) {\n          return !!(0, _trim[\"default\"])(item).call(item);\n        }); // 添加 class\n\n        if ((0, _indexOf[\"default\"])(arr).call(arr, className) < 0) {\n          arr.push(className);\n        } // 修改 elem.class\n\n\n        elem.className = arr.join(' ');\n      } else {\n        // 当前没有 class\n        elem.className = className;\n      }\n    });\n  };\n  /**\n   * 添加 css class\n   * @param className css class\n   */\n\n\n  DomElement.prototype.removeClass = function (className) {\n    var _context9;\n\n    if (!className) {\n      return this;\n    }\n\n    return (0, _forEach[\"default\"])(_context9 = this).call(_context9, function (elem) {\n      if (!elem.className) {\n        // 当前无 class\n        return;\n      }\n\n      var arr = elem.className.split(/\\s/);\n      arr = (0, _filter[\"default\"])(arr).call(arr, function (item) {\n        item = (0, _trim[\"default\"])(item).call(item); // 删除 class\n\n        if (!item || item === className) {\n          return false;\n        }\n\n        return true;\n      }); // 修改 elem.class\n\n      elem.className = arr.join(' ');\n    });\n  };\n  /**\n   * 是否有传入的 css class\n   * @param className css class\n   */\n\n\n  DomElement.prototype.hasClass = function (className) {\n    if (!className) {\n      return false;\n    }\n\n    var elem = this.elems[0];\n\n    if (!elem.className) {\n      // 当前无 class\n      return false;\n    }\n\n    var arr = elem.className.split(/\\s/);\n    return (0, _includes[\"default\"])(arr).call(arr, className); // 是否包含\n  };\n  /**\n   * 修改 css\n   * @param key css key\n   * @param val css value\n   */\n  // css(key: string): string\n\n\n  DomElement.prototype.css = function (key, val) {\n    var _context10;\n\n    var currentStyle;\n\n    if (val == '') {\n      currentStyle = '';\n    } else {\n      currentStyle = key + \":\" + val + \";\";\n    }\n\n    return (0, _forEach[\"default\"])(_context10 = this).call(_context10, function (elem) {\n      var _context11;\n\n      var style = (0, _trim[\"default\"])(_context11 = elem.getAttribute('style') || '').call(_context11);\n\n      if (style) {\n        // 有 style，将 style 按照 `;` 拆分为数组\n        var resultArr = _styleArrTrim(style); // 替换现有的 style\n\n\n        resultArr = (0, _map[\"default\"])(resultArr).call(resultArr, function (item) {\n          if ((0, _indexOf[\"default\"])(item).call(item, key) === 0) {\n            return currentStyle;\n          } else {\n            return item;\n          }\n        }); // 新增 style\n\n        if (currentStyle != '' && (0, _indexOf[\"default\"])(resultArr).call(resultArr, currentStyle) < 0) {\n          resultArr.push(currentStyle);\n        } // 去掉 空白\n\n\n        if (currentStyle == '') {\n          resultArr = _styleArrTrim(resultArr);\n        } // 重新设置 style\n\n\n        elem.setAttribute('style', resultArr.join('; '));\n      } else {\n        // 当前没有 style\n        elem.setAttribute('style', currentStyle);\n      }\n    });\n  };\n  /**\n   * 封装 getBoundingClientRect\n   */\n\n\n  DomElement.prototype.getBoundingClientRect = function () {\n    var elem = this.elems[0];\n    return elem.getBoundingClientRect();\n  };\n  /**\n   * 显示\n   */\n\n\n  DomElement.prototype.show = function () {\n    return this.css('display', 'block');\n  };\n  /**\n   * 隐藏\n   */\n\n\n  DomElement.prototype.hide = function () {\n    return this.css('display', 'none');\n  };\n  /**\n   * 获取子节点（只有 DOM 元素）\n   */\n\n\n  DomElement.prototype.children = function () {\n    var elem = this.elems[0];\n\n    if (!elem) {\n      return null;\n    }\n\n    return $(elem.children);\n  };\n  /**\n   * 获取子节点（包括文本节点）\n   */\n\n\n  DomElement.prototype.childNodes = function () {\n    var elem = this.elems[0];\n\n    if (!elem) {\n      return null;\n    }\n\n    return $(elem.childNodes);\n  };\n  /**\n   * 将子元素全部替换\n   * @param $children 新的child节点\n   */\n\n\n  DomElement.prototype.replaceChildAll = function ($children) {\n    var parent = this.getNode();\n    var elem = this.elems[0];\n\n    while (elem.hasChildNodes()) {\n      parent.firstChild && elem.removeChild(parent.firstChild);\n    }\n\n    this.append($children);\n  };\n  /**\n   * 增加子节点\n   * @param $children 子节点\n   */\n\n\n  DomElement.prototype.append = function ($children) {\n    var _context12;\n\n    return (0, _forEach[\"default\"])(_context12 = this).call(_context12, function (elem) {\n      (0, _forEach[\"default\"])($children).call($children, function (child) {\n        elem.appendChild(child);\n      });\n    });\n  };\n  /**\n   * 移除当前节点\n   */\n\n\n  DomElement.prototype.remove = function () {\n    var _context13;\n\n    return (0, _forEach[\"default\"])(_context13 = this).call(_context13, function (elem) {\n      if (elem.remove) {\n        elem.remove();\n      } else {\n        var parent_1 = elem.parentElement;\n        parent_1 && parent_1.removeChild(elem);\n      }\n    });\n  };\n  /**\n   * 当前元素，是否包含某个子元素\n   * @param $child 子元素\n   */\n\n\n  DomElement.prototype.isContain = function ($child) {\n    var elem = this.elems[0];\n    var child = $child.elems[0];\n    return elem.contains(child);\n  };\n  /**\n   * 获取当前元素 nodeName\n   */\n\n\n  DomElement.prototype.getNodeName = function () {\n    var elem = this.elems[0];\n    return elem.nodeName;\n  };\n  /**\n   * 根据元素位置获取元素节点（默认获取0位置的节点）\n   * @param n 元素节点位置\n   */\n\n\n  DomElement.prototype.getNode = function (n) {\n    if (n === void 0) {\n      n = 0;\n    }\n\n    var elem;\n    elem = this.elems[n];\n    return elem;\n  };\n  /**\n   * 查询\n   * @param selector css 选择器\n   */\n\n\n  DomElement.prototype.find = function (selector) {\n    var elem = this.elems[0];\n    return $(elem.querySelectorAll(selector));\n  };\n\n  DomElement.prototype.text = function (val) {\n    if (!val) {\n      // 获取 text\n      var elem = this.elems[0];\n      return elem.innerHTML.replace(/<[^>]+>/g, function () {\n        return '';\n      });\n    } else {\n      var _context14;\n\n      // 设置 text\n      return (0, _forEach[\"default\"])(_context14 = this).call(_context14, function (elem) {\n        elem.innerHTML = val;\n      });\n    }\n  };\n\n  DomElement.prototype.html = function (val) {\n    var elem = this.elems[0];\n\n    if (!val) {\n      // 获取 html\n      return elem.innerHTML;\n    } else {\n      // 设置 html\n      elem.innerHTML = val;\n      return this;\n    }\n  };\n  /**\n   * 获取元素 value\n   */\n\n\n  DomElement.prototype.val = function () {\n    var _context15;\n\n    var elem = this.elems[0];\n    return (0, _trim[\"default\"])(_context15 = elem.value).call(_context15); // 暂用 any\n  };\n  /**\n   * focus 到当前元素\n   */\n\n\n  DomElement.prototype.focus = function () {\n    var _context16;\n\n    return (0, _forEach[\"default\"])(_context16 = this).call(_context16, function (elem) {\n      elem.focus();\n    });\n  };\n  /**\n   * 当前元素前一个兄弟节点\n   */\n\n\n  DomElement.prototype.prev = function () {\n    var elem = this.elems[0];\n    return $(elem.previousElementSibling);\n  };\n  /**\n   * 当前元素后一个兄弟节点\n   * 不包括文本节点、注释节点）\n   */\n\n\n  DomElement.prototype.next = function () {\n    var elem = this.elems[0];\n    return $(elem.nextElementSibling);\n  };\n  /**\n   * 获取当前节点的下一个兄弟节点\n   * 包括文本节点、注释节点即回车、换行、空格、文本等等）\n   */\n\n\n  DomElement.prototype.getNextSibling = function () {\n    var elem = this.elems[0];\n    return $(elem.nextSibling);\n  };\n  /**\n   * 获取父元素\n   */\n\n\n  DomElement.prototype.parent = function () {\n    var elem = this.elems[0];\n    return $(elem.parentElement);\n  };\n  /**\n   * 查找父元素，直到满足 selector 条件\n   * @param selector css 选择器\n   * @param curElem 从哪个元素开始查找，默认为当前元素\n   */\n\n\n  DomElement.prototype.parentUntil = function (selector, curElem) {\n    var elem = curElem || this.elems[0];\n\n    if (elem.nodeName === 'BODY') {\n      return null;\n    }\n\n    var parent = elem.parentElement;\n\n    if (parent === null) {\n      return null;\n    }\n\n    if (parent.matches(selector)) {\n      // 找到，并返回\n      return $(parent);\n    } // 继续查找，递归\n\n\n    return this.parentUntil(selector, parent);\n  };\n  /**\n   * 查找父元素，直到满足 selector 条件,或者 到达 编辑区域容器以及菜单栏容器\n   * @param selector css 选择器\n   * @param curElem 从哪个元素开始查找，默认为当前元素\n   */\n\n\n  DomElement.prototype.parentUntilEditor = function (selector, editor, curElem) {\n    var elem = curElem || this.elems[0];\n\n    if ($(elem).equal(editor.$textContainerElem) || $(elem).equal(editor.$toolbarElem)) {\n      return null;\n    }\n\n    var parent = elem.parentElement;\n\n    if (parent === null) {\n      return null;\n    }\n\n    if (parent.matches(selector)) {\n      // 找到，并返回\n      return $(parent);\n    } // 继续查找，递归\n\n\n    return this.parentUntilEditor(selector, editor, parent);\n  };\n  /**\n   * 判读是否相等\n   * @param $elem 元素\n   */\n\n\n  DomElement.prototype.equal = function ($elem) {\n    if ($elem instanceof DomElement) {\n      return this.elems[0] === $elem.elems[0];\n    } else if ($elem instanceof HTMLElement) {\n      return this.elems[0] === $elem;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * 将该元素插入到某个元素前面\n   * @param selector css 选择器\n   */\n\n\n  DomElement.prototype.insertBefore = function (selector) {\n    var _context17;\n\n    var $referenceNode = $(selector);\n    var referenceNode = $referenceNode.elems[0];\n\n    if (!referenceNode) {\n      return this;\n    }\n\n    return (0, _forEach[\"default\"])(_context17 = this).call(_context17, function (elem) {\n      var parent = referenceNode.parentNode;\n      parent === null || parent === void 0 ? void 0 : parent.insertBefore(elem, referenceNode);\n    });\n  };\n  /**\n   * 将该元素插入到selector元素后面\n   * @param selector css 选择器\n   */\n\n\n  DomElement.prototype.insertAfter = function (selector) {\n    var _context18;\n\n    var $referenceNode = $(selector);\n    var referenceNode = $referenceNode.elems[0];\n    var anchorNode = referenceNode && referenceNode.nextSibling;\n\n    if (!referenceNode) {\n      return this;\n    }\n\n    return (0, _forEach[\"default\"])(_context18 = this).call(_context18, function (elem) {\n      var parent = referenceNode.parentNode;\n\n      if (anchorNode) {\n        parent.insertBefore(elem, anchorNode);\n      } else {\n        parent.appendChild(elem);\n      }\n    });\n  };\n  /**\n   * 设置/获取 数据\n   * @param key key\n   * @param value value\n   */\n\n\n  DomElement.prototype.data = function (key, value) {\n    if (value != null) {\n      // 设置数据\n      this.dataSource.set(key, value);\n    } else {\n      // 获取数据\n      return this.dataSource.get(key);\n    }\n  };\n  /**\n   * 获取当前节点的顶级(段落)\n   * @param editor 富文本实例\n   */\n\n\n  DomElement.prototype.getNodeTop = function (editor) {\n    // 异常抛出，空的 DomElement 直接返回\n    if (this.length < 1) {\n      return this;\n    } // 获取父级元素，并判断是否是 编辑区域\n    // 如果是则返回当前节点\n\n\n    var $parent = this.parent(); // fix：添加当前元素与编辑区元素的比较，防止传入的当前元素就是编辑区元素而造成的获取顶级元素为空的情况\n\n    if (editor.$textElem.equal(this) || editor.$textElem.equal($parent)) {\n      return this;\n    } // 到了此处，即代表当前节点不是顶级段落\n    // 将当前节点存放于父节点的 prior 字段下\n    // 主要用于 回溯 子节点\n    // 例如：ul ol 等标签\n    // 实际操作的节点是 li 但是一个 ul ol 的子节点可能有多个\n    // 所以需要对其进行 回溯 找到对应的子节点\n\n\n    $parent.prior = this;\n    return $parent.getNodeTop(editor);\n  };\n  /**\n   * 获取当前 节点 基与上一个拥有相对或者解决定位的父容器的位置\n   * @param editor 富文本实例\n   */\n\n\n  DomElement.prototype.getOffsetData = function () {\n    var $node = this.elems[0];\n    return {\n      top: $node.offsetTop,\n      left: $node.offsetLeft,\n      width: $node.offsetWidth,\n      height: $node.offsetHeight,\n      parent: $node.offsetParent\n    };\n  };\n  /**\n   * 从上至下进行滚动\n   * @param top 滚动的值\n   */\n\n\n  DomElement.prototype.scrollTop = function (top) {\n    var $node = this.elems[0];\n    $node.scrollTo({\n      top: top\n    });\n  };\n\n  return DomElement;\n}();\n\nexports.DomElement = DomElement; // new 一个对象\n\nfunction $() {\n  var arg = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    arg[_i] = arguments[_i];\n  }\n\n  return new ((0, _bind[\"default\"])(DomElement).apply(DomElement, tslib_1.__spreadArray([void 0], arg)))();\n}\n\nexports[\"default\"] = $;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(190);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(8);\nvar getOwnPropertyDescriptor = __webpack_require__(77).f;\nvar isForced = __webpack_require__(109);\nvar path = __webpack_require__(11);\nvar bind = __webpack_require__(40);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar has = __webpack_require__(17);\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 工具函数集合\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(100));\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(271));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\nvar _isArray = _interopRequireDefault(__webpack_require__(96));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.hexToRgb = exports.getRandomCode = exports.toArray = exports.deepClone = exports.isFunction = exports.debounce = exports.throttle = exports.arrForEach = exports.forEach = exports.replaceSpecialSymbol = exports.replaceHtmlSymbol = exports.getRandom = exports.UA = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar NavUA = function () {\n  function NavUA() {\n    this._ua = navigator.userAgent;\n\n    var math = this._ua.match(/(Edge?)\\/(\\d+)/);\n\n    this.isOldEdge = math && math[1] == 'Edge' && (0, _parseInt2[\"default\"])(math[2]) < 19 ? true : false;\n    this.isFirefox = /Firefox\\/\\d+/.test(this._ua) && !/Seamonkey\\/\\d+/.test(this._ua) ? true : false;\n  } // 是否为 IE\n\n\n  NavUA.prototype.isIE = function () {\n    return 'ActiveXObject' in window;\n  }; // 是否为 webkit\n\n\n  NavUA.prototype.isWebkit = function () {\n    return /webkit/i.test(this._ua);\n  };\n\n  return NavUA;\n}(); // 和 UA 相关的属性\n\n\nexports.UA = new NavUA();\n/**\n * 获取随机字符\n * @param prefix 前缀\n */\n\nfunction getRandom(prefix) {\n  var _context;\n\n  if (prefix === void 0) {\n    prefix = '';\n  }\n\n  return prefix + (0, _slice[\"default\"])(_context = Math.random().toString()).call(_context, 2);\n}\n\nexports.getRandom = getRandom;\n/**\n * 替换 html 特殊字符\n * @param html html 字符串\n */\n\nfunction replaceHtmlSymbol(html) {\n  return html.replace(/</gm, '&lt;').replace(/>/gm, '&gt;').replace(/\"/gm, '&quot;').replace(/(\\r\\n|\\r|\\n)/g, '<br/>');\n}\n\nexports.replaceHtmlSymbol = replaceHtmlSymbol;\n\nfunction replaceSpecialSymbol(value) {\n  return value.replace(/&lt;/gm, '<').replace(/&gt;/gm, '>').replace(/&quot;/gm, '\"');\n}\n\nexports.replaceSpecialSymbol = replaceSpecialSymbol;\n\nfunction forEach(obj, fn) {\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var result = fn(key, obj[key]);\n\n      if (result === false) {\n        // 提前终止循环\n        break;\n      }\n    }\n  }\n}\n\nexports.forEach = forEach;\n/**\n * 遍历类数组\n * @param fakeArr 类数组\n * @param fn 回调函数\n */\n\nfunction arrForEach(fakeArr, fn) {\n  var i, item, result;\n  var length = fakeArr.length || 0;\n\n  for (i = 0; i < length; i++) {\n    item = fakeArr[i];\n    result = fn.call(fakeArr, item, i);\n\n    if (result === false) {\n      break;\n    }\n  }\n}\n\nexports.arrForEach = arrForEach;\n/**\n * 节流\n * @param fn 函数\n * @param interval 间隔时间，毫秒\n */\n\nfunction throttle(fn, interval) {\n  if (interval === void 0) {\n    interval = 200;\n  }\n\n  var flag = false;\n  return function () {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (!flag) {\n      flag = true;\n      (0, _setTimeout2[\"default\"])(function () {\n        flag = false;\n        fn.call.apply(fn, tslib_1.__spreadArray([_this], args)); // this 报语法错误，先用 null\n      }, interval);\n    }\n  };\n}\n\nexports.throttle = throttle;\n/**\n * 防抖\n * @param fn 函数\n * @param delay 间隔时间，毫秒\n */\n\nfunction debounce(fn, delay) {\n  if (delay === void 0) {\n    delay = 200;\n  }\n\n  var lastFn = 0;\n  return function () {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (lastFn) {\n      window.clearTimeout(lastFn);\n    }\n\n    lastFn = (0, _setTimeout2[\"default\"])(function () {\n      lastFn = 0;\n      fn.call.apply(fn, tslib_1.__spreadArray([_this], args)); // this 报语法错误，先用 null\n    }, delay);\n  };\n}\n\nexports.debounce = debounce;\n/**\n * isFunction 是否是函数\n * @param fn 函数\n */\n\nfunction isFunction(fn) {\n  return typeof fn === 'function';\n}\n\nexports.isFunction = isFunction;\n/**\n * 引用与非引用值 深拷贝方法\n * @param data\n */\n\nfunction deepClone(data) {\n  if ((0, _typeof2[\"default\"])(data) !== 'object' || typeof data == 'function' || data === null) {\n    return data;\n  }\n\n  var item;\n\n  if ((0, _isArray[\"default\"])(data)) {\n    item = [];\n  }\n\n  if (!(0, _isArray[\"default\"])(data)) {\n    item = {};\n  }\n\n  for (var i in data) {\n    if (Object.prototype.hasOwnProperty.call(data, i)) {\n      item[i] = deepClone(data[i]);\n    }\n  }\n\n  return item;\n}\n\nexports.deepClone = deepClone;\n/**\n * 将可遍历的对象转换为数组\n * @param data 可遍历的对象\n */\n\nfunction toArray(data) {\n  return (0, _slice[\"default\"])(Array.prototype).call(data);\n}\n\nexports.toArray = toArray;\n/**\n * 唯一id生成\n * @param length 随机数长度\n */\n\nfunction getRandomCode() {\n  var _context2;\n\n  return (0, _slice[\"default\"])(_context2 = Math.random().toString(36)).call(_context2, -5);\n}\n\nexports.getRandomCode = getRandomCode;\n/**\n * hex color 转换成 rgb\n * @param hex string\n */\n\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (result == null) return null;\n  var colors = (0, _map[\"default\"])(result).call(result, function (i) {\n    return (0, _parseInt2[\"default\"])(i, 16);\n  });\n  var r = colors[1];\n  var g = colors[2];\n  var b = colors[3];\n  return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n}\n\nexports.hexToRgb = hexToRgb;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 常量\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.EMPTY_P_REGEX = exports.EMPTY_P_LAST_REGEX = exports.EMPTY_P = exports.urlRegex = exports.EMPTY_FN = void 0;\n\nfunction EMPTY_FN() {}\n\nexports.EMPTY_FN = EMPTY_FN; //用于校验是否为url格式字符串\n\nexports.urlRegex = /^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&amp;:/~+#]*[\\w\\-@?^=%&amp;/~+#])?/; // 编辑器为了方便继续输入/换行等原因 主动生成的空标签\n\nexports.EMPTY_P = '<p data-we-empty-p=\"\"><br></p>'; // 用于校验dom中最后 由编辑器主动生成的空标签结构\n\nexports.EMPTY_P_LAST_REGEX = /<p data-we-empty-p=\"\"><br\\/?><\\/p>$/gim; // 用于校验dom中所有 由编辑器主动生成的空标签结构\n\nexports.EMPTY_P_REGEX = /<p data-we-empty-p=\"\">/gim;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(150)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar shared = __webpack_require__(80);\nvar has = __webpack_require__(17);\nvar uid = __webpack_require__(67);\nvar NATIVE_SYMBOL = __webpack_require__(79);\nvar USE_SYMBOL_AS_UID = __webpack_require__(107);\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(11);\nvar has = __webpack_require__(17);\nvar wrappedWellKnownSymbolModule = __webpack_require__(101);\nvar defineProperty = __webpack_require__(18).f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(11);\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(203);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toObject = __webpack_require__(26);\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar IE8_DOM_DEFINE = __webpack_require__(108);\nvar anObject = __webpack_require__(20);\nvar toPropertyKey = __webpack_require__(64);\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar definePropertyModule = __webpack_require__(18);\nvar createPropertyDescriptor = __webpack_require__(38);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 按钮菜单 Class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar Menu_1 = tslib_1.__importDefault(__webpack_require__(103));\n\nvar BtnMenu = function (_super) {\n  tslib_1.__extends(BtnMenu, _super);\n\n  function BtnMenu($elem, editor) {\n    return _super.call(this, $elem, editor) || this;\n  }\n\n  return BtnMenu;\n}(Menu_1[\"default\"]);\n\nexports[\"default\"] = BtnMenu;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 下拉菜单 Class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Menu_1 = tslib_1.__importDefault(__webpack_require__(103));\n\nvar DropList_1 = tslib_1.__importDefault(__webpack_require__(138));\n\nvar DropListMenu = function (_super) {\n  tslib_1.__extends(DropListMenu, _super);\n\n  function DropListMenu($elem, editor, conf) {\n    var _this = _super.call(this, $elem, editor) || this; // 国际化\n\n\n    conf.title = editor.i18next.t(\"menus.dropListMenu.\" + conf.title); // 非中文模式下 带 icon 的下拉列表居左\n\n    var className = editor.config.lang === 'zh-CN' ? '' : 'w-e-drop-list-tl';\n\n    if (className !== '' && conf.type === 'list') {\n      var _context;\n\n      (0, _forEach[\"default\"])(_context = conf.list).call(_context, function (item) {\n        var $elem = item.$elem;\n        var $children = dom_core_1[\"default\"]($elem.children());\n\n        if ($children.length > 0) {\n          var nodeName = $children === null || $children === void 0 ? void 0 : $children.getNodeName();\n\n          if (nodeName && nodeName === 'I') {\n            $elem.addClass(className);\n          }\n        }\n      });\n    } // 初始化 dropList\n\n\n    var dropList = new DropList_1[\"default\"](_this, conf);\n    _this.dropList = dropList; // 绑定事件\n\n    $elem.on('click', function () {\n      var _context2;\n\n      if (editor.selection.getRange() == null) {\n        return;\n      }\n\n      $elem.css('z-index', editor.zIndex.get('menu')); // 触发 droplist 悬浮事件\n\n      (0, _forEach[\"default\"])(_context2 = editor.txt.eventHooks.dropListMenuHoverEvents).call(_context2, function (fn) {\n        return fn();\n      }); // 显示\n\n      dropList.show();\n    }).on('mouseleave', function () {\n      $elem.css('z-index', 'auto'); // 隐藏\n\n      dropList.hideTimeoutId = (0, _setTimeout2[\"default\"])(function () {\n        dropList.hide();\n      });\n    });\n    return _this;\n  }\n\n  return DropListMenu;\n}(Menu_1[\"default\"]);\n\nexports[\"default\"] = DropListMenu;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(11);\nvar global = __webpack_require__(8);\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(51);\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(199);\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(212);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(78);\nvar requireObjectCoercible = __webpack_require__(51);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isSymbol = __webpack_require__(65);\n\nmodule.exports = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar bind = __webpack_require__(40);\nvar IndexedObject = __webpack_require__(78);\nvar toObject = __webpack_require__(26);\nvar toLength = __webpack_require__(35);\nvar arraySpeciesCreate = __webpack_require__(95);\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(298);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description panel class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\nvar _set = _interopRequireDefault(__webpack_require__(136));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar const_1 = __webpack_require__(7);\n\nvar Panel = function () {\n  function Panel(menu, conf) {\n    this.menu = menu;\n    this.conf = conf;\n    this.$container = dom_core_1[\"default\"]('<div class=\"w-e-panel-container\"></div>'); // 隐藏 panel\n\n    var editor = menu.editor;\n    editor.txt.eventHooks.clickEvents.push(Panel.hideCurAllPanels);\n    editor.txt.eventHooks.toolbarClickEvents.push(Panel.hideCurAllPanels);\n    editor.txt.eventHooks.dropListMenuHoverEvents.push(Panel.hideCurAllPanels);\n  }\n  /**\n   * 创建并展示 panel\n   */\n\n\n  Panel.prototype.create = function () {\n    var _this = this;\n\n    var menu = this.menu;\n\n    if (Panel.createdMenus.has(menu)) {\n      // 创建过了\n      return;\n    }\n\n    var conf = this.conf; // panel 的容器\n\n    var $container = this.$container;\n    var width = conf.width || 300; // 默认 300px\n\n    var rect = menu.editor.$toolbarElem.getBoundingClientRect();\n    var menuRect = menu.$elem.getBoundingClientRect();\n    var top = rect.height + rect.top - menuRect.top;\n    var left = (rect.width - width) / 2 + rect.left - menuRect.left;\n    var offset = 300; // icon与panel菜单距离偏移量暂定 300\n\n    if (Math.abs(left) > offset) {\n      // panel菜单离工具栏icon过远时，让panel菜单出现在icon正下方，处理边界逻辑\n      if (menuRect.left < document.documentElement.clientWidth / 2) {\n        // icon在左侧\n        left = -menuRect.width / 2;\n      } else {\n        // icon在右侧\n        left = -width + menuRect.width / 2;\n      }\n    }\n\n    $container.css('width', width + 'px').css('margin-top', top + \"px\").css('margin-left', left + \"px\").css('z-index', menu.editor.zIndex.get('panel')); // 添加关闭按钮\n\n    var $closeBtn = dom_core_1[\"default\"]('<i class=\"w-e-icon-close w-e-panel-close\"></i>');\n    $container.append($closeBtn);\n    $closeBtn.on('click', function () {\n      _this.remove();\n    }); // 准备 tabs 容器\n\n    var $tabTitleContainer = dom_core_1[\"default\"]('<ul class=\"w-e-panel-tab-title\"></ul>');\n    var $tabContentContainer = dom_core_1[\"default\"]('<div class=\"w-e-panel-tab-content\"></div>');\n    $container.append($tabTitleContainer).append($tabContentContainer); // 设置高度\n\n    var height = conf.height; // height: 0 即不用设置\n\n    if (height) {\n      $tabContentContainer.css('height', height + 'px').css('overflow-y', 'auto');\n    } // tabs\n\n\n    var tabs = conf.tabs || [];\n    var tabTitleArr = [];\n    var tabContentArr = [];\n    (0, _forEach[\"default\"])(tabs).call(tabs, function (tab, tabIndex) {\n      if (!tab) {\n        return;\n      }\n\n      var title = tab.title || '';\n      var tpl = tab.tpl || ''; // 添加到 DOM\n\n      var $title = dom_core_1[\"default\"](\"<li class=\\\"w-e-item\\\">\" + title + \"</li>\");\n      $tabTitleContainer.append($title);\n      var $content = dom_core_1[\"default\"](tpl);\n      $tabContentContainer.append($content); // 记录到内存\n\n      tabTitleArr.push($title);\n      tabContentArr.push($content); // 设置 active 项\n\n      if (tabIndex === 0) {\n        $title.data('active', true);\n        $title.addClass('w-e-active');\n      } else {\n        $content.hide();\n      } // 绑定 tab 的事件\n\n\n      $title.on('click', function () {\n        if ($title.data('active')) {\n          return;\n        } // 隐藏所有的 tab\n\n\n        (0, _forEach[\"default\"])(tabTitleArr).call(tabTitleArr, function ($title) {\n          $title.data('active', false);\n          $title.removeClass('w-e-active');\n        });\n        (0, _forEach[\"default\"])(tabContentArr).call(tabContentArr, function ($content) {\n          $content.hide();\n        }); // 显示当前的 tab\n\n        $title.data('active', true);\n        $title.addClass('w-e-active');\n        $content.show();\n      });\n    }); // 绑定关闭事件\n\n    $container.on('click', function (e) {\n      // 点击时阻止冒泡\n      e.stopPropagation();\n    }); // 添加到 DOM\n\n    menu.$elem.append($container); // 绑定 conf events 的事件，只有添加到 DOM 之后才能绑定成功\n\n    (0, _forEach[\"default\"])(tabs).call(tabs, function (tab, index) {\n      if (!tab) {\n        return;\n      }\n\n      var events = tab.events || [];\n      (0, _forEach[\"default\"])(events).call(events, function (event) {\n        var _a;\n\n        var selector = event.selector;\n        var type = event.type;\n        var fn = event.fn || const_1.EMPTY_FN;\n        var $content = tabContentArr[index];\n        var bindEnter = (_a = event.bindEnter) !== null && _a !== void 0 ? _a : false;\n\n        var doneFn = function doneFn(e) {\n          return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var needToHide;\n            return tslib_1.__generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  e.stopPropagation();\n                  return [4\n                  /*yield*/\n                  , fn(e) // 执行完事件之后，是否要关闭 panel\n                  ];\n\n                case 1:\n                  needToHide = _a.sent(); // 执行完事件之后，是否要关闭 panel\n\n                  if (needToHide) {\n                    this.remove();\n                  }\n\n                  return [2\n                  /*return*/\n                  ];\n              }\n            });\n          });\n        }; // 给按钮绑定相应的事件\n\n\n        (0, _find[\"default\"])($content).call($content, selector).on(type, doneFn); // 绑定enter键入事件\n\n        if (bindEnter && type === 'click') {\n          $content.on('keyup', function (e) {\n            if (e.keyCode == 13) {\n              doneFn(e);\n            }\n          });\n        }\n      });\n    }); // focus 第一个 elem\n\n    var $inputs = (0, _find[\"default\"])($container).call($container, 'input[type=text],textarea');\n\n    if ($inputs.length) {\n      $inputs.get(0).focus();\n    } // 隐藏其他 panel\n\n\n    Panel.hideCurAllPanels(); // 记录该 menu 已经创建了 panel\n\n    menu.setPanel(this);\n    Panel.createdMenus.add(menu);\n  };\n  /**\n   * 移除 penal\n   */\n\n\n  Panel.prototype.remove = function () {\n    var menu = this.menu;\n    var $container = this.$container;\n\n    if ($container) {\n      $container.remove();\n    } // 将该 menu 记录中移除\n\n\n    Panel.createdMenus[\"delete\"](menu);\n  };\n  /**\n   * 隐藏当前所有的 panel\n   */\n\n\n  Panel.hideCurAllPanels = function () {\n    var _context;\n\n    if (Panel.createdMenus.size === 0) {\n      return;\n    }\n\n    (0, _forEach[\"default\"])(_context = Panel.createdMenus).call(_context, function (menu) {\n      var panel = menu.panel;\n      panel && panel.remove();\n    });\n  }; // 记录已经创建过的 panelMenu\n\n\n  Panel.createdMenus = new _set[\"default\"]();\n  return Panel;\n}();\n\nexports[\"default\"] = Panel;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(70);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description Modal 菜单 Class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar Menu_1 = tslib_1.__importDefault(__webpack_require__(103));\n\nvar PanelMenu = function (_super) {\n  tslib_1.__extends(PanelMenu, _super);\n\n  function PanelMenu($elem, editor) {\n    return _super.call(this, $elem, editor) || this;\n  }\n  /**\n   * 给 menu 设置 panel\n   * @param panel panel 实例\n   */\n\n\n  PanelMenu.prototype.setPanel = function (panel) {\n    this.panel = panel;\n  };\n\n  return PanelMenu;\n}(Menu_1[\"default\"]);\n\nexports[\"default\"] = PanelMenu;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description Tooltip class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _bind = _interopRequireDefault(__webpack_require__(61));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip = function () {\n  function Tooltip(editor, $elem, conf) {\n    this.editor = editor;\n    this.$targetElem = $elem;\n    this.conf = conf;\n    this._show = false;\n    this._isInsertTextContainer = false; // 定义 container\n\n    var $container = dom_core_1[\"default\"]('<div></div>');\n    $container.addClass('w-e-tooltip');\n    this.$container = $container;\n  }\n  /**\n   * 获取 tooltip 定位\n   */\n\n\n  Tooltip.prototype.getPositionData = function () {\n    var $container = this.$container;\n    var top = 0;\n    var left = 0; // tooltip 的高度\n\n    var tooltipHeight = 20; // 网页的 scrollTop\n\n    var pageScrollTop = document.documentElement.scrollTop; // 目标元素的 rect\n\n    var targetElemRect = this.$targetElem.getBoundingClientRect(); // 编辑区域的 rect\n\n    var textElemRect = this.editor.$textElem.getBoundingClientRect(); // 获取基于 textContainerElem 的 位置信息\n\n    var targetOffset = this.$targetElem.getOffsetData();\n    var targetParentElem = dom_core_1[\"default\"](targetOffset.parent); // 获取 编辑区域的滚动条信息\n\n    var scrollTop = this.editor.$textElem.elems[0].scrollTop; // 是否插入 textContainer 中\n\n    this._isInsertTextContainer = targetParentElem.equal(this.editor.$textContainerElem);\n\n    if (this._isInsertTextContainer) {\n      // 父容器的高度\n      var targetParentElemHeight = targetParentElem.getBoundingClientRect().height; // 相对于父容器的位置信息\n\n      var offsetTop = targetOffset.top,\n          offsetLeft = targetOffset.left,\n          offsetHeight = targetOffset.height; // 元素基于父容器的 绝对top信息\n\n      var absoluteTop = offsetTop - scrollTop;\n\n      if (absoluteTop > tooltipHeight + 5) {\n        // 说明模板元素的顶部空间足够\n        top = absoluteTop - tooltipHeight - 15;\n        $container.addClass('w-e-tooltip-up');\n      } else if (absoluteTop + offsetHeight + tooltipHeight < targetParentElemHeight) {\n        // 说明模板元素的底部空间足够\n        top = absoluteTop + offsetHeight + 10;\n        $container.addClass('w-e-tooltip-down');\n      } else {\n        // 其他情况，tooltip 放在目标元素左上角\n        top = (absoluteTop > 0 ? absoluteTop : 0) + tooltipHeight + 10;\n        $container.addClass('w-e-tooltip-down');\n      } // 计算 left\n\n\n      if (offsetLeft < 0) {\n        left = 0;\n      } else {\n        left = offsetLeft;\n      }\n    } else {\n      if (targetElemRect.top < tooltipHeight) {\n        // 说明目标元素的顶部，因滑动隐藏在浏览器上方。tooltip 要放在目标元素下面\n        top = targetElemRect.bottom + pageScrollTop + 5; // 5px 间距\n\n        $container.addClass('w-e-tooltip-down');\n      } else if (targetElemRect.top - textElemRect.top < tooltipHeight) {\n        // 说明目标元素的顶部，因滑动隐藏在编辑区域上方。tooltip 要放在目标元素下面\n        top = targetElemRect.bottom + pageScrollTop + 5; // 5px 间距\n\n        $container.addClass('w-e-tooltip-down');\n      } else {\n        // 其他情况，tooltip 放在目标元素上方\n        top = targetElemRect.top + pageScrollTop - tooltipHeight - 15; // 减去 toolbar 的高度，还有 15px 间距\n\n        $container.addClass('w-e-tooltip-up');\n      } // 计算 left\n\n\n      if (targetElemRect.left < 0) {\n        left = 0;\n      } else {\n        left = targetElemRect.left;\n      }\n    } // 返回结果\n\n\n    return {\n      top: top,\n      left: left\n    };\n  };\n  /**\n   * 添加 tooltip 菜单\n   */\n\n\n  Tooltip.prototype.appendMenus = function () {\n    var _this = this;\n\n    var conf = this.conf;\n    var editor = this.editor;\n    var $targetElem = this.$targetElem;\n    var $container = this.$container;\n    (0, _forEach[\"default\"])(conf).call(conf, function (item, index) {\n      // 添加元素\n      var $elem = item.$elem;\n      var $wrapper = dom_core_1[\"default\"]('<div></div>');\n      $wrapper.addClass('w-e-tooltip-item-wrapper ');\n      $wrapper.append($elem);\n      $container.append($wrapper); // 绑定点击事件\n\n      $elem.on('click', function (e) {\n        e.preventDefault();\n        var res = item.onClick(editor, $targetElem);\n        if (res) _this.remove();\n      });\n    });\n  };\n  /**\n   * 创建 tooltip\n   */\n\n\n  Tooltip.prototype.create = function () {\n    var _context, _context2;\n\n    var editor = this.editor;\n    var $container = this.$container; // 生成 container 的内容\n\n    this.appendMenus(); // 设置定位\n\n    var _a = this.getPositionData(),\n        top = _a.top,\n        left = _a.left;\n\n    $container.css('top', top + \"px\");\n    $container.css('left', left + \"px\"); // 设置 z-index\n\n    $container.css('z-index', editor.zIndex.get('tooltip')); // 添加到 DOM\n\n    if (this._isInsertTextContainer) {\n      this.editor.$textContainerElem.append($container);\n    } else {\n      dom_core_1[\"default\"]('body').append($container);\n    }\n\n    this._show = true;\n    editor.beforeDestroy((0, _bind[\"default\"])(_context = this.remove).call(_context, this));\n    editor.txt.eventHooks.onBlurEvents.push((0, _bind[\"default\"])(_context2 = this.remove).call(_context2, this));\n  };\n  /**\n   * 移除该 tooltip\n   */\n\n\n  Tooltip.prototype.remove = function () {\n    this.$container.remove();\n    this._show = false;\n  };\n\n  (0, _defineProperty[\"default\"])(Tooltip.prototype, \"isShow\", {\n    /**\n     * 是否显示\n     */\n    get: function get() {\n      return this._show;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return Tooltip;\n}();\n\nexports[\"default\"] = Tooltip;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\nmodule.exports = true;\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(34);\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(20);\nvar isArrayIteratorMethod = __webpack_require__(112);\nvar toLength = __webpack_require__(35);\nvar bind = __webpack_require__(40);\nvar getIteratorMethod = __webpack_require__(113);\nvar iteratorClose = __webpack_require__(114);\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar NATIVE_WEAK_MAP = __webpack_require__(176);\nvar global = __webpack_require__(8);\nvar isObject = __webpack_require__(13);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar objectHas = __webpack_require__(17);\nvar shared = __webpack_require__(81);\nvar sharedKey = __webpack_require__(68);\nvar hiddenKeys = __webpack_require__(54);\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(88);\nvar defineProperty = __webpack_require__(18).f;\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar has = __webpack_require__(17);\nvar toString = __webpack_require__(178);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!has(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(55);\nvar DOMIterables = __webpack_require__(189);\nvar global = __webpack_require__(8);\nvar classof = __webpack_require__(71);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar Iterators = __webpack_require__(42);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n  }\n  Iterators[COLLECTION_NAME] = Iterators.Array;\n}\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(224);\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(276);\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(280);\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createElementFragment = exports.createDocumentFragment = exports.createElement = exports.insertBefore = exports.getEndPoint = exports.getStartPoint = exports.updateRange = exports.filterSelectionNodes = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar _1 = __webpack_require__(142);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 过滤 选择的 node 节点\n * @returns { DomElement[] } DomElement[]\n */\n\n\nfunction filterSelectionNodes($nodes) {\n  var $listHtml = [];\n  (0, _forEach[\"default\"])($nodes).call($nodes, function ($node) {\n    var targerName = $node.getNodeName();\n\n    if (targerName !== _1.ListType.OrderedList && targerName !== _1.ListType.UnorderedList) {\n      // 非序列\n      $listHtml.push($node);\n    } else {\n      // 序列\n      if ($node.prior) {\n        $listHtml.push($node.prior);\n      } else {\n        var $children = $node.children();\n        $children === null || $children === void 0 ? void 0 : (0, _forEach[\"default\"])($children).call($children, function ($li) {\n          $listHtml.push(dom_core_1[\"default\"]($li));\n        });\n      }\n    }\n  });\n  return $listHtml;\n}\n\nexports.filterSelectionNodes = filterSelectionNodes;\n/**\n * 更新选区\n * @param $node\n */\n\nfunction updateRange(editor, $node, collapsed) {\n  var selection = editor.selection;\n  var range = document.createRange(); // ===============================\n  // length 大于 1\n  // 代表着转换是一个文档节点多段落\n  // ===============================\n\n  if ($node.length > 1) {\n    range.setStart($node.elems[0], 0);\n    range.setEnd($node.elems[$node.length - 1], $node.elems[$node.length - 1].childNodes.length);\n  } // ===============================\n  // 序列节点 或 单段落\n  // ===============================\n  else {\n    range.selectNodeContents($node.elems[0]);\n  } // ===============================\n  // collapsed 为 true 代表是光标\n  // ===============================\n\n\n  collapsed && range.collapse(false);\n  selection.saveRange(range);\n  selection.restoreSelection();\n}\n\nexports.updateRange = updateRange;\n/**\n * 获取起点元素\n * @param $startElem 开始序列节点\n */\n\nfunction getStartPoint($startElem) {\n  var _a;\n\n  return $startElem.prior ? $startElem.prior // 有 prior 代表不是全选序列\n  : dom_core_1[\"default\"]((_a = $startElem.children()) === null || _a === void 0 ? void 0 : _a.elems[0]); // 没有则代表全选序列\n}\n\nexports.getStartPoint = getStartPoint;\n/**\n * 获取结束元素\n * @param $endElem 结束序列节点\n */\n\nfunction getEndPoint($endElem) {\n  var _a;\n\n  return $endElem.prior ? $endElem.prior // 有 prior 代表不是全选序列\n  : dom_core_1[\"default\"]((_a = $endElem.children()) === null || _a === void 0 ? void 0 : _a.last().elems[0]); // 没有则代表全选序列\n}\n\nexports.getEndPoint = getEndPoint;\n/**\n * 在您指定节点的已有子节点之前插入新的子节点。\n * @param { DomElement } $node 指定节点\n * @param { ContainerFragment } newNode 插入的新子节点\n * @param { Node | null } existingNode 指定子节点\n */\n\nfunction insertBefore($node, newNode, existingNode) {\n  if (existingNode === void 0) {\n    existingNode = null;\n  }\n\n  $node.parent().elems[0].insertBefore(newNode, existingNode);\n}\n\nexports.insertBefore = insertBefore;\n/**\n * 创建指定的 element 对象\n */\n\nfunction createElement(target) {\n  return document.createElement(target);\n}\n\nexports.createElement = createElement;\n/**\n * 创建文档片段\n */\n\nfunction createDocumentFragment() {\n  return document.createDocumentFragment();\n}\n\nexports.createDocumentFragment = createDocumentFragment;\n/**\n * 生成 li 标签的元素，并返回 $fragment 文档片段\n * @param { DomElement[] } $nodes 需要转换成 li 的 dom 元素数组\n * @param { ContainerFragment } $fragment 用于存储生成后 li 元素的文档片段\n */\n\nfunction createElementFragment($nodes, $fragment, tag) {\n  if (tag === void 0) {\n    tag = 'li';\n  }\n\n  (0, _forEach[\"default\"])($nodes).call($nodes, function ($node) {\n    var $list = createElement(tag);\n    $list.innerHTML = $node.html();\n    $fragment.appendChild($list);\n    $node.remove();\n  });\n  return $fragment;\n}\n\nexports.createElementFragment = createElementFragment;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(25);\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(110);\nvar enumBugKeys = __webpack_require__(87);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toIndexedObject = __webpack_require__(29);\nvar addToUnscopables = __webpack_require__(89);\nvar Iterators = __webpack_require__(42);\nvar InternalStateModule = __webpack_require__(43);\nvar defineIterator = __webpack_require__(90);\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar createNonEnumerableProperty = __webpack_require__(19);\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n};\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports) {\n\n// empty\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar charAt = __webpack_require__(188).charAt;\nvar toString = __webpack_require__(30);\nvar InternalStateModule = __webpack_require__(43);\nvar defineIterator = __webpack_require__(90);\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(50);\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\nvar wellKnownSymbol = __webpack_require__(9);\nvar V8_VERSION = __webpack_require__(66);\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(233);\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.ListHandle = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar SelectionRangeElem_1 = tslib_1.__importDefault(__webpack_require__(388));\n\nvar ListHandle = function () {\n  function ListHandle(options) {\n    this.options = options;\n    this.selectionRangeElem = new SelectionRangeElem_1[\"default\"]();\n  }\n\n  return ListHandle;\n}();\n\nexports.ListHandle = ListHandle;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toPrimitive = __webpack_require__(151);\nvar isSymbol = __webpack_require__(65);\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(25);\nvar USE_SYMBOL_AS_UID = __webpack_require__(107);\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n};\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar userAgent = __webpack_require__(52);\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\nvar id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(80);\nvar uid = __webpack_require__(67);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = __webpack_require__(20);\nvar defineProperties = __webpack_require__(175);\nvar enumBugKeys = __webpack_require__(87);\nvar hiddenKeys = __webpack_require__(54);\nvar html = __webpack_require__(111);\nvar documentCreateElement = __webpack_require__(82);\nvar sharedKey = __webpack_require__(68);\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports) {\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(88);\nvar classofRaw = __webpack_require__(50);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar aFunction = __webpack_require__(34);\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fails = __webpack_require__(12);\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports) {\n\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toPropertyKey = __webpack_require__(64);\nvar definePropertyModule = __webpack_require__(18);\nvar createPropertyDescriptor = __webpack_require__(38);\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(220);\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar propertyIsEnumerableModule = __webpack_require__(63);\nvar createPropertyDescriptor = __webpack_require__(38);\nvar toIndexedObject = __webpack_require__(29);\nvar toPropertyKey = __webpack_require__(64);\nvar has = __webpack_require__(17);\nvar IE8_DOM_DEFINE = __webpack_require__(108);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\nvar classof = __webpack_require__(50);\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(66);\nvar fails = __webpack_require__(12);\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar IS_PURE = __webpack_require__(39);\nvar store = __webpack_require__(81);\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.16.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar setGlobal = __webpack_require__(153);\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar isObject = __webpack_require__(13);\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(17);\nvar toObject = __webpack_require__(26);\nvar sharedKey = __webpack_require__(68);\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(173);\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* eslint-disable no-proto -- safe */\nvar anObject = __webpack_require__(20);\nvar aPossiblePrototype = __webpack_require__(174);\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toIndexedObject = __webpack_require__(29);\nvar toLength = __webpack_require__(35);\nvar toAbsoluteIndex = __webpack_require__(86);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(70);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = function () { /* empty */ };\n\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar createIteratorConstructor = __webpack_require__(177);\nvar getPrototypeOf = __webpack_require__(83);\nvar setPrototypeOf = __webpack_require__(84);\nvar setToStringTag = __webpack_require__(44);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar redefine = __webpack_require__(56);\nvar wellKnownSymbol = __webpack_require__(9);\nvar IS_PURE = __webpack_require__(39);\nvar Iterators = __webpack_require__(42);\nvar IteratorsCore = __webpack_require__(116);\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(50);\nvar global = __webpack_require__(8);\n\nmodule.exports = classof(global.process) == 'process';\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 编辑器 class\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar config_1 = tslib_1.__importDefault(__webpack_require__(282));\n\nvar selection_1 = tslib_1.__importDefault(__webpack_require__(295));\n\nvar command_1 = tslib_1.__importDefault(__webpack_require__(296));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(297));\n\nvar index_2 = tslib_1.__importDefault(__webpack_require__(316));\n\nvar init_dom_1 = tslib_1.__importStar(__webpack_require__(432));\n\nvar init_selection_1 = tslib_1.__importDefault(__webpack_require__(433));\n\nvar bind_event_1 = tslib_1.__importDefault(__webpack_require__(434));\n\nvar i18next_init_1 = tslib_1.__importDefault(__webpack_require__(435));\n\nvar set_full_screen_1 = tslib_1.__importStar(__webpack_require__(436));\n\nvar scroll_to_head_1 = tslib_1.__importDefault(__webpack_require__(439));\n\nvar z_index_1 = tslib_1.__importDefault(__webpack_require__(440));\n\nvar index_3 = tslib_1.__importDefault(__webpack_require__(441));\n\nvar index_4 = tslib_1.__importDefault(__webpack_require__(443));\n\nvar disable_1 = tslib_1.__importDefault(__webpack_require__(453));\n\nvar selection_change_1 = tslib_1.__importDefault(__webpack_require__(456));\n\nvar plugins_1 = tslib_1.__importStar(__webpack_require__(457));\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar DropList_1 = tslib_1.__importDefault(__webpack_require__(138));\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n\nvar EDITOR_ID = 1;\n\nvar Editor = function () {\n  /**\n   * 构造函数\n   * @param toolbarSelector 工具栏 DOM selector\n   * @param textSelector 文本区域 DOM selector\n   */\n  function Editor(toolbarSelector, textSelector) {\n    this.pluginsFunctionList = {}; // 实例销毁前需要执行的钩子集合\n\n    this.beforeDestroyHooks = []; // id，用以区分单个页面不同的编辑器对象\n\n    this.id = \"wangEditor-\" + EDITOR_ID++;\n    this.toolbarSelector = toolbarSelector;\n    this.textSelector = textSelector;\n    init_dom_1.selectorValidator(this); // 属性的默认值，后面可能会再修改\n    // 默认配置 - 当一个页面有多个编辑器的时候，因为 JS 的特性(引用类型)会导致多个编辑器的 config 引用是同一个，所以需要 深度克隆 断掉引用\n\n    this.config = util_1.deepClone(config_1[\"default\"]);\n    this.$toolbarElem = dom_core_1[\"default\"]('<div></div>');\n    this.$textContainerElem = dom_core_1[\"default\"]('<div></div>');\n    this.$textElem = dom_core_1[\"default\"]('<div></div>');\n    this.toolbarElemId = '';\n    this.textElemId = '';\n    this.isFocus = false;\n    this.isComposing = false;\n    this.isCompatibleMode = false;\n    this.selection = new selection_1[\"default\"](this);\n    this.cmd = new command_1[\"default\"](this);\n    this.txt = new index_1[\"default\"](this);\n    this.menus = new index_2[\"default\"](this);\n    this.zIndex = new z_index_1[\"default\"]();\n    this.change = new index_3[\"default\"](this);\n    this.history = new index_4[\"default\"](this);\n    this.onSelectionChange = new selection_change_1[\"default\"](this);\n\n    var _a = disable_1[\"default\"](this),\n        disable = _a.disable,\n        enable = _a.enable;\n\n    this.disable = disable;\n    this.enable = enable;\n    this.isEnable = true;\n  }\n  /**\n   * 初始化选区\n   * @param newLine 新建一行\n   */\n\n\n  Editor.prototype.initSelection = function (newLine) {\n    init_selection_1[\"default\"](this, newLine);\n  };\n  /**\n   * 创建编辑器实例\n   */\n\n\n  Editor.prototype.create = function () {\n    // 初始化 ZIndex\n    this.zIndex.init(this); // 确定当前的历史记录模式\n\n    this.isCompatibleMode = this.config.compatibleMode(); // 标准模式下，重置延迟时间\n\n    if (!this.isCompatibleMode) {\n      this.config.onchangeTimeout = 30;\n    } // 国际化 因为要在创建菜单前使用 所以要最先 初始化\n\n\n    i18next_init_1[\"default\"](this); // 初始化 DOM\n\n    init_dom_1[\"default\"](this); // 初始化 text\n\n    this.txt.init(); // 初始化菜单\n\n    this.menus.init(); // 初始化全屏功能\n\n    set_full_screen_1[\"default\"](this); // 初始化选区，将光标定位到内容尾部\n\n    this.initSelection(true); // 绑定事件\n\n    bind_event_1[\"default\"](this); // 绑定监听的目标节点\n\n    this.change.observe();\n    this.history.observe(); // 初始化插件\n\n    plugins_1[\"default\"](this);\n  };\n  /**\n   * 提供给用户添加销毁前的钩子函数\n   * @param fn 钩子函数\n   */\n\n\n  Editor.prototype.beforeDestroy = function (fn) {\n    this.beforeDestroyHooks.push(fn);\n    return this;\n  };\n  /**\n   * 销毁当前编辑器实例\n   */\n\n\n  Editor.prototype.destroy = function () {\n    var _context;\n\n    var _this = this; // 调用钩子函数\n\n\n    (0, _forEach[\"default\"])(_context = this.beforeDestroyHooks).call(_context, function (fn) {\n      return fn.call(_this);\n    }); // 销毁 DOM 节点\n\n    this.$toolbarElem.remove();\n    this.$textContainerElem.remove();\n  };\n  /**\n   * 将编辑器设置为全屏\n   */\n\n\n  Editor.prototype.fullScreen = function () {\n    set_full_screen_1.setFullScreen(this);\n  };\n  /**\n   * 将编辑器退出全屏\n   */\n\n\n  Editor.prototype.unFullScreen = function () {\n    set_full_screen_1.setUnFullScreen(this);\n  };\n  /**\n   * 滚动到指定标题锚点\n   * @param id 标题锚点id\n   */\n\n\n  Editor.prototype.scrollToHead = function (id) {\n    scroll_to_head_1[\"default\"](this, id);\n  };\n  /**\n   * 自定义添加菜单\n   * @param key 菜单 key\n   * @param Menu 菜单构造函数\n   */\n\n\n  Editor.registerMenu = function (key, Menu) {\n    if (!Menu || typeof Menu !== 'function') return;\n    Editor.globalCustomMenuConstructorList[key] = Menu;\n  };\n  /**\n   * 自定义添加插件\n   * @param { string } name 插件的名称\n   * @param { RegisterOptions } options 插件的选项\n   */\n\n\n  Editor.prototype.registerPlugin = function (name, options) {\n    plugins_1.registerPlugin(name, options, this.pluginsFunctionList);\n  };\n  /**\n   * 自定义添加插件\n   * @param { string } name 插件的名称\n   * @param { RegisterOptions } options 插件的选项\n   */\n\n\n  Editor.registerPlugin = function (name, options) {\n    plugins_1.registerPlugin(name, options, Editor.globalPluginsFunctionList);\n  }; // 暴露 $\n\n\n  Editor.$ = dom_core_1[\"default\"];\n  Editor.BtnMenu = BtnMenu_1[\"default\"];\n  Editor.DropList = DropList_1[\"default\"];\n  Editor.DropListMenu = DropListMenu_1[\"default\"];\n  Editor.Panel = Panel_1[\"default\"];\n  Editor.PanelMenu = PanelMenu_1[\"default\"];\n  Editor.Tooltip = Tooltip_1[\"default\"];\n  Editor.globalCustomMenuConstructorList = {};\n  Editor.globalPluginsFunctionList = {};\n  return Editor;\n}();\n\nexports[\"default\"] = Editor;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arraySpeciesConstructor = __webpack_require__(195);\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(196);\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(51);\nvar toString = __webpack_require__(30);\nvar whitespaces = __webpack_require__(74);\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(110);\nvar enumBugKeys = __webpack_require__(87);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(216);\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Symbol = __webpack_require__(238);\n\nvar _Symbol$iterator = __webpack_require__(267);\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(9);\n\nexports.f = wellKnownSymbol;\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(321);\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description Menu class 父类\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar Menu = function () {\n  function Menu($elem, editor) {\n    var _this = this;\n\n    this.$elem = $elem;\n    this.editor = editor;\n    this._active = false; // 绑定菜单点击事件\n\n    $elem.on('click', function (e) {\n      var _context;\n\n      Panel_1[\"default\"].hideCurAllPanels(); // 隐藏当前的所有 Panel\n      // 触发菜单点击的钩子\n\n      (0, _forEach[\"default\"])(_context = editor.txt.eventHooks.menuClickEvents).call(_context, function (fn) {\n        return fn();\n      });\n      e.stopPropagation();\n\n      if (editor.selection.getRange() == null) {\n        return;\n      }\n\n      _this.clickHandler(e);\n    });\n  }\n  /**\n   * 菜单点击事件，子类可重写\n   * @param e event\n   */\n\n\n  Menu.prototype.clickHandler = function (e) {};\n  /**\n   * 激活菜单，高亮显示\n   */\n\n\n  Menu.prototype.active = function () {\n    this._active = true;\n    this.$elem.addClass('w-e-active');\n  };\n  /**\n   * 取消激活，不再高亮显示\n   */\n\n\n  Menu.prototype.unActive = function () {\n    this._active = false;\n    this.$elem.removeClass('w-e-active');\n  };\n\n  (0, _defineProperty[\"default\"])(Menu.prototype, \"isActive\", {\n    /**\n     * 是否处于激活状态\n     */\n    get: function get() {\n      return this._active;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return Menu;\n}();\n\nexports[\"default\"] = Menu;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 上传图片\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _bind = _interopRequireDefault(__webpack_require__(61));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar upload_core_1 = tslib_1.__importDefault(__webpack_require__(140));\n\nvar progress_1 = tslib_1.__importDefault(__webpack_require__(141));\n\nvar UploadImg = function () {\n  function UploadImg(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 往编辑区域插入图片\n   * @param src 图片地址\n   */\n\n\n  UploadImg.prototype.insertImg = function (src, alt, href) {\n    var editor = this.editor;\n    var config = editor.config;\n    var i18nPrefix = 'validate.';\n\n    var t = function t(text, prefix) {\n      if (prefix === void 0) {\n        prefix = i18nPrefix;\n      }\n\n      return editor.i18next.t(prefix + text);\n    }; // 设置图片alt\n\n\n    var altText = alt ? \"alt=\\\"\" + alt + \"\\\" \" : '';\n    var hrefText = href ? \"data-href=\\\"\" + encodeURIComponent(href) + \"\\\" \" : ''; // 先插入图片，无论是否能成功\n\n    editor.cmd[\"do\"]('insertHTML', \"<img src=\\\"\" + src + \"\\\" \" + altText + hrefText + \"style=\\\"max-width:100%;\\\" contenteditable=\\\"false\\\"/>\"); // 执行回调函数\n\n    config.linkImgCallback(src, alt, href); // 加载图片\n\n    var img = document.createElement('img');\n\n    img.onload = function () {\n      img = null;\n    };\n\n    img.onerror = function () {\n      config.customAlert(t('插入图片错误'), 'error', \"wangEditor: \" + t('插入图片错误') + \"\\uFF0C\" + t('图片链接') + \" \\\"\" + src + \"\\\"\\uFF0C\" + t('下载链接失败'));\n      img = null;\n    };\n\n    img.onabort = function () {\n      return img = null;\n    };\n\n    img.src = src;\n  };\n  /**\n   * 上传图片\n   * @param files 文件列表\n   */\n\n\n  UploadImg.prototype.uploadImg = function (files) {\n    var _this_1 = this;\n\n    if (!files.length) {\n      return;\n    }\n\n    var editor = this.editor;\n    var config = editor.config; // ------------------------------ i18next ------------------------------\n\n    var i18nPrefix = 'validate.';\n\n    var t = function t(text) {\n      return editor.i18next.t(i18nPrefix + text);\n    }; // ------------------------------ 获取配置信息 ------------------------------\n    // 服务端地址\n\n\n    var uploadImgServer = config.uploadImgServer; // base64 格式\n\n    var uploadImgShowBase64 = config.uploadImgShowBase64; // 图片最大体积\n\n    var maxSize = config.uploadImgMaxSize;\n    var maxSizeM = maxSize / 1024 / 1024; // 一次最多上传图片数量\n\n    var maxLength = config.uploadImgMaxLength; // 自定义 fileName\n\n    var uploadFileName = config.uploadFileName; // 自定义参数\n\n    var uploadImgParams = config.uploadImgParams; // 参数拼接到 url 中\n\n    var uploadImgParamsWithUrl = config.uploadImgParamsWithUrl; // 自定义 header\n\n    var uploadImgHeaders = config.uploadImgHeaders; // 钩子函数\n\n    var hooks = config.uploadImgHooks; // 上传图片超时时间\n\n    var timeout = config.uploadImgTimeout; // 跨域带 cookie\n\n    var withCredentials = config.withCredentials; // 自定义上传图片\n\n    var customUploadImg = config.customUploadImg;\n\n    if (!customUploadImg) {\n      // 没有 customUploadImg 的情况下，需要如下两个配置才能继续进行图片上传\n      if (!uploadImgServer && !uploadImgShowBase64) {\n        return;\n      }\n    } // ------------------------------ 验证文件信息 ------------------------------\n\n\n    var resultFiles = [];\n    var errInfos = [];\n    util_1.arrForEach(files, function (file) {\n      // chrome 低版本 粘贴一张图时files为 [null, File]\n      if (!file) return;\n      var name = file.name || file.type.replace('/', '.'); // 兼容低版本chrome 没有name\n\n      var size = file.size; // chrome 低版本 name === undefined\n\n      if (!name || !size) {\n        return;\n      } // 将uploadImgAccept数组转换为正则对象\n\n\n      var imgType = editor.config.uploadImgAccept.join('|');\n      var imgTypeRuleStr = \".(\" + imgType + \")$\";\n      var uploadImgAcceptRule = new RegExp(imgTypeRuleStr, 'i');\n\n      if (uploadImgAcceptRule.test(name) === false) {\n        // 后缀名不合法，不是图片\n        errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('不是图片'));\n        return;\n      }\n\n      if (maxSize < size) {\n        // 上传图片过大\n        errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('大于') + \" \" + maxSizeM + \"M\");\n        return;\n      } // 验证通过的加入结果列表\n\n\n      resultFiles.push(file);\n    }); // 抛出验证信息\n\n    if (errInfos.length) {\n      config.customAlert(t('图片验证未通过') + \": \\n\" + errInfos.join('\\n'), 'warning');\n      return;\n    } // 如果过滤后文件列表为空直接返回\n\n\n    if (resultFiles.length === 0) {\n      config.customAlert(t('传入的文件不合法'), 'warning');\n      return;\n    }\n\n    if (resultFiles.length > maxLength) {\n      config.customAlert(t('一次最多上传') + maxLength + t('张图片'), 'warning');\n      return;\n    } // ------------------------------ 自定义上传 ------------------------------\n\n\n    if (customUploadImg && typeof customUploadImg === 'function') {\n      var _context;\n\n      customUploadImg(resultFiles, (0, _bind[\"default\"])(_context = this.insertImg).call(_context, this)); // 阻止以下代码执行，重要！！！\n\n      return;\n    } // ------------------------------ 上传图片 ------------------------------\n    // 添加图片数据\n\n\n    var formData = new FormData();\n    (0, _forEach[\"default\"])(resultFiles).call(resultFiles, function (file, index) {\n      var name = uploadFileName || file.name;\n\n      if (resultFiles.length > 1) {\n        // 多个文件时，filename 不能重复\n        name = name + (index + 1);\n      }\n\n      formData.append(name, file);\n    });\n\n    if (uploadImgServer) {\n      // 添加自定义参数\n      var uploadImgServerArr = uploadImgServer.split('#');\n      uploadImgServer = uploadImgServerArr[0];\n      var uploadImgServerHash = uploadImgServerArr[1] || '';\n      (0, _forEach[\"default\"])(util_1).call(util_1, uploadImgParams, function (key, val) {\n        // 因使用者反应，自定义参数不能默认 encode ，由 v3.1.1 版本开始注释掉\n        // val = encodeURIComponent(val)\n        // 第一，将参数拼接到 url 中\n        if (uploadImgParamsWithUrl) {\n          if ((0, _indexOf[\"default\"])(uploadImgServer).call(uploadImgServer, '?') > 0) {\n            uploadImgServer += '&';\n          } else {\n            uploadImgServer += '?';\n          }\n\n          uploadImgServer = uploadImgServer + key + '=' + val;\n        } // 第二，将参数添加到 formData 中\n\n\n        formData.append(key, val);\n      });\n\n      if (uploadImgServerHash) {\n        uploadImgServer += '#' + uploadImgServerHash;\n      } // 开始上传\n\n\n      var xhr = upload_core_1[\"default\"](uploadImgServer, {\n        timeout: timeout,\n        formData: formData,\n        headers: uploadImgHeaders,\n        withCredentials: !!withCredentials,\n        beforeSend: function beforeSend(xhr) {\n          if (hooks.before) return hooks.before(xhr, editor, resultFiles);\n        },\n        onTimeout: function onTimeout(xhr) {\n          config.customAlert(t('上传图片超时'), 'error');\n          if (hooks.timeout) hooks.timeout(xhr, editor);\n        },\n        onProgress: function onProgress(percent, e) {\n          var progressBar = new progress_1[\"default\"](editor);\n\n          if (e.lengthComputable) {\n            percent = e.loaded / e.total;\n            progressBar.show(percent);\n          }\n        },\n        onError: function onError(xhr) {\n          config.customAlert(t('上传图片错误'), 'error', t('上传图片错误') + \"\\uFF0C\" + t('服务器返回状态') + \": \" + xhr.status);\n          if (hooks.error) hooks.error(xhr, editor);\n        },\n        onFail: function onFail(xhr, resultStr) {\n          config.customAlert(t('上传图片失败'), 'error', t('上传图片返回结果错误') + (\"\\uFF0C\" + t('返回结果') + \": \") + resultStr);\n          if (hooks.fail) hooks.fail(xhr, editor, resultStr);\n        },\n        onSuccess: function onSuccess(xhr, result) {\n          if (hooks.customInsert) {\n            var _context2;\n\n            // 自定义插入图片\n            hooks.customInsert((0, _bind[\"default\"])(_context2 = _this_1.insertImg).call(_context2, _this_1), result, editor);\n            return;\n          }\n\n          if (result.errno != '0') {\n            // 返回格式不对，应该为 { errno: 0, data: [...] }\n            config.customAlert(t('上传图片失败'), 'error', t('上传图片返回结果错误') + \"\\uFF0C\" + t('返回结果') + \" errno=\" + result.errno);\n            if (hooks.fail) hooks.fail(xhr, editor, result);\n            return;\n          } // 成功，插入图片\n\n\n          var data = result.data;\n          (0, _forEach[\"default\"])(data).call(data, function (link) {\n            if (typeof link === 'string') {\n              _this_1.insertImg(link);\n            } else {\n              _this_1.insertImg(link.url, link.alt, link.href);\n            }\n          }); // 钩子函数\n\n          if (hooks.success) hooks.success(xhr, editor, result);\n        }\n      });\n\n      if (typeof xhr === 'string') {\n        // 上传被阻止\n        config.customAlert(xhr, 'error');\n      } // 阻止以下代码执行，重要！！！\n\n\n      return;\n    } // ------------------------------ 显示 base64 格式 ------------------------------\n\n\n    if (uploadImgShowBase64) {\n      util_1.arrForEach(files, function (file) {\n        var _this = _this_1;\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function () {\n          if (!this.result) return;\n          var imgLink = this.result.toString();\n\n          _this.insertImg(imgLink, imgLink);\n        };\n      });\n    }\n  };\n\n  return UploadImg;\n}();\n\nexports[\"default\"] = UploadImg;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _every = _interopRequireDefault(__webpack_require__(426));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.dealTextNode = exports.isAllTodo = exports.isTodo = exports.getCursorNextNode = void 0;\n/**\n * 判断传入的单行顶级选区选取是不是todo\n * @param editor 编辑器对象\n */\n\nfunction isTodo($topSelectElem) {\n  if ($topSelectElem.length) {\n    return $topSelectElem.attr('class') === 'w-e-todo';\n  }\n\n  return false;\n}\n\nexports.isTodo = isTodo;\n/**\n * 判断选中的内容是不是都是todo\n * @param editor 编辑器对象\n */\n\nfunction isAllTodo(editor) {\n  var $topSelectElems = editor.selection.getSelectionRangeTopNodes(); // 排除为[]的情况\n\n  if ($topSelectElems.length === 0) return;\n  return (0, _every[\"default\"])($topSelectElems).call($topSelectElems, function ($topSelectElem) {\n    return isTodo($topSelectElem);\n  });\n}\n\nexports.isAllTodo = isAllTodo;\n/**\n * 根据所在的文本节点和光标在文本节点的位置获取截断的后节点内容\n * @param node 顶级节点\n * @param textNode 光标所在的文本节点\n * @param pos 光标在文本节点的位置\n */\n\nfunction getCursorNextNode(node, textNode, pos) {\n  var _context;\n\n  if (!node.hasChildNodes()) return;\n  var newNode = node.cloneNode(); // 判断光标是否在末尾\n\n  var end = false;\n\n  if (textNode.nodeValue === '') {\n    end = true;\n  }\n\n  var delArr = [];\n  (0, _forEach[\"default\"])(_context = node.childNodes).call(_context, function (v) {\n    //光标后的内容\n    if (!isContains(v, textNode) && end) {\n      newNode.appendChild(v.cloneNode(true));\n\n      if (v.nodeName !== 'BR') {\n        delArr.push(v);\n      }\n    } // 光标所在的区域\n\n\n    if (isContains(v, textNode)) {\n      if (v.nodeType === 1) {\n        var childNode = getCursorNextNode(v, textNode, pos);\n        if (childNode && childNode.textContent !== '') newNode === null || newNode === void 0 ? void 0 : newNode.appendChild(childNode);\n      }\n\n      if (v.nodeType === 3) {\n        if (textNode.isEqualNode(v)) {\n          var textContent = dealTextNode(v, pos);\n          newNode.textContent = textContent;\n        }\n      }\n\n      end = true;\n    }\n  }); // 删除选中后原来的节点\n\n  (0, _forEach[\"default\"])(delArr).call(delArr, function (v) {\n    var node = v;\n    node.remove();\n  });\n  return newNode;\n}\n\nexports.getCursorNextNode = getCursorNextNode;\n/**\n * 判断otherNode是否包含在node中\n * @param node 父节点\n * @param otherNode 需要判断是不是被包含的节点\n */\n\nfunction isContains(node, otherNode) {\n  // 兼容ie11中textNode不支持contains方法\n  if (node.nodeType === 3) {\n    return node.nodeValue === otherNode.nodeValue;\n  }\n\n  return node.contains(otherNode);\n}\n/**\n * 获取新的文本节点\n * @param node 要处理的文本节点\n * @param pos  光标在文本节点所在的位置\n * @param start 设置为true时保留开始位置到光标的内容，设置为false时删去开始的内容\n */\n\n\nfunction dealTextNode(node, pos, start) {\n  if (start === void 0) {\n    start = true;\n  }\n\n  var content = node.nodeValue;\n  var oldContent = content === null || content === void 0 ? void 0 : (0, _slice[\"default\"])(content).call(content, 0, pos);\n  content = content === null || content === void 0 ? void 0 : (0, _slice[\"default\"])(content).call(content, pos); // start为false时替换content和oldContent\n\n  if (!start) {\n    var temp = content;\n    content = oldContent;\n    oldContent = temp;\n  }\n\n  node.nodeValue = oldContent;\n  return content;\n}\n\nexports.dealTextNode = dealTextNode;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 双栈实现撤销恢复\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar stack_1 = __webpack_require__(446);\n\nvar Cache = function () {\n  function Cache(maxSize) {\n    this.maxSize = maxSize;\n    /**\n     * 上一步操作是否为 撤销/恢复\n     */\n\n    this.isRe = false;\n    this.data = new stack_1.CeilStack(maxSize);\n    this.revokeData = new stack_1.CeilStack(maxSize);\n  }\n\n  (0, _defineProperty[\"default\"])(Cache.prototype, \"size\", {\n    /**\n     * 返回当前栈中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n     */\n    get: function get() {\n      return [this.data.size, this.revokeData.size];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 重设数据缓存器的缓存长度（第一次有效）\n   */\n\n  Cache.prototype.resetMaxSize = function (maxSize) {\n    this.data.resetMax(maxSize);\n    this.revokeData.resetMax(maxSize);\n  };\n  /**\n   * 保存数据\n   */\n\n\n  Cache.prototype.save = function (data) {\n    if (this.isRe) {\n      this.revokeData.clear();\n      this.isRe = false;\n    }\n\n    this.data.instack(data);\n    return this;\n  };\n  /**\n   * 撤销\n   * @param fn 撤销时，如果有数据，执行的回调函数\n   */\n\n\n  Cache.prototype.revoke = function (fn) {\n    !this.isRe && (this.isRe = true);\n    var data = this.data.outstack();\n\n    if (data) {\n      this.revokeData.instack(data);\n      fn(data);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * 恢复\n   * @param fn 恢复时，如果有数据，执行的回调函数\n   */\n\n\n  Cache.prototype.restore = function (fn) {\n    !this.isRe && (this.isRe = true);\n    var data = this.revokeData.outstack();\n\n    if (data) {\n      this.data.instack(data);\n      fn(data);\n      return true;\n    }\n\n    return false;\n  };\n\n  return Cache;\n}();\n\nexports[\"default\"] = Cache;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(79);\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar fails = __webpack_require__(12);\nvar createElement = __webpack_require__(82);\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(17);\nvar toIndexedObject = __webpack_require__(29);\nvar indexOf = __webpack_require__(85).indexOf;\nvar hiddenKeys = __webpack_require__(54);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(25);\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(9);\nvar Iterators = __webpack_require__(42);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(71);\nvar Iterators = __webpack_require__(42);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(20);\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(81);\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fails = __webpack_require__(12);\nvar getPrototypeOf = __webpack_require__(83);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar has = __webpack_require__(17);\nvar wellKnownSymbol = __webpack_require__(9);\nvar IS_PURE = __webpack_require__(39);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\n\nmodule.exports = global.Promise;\n\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar redefine = __webpack_require__(56);\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) {\n    if (options && options.unsafe && target[key]) target[key] = src[key];\n    else redefine(target, key, src[key], options);\n  } return target;\n};\n\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar getBuiltIn = __webpack_require__(25);\nvar definePropertyModule = __webpack_require__(18);\nvar wellKnownSymbol = __webpack_require__(9);\nvar DESCRIPTORS = __webpack_require__(15);\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(20);\nvar aFunction = __webpack_require__(34);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar fails = __webpack_require__(12);\nvar bind = __webpack_require__(40);\nvar html = __webpack_require__(111);\nvar createElement = __webpack_require__(82);\nvar IS_IOS = __webpack_require__(123);\nvar IS_NODE = __webpack_require__(92);\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global.location;\n} catch (error) { /* empty */ }\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var argumentsLength = arguments.length;\n    var i = 1;\n    while (argumentsLength > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar userAgent = __webpack_require__(52);\n\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(20);\nvar isObject = __webpack_require__(13);\nvar newPromiseCapability = __webpack_require__(72);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(208);\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar global = __webpack_require__(8);\nvar InternalMetadataModule = __webpack_require__(127);\nvar fails = __webpack_require__(12);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar iterate = __webpack_require__(41);\nvar anInstance = __webpack_require__(91);\nvar isObject = __webpack_require__(13);\nvar setToStringTag = __webpack_require__(44);\nvar defineProperty = __webpack_require__(18).f;\nvar forEach = __webpack_require__(31).forEach;\nvar DESCRIPTORS = __webpack_require__(15);\nvar InternalStateModule = __webpack_require__(43);\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var exported = {};\n  var Constructor;\n\n  if (!DESCRIPTORS || typeof NativeConstructor != 'function'\n    || !(IS_WEAK || NativePrototype.forEach && !fails(function () { new NativeConstructor().entries().next(); }))\n  ) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else {\n    Constructor = wrapper(function (target, iterable) {\n      setInternalState(anInstance(target, Constructor, CONSTRUCTOR_NAME), {\n        type: CONSTRUCTOR_NAME,\n        collection: new NativeConstructor()\n      });\n      if (iterable != undefined) iterate(iterable, target[ADDER], { that: target, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in NativePrototype && !(IS_WEAK && KEY == 'clear')) {\n        createNonEnumerableProperty(Constructor.prototype, KEY, function (a, b) {\n          var collection = getInternalState(this).collection;\n          if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n          var result = collection[KEY](a === 0 ? 0 : a, b);\n          return IS_ADDER ? this : result;\n        });\n      }\n    });\n\n    IS_WEAK || defineProperty(Constructor.prototype, 'size', {\n      configurable: true,\n      get: function () {\n        return getInternalState(this).collection.size;\n      }\n    });\n  }\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: true }, exported);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar hiddenKeys = __webpack_require__(54);\nvar isObject = __webpack_require__(13);\nvar has = __webpack_require__(17);\nvar defineProperty = __webpack_require__(18).f;\nvar getOwnPropertyNamesModule = __webpack_require__(98);\nvar getOwnPropertyNamesExternalModule = __webpack_require__(128);\nvar uid = __webpack_require__(67);\nvar FREEZING = __webpack_require__(211);\n\nvar REQUIRED = false;\nvar METADATA = uid('meta');\nvar id = 0;\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + id++, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar enable = function () {\n  meta.enable = function () { /* empty */ };\n  REQUIRED = true;\n  var getOwnPropertyNames = getOwnPropertyNamesModule.f;\n  var splice = [].splice;\n  var test = {};\n  test[METADATA] = 1;\n\n  // prevent exposing of metadata key\n  if (getOwnPropertyNames(test).length) {\n    getOwnPropertyNamesModule.f = function (it) {\n      var result = getOwnPropertyNames(it);\n      for (var i = 0, length = result.length; i < length; i++) {\n        if (result[i] === METADATA) {\n          splice.call(result, i, 1);\n          break;\n        }\n      } return result;\n    };\n\n    $({ target: 'Object', stat: true, forced: true }, {\n      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f\n    });\n  }\n};\n\nvar meta = module.exports = {\n  enable: enable,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = __webpack_require__(29);\nvar $getOwnPropertyNames = __webpack_require__(98).f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar defineProperty = __webpack_require__(18).f;\nvar create = __webpack_require__(69);\nvar redefineAll = __webpack_require__(118);\nvar bind = __webpack_require__(40);\nvar anInstance = __webpack_require__(91);\nvar iterate = __webpack_require__(41);\nvar defineIterator = __webpack_require__(90);\nvar setSpecies = __webpack_require__(119);\nvar DESCRIPTORS = __webpack_require__(15);\nvar fastKey = __webpack_require__(127).fastKey;\nvar InternalStateModule = __webpack_require__(43);\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(283);\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 样式配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = {\n  zIndex: 10000\n};\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 默认常量配置\n * @author xiaokyo\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = {\n  focus: true,\n  height: 300,\n  placeholder: '请输入正文',\n  zIndexFullScreen: 10002,\n  showFullScreen: true\n};\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 处理粘贴逻辑\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.getPasteImgs = exports.getPasteHtml = exports.getPasteText = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar parse_html_1 = tslib_1.__importDefault(__webpack_require__(307));\n/**\n * 获取粘贴的纯文本\n * @param e Event 参数\n */\n\n\nfunction getPasteText(e) {\n  // const clipboardData = e.clipboardData || (e.originalEvent && e.originalEvent.clipboardData)\n  var clipboardData = e.clipboardData; // 暂不考虑 originalEvent 的情况\n\n  var pasteText = '';\n\n  if (clipboardData == null) {\n    pasteText = window.clipboardData && window.clipboardData.getData('text');\n  } else {\n    pasteText = clipboardData.getData('text/plain');\n  }\n\n  return util_1.replaceHtmlSymbol(pasteText);\n}\n\nexports.getPasteText = getPasteText;\n/**\n * 获取粘贴的 html 字符串\n * @param e Event 参数\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\n\nfunction getPasteHtml(e, filterStyle, ignoreImg) {\n  if (filterStyle === void 0) {\n    filterStyle = true;\n  }\n\n  if (ignoreImg === void 0) {\n    ignoreImg = false;\n  }\n\n  var clipboardData = e.clipboardData; // 暂不考虑 originalEvent 的情况\n\n  var pasteHtml = '';\n\n  if (clipboardData) {\n    pasteHtml = clipboardData.getData('text/html');\n  } // 无法通过 'text/html' 格式获取 html，则尝试获取 text\n\n\n  if (!pasteHtml) {\n    var text = getPasteText(e);\n\n    if (!text) {\n      return ''; // 没有找到任何文字，则返回\n    }\n\n    pasteHtml = \"<p>\" + text + \"</p>\";\n  } // 转译<1，后面跟数字的转译成 &lt;1\n\n\n  pasteHtml = pasteHtml.replace(/<(\\d)/gm, function (_, num) {\n    return '&lt;' + num;\n  }); // pdf复制只会有一个meta标签，parseHtml中的过滤meta标签会导致后面内容丢失\n\n  pasteHtml = pasteHtml.replace(/<(\\/?meta.*?)>/gim, ''); // 剔除多余的标签、属性\n\n  pasteHtml = parse_html_1[\"default\"](pasteHtml, filterStyle, ignoreImg);\n  return pasteHtml;\n}\n\nexports.getPasteHtml = getPasteHtml;\n/**\n * 获取粘贴的图片文件\n * @param e Event 参数\n */\n\nfunction getPasteImgs(e) {\n  var _a;\n\n  var result = [];\n  var txt = getPasteText(e);\n\n  if (txt) {\n    // 有文字，就忽略图片\n    return result;\n  }\n\n  var items = (_a = e.clipboardData) === null || _a === void 0 ? void 0 : _a.items;\n  if (!items) return result;\n  (0, _forEach[\"default\"])(util_1).call(util_1, items, function (key, value) {\n    var type = value.type;\n\n    if (/image/i.test(type)) {\n      result.push(value.getAsFile());\n    }\n  });\n  return result;\n}\n\nexports.getPasteImgs = getPasteImgs;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(309);\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(325);\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 下拉列表 class\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar const_1 = __webpack_require__(7);\n\nvar DropList = function () {\n  function DropList(menu, conf) {\n    var _this = this;\n\n    this.hideTimeoutId = 0;\n    this.menu = menu;\n    this.conf = conf; // 容器\n\n    var $container = dom_core_1[\"default\"]('<div class=\"w-e-droplist\"></div>'); // 标题\n\n    var $title = dom_core_1[\"default\"](\"<p>\" + conf.title + \"</p>\");\n    $title.addClass('w-e-dp-title');\n    $container.append($title); // 列表和类型\n\n    var list = conf.list || [];\n    var type = conf.type || 'list'; // item 的点击事件\n\n    var clickHandler = conf.clickHandler || const_1.EMPTY_FN; // 加入 DOM 并绑定事件\n\n    var $list = dom_core_1[\"default\"]('<ul class=\"' + (type === 'list' ? 'w-e-list' : 'w-e-block') + '\"></ul>');\n    (0, _forEach[\"default\"])(list).call(list, function (item) {\n      var $elem = item.$elem;\n      var value = item.value;\n      var $li = dom_core_1[\"default\"]('<li class=\"w-e-item\"></li>');\n\n      if ($elem) {\n        $li.append($elem);\n        $list.append($li);\n        $li.on('click', function (e) {\n          clickHandler(value); // 阻止冒泡\n\n          e.stopPropagation(); // item 点击之后，隐藏 list\n\n          _this.hideTimeoutId = (0, _setTimeout2[\"default\"])(function () {\n            _this.hide();\n          });\n        });\n      }\n    });\n    $container.append($list); // 绑定隐藏事件\n\n    $container.on('mouseleave', function () {\n      _this.hideTimeoutId = (0, _setTimeout2[\"default\"])(function () {\n        _this.hide();\n      });\n    }); // 记录属性\n\n    this.$container = $container;\n    this.rendered = false;\n    this._show = false;\n  }\n  /**\n   * 显示 DropList\n   */\n\n\n  DropList.prototype.show = function () {\n    if (this.hideTimeoutId) {\n      // 清除之前的定时隐藏\n      clearTimeout(this.hideTimeoutId);\n    }\n\n    var menu = this.menu;\n    var $menuELem = menu.$elem;\n    var $container = this.$container;\n\n    if (this._show) {\n      return;\n    }\n\n    if (this.rendered) {\n      // 显示\n      $container.show();\n    } else {\n      // 加入 DOM 之前先定位位置\n      var menuHeight = $menuELem.getBoundingClientRect().height || 0;\n      var width = this.conf.width || 100; // 默认为 100\n\n      $container.css('margin-top', menuHeight + 'px').css('width', width + 'px'); // 加入到 DOM\n\n      $menuELem.append($container);\n      this.rendered = true;\n    } // 修改属性\n\n\n    this._show = true;\n  };\n  /**\n   * 隐藏 DropList\n   */\n\n\n  DropList.prototype.hide = function () {\n    var $container = this.$container;\n\n    if (!this._show) {\n      return;\n    } // 隐藏并需改属性\n\n\n    $container.hide();\n    this._show = false;\n  };\n\n  (0, _defineProperty[\"default\"])(DropList.prototype, \"isShow\", {\n    get: function get() {\n      return this._show;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return DropList;\n}();\n\nexports[\"default\"] = DropList;\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 检查选区是否在链接中，即菜单是否应该 active\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isActive(editor) {\n  var $selectionELem = editor.selection.getSelectionContainerElem();\n\n  if (!($selectionELem === null || $selectionELem === void 0 ? void 0 : $selectionELem.length)) {\n    return false;\n  }\n\n  if ($selectionELem.getNodeName() === 'A') {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexports[\"default\"] = isActive;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 上传的核心方法\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(100));\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar util_1 = __webpack_require__(6);\n/**\n * 发送 post 请求（用于文件上传）\n * @param url url\n * @param option 配置项\n */\n\n\nfunction post(url, option) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('POST', url); // 超时，默认 10s\n\n  xhr.timeout = option.timeout || 10 * 1000;\n\n  xhr.ontimeout = function () {\n    console.error('wangEditor - 请求超时');\n    option.onTimeout && option.onTimeout(xhr);\n  }; // 进度\n\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (e) {\n      var percent = e.loaded / e.total;\n      option.onProgress && option.onProgress(percent, e);\n    };\n  } // 自定义 header\n\n\n  if (option.headers) {\n    (0, _forEach[\"default\"])(util_1).call(util_1, option.headers, function (key, val) {\n      xhr.setRequestHeader(key, val);\n    });\n  } // 跨域传 cookie\n\n\n  xhr.withCredentials = !!option.withCredentials; // 上传之前的钩子函数，在 xhr.send() 之前执行\n\n  if (option.beforeSend) {\n    var beforeResult = option.beforeSend(xhr);\n\n    if (beforeResult && (0, _typeof2[\"default\"])(beforeResult) === 'object') {\n      if (beforeResult.prevent) {\n        // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\n        return beforeResult.msg;\n      }\n    }\n  } // 服务端返回之后\n\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState !== 4) return;\n    var status = xhr.status;\n    if (status < 200) return; // 请求发送过程中，尚未返回\n\n    if (status >= 300 && status < 400) return; // 重定向\n\n    if (status >= 400) {\n      // 40x 50x 报错\n      console.error('wangEditor - XHR 报错，状态码 ' + status);\n      if (option.onError) option.onError(xhr); // 有，则执行 onError 函数即可\n\n      return;\n    } // status = 200 ，得到结果\n\n\n    var resultStr = xhr.responseText;\n    var result;\n\n    if ((0, _typeof2[\"default\"])(resultStr) !== 'object') {\n      try {\n        result = JSON.parse(resultStr);\n      } catch (ex) {\n        console.error('wangEditor - 返回结果不是 JSON 格式', resultStr);\n        if (option.onFail) option.onFail(xhr, resultStr);\n        return;\n      }\n    } else {\n      result = resultStr;\n    }\n\n    option.onSuccess(xhr, result);\n  }; // 发送请求\n\n\n  xhr.send(option.formData || null);\n  return xhr;\n}\n\nexports[\"default\"] = post;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 上传进度条\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _now = _interopRequireDefault(__webpack_require__(357));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Progress = function () {\n  function Progress(editor) {\n    this.editor = editor;\n    this.$textContainer = editor.$textContainerElem;\n    this.$bar = dom_core_1[\"default\"]('<div class=\"w-e-progress\"></div>');\n    this.isShow = false;\n    this.time = 0;\n    this.timeoutId = 0;\n  }\n  /**\n   * 显示进度条\n   * @param progress 进度百分比\n   */\n\n\n  Progress.prototype.show = function (progress) {\n    var _this = this; // 不要重新显示\n\n\n    if (this.isShow) {\n      return;\n    }\n\n    this.isShow = true; // 渲染 $bar\n\n    var $bar = this.$bar;\n    var $textContainer = this.$textContainer;\n    $textContainer.append($bar); // 改变进度条（防抖，100ms 渲染一次）\n\n    if ((0, _now[\"default\"])() - this.time > 100) {\n      if (progress <= 1) {\n        $bar.css('width', progress * 100 + '%');\n        this.time = (0, _now[\"default\"])();\n      }\n    } // 500ms 之后隐藏\n\n\n    var timeoutId = this.timeoutId;\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n\n    this.timeoutId = (0, _setTimeout2[\"default\"])(function () {\n      _this.hide();\n    }, 500);\n  };\n  /**\n   * 隐藏\n   */\n\n\n  Progress.prototype.hide = function () {\n    var $bar = this.$bar;\n    $bar.remove();\n    this.isShow = false;\n    this.time = 0;\n    this.timeoutId = 0;\n  };\n\n  return Progress;\n}();\n\nexports[\"default\"] = Progress;\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 无序列表/有序列表\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.ListType = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar utils_1 = __webpack_require__(49);\n\nvar ListHandle_1 = tslib_1.__importStar(__webpack_require__(386));\n/**\n * 列表的种类\n */\n\n\nvar ListType;\n\n(function (ListType) {\n  ListType[\"OrderedList\"] = \"OL\";\n  ListType[\"UnorderedList\"] = \"UL\";\n})(ListType = exports.ListType || (exports.ListType = {}));\n\nvar List = function (_super) {\n  tslib_1.__extends(List, _super);\n\n  function List(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5E8F\\u5217\\\">\\n                <i class=\\\"w-e-icon-list2\\\"></i>\\n            </div>\");\n    var dropListConf = {\n      width: 130,\n      title: '序列',\n      type: 'list',\n      list: [{\n        $elem: dom_core_1[\"default\"](\"\\n                        <p>\\n                            <i class=\\\"w-e-icon-list2 w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.list.无序列表') + \"\\n                        <p>\"),\n        value: ListType.UnorderedList\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-list-numbered w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.list.有序列表') + \"\\n                        <p>\"),\n        value: ListType.OrderedList\n      }],\n      clickHandler: function clickHandler(value) {\n        // 注意 this 是指向当前的 List 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, dropListConf) || this;\n    return _this;\n  }\n\n  List.prototype.command = function (type) {\n    var editor = this.editor;\n    var $selectionElem = editor.selection.getSelectionContainerElem(); // 选区范围的 DOM 元素不存在，不执行命令\n\n    if ($selectionElem === undefined) return; // 获取选区范围内的顶级 DOM 元素\n\n    this.handleSelectionRangeNodes(type); // 是否激活\n\n    this.tryChangeActive();\n  };\n\n  List.prototype.validator = function ($startElem, $endElem, $textElem) {\n    if (!$startElem.length || !$endElem.length || $textElem.equal($startElem) || $textElem.equal($endElem)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  List.prototype.handleSelectionRangeNodes = function (listType) {\n    var editor = this.editor;\n    var selection = editor.selection; // 获取 序列标签\n\n    var listTarget = listType.toLowerCase(); // 获取相对应的 元属节点\n\n    var $selectionElem = selection.getSelectionContainerElem();\n    var $startElem = selection.getSelectionStartElem().getNodeTop(editor);\n    var $endElem = selection.getSelectionEndElem().getNodeTop(editor); // 验证是否执行 处理逻辑\n\n    if (!this.validator($startElem, $endElem, editor.$textElem)) {\n      return;\n    } // 获取选区\n\n\n    var _range = selection.getRange();\n\n    var _collapsed = _range === null || _range === void 0 ? void 0 : _range.collapsed; // 防止光标的时候判断异常\n\n\n    if (!editor.$textElem.equal($selectionElem)) {\n      $selectionElem = $selectionElem.getNodeTop(editor);\n    }\n\n    var options = {\n      editor: editor,\n      listType: listType,\n      listTarget: listTarget,\n      $selectionElem: $selectionElem,\n      $startElem: $startElem,\n      $endElem: $endElem\n    };\n    var classType; // =====================================\n    // 当 selectionElem 属于序列元素的时候\n    // 代表着当前选区一定是在一个序列元素内的\n    // =====================================\n\n    if (this.isOrderElem($selectionElem)) {\n      classType = ListHandle_1.ClassType.Wrap;\n    } // =====================================\n    // 当 startElem 和 endElem 属于序列元素的时候\n    // 代表着当前选区一定是在再两个序列的中间(包括两个序列)\n    // =====================================\n    else if (this.isOrderElem($startElem) && this.isOrderElem($endElem)) {\n      classType = ListHandle_1.ClassType.Join;\n    } // =====================================\n    // 选区开始元素为 序列 的时候\n    // =====================================\n    else if (this.isOrderElem($startElem)) {\n      classType = ListHandle_1.ClassType.StartJoin;\n    } // =====================================\n    // 选区结束元素为 序列 的时候\n    // =====================================\n    else if (this.isOrderElem($endElem)) {\n      classType = ListHandle_1.ClassType.EndJoin;\n    } // =====================================\n    // 当选区不是序列内且开头和结尾不是序列的时候\n    // 直接获取所有顶级段落然后过滤\n    // 代表着 设置序列 的操作\n    // =====================================\n    else {\n      classType = ListHandle_1.ClassType.Other;\n    }\n\n    var listHandleCmd = new ListHandle_1[\"default\"](ListHandle_1.createListHandle(classType, options, _range)); // 更新选区\n\n    utils_1.updateRange(editor, listHandleCmd.getSelectionRangeElem(), !!_collapsed);\n  };\n  /**\n   * 是否是序列元素节点 UL and OL\n   * @param $node\n   */\n\n\n  List.prototype.isOrderElem = function ($node) {\n    var nodeName = $node.getNodeName();\n\n    if (nodeName === ListType.OrderedList || nodeName === ListType.UnorderedList) {\n      return true;\n    }\n\n    return false;\n  };\n\n  List.prototype.tryChangeActive = function () {};\n\n  return List;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = List;\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(410);\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 检查选区是否在代码中，即菜单是否应该 active\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isActive(editor) {\n  var $selectionELem = editor.selection.getSelectionContainerElem();\n\n  if (!($selectionELem === null || $selectionELem === void 0 ? void 0 : $selectionELem.length)) {\n    return false;\n  }\n\n  if ($selectionELem.getNodeName() == 'CODE' || $selectionELem.getNodeName() == 'PRE' || $selectionELem.parent().getNodeName() == 'CODE' || $selectionELem.parent().getNodeName() == 'PRE' || /hljs/.test($selectionELem.parent().attr('class'))) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexports[\"default\"] = isActive;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.todo = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar todo = function () {\n  function todo($orginElem) {\n    var _a;\n\n    this.template = \"<ul class=\\\"w-e-todo\\\"><li><span contenteditable=\\\"false\\\"><input type=\\\"checkbox\\\"></span></li></ul>\";\n    this.checked = false;\n    this.$todo = dom_core_1[\"default\"](this.template);\n    this.$child = (_a = $orginElem === null || $orginElem === void 0 ? void 0 : $orginElem.childNodes()) === null || _a === void 0 ? void 0 : _a.clone(true);\n  }\n\n  todo.prototype.init = function () {\n    var $child = this.$child;\n    var $inputContainer = this.getInputContainer();\n\n    if ($child) {\n      $child.insertAfter($inputContainer);\n    }\n  };\n\n  todo.prototype.getInput = function () {\n    var $todo = this.$todo;\n    var $input = (0, _find[\"default\"])($todo).call($todo, 'input');\n    return $input;\n  };\n\n  todo.prototype.getInputContainer = function () {\n    var $inputContainer = this.getInput().parent();\n    return $inputContainer;\n  };\n\n  todo.prototype.getTodo = function () {\n    return this.$todo;\n  };\n\n  return todo;\n}();\n\nexports.todo = todo;\n\nfunction createTodo($orginElem) {\n  var t = new todo($orginElem);\n  t.init();\n  return t;\n}\n\nexports[\"default\"] = createTodo;\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 入口文件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\n__webpack_require__(154);\n\n__webpack_require__(156);\n\n__webpack_require__(160);\n\n__webpack_require__(162);\n\n__webpack_require__(164);\n\n__webpack_require__(166);\n\n__webpack_require__(168);\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(94));\n\ntslib_1.__exportStar(__webpack_require__(458), exports); // 检验是否浏览器环境\n\n\ntry {\n  document;\n} catch (ex) {\n  throw new Error('请在浏览器环境下运行');\n}\n\nexports[\"default\"] = index_1[\"default\"];\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(148);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(149);\nvar path = __webpack_require__(11);\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar DESCRIPTORS = __webpack_require__(15);\nvar objectDefinePropertyModile = __webpack_require__(18);\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\nvar isSymbol = __webpack_require__(65);\nvar ordinaryToPrimitive = __webpack_require__(152);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = input[TO_PRIMITIVE];\n  var result;\n  if (exoticToPrim !== undefined) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n/* 154 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(155);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-toolbar,\\n.w-e-text-container,\\n.w-e-menu-panel {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  /*表情菜单样式*/\\n  /*分割线样式*/\\n}\\n.w-e-toolbar h1,\\n.w-e-text-container h1,\\n.w-e-menu-panel h1 {\\n  font-size: 32px !important;\\n}\\n.w-e-toolbar h2,\\n.w-e-text-container h2,\\n.w-e-menu-panel h2 {\\n  font-size: 24px !important;\\n}\\n.w-e-toolbar h3,\\n.w-e-text-container h3,\\n.w-e-menu-panel h3 {\\n  font-size: 18.72px !important;\\n}\\n.w-e-toolbar h4,\\n.w-e-text-container h4,\\n.w-e-menu-panel h4 {\\n  font-size: 16px !important;\\n}\\n.w-e-toolbar h5,\\n.w-e-text-container h5,\\n.w-e-menu-panel h5 {\\n  font-size: 13.28px !important;\\n}\\n.w-e-toolbar p,\\n.w-e-text-container p,\\n.w-e-menu-panel p {\\n  font-size: 16px !important;\\n}\\n.w-e-toolbar .eleImg,\\n.w-e-text-container .eleImg,\\n.w-e-menu-panel .eleImg {\\n  cursor: pointer;\\n  display: inline-block;\\n  font-size: 18px;\\n  padding: 0 3px;\\n}\\n.w-e-toolbar *,\\n.w-e-text-container *,\\n.w-e-menu-panel * {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n}\\n.w-e-toolbar hr,\\n.w-e-text-container hr,\\n.w-e-menu-panel hr {\\n  cursor: pointer;\\n  display: block;\\n  height: 0px;\\n  border: 0;\\n  border-top: 3px solid #ccc;\\n  margin: 20px 0;\\n}\\n.w-e-clear-fix:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-drop-list-item {\\n  position: relative;\\n  top: 1px;\\n  padding-right: 7px;\\n  color: #333 !important;\\n}\\n.w-e-drop-list-tl {\\n  padding-left: 10px;\\n  text-align: left;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(157);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 157 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nvar ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(158);\nvar ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(159);\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.i, \"@font-face {\\n  font-family: 'w-e-icon';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n[class^=\\\"w-e-icon-\\\"],\\n[class*=\\\" w-e-icon-\\\"] {\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'w-e-icon' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.w-e-icon-close:before {\\n  content: \\\"\\\\f00d\\\";\\n}\\n.w-e-icon-upload2:before {\\n  content: \\\"\\\\e9c6\\\";\\n}\\n.w-e-icon-trash-o:before {\\n  content: \\\"\\\\f014\\\";\\n}\\n.w-e-icon-header:before {\\n  content: \\\"\\\\f1dc\\\";\\n}\\n.w-e-icon-pencil2:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n.w-e-icon-paint-brush:before {\\n  content: \\\"\\\\f1fc\\\";\\n}\\n.w-e-icon-image:before {\\n  content: \\\"\\\\e90d\\\";\\n}\\n.w-e-icon-play:before {\\n  content: \\\"\\\\e912\\\";\\n}\\n.w-e-icon-location:before {\\n  content: \\\"\\\\e947\\\";\\n}\\n.w-e-icon-undo:before {\\n  content: \\\"\\\\e965\\\";\\n}\\n.w-e-icon-redo:before {\\n  content: \\\"\\\\e966\\\";\\n}\\n.w-e-icon-quotes-left:before {\\n  content: \\\"\\\\e977\\\";\\n}\\n.w-e-icon-list-numbered:before {\\n  content: \\\"\\\\e9b9\\\";\\n}\\n.w-e-icon-list2:before {\\n  content: \\\"\\\\e9bb\\\";\\n}\\n.w-e-icon-link:before {\\n  content: \\\"\\\\e9cb\\\";\\n}\\n.w-e-icon-happy:before {\\n  content: \\\"\\\\e9df\\\";\\n}\\n.w-e-icon-bold:before {\\n  content: \\\"\\\\ea62\\\";\\n}\\n.w-e-icon-underline:before {\\n  content: \\\"\\\\ea63\\\";\\n}\\n.w-e-icon-italic:before {\\n  content: \\\"\\\\ea64\\\";\\n}\\n.w-e-icon-strikethrough:before {\\n  content: \\\"\\\\ea65\\\";\\n}\\n.w-e-icon-table2:before {\\n  content: \\\"\\\\ea71\\\";\\n}\\n.w-e-icon-paragraph-left:before {\\n  content: \\\"\\\\ea77\\\";\\n}\\n.w-e-icon-paragraph-center:before {\\n  content: \\\"\\\\ea78\\\";\\n}\\n.w-e-icon-paragraph-right:before {\\n  content: \\\"\\\\ea79\\\";\\n}\\n.w-e-icon-paragraph-justify:before {\\n  content: \\\"\\\\ea7a\\\";\\n}\\n.w-e-icon-terminal:before {\\n  content: \\\"\\\\f120\\\";\\n}\\n.w-e-icon-page-break:before {\\n  content: \\\"\\\\ea68\\\";\\n}\\n.w-e-icon-cancel-circle:before {\\n  content: \\\"\\\\ea0d\\\";\\n}\\n.w-e-icon-font:before {\\n  content: \\\"\\\\ea5c\\\";\\n}\\n.w-e-icon-text-heigh:before {\\n  content: \\\"\\\\ea5f\\\";\\n}\\n.w-e-icon-paint-format:before {\\n  content: \\\"\\\\e90c\\\";\\n}\\n.w-e-icon-indent-increase:before {\\n  content: \\\"\\\\ea7b\\\";\\n}\\n.w-e-icon-indent-decrease:before {\\n  content: \\\"\\\\ea7c\\\";\\n}\\n.w-e-icon-row-height:before {\\n  content: \\\"\\\\e9be\\\";\\n}\\n.w-e-icon-fullscreen_exit:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n.w-e-icon-fullscreen:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n.w-e-icon-split-line:before {\\n  content: \\\"\\\\ea0b\\\";\\n}\\n.w-e-icon-checkbox-checked:before {\\n  content: \\\"\\\\ea52\\\";\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 158 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};\n\n/***/ }),\n/* 159 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\");\n\n/***/ }),\n/* 160 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(161);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 161 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-toolbar {\\n  display: flex;\\n  padding: 0 6px;\\n  flex-wrap: wrap;\\n  position: relative;\\n  /* 单个菜单 */\\n}\\n.w-e-toolbar .w-e-menu {\\n  position: relative;\\n  display: flex;\\n  width: 40px;\\n  height: 40px;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n.w-e-toolbar .w-e-menu i {\\n  color: #999;\\n}\\n.w-e-toolbar .w-e-menu:hover {\\n  background-color: #F6F6F6;\\n}\\n.w-e-toolbar .w-e-menu:hover i {\\n  color: #333;\\n}\\n.w-e-toolbar .w-e-active i {\\n  color: #1e88e5;\\n}\\n.w-e-toolbar .w-e-active:hover i {\\n  color: #1e88e5;\\n}\\n.w-e-menu-tooltip {\\n  position: absolute;\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.w-e-menu-tooltip-up::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-menu-tooltip-down::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-menu-tooltip-item-wrapper {\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 162 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(163);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 163 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-text-container {\\n  position: relative;\\n  height: 100%;\\n}\\n.w-e-text-container .w-e-progress {\\n  position: absolute;\\n  background-color: #1e88e5;\\n  top: 0;\\n  left: 0;\\n  height: 1px;\\n}\\n.w-e-text-container .placeholder {\\n  color: #D4D4D4;\\n  position: absolute;\\n  font-size: 11pt;\\n  line-height: 22px;\\n  left: 10px;\\n  top: 10px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  z-index: -1;\\n}\\n.w-e-text {\\n  padding: 0 10px;\\n  overflow-y: auto;\\n}\\n.w-e-text p,\\n.w-e-text h1,\\n.w-e-text h2,\\n.w-e-text h3,\\n.w-e-text h4,\\n.w-e-text h5,\\n.w-e-text table,\\n.w-e-text pre {\\n  margin: 10px 0;\\n  line-height: 1.5;\\n}\\n.w-e-text ul,\\n.w-e-text ol {\\n  margin: 10px 0 10px 20px;\\n}\\n.w-e-text blockquote {\\n  display: block;\\n  border-left: 8px solid #d0e5f2;\\n  padding: 5px 10px;\\n  margin: 10px 0;\\n  line-height: 1.4;\\n  font-size: 100%;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text code {\\n  display: inline-block;\\n  background-color: #f1f1f1;\\n  border-radius: 3px;\\n  padding: 3px 5px;\\n  margin: 0 3px;\\n}\\n.w-e-text pre code {\\n  display: block;\\n}\\n.w-e-text table {\\n  border-top: 1px solid #ccc;\\n  border-left: 1px solid #ccc;\\n}\\n.w-e-text table td,\\n.w-e-text table th {\\n  border-bottom: 1px solid #ccc;\\n  border-right: 1px solid #ccc;\\n  padding: 3px 5px;\\n  min-height: 30px;\\n}\\n.w-e-text table th {\\n  border-bottom: 2px solid #ccc;\\n  text-align: center;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text:focus {\\n  outline: none;\\n}\\n.w-e-text img {\\n  cursor: pointer;\\n}\\n.w-e-text img:hover {\\n  box-shadow: 0 0 5px #333;\\n}\\n.w-e-text .w-e-todo {\\n  margin: 0 0 0 20px;\\n}\\n.w-e-text .w-e-todo li {\\n  list-style: none;\\n  font-size: 1em;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) {\\n  position: relative;\\n  left: -18px;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) input {\\n  position: absolute;\\n  margin-right: 3px;\\n}\\n.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {\\n  top: 50%;\\n  margin-top: -6px;\\n}\\n.w-e-tooltip {\\n  position: absolute;\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.w-e-tooltip-up::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-down::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-item-wrapper {\\n  cursor: pointer;\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n.w-e-tooltip-item-wrapper:hover {\\n  color: #ccc;\\n  text-decoration: underline;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 164 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(165);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 165 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-menu .w-e-panel-container {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n  border: 1px solid #ccc;\\n  border-top: 0;\\n  box-shadow: 1px 1px 2px #ccc;\\n  color: #333;\\n  background-color: #fff;\\n  text-align: left;\\n  /* 为 emotion panel 定制的样式 */\\n  /* 上传图片、上传视频的 panel 定制样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  padding: 5px;\\n  margin: 2px 5px 0 0;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\\n  color: #333;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\\n  list-style: none;\\n  display: flex;\\n  font-size: 14px;\\n  margin: 2px 10px 0 10px;\\n  border-bottom: 1px solid #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\\n  padding: 3px 5px;\\n  color: #999;\\n  cursor: pointer;\\n  margin: 0 3px;\\n  position: relative;\\n  top: 1px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\\n  color: #333;\\n  border-bottom: 1px solid #333;\\n  cursor: default;\\n  font-weight: 700;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\\n  padding: 10px 15px 10px 15px;\\n  font-size: 16px;\\n  /* 输入框的样式 */\\n  /* 按钮的样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\\n  outline: none;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n  margin-top: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\\n  border-color: #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\\n  border: none;\\n  border-bottom: 1px solid #ccc;\\n  font-size: 14px;\\n  height: 20px;\\n  color: #333;\\n  text-align: left;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\\n  width: 30px;\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\\n  display: block;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\\n  border-bottom: 2px solid #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\\n  font-size: 14px;\\n  color: #1e88e5;\\n  border: none;\\n  padding: 5px 10px;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 3px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\\n  float: left;\\n  margin-right: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\\n  float: right;\\n  margin-left: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\\n  color: #c24f4a;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\\n  cursor: pointer;\\n  font-size: 18px;\\n  padding: 0 3px;\\n  display: inline-block;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container {\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {\\n  display: inline-block;\\n  color: #999;\\n  cursor: pointer;\\n  font-size: 60px;\\n  line-height: 1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,\\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {\\n  color: #333;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 166 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(167);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 167 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-toolbar .w-e-droplist {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #fff;\\n  border: 1px solid #f1f1f1;\\n  border-right-color: #ccc;\\n  border-bottom-color: #ccc;\\n}\\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\\n  text-align: center;\\n  color: #999;\\n  line-height: 2;\\n  border-bottom: 1px solid #f1f1f1;\\n  font-size: 13px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list {\\n  list-style: none;\\n  line-height: 1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\\n  color: #333;\\n  padding: 5px 0;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block {\\n  list-style: none;\\n  text-align: left;\\n  padding: 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\\n  display: inline-block;\\n  padding: 3px 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 168 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description polyfill 【注意，js 语法的兼容，都通过 babel transform runtime 支持】\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _promise = _interopRequireDefault(__webpack_require__(169));\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = function (s) {\n    var matches = this.ownerDocument.querySelectorAll(s);\n    var i = matches.length;\n\n    for (i; i >= 0; i--) {\n      if (matches.item(i) === this) break;\n    }\n\n    return i > -1;\n  };\n} // 有的第三方库需要原生 Promise ，而 IE11 又没有原生 Promise ，就报错\n\n\nif (!_promise[\"default\"]) {\n  window.Promise = _promise[\"default\"];\n}\n\n/***/ }),\n/* 169 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(170);\n\n/***/ }),\n/* 170 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(171);\n__webpack_require__(45);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 171 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(172);\n__webpack_require__(55);\n__webpack_require__(57);\n__webpack_require__(179);\n__webpack_require__(185);\n__webpack_require__(186);\n__webpack_require__(187);\n__webpack_require__(58);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Promise;\n\n\n/***/ }),\n/* 172 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar getPrototypeOf = __webpack_require__(83);\nvar setPrototypeOf = __webpack_require__(84);\nvar create = __webpack_require__(69);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar createPropertyDescriptor = __webpack_require__(38);\nvar iterate = __webpack_require__(41);\nvar toString = __webpack_require__(30);\n\nvar $AggregateError = function AggregateError(errors, message) {\n  var that = this;\n  if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message);\n  if (setPrototypeOf) {\n    // eslint-disable-next-line unicorn/error-message -- expected\n    that = setPrototypeOf(new Error(undefined), getPrototypeOf(that));\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', toString(message));\n  var errorsArray = [];\n  iterate(errors, errorsArray.push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\n$AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(5, $AggregateError),\n  message: createPropertyDescriptor(5, ''),\n  name: createPropertyDescriptor(5, 'AggregateError')\n});\n\n// `AggregateError` constructor\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n\n\n/***/ }),\n/* 173 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n/* 174 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n\n\n/***/ }),\n/* 175 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar definePropertyModule = __webpack_require__(18);\nvar anObject = __webpack_require__(20);\nvar objectKeys = __webpack_require__(53);\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n\n\n/***/ }),\n/* 176 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar inspectSource = __webpack_require__(115);\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n\n/***/ }),\n/* 177 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar IteratorPrototype = __webpack_require__(116).IteratorPrototype;\nvar create = __webpack_require__(69);\nvar createPropertyDescriptor = __webpack_require__(38);\nvar setToStringTag = __webpack_require__(44);\nvar Iterators = __webpack_require__(42);\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n\n\n/***/ }),\n/* 178 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(88);\nvar classof = __webpack_require__(71);\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n\n\n/***/ }),\n/* 179 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar IS_PURE = __webpack_require__(39);\nvar global = __webpack_require__(8);\nvar getBuiltIn = __webpack_require__(25);\nvar NativePromise = __webpack_require__(117);\nvar redefine = __webpack_require__(56);\nvar redefineAll = __webpack_require__(118);\nvar setPrototypeOf = __webpack_require__(84);\nvar setToStringTag = __webpack_require__(44);\nvar setSpecies = __webpack_require__(119);\nvar isObject = __webpack_require__(13);\nvar aFunction = __webpack_require__(34);\nvar anInstance = __webpack_require__(91);\nvar inspectSource = __webpack_require__(115);\nvar iterate = __webpack_require__(41);\nvar checkCorrectnessOfIteration = __webpack_require__(120);\nvar speciesConstructor = __webpack_require__(121);\nvar task = __webpack_require__(122).set;\nvar microtask = __webpack_require__(180);\nvar promiseResolve = __webpack_require__(124);\nvar hostReportErrors = __webpack_require__(183);\nvar newPromiseCapabilityModule = __webpack_require__(72);\nvar perform = __webpack_require__(93);\nvar InternalStateModule = __webpack_require__(43);\nvar isForced = __webpack_require__(109);\nvar wellKnownSymbol = __webpack_require__(9);\nvar IS_BROWSER = __webpack_require__(184);\nvar IS_NODE = __webpack_require__(92);\nvar V8_VERSION = __webpack_require__(66);\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\n\n/***/ }),\n/* 180 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar getOwnPropertyDescriptor = __webpack_require__(77).f;\nvar macrotask = __webpack_require__(122).set;\nvar IS_IOS = __webpack_require__(123);\nvar IS_IOS_PEBBLE = __webpack_require__(181);\nvar IS_WEBOS_WEBKIT = __webpack_require__(182);\nvar IS_NODE = __webpack_require__(92);\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n\n\n/***/ }),\n/* 181 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar userAgent = __webpack_require__(52);\nvar global = __webpack_require__(8);\n\nmodule.exports = /ipad|iphone|ipod/i.test(userAgent) && global.Pebble !== undefined;\n\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar userAgent = __webpack_require__(52);\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports) {\n\nmodule.exports = typeof window == 'object';\n\n\n/***/ }),\n/* 185 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar aFunction = __webpack_require__(34);\nvar newPromiseCapabilityModule = __webpack_require__(72);\nvar perform = __webpack_require__(93);\nvar iterate = __webpack_require__(41);\n\n// `Promise.allSettled` method\n// https://tc39.es/ecma262/#sec-promise.allsettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\n\n/***/ }),\n/* 186 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar aFunction = __webpack_require__(34);\nvar getBuiltIn = __webpack_require__(25);\nvar newPromiseCapabilityModule = __webpack_require__(72);\nvar perform = __webpack_require__(93);\nvar iterate = __webpack_require__(41);\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://tc39.es/ecma262/#sec-promise.any\n$({ target: 'Promise', stat: true }, {\n  any: function any(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        errors.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (error) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = error;\n          --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\n\n/***/ }),\n/* 187 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar IS_PURE = __webpack_require__(39);\nvar NativePromise = __webpack_require__(117);\nvar fails = __webpack_require__(12);\nvar getBuiltIn = __webpack_require__(25);\nvar speciesConstructor = __webpack_require__(121);\nvar promiseResolve = __webpack_require__(124);\nvar redefine = __webpack_require__(56);\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && typeof NativePromise == 'function') {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromise.prototype['finally'] !== method) {\n    redefine(NativePromise.prototype, 'finally', method, { unsafe: true });\n  }\n}\n\n\n/***/ }),\n/* 188 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(70);\nvar toString = __webpack_require__(30);\nvar requireObjectCoercible = __webpack_require__(51);\n\n// `String.prototype.codePointAt` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n\n\n/***/ }),\n/* 189 */\n/***/ (function(module, exports) {\n\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\n\n/***/ }),\n/* 190 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(45);\nvar forEach = __webpack_require__(191);\nvar classof = __webpack_require__(71);\nvar ArrayPrototype = Array.prototype;\n\nvar DOMIterables = {\n  DOMTokenList: true,\n  NodeList: true\n};\n\nmodule.exports = function (it) {\n  var own = it.forEach;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.forEach)\n    // eslint-disable-next-line no-prototype-builtins -- safe\n    || DOMIterables.hasOwnProperty(classof(it)) ? forEach : own;\n};\n\n\n/***/ }),\n/* 191 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(192);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 192 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(193);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').forEach;\n\n\n/***/ }),\n/* 193 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar forEach = __webpack_require__(194);\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n\n\n/***/ }),\n/* 194 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $forEach = __webpack_require__(31).forEach;\nvar arrayMethodIsStrict = __webpack_require__(73);\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n\n\n/***/ }),\n/* 195 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\nvar isArray = __webpack_require__(59);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar SPECIES = wellKnownSymbol('species');\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n/***/ }),\n/* 196 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(197);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 197 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(198);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Array.isArray;\n\n\n/***/ }),\n/* 198 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar isArray = __webpack_require__(59);\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n\n\n/***/ }),\n/* 199 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(200);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 200 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = __webpack_require__(201);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.map;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.map) ? map : own;\n};\n\n\n/***/ }),\n/* 201 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(202);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').map;\n\n\n/***/ }),\n/* 202 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $map = __webpack_require__(31).map;\nvar arrayMethodHasSpeciesSupport = __webpack_require__(60);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 203 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(204);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 204 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar trim = __webpack_require__(205);\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it === 'string' || it === StringPrototype\n    || (it instanceof String && own === StringPrototype.trim) ? trim : own;\n};\n\n\n/***/ }),\n/* 205 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(206);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('String').trim;\n\n\n/***/ }),\n/* 206 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $trim = __webpack_require__(97).trim;\nvar forcedStringTrimMethod = __webpack_require__(207);\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n\n\n/***/ }),\n/* 207 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\nvar whitespaces = __webpack_require__(74);\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n\n\n/***/ }),\n/* 208 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(209);\n__webpack_require__(45);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 209 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(55);\n__webpack_require__(210);\n__webpack_require__(57);\n__webpack_require__(58);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Map;\n\n\n/***/ }),\n/* 210 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar collection = __webpack_require__(126);\nvar collectionStrong = __webpack_require__(129);\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n\n\n/***/ }),\n/* 211 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar fails = __webpack_require__(12);\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n\n\n/***/ }),\n/* 212 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(213);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 213 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar indexOf = __webpack_require__(214);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.indexOf;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.indexOf) ? indexOf : own;\n};\n\n\n/***/ }),\n/* 214 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(215);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').indexOf;\n\n\n/***/ }),\n/* 215 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = __webpack_require__(5);\nvar $indexOf = __webpack_require__(85).indexOf;\nvar arrayMethodIsStrict = __webpack_require__(73);\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 216 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(217);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 217 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar splice = __webpack_require__(218);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.splice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.splice) ? splice : own;\n};\n\n\n/***/ }),\n/* 218 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(219);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').splice;\n\n\n/***/ }),\n/* 219 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar toAbsoluteIndex = __webpack_require__(86);\nvar toInteger = __webpack_require__(70);\nvar toLength = __webpack_require__(35);\nvar toObject = __webpack_require__(26);\nvar arraySpeciesCreate = __webpack_require__(95);\nvar createProperty = __webpack_require__(75);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(60);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n\n\n/***/ }),\n/* 220 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(221);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar filter = __webpack_require__(222);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.filter;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.filter) ? filter : own;\n};\n\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(223);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').filter;\n\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $filter = __webpack_require__(31).filter;\nvar arrayMethodHasSpeciesSupport = __webpack_require__(60);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(225);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayIncludes = __webpack_require__(226);\nvar stringIncludes = __webpack_require__(228);\n\nvar ArrayPrototype = Array.prototype;\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.includes;\n  if (it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.includes)) return arrayIncludes;\n  if (typeof it === 'string' || it === StringPrototype || (it instanceof String && own === StringPrototype.includes)) {\n    return stringIncludes;\n  } return own;\n};\n\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(227);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').includes;\n\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $includes = __webpack_require__(85).includes;\nvar addToUnscopables = __webpack_require__(89);\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(229);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('String').includes;\n\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar notARegExp = __webpack_require__(230);\nvar requireObjectCoercible = __webpack_require__(51);\nvar toString = __webpack_require__(30);\nvar correctIsRegExpLogic = __webpack_require__(232);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~toString(requireObjectCoercible(this))\n      .indexOf(toString(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isRegExp = __webpack_require__(231);\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\nvar classof = __webpack_require__(50);\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(9);\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(234);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar bind = __webpack_require__(235);\n\nvar FunctionPrototype = Function.prototype;\n\nmodule.exports = function (it) {\n  var own = it.bind;\n  return it === FunctionPrototype || (it instanceof Function && own === FunctionPrototype.bind) ? bind : own;\n};\n\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(236);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Function').bind;\n\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar bind = __webpack_require__(237);\n\n// `Function.prototype.bind` method\n// https://tc39.es/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar aFunction = __webpack_require__(34);\nvar isObject = __webpack_require__(13);\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(239);\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(240);\n__webpack_require__(260);\n__webpack_require__(261);\n__webpack_require__(262);\n__webpack_require__(263);\n__webpack_require__(264);\n// TODO: Remove from `core-js@4`\n__webpack_require__(265);\n// TODO: Remove from `core-js@4`\n__webpack_require__(266);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(241);\n__webpack_require__(45);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(242);\n__webpack_require__(57);\n__webpack_require__(243);\n__webpack_require__(244);\n__webpack_require__(245);\n__webpack_require__(246);\n__webpack_require__(247);\n__webpack_require__(131);\n__webpack_require__(248);\n__webpack_require__(249);\n__webpack_require__(250);\n__webpack_require__(251);\n__webpack_require__(252);\n__webpack_require__(253);\n__webpack_require__(254);\n__webpack_require__(255);\n__webpack_require__(256);\n__webpack_require__(257);\n__webpack_require__(258);\n__webpack_require__(259);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Symbol;\n\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar fails = __webpack_require__(12);\nvar isArray = __webpack_require__(59);\nvar isObject = __webpack_require__(13);\nvar toObject = __webpack_require__(26);\nvar toLength = __webpack_require__(35);\nvar createProperty = __webpack_require__(75);\nvar arraySpeciesCreate = __webpack_require__(95);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(60);\nvar wellKnownSymbol = __webpack_require__(9);\nvar V8_VERSION = __webpack_require__(66);\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar global = __webpack_require__(8);\nvar getBuiltIn = __webpack_require__(25);\nvar IS_PURE = __webpack_require__(39);\nvar DESCRIPTORS = __webpack_require__(15);\nvar NATIVE_SYMBOL = __webpack_require__(79);\nvar fails = __webpack_require__(12);\nvar has = __webpack_require__(17);\nvar isArray = __webpack_require__(59);\nvar isObject = __webpack_require__(13);\nvar isSymbol = __webpack_require__(65);\nvar anObject = __webpack_require__(20);\nvar toObject = __webpack_require__(26);\nvar toIndexedObject = __webpack_require__(29);\nvar toPropertyKey = __webpack_require__(64);\nvar $toString = __webpack_require__(30);\nvar createPropertyDescriptor = __webpack_require__(38);\nvar nativeObjectCreate = __webpack_require__(69);\nvar objectKeys = __webpack_require__(53);\nvar getOwnPropertyNamesModule = __webpack_require__(98);\nvar getOwnPropertyNamesExternal = __webpack_require__(128);\nvar getOwnPropertySymbolsModule = __webpack_require__(130);\nvar getOwnPropertyDescriptorModule = __webpack_require__(77);\nvar definePropertyModule = __webpack_require__(18);\nvar propertyIsEnumerableModule = __webpack_require__(63);\nvar createNonEnumerableProperty = __webpack_require__(19);\nvar redefine = __webpack_require__(56);\nvar shared = __webpack_require__(80);\nvar sharedKey = __webpack_require__(68);\nvar hiddenKeys = __webpack_require__(54);\nvar uid = __webpack_require__(67);\nvar wellKnownSymbol = __webpack_require__(9);\nvar wrappedWellKnownSymbolModule = __webpack_require__(101);\nvar defineWellKnownSymbol = __webpack_require__(10);\nvar setToStringTag = __webpack_require__(44);\nvar InternalStateModule = __webpack_require__(43);\nvar $forEach = __webpack_require__(31).forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = $toString(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports) {\n\n// empty\n\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.match` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.matchAll` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.matchall\ndefineWellKnownSymbol('matchAll');\n\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.replace` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.search` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n\n\n/***/ }),\n/* 252 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.species` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n\n\n/***/ }),\n/* 253 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.split` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n\n\n/***/ }),\n/* 254 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n\n\n/***/ }),\n/* 255 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar setToStringTag = __webpack_require__(44);\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports) {\n\n// empty\n\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports) {\n\n// empty\n\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.asyncDispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('asyncDispose');\n\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('dispose');\n\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.matcher` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('matcher');\n\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.metadata` well-known symbol\n// https://github.com/tc39/proposal-decorators\ndefineWellKnownSymbol('metadata');\n\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.observable` well-known symbol\n// https://github.com/tc39/proposal-observable\ndefineWellKnownSymbol('observable');\n\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = __webpack_require__(10);\n\n// `Symbol.patternMatch` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('patternMatch');\n\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = __webpack_require__(10);\n\ndefineWellKnownSymbol('replaceAll');\n\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(268);\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(269);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(270);\n__webpack_require__(45);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(55);\n__webpack_require__(57);\n__webpack_require__(58);\n__webpack_require__(131);\nvar WrappedWellKnownSymbolModule = __webpack_require__(101);\n\nmodule.exports = WrappedWellKnownSymbolModule.f('iterator');\n\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(272);\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(273);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(274);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.parseInt;\n\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar parseIntImplementation = __webpack_require__(275);\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar toString = __webpack_require__(30);\nvar trim = __webpack_require__(97).trim;\nvar whitespaces = __webpack_require__(74);\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(277);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar slice = __webpack_require__(278);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.slice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.slice) ? slice : own;\n};\n\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(279);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').slice;\n\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar isObject = __webpack_require__(13);\nvar isArray = __webpack_require__(59);\nvar toAbsoluteIndex = __webpack_require__(86);\nvar toLength = __webpack_require__(35);\nvar toIndexedObject = __webpack_require__(29);\nvar createProperty = __webpack_require__(75);\nvar wellKnownSymbol = __webpack_require__(9);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(60);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(281);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.setTimeout;\n\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar global = __webpack_require__(8);\nvar userAgent = __webpack_require__(52);\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 编辑器配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _assign = _interopRequireDefault(__webpack_require__(132));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar menus_1 = tslib_1.__importDefault(__webpack_require__(287));\n\nvar events_1 = tslib_1.__importDefault(__webpack_require__(288));\n\nvar style_1 = tslib_1.__importDefault(__webpack_require__(133));\n\nvar paste_1 = tslib_1.__importDefault(__webpack_require__(289));\n\nvar cmd_1 = tslib_1.__importDefault(__webpack_require__(290));\n\nvar image_1 = tslib_1.__importDefault(__webpack_require__(291));\n\nvar text_1 = tslib_1.__importDefault(__webpack_require__(134));\n\nvar lang_1 = tslib_1.__importDefault(__webpack_require__(292));\n\nvar history_1 = tslib_1.__importDefault(__webpack_require__(293));\n\nvar video_1 = tslib_1.__importDefault(__webpack_require__(294)); // 合并所有的配置信息\n\n\nvar defaultConfig = (0, _assign[\"default\"])({}, menus_1[\"default\"], events_1[\"default\"], style_1[\"default\"], cmd_1[\"default\"], paste_1[\"default\"], image_1[\"default\"], text_1[\"default\"], lang_1[\"default\"], history_1[\"default\"], video_1[\"default\"], //链接校验的配置函数\n{\n  linkCheck: function linkCheck(text, link) {\n    return true;\n  }\n});\nexports[\"default\"] = defaultConfig;\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(284);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(285);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Object.assign;\n\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar assign = __webpack_require__(286);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar fails = __webpack_require__(12);\nvar objectKeys = __webpack_require__(53);\nvar getOwnPropertySymbolsModule = __webpack_require__(130);\nvar propertyIsEnumerableModule = __webpack_require__(63);\nvar toObject = __webpack_require__(26);\nvar IndexedObject = __webpack_require__(78);\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 菜单配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/*表情菜单数据结构类型END*/\n\nexports[\"default\"] = {\n  menus: ['head', 'bold', 'fontSize', // 'customFontSize',\n  'fontName', 'italic', 'underline', 'strikeThrough', 'indent', 'lineHeight', 'foreColor', 'backColor', 'link', 'list', 'todo', 'justify', 'quote', 'emoticon', 'image', 'video', 'table', 'code', 'splitLine', 'undo', 'redo'],\n  fontNames: ['黑体', '仿宋', '楷体', '标楷体', '华文仿宋', '华文楷体', '宋体', '微软雅黑', 'Arial', 'Tahoma', 'Verdana', 'Times New Roman', 'Courier New'],\n  //  fontNames: [{ name: '宋体', value: '宋体' }],\n  fontSizes: {\n    'x-small': {\n      name: '10px',\n      value: '1'\n    },\n    small: {\n      name: '13px',\n      value: '2'\n    },\n    normal: {\n      name: '16px',\n      value: '3'\n    },\n    large: {\n      name: '18px',\n      value: '4'\n    },\n    'x-large': {\n      name: '24px',\n      value: '5'\n    },\n    'xx-large': {\n      name: '32px',\n      value: '6'\n    },\n    'xxx-large': {\n      name: '48px',\n      value: '7'\n    }\n  },\n  // customFontSize: [ // 该菜单暂时不用 - 王福朋 20200924\n  //     { value: '9px', text: '9' },\n  //     { value: '10px', text: '10' },\n  //     { value: '12px', text: '12' },\n  //     { value: '14px', text: '14' },\n  //     { value: '16px', text: '16' },\n  //     { value: '20px', text: '20' },\n  //     { value: '42px', text: '42' },\n  //     { value: '72px', text: '72' },\n  // ],\n  colors: ['#000000', '#ffffff', '#eeece0', '#1c487f', '#4d80bf', '#c24f4a', '#8baa4a', '#7b5ba1', '#46acc8', '#f9963b'],\n  //插入代码语言配置\n  languageType: ['Bash', 'C', 'C#', 'C++', 'CSS', 'Java', 'JavaScript', 'JSON', 'TypeScript', 'Plain text', 'Html', 'XML', 'SQL', 'Go', 'Kotlin', 'Lua', 'Markdown', 'PHP', 'Python', 'Shell Session', 'Ruby'],\n  languageTab: '　　　　',\n\n  /**\n   * 表情配置菜单\n   * 如果为emoji表情直接作为元素插入\n   * emoticon:Array<EmotionsType>\n   */\n  emotions: [{\n    // tab 的标题\n    title: '表情',\n    // type -> 'emoji' / 'image'\n    type: 'emoji',\n    // content -> 数组\n    content: '😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣'.split(/\\s/)\n  }, {\n    // tab 的标题\n    title: '手势',\n    // type -> 'emoji' / 'image'\n    type: 'emoji',\n    // content -> 数组\n    content: '👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏'.split(/\\s/)\n  }],\n  lineHeights: ['1', '1.15', '1.6', '2', '2.5', '3'],\n  undoLimit: 20,\n  indentation: '2em',\n  showMenuTooltips: true,\n  // 菜单栏tooltip为上标还是下标\n  menuTooltipPosition: 'up'\n};\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 事件配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar const_1 = __webpack_require__(7);\n/**\n * 提示信息\n * @param alertInfo alert info\n * @param alertType 错误提示类型\n * @param debugInfo debug info\n */\n\n\nfunction customAlert(alertInfo, alertType, debugInfo) {\n  window.alert(alertInfo);\n\n  if (debugInfo) {\n    console.error('wangEditor: ' + debugInfo);\n  }\n}\n\nexports[\"default\"] = {\n  onchangeTimeout: 200,\n  onchange: null,\n  onfocus: const_1.EMPTY_FN,\n  onblur: const_1.EMPTY_FN,\n  onCatalogChange: null,\n  customAlert: customAlert\n};\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 粘贴，配置文件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = {\n  // 粘贴过滤样式，默认开启\n  pasteFilterStyle: true,\n  // 粘贴内容时，忽略图片。默认关闭\n  pasteIgnoreImg: false,\n  // 对粘贴的文字进行自定义处理，返回处理后的结果。编辑器会将处理后的结果粘贴到编辑区域中。\n  // IE 暂时不支持\n  pasteTextHandle: function pasteTextHandle(content) {\n    // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回\n    return content;\n  }\n};\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 命令配置项\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = {\n  styleWithCSS: false // 默认 false\n\n};\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 图片相关的配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar const_1 = __webpack_require__(7);\n\nexports[\"default\"] = {\n  // 网络图片校验的配置函数\n  linkImgCheck: function linkImgCheck(src, alt, href) {\n    return true;\n  },\n  // 显示“插入网络图片”\n  showLinkImg: true,\n  // 显示“插入图片alt”\n  showLinkImgAlt: true,\n  // 显示“插入图片href”\n  showLinkImgHref: true,\n  // 插入图片成功之后的回调函数\n  linkImgCallback: const_1.EMPTY_FN,\n  // accept\n  uploadImgAccept: ['jpg', 'jpeg', 'png', 'gif', 'bmp'],\n  // 服务端地址\n  uploadImgServer: '',\n  // 使用 base64 存储图片\n  uploadImgShowBase64: false,\n  // 上传图片的最大体积，默认 5M\n  uploadImgMaxSize: 5 * 1024 * 1024,\n  // 一次最多上传多少个图片\n  uploadImgMaxLength: 100,\n  // 自定义上传图片的名称\n  uploadFileName: '',\n  // 上传图片自定义参数\n  uploadImgParams: {},\n  // 自定义参数拼接到 url 中\n  uploadImgParamsWithUrl: false,\n  // 上传图片自定义 header\n  uploadImgHeaders: {},\n  // 钩子函数\n  uploadImgHooks: {},\n  // 上传图片超时时间 ms\n  uploadImgTimeout: 10 * 1000,\n  // 跨域带 cookie\n  withCredentials: false,\n  // 自定义上传\n  customUploadImg: null,\n  // 从媒体库上传\n  uploadImgFromMedia: null\n};\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = {\n  lang: 'zh-CN',\n  languages: {\n    'zh-CN': {\n      wangEditor: {\n        重置: '重置',\n        插入: '插入',\n        默认: '默认',\n        创建: '创建',\n        修改: '修改',\n        如: '如',\n        请输入正文: '请输入正文',\n        menus: {\n          title: {\n            标题: '标题',\n            加粗: '加粗',\n            字号: '字号',\n            字体: '字体',\n            斜体: '斜体',\n            下划线: '下划线',\n            删除线: '删除线',\n            缩进: '缩进',\n            行高: '行高',\n            文字颜色: '文字颜色',\n            背景色: '背景色',\n            链接: '链接',\n            序列: '序列',\n            对齐: '对齐',\n            引用: '引用',\n            表情: '表情',\n            图片: '图片',\n            视频: '视频',\n            表格: '表格',\n            代码: '代码',\n            分割线: '分割线',\n            恢复: '恢复',\n            撤销: '撤销',\n            全屏: '全屏',\n            取消全屏: '取消全屏',\n            待办事项: '待办事项'\n          },\n          dropListMenu: {\n            设置标题: '设置标题',\n            背景颜色: '背景颜色',\n            文字颜色: '文字颜色',\n            设置字号: '设置字号',\n            设置字体: '设置字体',\n            设置缩进: '设置缩进',\n            对齐方式: '对齐方式',\n            设置行高: '设置行高',\n            序列: '序列',\n            head: {\n              正文: '正文'\n            },\n            indent: {\n              增加缩进: '增加缩进',\n              减少缩进: '减少缩进'\n            },\n            justify: {\n              靠左: '靠左',\n              居中: '居中',\n              靠右: '靠右',\n              两端: '两端'\n            },\n            list: {\n              无序列表: '无序列表',\n              有序列表: '有序列表'\n            }\n          },\n          panelMenus: {\n            emoticon: {\n              默认: '默认',\n              新浪: '新浪',\n              emoji: 'emoji',\n              手势: '手势'\n            },\n            image: {\n              上传图片: '上传图片',\n              网络图片: '网络图片',\n              图片地址: '图片地址',\n              图片文字说明: '图片文字说明',\n              跳转链接: '跳转链接'\n            },\n            link: {\n              链接: '链接',\n              链接文字: '链接文字',\n              取消链接: '取消链接',\n              查看链接: '查看链接'\n            },\n            video: {\n              插入视频: '插入视频',\n              上传视频: '上传视频'\n            },\n            table: {\n              行: '行',\n              列: '列',\n              的: '的',\n              表格: '表格',\n              添加行: '添加行',\n              删除行: '删除行',\n              添加列: '添加列',\n              删除列: '删除列',\n              设置表头: '设置表头',\n              取消表头: '取消表头',\n              插入表格: '插入表格',\n              删除表格: '删除表格'\n            },\n            code: {\n              删除代码: '删除代码',\n              修改代码: '修改代码',\n              插入代码: '插入代码'\n            }\n          }\n        },\n        validate: {\n          张图片: '张图片',\n          大于: '大于',\n          图片链接: '图片链接',\n          不是图片: '不是图片',\n          返回结果: '返回结果',\n          上传图片超时: '上传图片超时',\n          上传图片错误: '上传图片错误',\n          上传图片失败: '上传图片失败',\n          插入图片错误: '插入图片错误',\n          一次最多上传: '一次最多上传',\n          下载链接失败: '下载链接失败',\n          图片验证未通过: '图片验证未通过',\n          服务器返回状态: '服务器返回状态',\n          上传图片返回结果错误: '上传图片返回结果错误',\n          请替换为支持的图片类型: '请替换为支持的图片类型',\n          您插入的网络图片无法识别: '您插入的网络图片无法识别',\n          您刚才插入的图片链接未通过编辑器校验: '您刚才插入的图片链接未通过编辑器校验',\n          插入视频错误: '插入视频错误',\n          视频链接: '视频链接',\n          不是视频: '不是视频',\n          视频验证未通过: '视频验证未通过',\n          个视频: '个视频',\n          上传视频超时: '上传视频超时',\n          上传视频错误: '上传视频错误',\n          上传视频失败: '上传视频失败',\n          上传视频返回结果错误: '上传视频返回结果错误'\n        }\n      }\n    },\n    en: {\n      wangEditor: {\n        重置: 'reset',\n        插入: 'insert',\n        默认: 'default',\n        创建: 'create',\n        修改: 'edit',\n        如: 'like',\n        请输入正文: 'please enter the text',\n        menus: {\n          title: {\n            标题: 'head',\n            加粗: 'bold',\n            字号: 'font size',\n            字体: 'font family',\n            斜体: 'italic',\n            下划线: 'underline',\n            删除线: 'strikethrough',\n            缩进: 'indent',\n            行高: 'line heihgt',\n            文字颜色: 'font color',\n            背景色: 'background',\n            链接: 'link',\n            序列: 'numbered list',\n            对齐: 'align',\n            引用: 'quote',\n            表情: 'emoticons',\n            图片: 'image',\n            视频: 'media',\n            表格: 'table',\n            代码: 'code',\n            分割线: 'split line',\n            恢复: 'undo',\n            撤销: 'redo',\n            全屏: 'fullscreen',\n            取消全屏: 'cancel fullscreen',\n            待办事项: 'todo'\n          },\n          dropListMenu: {\n            设置标题: 'title',\n            背景颜色: 'background',\n            文字颜色: 'font color',\n            设置字号: 'font size',\n            设置字体: 'font family',\n            设置缩进: 'indent',\n            对齐方式: 'align',\n            设置行高: 'line heihgt',\n            序列: 'list',\n            head: {\n              正文: 'text'\n            },\n            indent: {\n              增加缩进: 'indent',\n              减少缩进: 'outdent'\n            },\n            justify: {\n              靠左: 'left',\n              居中: 'center',\n              靠右: 'right',\n              两端: 'justify'\n            },\n            list: {\n              无序列表: 'unordered',\n              有序列表: 'ordered'\n            }\n          },\n          panelMenus: {\n            emoticon: {\n              表情: 'emoji',\n              手势: 'gesture'\n            },\n            image: {\n              上传图片: 'upload image',\n              网络图片: 'network image',\n              图片地址: 'image link',\n              图片文字说明: 'image alt',\n              跳转链接: 'hyperlink'\n            },\n            link: {\n              链接: 'link',\n              链接文字: 'link text',\n              取消链接: 'unlink',\n              查看链接: 'view links'\n            },\n            video: {\n              插入视频: 'insert video',\n              上传视频: 'upload local video'\n            },\n            table: {\n              行: 'rows',\n              列: 'columns',\n              的: ' ',\n              表格: 'table',\n              添加行: 'insert row',\n              删除行: 'delete row',\n              添加列: 'insert column',\n              删除列: 'delete column',\n              设置表头: 'set header',\n              取消表头: 'cancel header',\n              插入表格: 'insert table',\n              删除表格: 'delete table'\n            },\n            code: {\n              删除代码: 'delete code',\n              修改代码: 'edit code',\n              插入代码: 'insert code'\n            }\n          }\n        },\n        validate: {\n          张图片: 'images',\n          大于: 'greater than',\n          图片链接: 'image link',\n          不是图片: 'is not image',\n          返回结果: 'return results',\n          上传图片超时: 'upload image timeout',\n          上传图片错误: 'upload image error',\n          上传图片失败: 'upload image failed',\n          插入图片错误: 'insert image error',\n          一次最多上传: 'once most at upload',\n          下载链接失败: 'download link failed',\n          图片验证未通过: 'image validate failed',\n          服务器返回状态: 'server return status',\n          上传图片返回结果错误: 'upload image return results error',\n          请替换为支持的图片类型: 'please replace with a supported image type',\n          您插入的网络图片无法识别: 'the network picture you inserted is not recognized',\n          您刚才插入的图片链接未通过编辑器校验: 'the image link you just inserted did not pass the editor verification',\n          插入视频错误: 'insert video error',\n          视频链接: 'video link',\n          不是视频: 'is not video',\n          视频验证未通过: 'video validate failed',\n          个视频: 'videos',\n          上传视频超时: 'upload video timeout',\n          上传视频错误: 'upload video error',\n          上传视频失败: 'upload video failed',\n          上传视频返回结果错误: 'upload video return results error'\n        }\n      }\n    }\n  }\n};\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 历史记录 - 数据缓存的模式\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar util_1 = __webpack_require__(6);\n/**\n * 是否为兼容模式。返回 true 表示当前使用兼容（内容备份）模式，否则使用标准（差异备份）模式\n */\n\n\nfunction compatibleMode() {\n  if (util_1.UA.isIE() || util_1.UA.isOldEdge) {\n    return true;\n  }\n\n  return false;\n}\n\nexports[\"default\"] = {\n  compatibleMode: compatibleMode,\n  historyMaxSize: 30\n};\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 视频相关的配置\n * @author hutianhao\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar const_1 = __webpack_require__(7);\n\nexports[\"default\"] = {\n  // 插入网络视频前的回调函数\n  onlineVideoCheck: function onlineVideoCheck(video) {\n    return true;\n  },\n  // 插入网络视频成功之后的回调函数\n  onlineVideoCallback: const_1.EMPTY_FN,\n  // 显示“插入视频”\n  showLinkVideo: true,\n  // accept\n  uploadVideoAccept: ['mp4'],\n  // 服务端地址\n  uploadVideoServer: '',\n  // 上传视频的最大体积，默认 1024M\n  uploadVideoMaxSize: 1 * 1024 * 1024 * 1024,\n  // 一次最多上传多少个视频\n  // uploadVideoMaxLength: 2,\n  // 自定义上传视频的名称\n  uploadVideoName: '',\n  // 上传视频自定义参数\n  uploadVideoParams: {},\n  // 自定义参数拼接到 url 中\n  uploadVideoParamsWithUrl: false,\n  // 上传视频自定义 header\n  uploadVideoHeaders: {},\n  // 钩子函数\n  uploadVideoHooks: {},\n  // 上传视频超时时间 ms 默认2个小时\n  uploadVideoTimeout: 1000 * 60 * 60 * 2,\n  // 跨域带 cookie\n  withVideoCredentials: false,\n  // 自定义上传\n  customUploadVideo: null,\n  // 自定义插入视频\n  customInsertVideo: null\n};\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description selection range API\n * @author wangfupeng\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n\nvar SelectionAndRange = function () {\n  function SelectionAndRange(editor) {\n    this._currentRange = null;\n    this.editor = editor;\n  }\n  /**\n   * 获取当前 range\n   */\n\n\n  SelectionAndRange.prototype.getRange = function () {\n    return this._currentRange;\n  };\n  /**\n   * 保存选区范围\n   * @param _range 选区范围\n   */\n\n\n  SelectionAndRange.prototype.saveRange = function (_range) {\n    if (_range) {\n      // 保存已有选区\n      this._currentRange = _range;\n      return;\n    } // 获取当前的选区\n\n\n    var selection = window.getSelection();\n\n    if (selection.rangeCount === 0) {\n      return;\n    }\n\n    var range = selection.getRangeAt(0); // 获取选区范围的 DOM 元素\n\n    var $containerElem = this.getSelectionContainerElem(range);\n\n    if (!($containerElem === null || $containerElem === void 0 ? void 0 : $containerElem.length)) {\n      // 当 选区范围内没有 DOM元素 则抛出\n      return;\n    }\n\n    if ($containerElem.attr('contenteditable') === 'false' || $containerElem.parentUntil('[contenteditable=false]')) {\n      // 这里大体意义上就是个保险\n      // 确保 编辑区域 的 contenteditable属性 的值为 true\n      return;\n    }\n\n    var editor = this.editor;\n    var $textElem = editor.$textElem;\n\n    if ($textElem.isContain($containerElem)) {\n      if ($textElem.elems[0] === $containerElem.elems[0]) {\n        var _context;\n\n        if ((0, _trim[\"default\"])(_context = $textElem.html()).call(_context) === const_1.EMPTY_P) {\n          var $children = $textElem.children();\n          var $last = $children === null || $children === void 0 ? void 0 : $children.last();\n          editor.selection.createRangeByElem($last, true, true);\n          editor.selection.restoreSelection();\n        }\n      } // 是编辑内容之内的\n\n\n      this._currentRange = range;\n    }\n  };\n  /**\n   * 折叠选区范围\n   * @param toStart true 开始位置，false 结束位置\n   */\n\n\n  SelectionAndRange.prototype.collapseRange = function (toStart) {\n    if (toStart === void 0) {\n      toStart = false;\n    }\n\n    var range = this._currentRange;\n\n    if (range) {\n      range.collapse(toStart);\n    }\n  };\n  /**\n   * 获取选区范围内的文字\n   */\n\n\n  SelectionAndRange.prototype.getSelectionText = function () {\n    var range = this._currentRange;\n\n    if (range) {\n      return range.toString();\n    } else {\n      return '';\n    }\n  };\n  /**\n   * 获取选区范围的 DOM 元素\n   * @param range 选区范围\n   */\n\n\n  SelectionAndRange.prototype.getSelectionContainerElem = function (range) {\n    var r;\n    r = range || this._currentRange;\n    var elem;\n\n    if (r) {\n      elem = r.commonAncestorContainer;\n      return dom_core_1[\"default\"](elem.nodeType === 1 ? elem : elem.parentNode);\n    }\n  };\n  /**\n   * 选区范围开始的 DOM 元素\n   * @param range 选区范围\n   */\n\n\n  SelectionAndRange.prototype.getSelectionStartElem = function (range) {\n    var r;\n    r = range || this._currentRange;\n    var elem;\n\n    if (r) {\n      elem = r.startContainer;\n      return dom_core_1[\"default\"](elem.nodeType === 1 ? elem : elem.parentNode);\n    }\n  };\n  /**\n   * 选区范围结束的 DOM 元素\n   * @param range 选区范围\n   */\n\n\n  SelectionAndRange.prototype.getSelectionEndElem = function (range) {\n    var r;\n    r = range || this._currentRange;\n    var elem;\n\n    if (r) {\n      elem = r.endContainer;\n      return dom_core_1[\"default\"](elem.nodeType === 1 ? elem : elem.parentNode);\n    }\n  };\n  /**\n   * 选区是否为空（没有选择文字）\n   */\n\n\n  SelectionAndRange.prototype.isSelectionEmpty = function () {\n    var range = this._currentRange;\n\n    if (range && range.startContainer) {\n      if (range.startContainer === range.endContainer) {\n        if (range.startOffset === range.endOffset) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n  /**\n   * 恢复选区范围\n   */\n\n\n  SelectionAndRange.prototype.restoreSelection = function () {\n    var selection = window.getSelection();\n    var r = this._currentRange;\n\n    if (selection && r) {\n      selection.removeAllRanges();\n      selection.addRange(r);\n    }\n  };\n  /**\n   * 创建一个空白（即 &#8203 字符）选区\n   */\n\n\n  SelectionAndRange.prototype.createEmptyRange = function () {\n    var editor = this.editor;\n    var range = this.getRange();\n    var $elem;\n\n    if (!range) {\n      // 当前无 range\n      return;\n    }\n\n    if (!this.isSelectionEmpty()) {\n      // 当前选区必须没有内容才可以，有内容就直接 return\n      return;\n    }\n\n    try {\n      // 目前只支持 webkit 内核\n      if (util_1.UA.isWebkit()) {\n        // 插入 &#8203\n        editor.cmd[\"do\"]('insertHTML', '&#8203;'); // 修改 offset 位置\n\n        range.setEnd(range.endContainer, range.endOffset + 1); // 存储\n\n        this.saveRange(range);\n      } else {\n        $elem = dom_core_1[\"default\"]('<strong>&#8203;</strong>');\n        editor.cmd[\"do\"]('insertElem', $elem);\n        this.createRangeByElem($elem, true);\n      }\n    } catch (ex) {// 部分情况下会报错，兼容一下\n    }\n  };\n  /**\n   * 重新设置选区\n   * @param startDom 选区开始的元素\n   * @param endDom 选区结束的元素\n   */\n\n\n  SelectionAndRange.prototype.createRangeByElems = function (startDom, endDom) {\n    var selection = window.getSelection ? window.getSelection() : document.getSelection(); //清除所有的选区\n\n    selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n    var range = document.createRange();\n    range.setStart(startDom, 0); // 设置多行标签之后，第二个参数会被h标签内的b、font标签等影响range范围的选取\n\n    range.setEnd(endDom, endDom.childNodes.length || 1); // 保存设置好的选区\n\n    this.saveRange(range); //恢复选区\n\n    this.restoreSelection();\n  };\n  /**\n   * 根据 DOM 元素设置选区\n   * @param $elem DOM 元素\n   * @param toStart true 开始位置，false 结束位置\n   * @param isContent 是否选中 $elem 的内容\n   */\n\n\n  SelectionAndRange.prototype.createRangeByElem = function ($elem, toStart, isContent) {\n    if (!$elem.length) {\n      return;\n    }\n\n    var elem = $elem.elems[0];\n    var range = document.createRange();\n\n    if (isContent) {\n      range.selectNodeContents(elem);\n    } else {\n      // 如果用户没有传入 isContent 参数，那就默认为 false\n      range.selectNode(elem);\n    }\n\n    if (toStart != null) {\n      // 传入了 toStart 参数，折叠选区。如果没传入 toStart 参数，则忽略这一步\n      range.collapse(toStart);\n\n      if (!toStart) {\n        this.saveRange(range);\n        this.editor.selection.moveCursor(elem);\n      }\n    } // 存储 range\n\n\n    this.saveRange(range);\n  };\n  /**\n   * 获取 当前 选取范围的 顶级(段落) 元素\n   * @param $editor\n   */\n\n\n  SelectionAndRange.prototype.getSelectionRangeTopNodes = function () {\n    var _a, _b; // 清空，防止叠加元素\n\n\n    var $nodeList;\n    var $startElem = (_a = this.getSelectionStartElem()) === null || _a === void 0 ? void 0 : _a.getNodeTop(this.editor);\n    var $endElem = (_b = this.getSelectionEndElem()) === null || _b === void 0 ? void 0 : _b.getNodeTop(this.editor);\n    $nodeList = this.recordSelectionNodes(dom_core_1[\"default\"]($startElem), dom_core_1[\"default\"]($endElem));\n    return $nodeList;\n  };\n  /**\n   * 移动光标位置,默认情况下在尾部\n   * 有一个特殊情况是firefox下的文本节点会自动补充一个br元素，会导致自动换行\n   * 所以默认情况下在firefox下的文本节点会自动移动到br前面\n   * @param {Node} node 元素节点\n   * @param {number} position 光标的位置\n   */\n\n\n  SelectionAndRange.prototype.moveCursor = function (node, position) {\n    var _a;\n\n    var range = this.getRange(); //对文本节点特殊处理\n\n    var len = node.nodeType === 3 ? (_a = node.nodeValue) === null || _a === void 0 ? void 0 : _a.length : node.childNodes.length;\n\n    if ((util_1.UA.isFirefox || util_1.UA.isIE()) && len !== 0) {\n      // firefox下在节点为文本节点和节点最后一个元素为文本节点的情况下\n      if (node.nodeType === 3 || node.childNodes[len - 1].nodeName === 'BR') {\n        len = len - 1;\n      }\n    }\n\n    var pos = position !== null && position !== void 0 ? position : len;\n\n    if (!range) {\n      return;\n    }\n\n    if (node) {\n      range.setStart(node, pos);\n      range.setEnd(node, pos);\n      this.restoreSelection();\n    }\n  };\n  /**\n   * 获取光标在当前选区的位置\n   */\n\n\n  SelectionAndRange.prototype.getCursorPos = function () {\n    var selection = window.getSelection();\n    return selection === null || selection === void 0 ? void 0 : selection.anchorOffset;\n  };\n  /**\n   * 清除当前选区的Range,notice:不影响已保存的Range\n   */\n\n\n  SelectionAndRange.prototype.clearWindowSelectionRange = function () {\n    var selection = window.getSelection();\n\n    if (selection) {\n      selection.removeAllRanges();\n    }\n  };\n  /**\n   * 记录节点 - 从选区开始节点开始 一直到匹配到选区结束节点为止\n   * @param $node 节点\n   */\n\n\n  SelectionAndRange.prototype.recordSelectionNodes = function ($node, $endElem) {\n    var $list = [];\n    var isEnd = true;\n    /**\n    @author:lw\n    @description 解决ctrl+a全选报错的bug $elem.getNodeName()可能会触发$elem[0]未定义\n    **/\n\n    try {\n      var $NODE = $node;\n      var $textElem = this.editor.$textElem; // $NODE元素为空时不需要进行循环\n\n      while (isEnd) {\n        var $elem = $NODE === null || $NODE === void 0 ? void 0 : $NODE.getNodeTop(this.editor);\n        if ($elem.getNodeName() === 'BODY') isEnd = false; // 兜底\n\n        if ($elem.length > 0) {\n          $list.push(dom_core_1[\"default\"]($NODE)); // 两个边界情况：\n          // 1. 当前元素就是我们要找的末尾元素\n          // 2. 当前元素已经是编辑区顶级元素（否则会找到编辑区的兄弟节点，比如placeholder元素）\n\n          if (($endElem === null || $endElem === void 0 ? void 0 : $endElem.equal($elem)) || $textElem.equal($elem)) {\n            isEnd = false;\n          } else {\n            $NODE = $elem.getNextSibling();\n          }\n        }\n      }\n    } catch (e) {\n      isEnd = false;\n    }\n\n    return $list;\n  };\n  /**\n   * 将当前 range 设置到 node 元素并初始化位置\n   * 解决编辑器内容为空时，菜单不生效的问题\n   * @param node 元素节点\n   */\n\n\n  SelectionAndRange.prototype.setRangeToElem = function (node) {\n    var range = this.getRange();\n    range === null || range === void 0 ? void 0 : range.setStart(node, 0);\n    range === null || range === void 0 ? void 0 : range.setEnd(node, 0);\n  };\n\n  return SelectionAndRange;\n}();\n\nexports[\"default\"] = SelectionAndRange;\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 封装 document.execCommand\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Command = function () {\n  function Command(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 执行富文本操作的命令\n   * @param name name\n   * @param value value\n   */\n\n\n  Command.prototype[\"do\"] = function (name, value) {\n    var editor = this.editor;\n\n    if (editor.config.styleWithCSS) {\n      document.execCommand('styleWithCSS', false, 'true');\n    }\n\n    var selection = editor.selection; // 如果无选区，忽略\n\n    if (!selection.getRange()) {\n      return;\n    } // 恢复选取\n\n\n    selection.restoreSelection(); // 执行\n\n    switch (name) {\n      case 'insertHTML':\n        this.insertHTML(value);\n        break;\n\n      case 'insertElem':\n        this.insertElem(value);\n        break;\n\n      default:\n        // 默认 command\n        this.execCommand(name, value);\n        break;\n    } // 修改菜单状态\n\n\n    editor.menus.changeActive(); // 最后，恢复选取保证光标在原来的位置闪烁\n\n    selection.saveRange();\n    selection.restoreSelection();\n  };\n  /**\n   * 插入 html\n   * @param html html 字符串\n   */\n\n\n  Command.prototype.insertHTML = function (html) {\n    var editor = this.editor;\n    var range = editor.selection.getRange();\n    if (range == null) return;\n\n    if (this.queryCommandSupported('insertHTML')) {\n      // W3C\n      this.execCommand('insertHTML', html);\n    } else if (range.insertNode) {\n      // IE\n      range.deleteContents();\n\n      if (dom_core_1[\"default\"](html).elems.length > 0) {\n        range.insertNode(dom_core_1[\"default\"](html).elems[0]);\n      } else {\n        var newNode = document.createElement('p');\n        newNode.appendChild(document.createTextNode(html));\n        range.insertNode(newNode);\n      }\n\n      editor.selection.collapseRange();\n    } // else if (range.pasteHTML) {\n    //     // IE <= 10\n    //     range.pasteHTML(html)\n    // }\n\n  };\n  /**\n   * 插入 DOM 元素\n   * @param $elem DOM 元素\n   */\n\n\n  Command.prototype.insertElem = function ($elem) {\n    var editor = this.editor;\n    var range = editor.selection.getRange();\n    if (range == null) return;\n\n    if (range.insertNode) {\n      range.deleteContents();\n      range.insertNode($elem.elems[0]);\n    }\n  };\n  /**\n   * 执行 document.execCommand\n   * @param name name\n   * @param value value\n   */\n\n\n  Command.prototype.execCommand = function (name, value) {\n    document.execCommand(name, false, value);\n  };\n  /**\n   * 执行 document.queryCommandValue\n   * @param name name\n   */\n\n\n  Command.prototype.queryCommandValue = function (name) {\n    return document.queryCommandValue(name);\n  };\n  /**\n   * 执行 document.queryCommandState\n   * @param name name\n   */\n\n\n  Command.prototype.queryCommandState = function (name) {\n    return document.queryCommandState(name);\n  };\n  /**\n   * 执行 document.queryCommandSupported\n   * @param name name\n   */\n\n\n  Command.prototype.queryCommandSupported = function (name) {\n    return document.queryCommandSupported(name);\n  };\n\n  return Command;\n}();\n\nexports[\"default\"] = Command;\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 编辑区域，入口文件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(302));\n\nvar util_1 = __webpack_require__(6);\n\nvar getChildrenJSON_1 = tslib_1.__importDefault(__webpack_require__(314));\n\nvar getHtmlByNodeList_1 = tslib_1.__importDefault(__webpack_require__(315));\n\nvar const_1 = __webpack_require__(7);\n\nvar Text = function () {\n  function Text(editor) {\n    this.editor = editor;\n    this.eventHooks = {\n      onBlurEvents: [],\n      changeEvents: [],\n      dropEvents: [],\n      clickEvents: [],\n      keydownEvents: [],\n      keyupEvents: [],\n      tabUpEvents: [],\n      tabDownEvents: [],\n      enterUpEvents: [],\n      enterDownEvents: [],\n      deleteUpEvents: [],\n      deleteDownEvents: [],\n      pasteEvents: [],\n      linkClickEvents: [],\n      codeClickEvents: [],\n      textScrollEvents: [],\n      toolbarClickEvents: [],\n      imgClickEvents: [],\n      imgDragBarMouseDownEvents: [],\n      tableClickEvents: [],\n      menuClickEvents: [],\n      dropListMenuHoverEvents: [],\n      splitLineEvents: [],\n      videoClickEvents: []\n    };\n  }\n  /**\n   * 初始化\n   */\n\n\n  Text.prototype.init = function () {\n    // 实时保存选取范围\n    this._saveRange(); // 绑定事件\n\n\n    this._bindEventHooks(); // 初始化 text 事件钩子函数\n\n\n    index_1[\"default\"](this);\n  };\n  /**\n   * 切换placeholder\n   */\n\n\n  Text.prototype.togglePlaceholder = function () {\n    var _context;\n\n    var html = this.html();\n    var $placeholder = (0, _find[\"default\"])(_context = this.editor.$textContainerElem).call(_context, '.placeholder');\n    $placeholder.hide();\n    if (this.editor.isComposing) return;\n    if (!html || html === ' ') $placeholder.show();\n  };\n  /**\n   * 清空内容\n   */\n\n\n  Text.prototype.clear = function () {\n    this.html(const_1.EMPTY_P);\n  };\n  /**\n   * 设置/获取 html\n   * @param val html 字符串\n   */\n\n\n  Text.prototype.html = function (val) {\n    var editor = this.editor;\n    var $textElem = editor.$textElem; // 没有 val ，则是获取 html\n\n    if (val == null) {\n      var html_1 = $textElem.html(); // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n\n      html_1 = html_1.replace(/\\u200b/gm, ''); // 去掉空行\n\n      html_1 = html_1.replace(/<p><\\/p>/gim, ''); // 去掉最后的 空标签\n\n      html_1 = html_1.replace(const_1.EMPTY_P_LAST_REGEX, ''); // 为了避免用户在最后生成的EMPTY_P标签中编辑数据, 最后产生多余标签, 去除所有p标签上的data-we-empty-p属性\n\n      html_1 = html_1.replace(const_1.EMPTY_P_REGEX, '<p>');\n      /**\n       * 这里的代码为了处理火狐多余的空行标签,但是强制删除空行标签会带来其他问题\n       * html()方法返回的的值,EMPTY_P中pr会被删除,只留下<p>,点不进去,从而产生垃圾数据\n       * 目前在末位有多个空行的情况下执行撤销重做操作,会产生一种不记录末尾空行的错觉\n       * 暂时注释, 等待进一步的兼容处理\n       */\n      // html = html.replace(/><br>(?!<)/gi, '>') // 过滤 <p><br>内容</p> 中的br\n      // html = html.replace(/(?!>)<br></gi, '<') // 过滤 <p>内容<br></p> 中的br\n\n      /**\n       * pre标签格式化\n       * html()方法理论上应当输出纯净的代码文本,但是对于是否解析html标签还没有良好的判断\n       * 如果去除hljs的标签,在解析状态下回显,会造成显示错误并且无法再通过hljs方法渲染\n       * 暂且其弃用\n       */\n      // html = formatCodeHtml(editor, html)\n      // 将没有自闭和的标签过滤为自闭和\n\n      var selfCloseHtmls = html_1.match(/<(img|br|hr|input)[^>]*>/gi);\n\n      if (selfCloseHtmls !== null) {\n        (0, _forEach[\"default\"])(selfCloseHtmls).call(selfCloseHtmls, function (item) {\n          if (!item.match(/\\/>/)) {\n            html_1 = html_1.replace(item, item.substring(0, item.length - 1) + '/>');\n          }\n        });\n      }\n\n      return html_1;\n    } // 有 val ，则是设置 html\n\n\n    val = (0, _trim[\"default\"])(val).call(val);\n\n    if (val === '') {\n      val = const_1.EMPTY_P;\n    }\n\n    if ((0, _indexOf[\"default\"])(val).call(val, '<') !== 0) {\n      // 内容用 p 标签包裹\n      val = \"<p>\" + val + \"</p>\";\n    }\n\n    $textElem.html(val); // 初始化选区，将光标定位到内容尾部\n\n    editor.initSelection();\n  };\n  /**\n   * 将json设置成html至编辑器\n   * @param nodeList json格式\n   */\n\n\n  Text.prototype.setJSON = function (nodeList) {\n    var html = getHtmlByNodeList_1[\"default\"](nodeList).children();\n    var editor = this.editor;\n    var $textElem = editor.$textElem; // 没有获取到元素的情况\n\n    if (!html) return; // 替换文本节点下全部子节点\n\n    $textElem.replaceChildAll(html);\n  };\n  /**\n   * 获取 json 格式的数据\n   */\n\n\n  Text.prototype.getJSON = function () {\n    var editor = this.editor;\n    var $textElem = editor.$textElem;\n    return getChildrenJSON_1[\"default\"]($textElem);\n  };\n\n  Text.prototype.text = function (val) {\n    var editor = this.editor;\n    var $textElem = editor.$textElem; // 没有 val ，是获取 text\n\n    if (val == null) {\n      var text = $textElem.text(); // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n\n      text = text.replace(/\\u200b/gm, '');\n      return text;\n    } // 有 val ，则是设置 text\n\n\n    $textElem.text(\"<p>\" + val + \"</p>\"); // 初始化选区，将光标定位到内容尾部\n\n    editor.initSelection();\n  };\n  /**\n   * 追加 html 内容\n   * @param html html 字符串\n   */\n\n\n  Text.prototype.append = function (html) {\n    var editor = this.editor;\n\n    if ((0, _indexOf[\"default\"])(html).call(html, '<') !== 0) {\n      // 普通字符串，用 <p> 包裹\n      html = \"<p>\" + html + \"</p>\";\n    }\n\n    this.html(this.html() + html); // 初始化选区，将光标定位到内容尾部\n\n    editor.initSelection();\n  };\n  /**\n   * 每一步操作，都实时保存选区范围\n   */\n\n\n  Text.prototype._saveRange = function () {\n    var editor = this.editor;\n    var $textElem = editor.$textElem;\n    var $document = dom_core_1[\"default\"](document); // 保存当前的选区\n\n    function saveRange() {\n      // 随时保存选区\n      editor.selection.saveRange(); // 更新按钮 active 状态\n\n      editor.menus.changeActive();\n    } // 按键后保存\n\n\n    $textElem.on('keyup', saveRange); // 点击后保存，为了避免被多次执行而导致造成浪费，这里对 click 使用一次性绑定\n\n    function onceClickSaveRange() {\n      saveRange();\n      $textElem.off('click', onceClickSaveRange);\n    }\n\n    $textElem.on('click', onceClickSaveRange);\n\n    function handleMouseUp() {\n      // 在编辑器区域之外完成抬起，保存此时编辑区内的新选区，取消此时鼠标抬起事件\n      saveRange();\n      $document.off('mouseup', handleMouseUp);\n    }\n\n    function listenMouseLeave() {\n      // 当鼠标移动到外面，要监听鼠标抬起操作\n      $document.on('mouseup', handleMouseUp); // 首次移出时即接触leave监听，防止用户不断移入移出多次注册handleMouseUp\n\n      $textElem.off('mouseleave', listenMouseLeave);\n    }\n\n    $textElem.on('mousedown', function () {\n      // mousedown 状态下，要坚听鼠标滑动到编辑区域外面\n      $textElem.on('mouseleave', listenMouseLeave);\n    });\n    $textElem.on('mouseup', function (e) {\n      // 记得移除$textElem的mouseleave事件, 避免内存泄露\n      $textElem.off('mouseleave', listenMouseLeave); // fix：避免当选中一段文字之后，再次点击文字中间位置无法更新selection问题。issue#3096\n\n      (0, _setTimeout2[\"default\"])(function () {\n        var selection = editor.selection;\n        var range = selection.getRange();\n        if (range === null) return;\n        saveRange();\n      }, 0);\n    });\n  };\n  /**\n   * 绑定事件，事件会触发钩子函数\n   */\n\n\n  Text.prototype._bindEventHooks = function () {\n    var editor = this.editor;\n    var $textElem = editor.$textElem;\n    var eventHooks = this.eventHooks; // click hooks\n\n    $textElem.on('click', function (e) {\n      var clickEvents = eventHooks.clickEvents;\n      (0, _forEach[\"default\"])(clickEvents).call(clickEvents, function (fn) {\n        return fn(e);\n      });\n    }); // enter 键 up 时的 hooks\n\n    $textElem.on('keyup', function (e) {\n      if (e.keyCode !== 13) return;\n      var enterUpEvents = eventHooks.enterUpEvents;\n      (0, _forEach[\"default\"])(enterUpEvents).call(enterUpEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 键盘 up 时的 hooks\n\n    $textElem.on('keyup', function (e) {\n      var keyupEvents = eventHooks.keyupEvents;\n      (0, _forEach[\"default\"])(keyupEvents).call(keyupEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 键盘 down 时的 hooks\n\n    $textElem.on('keydown', function (e) {\n      var keydownEvents = eventHooks.keydownEvents;\n      (0, _forEach[\"default\"])(keydownEvents).call(keydownEvents, function (fn) {\n        return fn(e);\n      });\n    }); // delete 键 up 时 hooks\n\n    $textElem.on('keyup', function (e) {\n      if (e.keyCode !== 8 && e.keyCode !== 46) return;\n      var deleteUpEvents = eventHooks.deleteUpEvents;\n      (0, _forEach[\"default\"])(deleteUpEvents).call(deleteUpEvents, function (fn) {\n        return fn(e);\n      });\n    }); // delete 键 down 时 hooks\n\n    $textElem.on('keydown', function (e) {\n      if (e.keyCode !== 8 && e.keyCode !== 46) return;\n      var deleteDownEvents = eventHooks.deleteDownEvents;\n      (0, _forEach[\"default\"])(deleteDownEvents).call(deleteDownEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 粘贴\n\n    $textElem.on('paste', function (e) {\n      if (util_1.UA.isIE()) return; // IE 不支持\n      // 阻止默认行为，使用 execCommand 的粘贴命令\n\n      e.preventDefault();\n      var pasteEvents = eventHooks.pasteEvents;\n      (0, _forEach[\"default\"])(pasteEvents).call(pasteEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 撤销/恢复 快捷键\n\n    $textElem.on('keydown', function (e) {\n      if ( // 编辑器处于聚焦状态下（多编辑器实例） || 当前处于兼容模式（兼容模式撤销/恢复后不聚焦，所以直接过，但会造成多编辑器同时撤销/恢复）\n      (editor.isFocus || editor.isCompatibleMode) && (e.ctrlKey || e.metaKey) && e.keyCode === 90) {\n        // 取消默认行为\n        e.preventDefault(); // 执行事件\n\n        if (e.shiftKey) {\n          // 恢复\n          editor.history.restore();\n        } else {\n          // 撤销\n          editor.history.revoke();\n        }\n      }\n    }); // tab up\n\n    $textElem.on('keyup', function (e) {\n      if (e.keyCode !== 9) return;\n      e.preventDefault();\n      var tabUpEvents = eventHooks.tabUpEvents;\n      (0, _forEach[\"default\"])(tabUpEvents).call(tabUpEvents, function (fn) {\n        return fn(e);\n      });\n    }); // tab down\n\n    $textElem.on('keydown', function (e) {\n      if (e.keyCode !== 9) return;\n      e.preventDefault();\n      var tabDownEvents = eventHooks.tabDownEvents;\n      (0, _forEach[\"default\"])(tabDownEvents).call(tabDownEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 文本编辑区域 滚动时触发\n\n    $textElem.on('scroll', // 使用节流\n    util_1.throttle(function (e) {\n      var textScrollEvents = eventHooks.textScrollEvents;\n      (0, _forEach[\"default\"])(textScrollEvents).call(textScrollEvents, function (fn) {\n        return fn(e);\n      });\n    }, 100)); // 拖拽相关的事件\n\n    function preventDefault(e) {\n      // 禁用 document 拖拽事件\n      e.preventDefault();\n    }\n\n    dom_core_1[\"default\"](document).on('dragleave', preventDefault).on('drop', preventDefault).on('dragenter', preventDefault).on('dragover', preventDefault); // 全局事件在编辑器实例销毁的时候进行解绑\n\n    editor.beforeDestroy(function () {\n      dom_core_1[\"default\"](document).off('dragleave', preventDefault).off('drop', preventDefault).off('dragenter', preventDefault).off('dragover', preventDefault);\n    });\n    $textElem.on('drop', function (e) {\n      e.preventDefault();\n      var events = eventHooks.dropEvents;\n      (0, _forEach[\"default\"])(events).call(events, function (fn) {\n        return fn(e);\n      });\n    }); // link click\n\n    $textElem.on('click', function (e) {\n      // 存储链接元素\n      var $link = null;\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target);\n\n      if ($target.getNodeName() === 'A') {\n        // 当前点击的就是一个链接\n        $link = $target;\n      } else {\n        // 否则，向父节点中寻找链接\n        var $parent = $target.parentUntil('a');\n\n        if ($parent != null) {\n          // 找到了\n          $link = $parent;\n        }\n      }\n\n      if (!$link) return; // 没有点击链接，则返回\n\n      var linkClickEvents = eventHooks.linkClickEvents;\n      (0, _forEach[\"default\"])(linkClickEvents).call(linkClickEvents, function (fn) {\n        return fn($link);\n      });\n    }); // img click\n\n    $textElem.on('click', function (e) {\n      // 存储图片元素\n      var $img = null;\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target); //处理图片点击 去除掉emoji图片的情况\n\n      if ($target.getNodeName() === 'IMG' && !$target.elems[0].getAttribute('data-emoji')) {\n        // 当前点击的就是img\n        e.stopPropagation();\n        $img = $target;\n      }\n\n      if (!$img) return; // 没有点击图片，则返回\n\n      var imgClickEvents = eventHooks.imgClickEvents;\n      (0, _forEach[\"default\"])(imgClickEvents).call(imgClickEvents, function (fn) {\n        return fn($img);\n      });\n    }); // code click\n\n    $textElem.on('click', function (e) {\n      // 存储代码元素\n      var $code = null;\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target);\n\n      if ($target.getNodeName() === 'PRE') {\n        // 当前点击的就是一个链接\n        $code = $target;\n      } else {\n        // 否则，向父节点中寻找链接\n        var $parent = $target.parentUntil('pre');\n\n        if ($parent !== null) {\n          // 找到了\n          $code = $parent;\n        }\n      }\n\n      if (!$code) return;\n      var codeClickEvents = eventHooks.codeClickEvents;\n      (0, _forEach[\"default\"])(codeClickEvents).call(codeClickEvents, function (fn) {\n        return fn($code);\n      });\n    }); // splitLine click\n\n    $textElem.on('click', function (e) {\n      // 存储分割线元素\n      var $splitLine = null;\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target); // 判断当前点击元素\n\n      if ($target.getNodeName() === 'HR') {\n        $splitLine = $target;\n      } else {\n        $target == null;\n      }\n\n      if (!$splitLine) return; // 没有点击分割线，则返回\n      // 设置、恢复选区\n\n      editor.selection.createRangeByElem($splitLine);\n      editor.selection.restoreSelection();\n      var splitLineClickEvents = eventHooks.splitLineEvents;\n      (0, _forEach[\"default\"])(splitLineClickEvents).call(splitLineClickEvents, function (fn) {\n        return fn($splitLine);\n      });\n    }); // 菜单栏被点击\n\n    editor.$toolbarElem.on('click', function (e) {\n      var toolbarClickEvents = eventHooks.toolbarClickEvents;\n      (0, _forEach[\"default\"])(toolbarClickEvents).call(toolbarClickEvents, function (fn) {\n        return fn(e);\n      });\n    }); //mousedown事件\n\n    editor.$textContainerElem.on('mousedown', function (e) {\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target);\n\n      if ($target.hasClass('w-e-img-drag-rb')) {\n        // 点击的元素，是图片拖拽调整大小的 bar\n        var imgDragBarMouseDownEvents = eventHooks.imgDragBarMouseDownEvents;\n        (0, _forEach[\"default\"])(imgDragBarMouseDownEvents).call(imgDragBarMouseDownEvents, function (fn) {\n          return fn();\n        });\n      }\n    }); //table click\n\n    $textElem.on('click', function (e) {\n      // 存储元素\n      var $dom = null;\n      var target = e.target; //获取最祖父元素\n\n      $dom = dom_core_1[\"default\"](target).parentUntilEditor('TABLE', editor, target); // 没有table范围内，则返回\n\n      if (!$dom) return;\n      var tableClickEvents = eventHooks.tableClickEvents;\n      (0, _forEach[\"default\"])(tableClickEvents).call(tableClickEvents, function (fn) {\n        return fn($dom, e);\n      });\n    }); // enter 键 down\n\n    $textElem.on('keydown', function (e) {\n      if (e.keyCode !== 13) return;\n      var enterDownEvents = eventHooks.enterDownEvents;\n      (0, _forEach[\"default\"])(enterDownEvents).call(enterDownEvents, function (fn) {\n        return fn(e);\n      });\n    }); // 视频 click\n\n    $textElem.on('click', function (e) {\n      // 存储视频\n      var $video = null;\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target); //处理视频点击 简单的video 标签\n\n      if ($target.getNodeName() === 'VIDEO') {\n        // 当前点击的就是视频\n        e.stopPropagation();\n        $video = $target;\n      }\n\n      if (!$video) return; // 没有点击视频，则返回\n\n      var videoClickEvents = eventHooks.videoClickEvents;\n      (0, _forEach[\"default\"])(videoClickEvents).call(videoClickEvents, function (fn) {\n        return fn($video);\n      });\n    });\n  };\n\n  return Text;\n}();\n\nexports[\"default\"] = Text;\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(299);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar find = __webpack_require__(300);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.find;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.find) ? find : own;\n};\n\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(301);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').find;\n\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $find = __webpack_require__(31).find;\nvar addToUnscopables = __webpack_require__(89);\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description Text 事件钩子函数。Text 公共的，不是某个菜单独有的\n * @wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar enter_to_create_p_1 = tslib_1.__importDefault(__webpack_require__(303));\n\nvar del_to_keep_p_1 = tslib_1.__importStar(__webpack_require__(304));\n\nvar tab_to_space_1 = tslib_1.__importDefault(__webpack_require__(305));\n\nvar paste_text_html_1 = tslib_1.__importDefault(__webpack_require__(306));\n\nvar img_click_active_1 = tslib_1.__importDefault(__webpack_require__(313));\n/**\n * 初始化 text 事件钩子函数\n * @param text text 实例\n */\n\n\nfunction initTextHooks(text) {\n  var editor = text.editor;\n  var eventHooks = text.eventHooks; // 回车时，保证生成的是 <p> 标签\n\n  enter_to_create_p_1[\"default\"](editor, eventHooks.enterUpEvents, eventHooks.enterDownEvents); // 删除时，保留 EMPTY_P\n\n  del_to_keep_p_1[\"default\"](editor, eventHooks.deleteUpEvents, eventHooks.deleteDownEvents); // 剪切时, 保留p\n\n  del_to_keep_p_1.cutToKeepP(editor, eventHooks.keyupEvents); // tab 转换为空格\n\n  tab_to_space_1[\"default\"](editor, eventHooks.tabDownEvents); // 粘贴 text html\n\n  paste_text_html_1[\"default\"](editor, eventHooks.pasteEvents); // img click active\n\n  img_click_active_1[\"default\"](editor, eventHooks.imgClickEvents);\n}\n\nexports[\"default\"] = initTextHooks;\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 回车时，保证生成的是 <p> 标签\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 回车时，保证生成的是 <p> 标签\n * @param editor 编辑器实例\n * @param enterUpEvents enter 键 up 时的 hooks\n * @param enterDownEvents enter 键 down 时的 hooks\n */\n\n\nfunction enterToCreateP(editor, enterUpEvents, enterDownEvents) {\n  function insertEmptyP($selectionElem) {\n    var _context;\n\n    var $p = dom_core_1[\"default\"](const_1.EMPTY_P);\n    $p.insertBefore($selectionElem);\n\n    if ((0, _indexOf[\"default\"])(_context = $selectionElem.html()).call(_context, '<img') >= 0) {\n      // 有图片的回车键弹起时\n      $p.remove();\n      return;\n    }\n\n    editor.selection.createRangeByElem($p, true, true);\n    editor.selection.restoreSelection();\n    $selectionElem.remove();\n  } // enter up 时\n\n\n  function fn() {\n    var $textElem = editor.$textElem;\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n    var $parentElem = $selectionElem.parent();\n\n    if ($parentElem.html() === '<code><br></code>') {\n      // 回车之前光标所在一个 <p><code>.....</code></p> ，忽然回车生成一个空的 <p><code><br></code></p>\n      // 而且继续回车跳不出去，因此只能特殊处理\n      insertEmptyP($parentElem);\n      return;\n    }\n\n    if ($selectionElem.getNodeName() === 'FONT' && $selectionElem.text() === '' && $selectionElem.attr('face') === 'monospace') {\n      // 行内code回车时会产生一个<font face=\"monospace\"><br></font>，导致样式问题\n      insertEmptyP($parentElem);\n      return;\n    }\n\n    if (!$parentElem.equal($textElem)) {\n      // 不是顶级标签\n      return;\n    }\n\n    var nodeName = $selectionElem.getNodeName();\n\n    if (nodeName === 'P' && $selectionElem.attr('data-we-empty-p') === null) {\n      // 当前的标签是 P 且不为 editor 生成的空白占位 p 标签，不用做处理\n      return;\n    }\n\n    if ($selectionElem.text()) {\n      // 有内容，不做处理\n      return;\n    } // 插入 <p> ，并将选取定位到 <p>，删除当前标签\n\n\n    insertEmptyP($selectionElem);\n  }\n\n  enterUpEvents.push(fn); // enter down 时\n\n  function createPWhenEnterText(e) {\n    var _a; // selection中的range缓存还有问题,更新不及时,此处手动更新range,处理enter的bug\n\n\n    editor.selection.saveRange((_a = getSelection()) === null || _a === void 0 ? void 0 : _a.getRangeAt(0));\n    var $selectElem = editor.selection.getSelectionContainerElem();\n\n    if ($selectElem.id === editor.textElemId) {\n      // 回车时，默认创建了 text 标签（没有 p 标签包裹），父元素直接就是 $textElem\n      // 例如，光标放在 table 最后侧，回车时，默认就是这个情况\n      e.preventDefault();\n      editor.cmd[\"do\"]('insertHTML', '<p><br></p>');\n    }\n  }\n\n  enterDownEvents.push(createPWhenEnterText);\n}\n\nexports[\"default\"] = enterToCreateP;\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 删除时保留 EMPTY_P\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.cutToKeepP = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 删除时保留 EMPTY_P\n * @param editor 编辑器实例\n * @param deleteUpEvents delete 键 up 时的 hooks\n * @param deleteDownEvents delete 建 down 时的 hooks\n */\n\n\nfunction deleteToKeepP(editor, deleteUpEvents, deleteDownEvents) {\n  function upFn() {\n    var $textElem = editor.$textElem;\n    var html = editor.$textElem.html();\n    var text = editor.$textElem.text();\n    var txtHtml = (0, _trim[\"default\"])(html).call(html);\n    /**\n      @description\n        如果编辑区清空的状态下，单单插入一张图片，删除图片后，会存在空的情况：'<p data-we-empty-p=\"\"></p>'\n        需要包含这种边界情况\n    **/\n\n    var emptyTags = ['<p><br></p>', '<br>', '<p data-we-empty-p=\"\"></p>', const_1.EMPTY_P]; // 编辑器中的字符是\"\"或空白，说明内容为空\n\n    if (/^\\s*$/.test(text) && (!txtHtml || (0, _includes[\"default\"])(emptyTags).call(emptyTags, txtHtml))) {\n      // 内容空了\n      $textElem.html(const_1.EMPTY_P);\n      editor.selection.createRangeByElem($textElem, false, true);\n      editor.selection.restoreSelection(); // 设置折叠后的光标位置，在firebox等浏览器下\n      // 光标设置在end位置会自动换行\n\n      editor.selection.moveCursor($textElem.getNode(), 0);\n    }\n  }\n\n  deleteUpEvents.push(upFn);\n\n  function downFn(e) {\n    var _context;\n\n    var $textElem = editor.$textElem;\n    var txtHtml = (0, _trim[\"default\"])(_context = $textElem.html().toLowerCase()).call(_context);\n\n    if (txtHtml === const_1.EMPTY_P) {\n      // 最后剩下一个空行，就不再删除了\n      e.preventDefault();\n      return;\n    }\n  }\n\n  deleteDownEvents.push(downFn);\n}\n/**\n * 剪切时保留 EMPTY_P\n * @param editor 编辑器实例\n * @param cutEvents keydown hooks\n */\n\n\nfunction cutToKeepP(editor, cutEvents) {\n  function upFn(e) {\n    var _context2;\n\n    if (e.keyCode !== 88) {\n      return;\n    }\n\n    var $textElem = editor.$textElem;\n    var txtHtml = (0, _trim[\"default\"])(_context2 = $textElem.html().toLowerCase()).call(_context2); // firefox 时用 txtHtml === '<br>' 判断，其他用 !txtHtml 判断\n\n    if (!txtHtml || txtHtml === '<br>') {\n      // 内容空了\n      var $p = dom_core_1[\"default\"](const_1.EMPTY_P);\n      $textElem.html(' '); // 一定要先清空，否则在 firefox 下有问题\n\n      $textElem.append($p);\n      editor.selection.createRangeByElem($p, false, true);\n      editor.selection.restoreSelection(); // 设置折叠后的光标位置，在firebox等浏览器下\n      // 光标设置在end位置会自动换行\n\n      editor.selection.moveCursor($p.getNode(), 0);\n    }\n  }\n\n  cutEvents.push(upFn);\n}\n\nexports.cutToKeepP = cutToKeepP;\nexports[\"default\"] = deleteToKeepP;\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 编辑区域 tab 的特殊处理\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/**\n * 编辑区域 tab 的特殊处理，转换为空格\n * @param editor 编辑器实例\n * @param tabDownEvents tab down 事件钩子\n */\n\nfunction tabHandler(editor, tabDownEvents) {\n  // 定义函数\n  function fn() {\n    if (!editor.cmd.queryCommandSupported('insertHTML')) {\n      // 必须原生支持 insertHTML 命令\n      return;\n    }\n\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n\n    if (!$selectionElem) {\n      return;\n    }\n\n    var $parentElem = $selectionElem.parent();\n    var selectionNodeName = $selectionElem.getNodeName();\n    var parentNodeName = $parentElem.getNodeName();\n\n    if (selectionNodeName == 'CODE' || parentNodeName === 'CODE' || parentNodeName === 'PRE' || /hljs/.test(parentNodeName)) {\n      // <pre><code> 里面\n      editor.cmd[\"do\"]('insertHTML', editor.config.languageTab);\n    } else {\n      // 普通文字\n      editor.cmd[\"do\"]('insertHTML', '&nbsp;&nbsp;&nbsp;&nbsp;');\n    }\n  } // 保留函数\n\n\n  tabDownEvents.push(fn);\n}\n\nexports[\"default\"] = tabHandler;\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 粘贴 text html\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar paste_event_1 = __webpack_require__(135);\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author Gavin\n * @description\n    格式化html，需要特别注意\n    功能：\n        1. 将htmlText中的div，都替换成p标签\n        2. 将处理后的htmlText模拟先插入到真实dom中，处理P截断问题。\n\n    注意点：\n        由于P不能嵌套p，会导致标签截断，从而将<p><p>xx</p></p>这样一个结构插入到页面时，会出现很多问题，包括光标位置问题，页面凭空多很多元素的问题。\n */\n\n\nfunction formatHtml(htmlText) {\n  var _context;\n\n  var paste = (0, _trim[\"default\"])(_context = htmlText.replace(/<div>/gim, '<p>') // div 全部替换为 p 标签\n  .replace(/<\\/div>/gim, '</p>')).call(_context); // 去除''\n  // 模拟插入到真实dom中\n\n  var tempContainer = document.createElement('div');\n  tempContainer.innerHTML = paste;\n  return tempContainer.innerHTML.replace(/<p><\\/p>/gim, ''); // 将被截断的p，都替换掉\n}\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author liuwei\n */\n\n\nfunction formatCode(val) {\n  var pasteText = val.replace(/<br>|<br\\/>/gm, '\\n').replace(/<[^>]+>/gm, '');\n  return pasteText;\n}\n/**\n * 判断html是否使用P标签包裹\n * @param html 粘贴的html\n * @author luochao\n */\n\n\nfunction isParagraphHtml(html) {\n  var _a;\n\n  if (html === '') return false;\n  var container = document.createElement('div');\n  container.innerHTML = html;\n  return ((_a = container.firstChild) === null || _a === void 0 ? void 0 : _a.nodeName) === 'P';\n}\n/**\n * 判断当前选区是否是空段落\n * @param topElem 选区顶层元素\n * @author luochao\n */\n\n\nfunction isEmptyParagraph(topElem) {\n  if (!(topElem === null || topElem === void 0 ? void 0 : topElem.length)) return false;\n  var dom = topElem.elems[0];\n  return dom.nodeName === 'P' && dom.innerHTML === '<br>';\n}\n/**\n * 粘贴文本和 html\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\n\n\nfunction pasteTextHtml(editor, pasteEvents) {\n  function fn(e) {\n    // 获取配置\n    var config = editor.config;\n    var pasteFilterStyle = config.pasteFilterStyle;\n    var pasteIgnoreImg = config.pasteIgnoreImg;\n    var pasteTextHandle = config.pasteTextHandle; // 获取粘贴的文字\n\n    var pasteHtml = paste_event_1.getPasteHtml(e, pasteFilterStyle, pasteIgnoreImg);\n    var pasteText = paste_event_1.getPasteText(e);\n    pasteText = pasteText.replace(/\\n/gm, '<br>'); // 当前选区所在的 DOM 节点\n\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n\n    if (!$selectionElem) {\n      return;\n    }\n\n    var nodeName = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeName();\n    var $topElem = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeTop(editor); // 当前节点顶级可能没有\n\n    var topNodeName = '';\n\n    if ($topElem.elems[0]) {\n      topNodeName = $topElem === null || $topElem === void 0 ? void 0 : $topElem.getNodeName();\n    } // code 中只能粘贴纯文本\n\n\n    if (nodeName === 'CODE' || topNodeName === 'PRE') {\n      if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n        // 用户自定义过滤处理粘贴内容\n        pasteText = '' + (pasteTextHandle(pasteText) || '');\n      }\n\n      editor.cmd[\"do\"]('insertHTML', formatCode(pasteText));\n      return;\n    } // 如果用户开启闭粘贴样式注释则将复制进来为url的直接转为链接 否则不转换\n    //  在群中有用户提到关闭样式粘贴复制的文字进来后链接直接转为文字了，不符合预期，这里优化下\n\n\n    if (const_1.urlRegex.test(pasteText) && pasteFilterStyle) {\n      //当复制的内容为链接时，也应该判断用户是否定义了处理粘贴的事件\n      if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n        // 用户自定义过滤处理粘贴内容\n        pasteText = '' + (pasteTextHandle(pasteText) || ''); // html\n      }\n\n      var insertUrl = const_1.urlRegex.exec(pasteText)[0];\n      var otherText = pasteText.replace(const_1.urlRegex, '');\n      return editor.cmd[\"do\"]('insertHTML', \"<a href=\\\"\" + insertUrl + \"\\\" target=\\\"_blank\\\">\" + insertUrl + \"</a>\" + otherText); // html\n    } // table 中（td、th），待开发。。。\n\n\n    if (!pasteHtml) {\n      return;\n    }\n\n    try {\n      // firefox 中，获取的 pasteHtml 可能是没有 <ul> 包裹的 <li>\n      // 因此执行 insertHTML 会报错\n      if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n        // 用户自定义过滤处理粘贴内容\n        pasteHtml = '' + (pasteTextHandle(pasteHtml) || ''); // html\n      } // 粘贴的html的是否是css的style样式\n\n\n      var isCssStyle = /[\\.\\#\\@]?\\w+[ ]+\\{[^}]*\\}/.test(pasteHtml); // eslint-disable-line\n      // 经过处理后还是包含暴露的css样式则直接插入它的text\n\n      if (isCssStyle && pasteFilterStyle) {\n        editor.cmd[\"do\"]('insertHTML', \"\" + formatHtml(pasteText)); // text\n      } else {\n        var html = formatHtml(pasteHtml); // 如果是段落，为了兼容 firefox 和 chrome差异，自定义插入\n\n        if (isParagraphHtml(html)) {\n          var $textEl = editor.$textElem;\n          editor.cmd[\"do\"]('insertHTML', html); // 全选的情况下覆盖原有内容\n\n          if ($textEl.equal($selectionElem)) {\n            // 更新选区\n            editor.selection.createEmptyRange();\n            return;\n          } // 如果选区是空段落，移除空段落\n\n\n          if (isEmptyParagraph($topElem)) {\n            $topElem.remove();\n          }\n        } else {\n          // 如果用户从百度等网站点击复制得到的图片是一串img标签且待src的http地址\n          // 见 https://github.com/wangeditor-team/wangEditor/issues/3119\n          // 如果是走用户定义的图片上传逻辑\n          var isHasOnlyImgEleReg = /^<img [^>]*src=['\"]([^'\"]+)[^>]*>$/g;\n\n          if (!isHasOnlyImgEleReg.test(html)) {\n            editor.cmd[\"do\"]('insertHTML', html);\n          }\n        }\n      }\n    } catch (ex) {\n      // 此时使用 pasteText 来兼容一下\n      if (pasteTextHandle && util_1.isFunction(pasteTextHandle)) {\n        // 用户自定义过滤处理粘贴内容\n        pasteText = '' + (pasteTextHandle(pasteText) || '');\n      }\n\n      editor.cmd[\"do\"]('insertHTML', \"\" + formatHtml(pasteText)); // text\n    }\n  }\n\n  pasteEvents.push(fn);\n}\n\nexports[\"default\"] = pasteTextHtml;\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 将粘贴的 html 字符串，转换为正确、简洁的 html 代码。剔除不必要的标签和属性。\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tags_1 = __webpack_require__(308);\n\nvar simplehtmlparser_js_1 = tslib_1.__importDefault(__webpack_require__(312));\n/**\n * 过滤掉空 span\n * @param html html\n */\n\n\nfunction filterEmptySpan(html) {\n  var regForReplace = /<span>.*?<\\/span>/gi;\n  var regForMatch = /<span>(.*?)<\\/span>/;\n  return html.replace(regForReplace, function (s) {\n    // s 是单个 span ，如 <span>文字</span>\n    var result = s.match(regForMatch);\n    if (result == null) return '';\n    return result[1];\n  });\n}\n/**\n * 是否忽略标签\n * @param tag tag\n * @param ignoreImg 是否忽略 img 标签\n */\n\n\nfunction isIgnoreTag(tag, ignoreImg) {\n  var _context;\n\n  tag = (0, _trim[\"default\"])(_context = tag.toLowerCase()).call(_context); // 忽略的标签\n\n  if (tags_1.IGNORE_TAGS.has(tag)) {\n    return true;\n  } // 是否忽略图片\n\n\n  if (ignoreImg) {\n    if (tag === 'img') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * 为 tag 生成 html 字符串，开始部分\n * @param tag tag\n * @param attrs 属性\n */\n\n\nfunction genStartHtml(tag, attrs) {\n  var result = ''; // tag < 符号\n\n  result = \"<\" + tag; // 拼接属性\n\n  var attrStrArr = [];\n  (0, _forEach[\"default\"])(attrs).call(attrs, function (attr) {\n    attrStrArr.push(attr.name + \"=\\\"\" + attr.value + \"\\\"\");\n  });\n\n  if (attrStrArr.length > 0) {\n    result = result + ' ' + attrStrArr.join(' ');\n  } // tag > 符号\n\n\n  var isEmpty = tags_1.EMPTY_TAGS.has(tag); // 没有子节点或文本的标签，如 img\n\n  result = result + (isEmpty ? '/' : '') + '>';\n  return result;\n}\n/**\n * 为 tag 生成 html 字符串，结尾部分\n * @param tag tag\n */\n\n\nfunction genEndHtml(tag) {\n  return \"</\" + tag + \">\";\n}\n/**\n * 处理粘贴的 html\n * @param html html 字符串\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\n\n\nfunction parseHtml(html, filterStyle, ignoreImg) {\n  if (filterStyle === void 0) {\n    filterStyle = true;\n  }\n\n  if (ignoreImg === void 0) {\n    ignoreImg = false;\n  }\n\n  var resultArr = []; // 存储结果，数组形式，最后再 join\n  // 当前正在处理的标签，以及记录和清除的方法\n\n  var CUR_TAG = '';\n\n  function markTagStart(tag) {\n    tag = (0, _trim[\"default\"])(tag).call(tag);\n    if (!tag) return;\n    if (tags_1.EMPTY_TAGS.has(tag)) return; // 内容为空的标签，如 img ，不用记录\n\n    CUR_TAG = tag;\n  }\n\n  function markTagEnd() {\n    CUR_TAG = '';\n  } // 能通过 'text/html' 格式获取 html\n\n\n  var htmlParser = new simplehtmlparser_js_1[\"default\"]();\n  htmlParser.parse(html, {\n    startElement: function startElement(tag, attrs) {\n      // 首先，标记开始\n      markTagStart(tag); // 忽略的标签\n\n      if (isIgnoreTag(tag, ignoreImg)) {\n        return;\n      } // 找出该标签必须的属性（其他的属性忽略）\n\n\n      var necessaryAttrKeys = tags_1.NECESSARY_ATTRS.get(tag) || [];\n      var attrsForTag = [];\n      (0, _forEach[\"default\"])(attrs).call(attrs, function (attr) {\n        // 属性名\n        var name = attr.name; // style 单独处理\n\n        if (name === 'style') {\n          // 保留 style 样式\n          if (!filterStyle) {\n            attrsForTag.push(attr);\n          }\n\n          return;\n        } // 除了 style 之外的其他属性\n\n\n        if ((0, _includes[\"default\"])(necessaryAttrKeys).call(necessaryAttrKeys, name) === false) {\n          // 不是必须的属性，忽略\n          return;\n        }\n\n        attrsForTag.push(attr);\n      }); // 拼接为 HTML 标签\n\n      var html = genStartHtml(tag, attrsForTag);\n      resultArr.push(html);\n    },\n    characters: function characters(str) {\n      if (!str) {\n        return;\n      } // 忽略的标签\n\n\n      if (isIgnoreTag(CUR_TAG, ignoreImg)) return;\n      resultArr.push(str);\n    },\n    endElement: function endElement(tag) {\n      // 忽略的标签\n      if (isIgnoreTag(tag, ignoreImg)) {\n        return;\n      } // 拼接为 HTML 标签\n\n\n      var html = genEndHtml(tag);\n      resultArr.push(html); // 最后，标记结束\n\n      markTagEnd();\n    },\n    comment: function comment(str) {\n      /* 注释，不做处理 */\n      markTagStart(str);\n    }\n  });\n  var result = resultArr.join(''); // 转换为字符串\n  // 过滤掉空 span 标签\n\n  result = filterEmptySpan(result);\n  return result;\n}\n\nexports[\"default\"] = parseHtml;\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 粘贴相关的 tags\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _set = _interopRequireDefault(__webpack_require__(136));\n\nvar _map = _interopRequireDefault(__webpack_require__(125));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.TOP_LEVEL_TAGS = exports.EMPTY_TAGS = exports.NECESSARY_ATTRS = exports.IGNORE_TAGS = void 0; // 忽略的标签\n\nexports.IGNORE_TAGS = new _set[\"default\"](['doctype', '!doctype', 'html', 'head', 'meta', 'body', 'script', 'style', 'link', 'frame', 'iframe', 'title', 'svg', 'center', 'o:p' // 复制 word 内容包含 o:p 标签\n]); // 指定标签必要的属性\n\nexports.NECESSARY_ATTRS = new _map[\"default\"]([['img', ['src', 'alt']], ['a', ['href', 'target']], ['td', ['colspan', 'rowspan']], ['th', ['colspan', 'rowspan']]]); // 没有子节点或文本的标签\n\nexports.EMPTY_TAGS = new _set[\"default\"](['area', 'base', 'basefont', 'br', 'col', 'hr', 'img', 'input', 'isindex', 'embed']); // 编辑区域顶级节点\n\nexports.TOP_LEVEL_TAGS = new _set[\"default\"](['h1', 'h2', 'h3', 'h4', 'h5', 'p', 'ul', 'ol', 'table', 'blockquote', 'pre', 'hr', 'form']);\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(310);\n__webpack_require__(45);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(55);\n__webpack_require__(57);\n__webpack_require__(311);\n__webpack_require__(58);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Set;\n\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar collection = __webpack_require__(126);\nvar collectionStrong = __webpack_require__(129);\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports) {\n\n// Copyright 2004 Erik Arvidsson. All Rights Reserved.\n//\n// This code is triple licensed using Apache Software License 2.0,\n// Mozilla Public License or GNU Public License\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n// use this file except in compliance with the License.  You may obtain a copy\n// of the License at http://www.apache.org/licenses/LICENSE-2.0\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// The contents of this file are subject to the Mozilla Public License\n// Version 1.1 (the \"License\"); you may not use this file except in\n// compliance with the License. You may obtain a copy of the License at\n// http://www.mozilla.org/MPL/\n//\n// Software distributed under the License is distributed on an \"AS IS\"\n// basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n// License for the specific language governing rights and limitations\n// under the License.\n//\n// The Original Code is Simple HTML Parser.\n//\n// The Initial Developer of the Original Code is Erik Arvidsson.\n// Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n// Reserved.\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n///////////////////////////////////////////////////////////////////////////////\n\n/*\nvar handler ={\n\tstartElement:   function (sTagName, oAttrs) {},\n\tendElement:     function (sTagName) {},\n    characters:\t\tfunction (s) {},\n    comment:\t\tfunction (s) {}\n};\n*/\n\nfunction SimpleHtmlParser() {}\n\nSimpleHtmlParser.prototype = {\n    handler: null,\n\n    // regexps\n\n    startTagRe: /^<([^>\\s\\/]+)((\\s+[^=>\\s]+(\\s*=\\s*((\\\"[^\"]*\\\")|(\\'[^']*\\')|[^>\\s]+))?)*)\\s*\\/?\\s*>/m,\n    endTagRe: /^<\\/([^>\\s]+)[^>]*>/m,\n    attrRe: /([^=\\s]+)(\\s*=\\s*((\\\"([^\"]*)\\\")|(\\'([^']*)\\')|[^>\\s]+))?/gm,\n\n    parse: function (s, oHandler) {\n        if (oHandler) this.contentHandler = oHandler\n\n        var i = 0\n        var res, lc, lm, rc, index\n        var treatAsChars = false\n        var oThis = this\n        while (s.length > 0) {\n            // Comment\n            if (s.substring(0, 4) == '<!--') {\n                index = s.indexOf('-->')\n                if (index != -1) {\n                    this.contentHandler.comment(s.substring(4, index))\n                    s = s.substring(index + 3)\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            // end tag\n            else if (s.substring(0, 2) == '</') {\n                if (this.endTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.endTagRe, function () {\n                        return oThis.parseEndTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n            // start tag\n            else if (s.charAt(0) == '<') {\n                if (this.startTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.startTagRe, function () {\n                        return oThis.parseStartTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            if (treatAsChars) {\n                index = s.indexOf('<')\n                if (index == -1) {\n                    this.contentHandler.characters(s)\n                    s = ''\n                } else {\n                    this.contentHandler.characters(s.substring(0, index))\n                    s = s.substring(index)\n                }\n            }\n\n            treatAsChars = true\n        }\n    },\n\n    parseStartTag: function (sTag, sTagName, sRest) {\n        var attrs = this.parseAttributes(sTagName, sRest)\n        this.contentHandler.startElement(sTagName, attrs)\n    },\n\n    parseEndTag: function (sTag, sTagName) {\n        this.contentHandler.endElement(sTagName)\n    },\n\n    parseAttributes: function (sTagName, s) {\n        var oThis = this\n        var attrs = []\n        s.replace(this.attrRe, function (a0, a1, a2, a3, a4, a5, a6, a7) {\n            attrs.push(oThis.parseAttribute(sTagName, a0, a1, a2, a3, a4, a5, a6, a7))\n        })\n        return attrs\n    },\n\n    parseAttribute: function (sTagName, sAttribute, sName) {\n        var value = ''\n        if (arguments[7]) value = arguments[8]\n        else if (arguments[5]) value = arguments[6]\n        else if (arguments[3]) value = arguments[4]\n\n        var empty = !value && !arguments[3]\n        return { name: sName, value: empty ? null : value }\n    },\n}\n\n// export default SimpleHtmlParser\nmodule.exports = SimpleHtmlParser\n\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 图片点击后选区更新到img的位置\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/**\n * 图片点击后选区更新到img的位置\n * @param editor 编辑器实例\n * @param imgClickEvents delete 键 up 时的 hooks\n */\n\nfunction imgClickActive(editor, imgClickEvents) {\n  function clickFn($img) {\n    editor.selection.createRangeByElem($img);\n    editor.selection.restoreSelection();\n  }\n\n  imgClickEvents.push(clickFn);\n}\n\nexports[\"default\"] = imgClickActive;\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 获取子元素的 JSON 格式数据\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 获取子元素的 JSON 格式数据\n * @param $elem DOM 节点\n */\n\n\nfunction getChildrenJSON($elem) {\n  var result = []; // 存储结果\n\n  var $children = $elem.childNodes() || []; // 注意 childNodes() 可以获取文本节点\n\n  (0, _forEach[\"default\"])($children).call($children, function (curElem) {\n    var elemResult;\n    var nodeType = curElem.nodeType; // 文本节点\n\n    if (nodeType === 3) {\n      elemResult = curElem.textContent || '';\n      elemResult = util_1.replaceHtmlSymbol(elemResult);\n    } // 普通 DOM 节点\n\n\n    if (nodeType === 1) {\n      elemResult = {};\n      elemResult = elemResult; // tag\n\n      elemResult.tag = curElem.nodeName.toLowerCase(); // attr\n\n      var attrData = [];\n      var attrList = curElem.attributes;\n      var attrListLength = attrList.length || 0;\n\n      for (var i = 0; i < attrListLength; i++) {\n        var attr = attrList[i];\n        attrData.push({\n          name: attr.name,\n          value: attr.value\n        });\n      }\n\n      elemResult.attrs = attrData; // children（递归）\n\n      elemResult.children = getChildrenJSON(dom_core_1[\"default\"](curElem));\n    }\n\n    if (elemResult) {\n      result.push(elemResult);\n    }\n  });\n  return result;\n}\n\nexports[\"default\"] = getChildrenJSON;\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 从nodeList json格式中遍历生成dom元素\n * @author zhengwenjian\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(100));\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nfunction getHtmlByNodeList(nodeList, parent) {\n  if (parent === void 0) {\n    parent = document.createElement('div');\n  } // 设置一个父节点存储所有子节点\n\n\n  var root = parent; // 遍历节点JSON\n\n  (0, _forEach[\"default\"])(nodeList).call(nodeList, function (item) {\n    var elem; // 当为文本节点时\n\n    if (typeof item === 'string') {\n      elem = document.createTextNode(item);\n    } // 当为普通节点时\n\n\n    if ((0, _typeof2[\"default\"])(item) === 'object') {\n      var _context;\n\n      elem = document.createElement(item.tag);\n      (0, _forEach[\"default\"])(_context = item.attrs).call(_context, function (attr) {\n        dom_core_1[\"default\"](elem).attr(attr.name, attr.value);\n      }); // 有子节点时递归将子节点加入当前节点\n\n      if (item.children && item.children.length > 0) {\n        getHtmlByNodeList(item.children, elem.getRootNode());\n      }\n    }\n\n    elem && root.appendChild(elem);\n  });\n  return dom_core_1[\"default\"](root);\n}\n\nexports[\"default\"] = getHtmlByNodeList;\n\n/***/ }),\n/* 316 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description Menus 菜单栏 入口文件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _isArray = _interopRequireDefault(__webpack_require__(96));\n\nvar _filter = _interopRequireDefault(__webpack_require__(76));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\nvar _keys = _interopRequireDefault(__webpack_require__(317));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _entries = _interopRequireDefault(__webpack_require__(102));\n\nvar _some = _interopRequireDefault(__webpack_require__(137));\n\nvar _setTimeout2 = _interopRequireDefault(__webpack_require__(48));\n\nvar _bind = _interopRequireDefault(__webpack_require__(61));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(94));\n\nvar menu_list_1 = tslib_1.__importDefault(__webpack_require__(329));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3)); // import { MenuActive } from './menu-constructors/Menu'\n\n\nvar Menus = function () {\n  function Menus(editor) {\n    this.editor = editor;\n    this.menuList = [];\n    this.constructorList = menu_list_1[\"default\"]; // 所有菜单构造函数的列表\n  }\n  /**\n   * 自定义添加菜单\n   * @param key 菜单 key ，和 editor.config.menus 对应\n   * @param Menu 菜单构造函数\n   */\n\n\n  Menus.prototype.extend = function (key, Menu) {\n    if (!Menu || typeof Menu !== 'function') return;\n    this.constructorList[key] = Menu;\n  }; // 初始化菜单\n\n\n  Menus.prototype.init = function () {\n    var _context, _context2;\n\n    var _this = this; // 从用户配置的 menus 入手，看需要初始化哪些菜单\n\n\n    var config = this.editor.config; // 排除exclude包含的菜单\n\n    var excludeMenus = config.excludeMenus;\n    if ((0, _isArray[\"default\"])(excludeMenus) === false) excludeMenus = [];\n    config.menus = (0, _filter[\"default\"])(_context = config.menus).call(_context, function (key) {\n      return (0, _includes[\"default\"])(excludeMenus).call(excludeMenus, key) === false;\n    }); // 排除自扩展中exclude包含的菜单\n\n    var CustomMenuKeysList = (0, _keys[\"default\"])(index_1[\"default\"].globalCustomMenuConstructorList);\n    CustomMenuKeysList = (0, _filter[\"default\"])(CustomMenuKeysList).call(CustomMenuKeysList, function (key) {\n      return (0, _includes[\"default\"])(excludeMenus).call(excludeMenus, key);\n    });\n    (0, _forEach[\"default\"])(CustomMenuKeysList).call(CustomMenuKeysList, function (key) {\n      delete index_1[\"default\"].globalCustomMenuConstructorList[key];\n    });\n    (0, _forEach[\"default\"])(_context2 = config.menus).call(_context2, function (menuKey) {\n      var MenuConstructor = _this.constructorList[menuKey]; // 暂用 any ，后面再替换\n\n      _this._initMenuList(menuKey, MenuConstructor);\n    }); // 全局注册\n\n    for (var _i = 0, _a = (0, _entries[\"default\"])(index_1[\"default\"].globalCustomMenuConstructorList); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          menuKey = _b[0],\n          menuFun = _b[1];\n      var MenuConstructor = menuFun; // 暂用 any ，后面再替换\n\n      this._initMenuList(menuKey, MenuConstructor);\n    } // 渲染 DOM\n\n\n    this._addToToolbar();\n\n    if (config.showMenuTooltips) {\n      // 添加菜单栏tooltips\n      this._bindMenuTooltips();\n    }\n  };\n  /**\n   * 创建 menu 实例，并放到 menuList 中\n   * @param menuKey 菜单 key ，和 editor.config.menus 对应\n   * @param MenuConstructor 菜单构造函数\n   */\n\n\n  Menus.prototype._initMenuList = function (menuKey, MenuConstructor) {\n    var _context3;\n\n    if (MenuConstructor == null || typeof MenuConstructor !== 'function') {\n      // 必须是 class\n      return;\n    }\n\n    if ((0, _some[\"default\"])(_context3 = this.menuList).call(_context3, function (menu) {\n      return menu.key === menuKey;\n    })) {\n      console.warn('菜单名称重复:' + menuKey);\n    } else {\n      var m = new MenuConstructor(this.editor);\n      m.key = menuKey;\n      this.menuList.push(m);\n    }\n  }; // 绑定菜单栏tooltips\n\n\n  Menus.prototype._bindMenuTooltips = function () {\n    var editor = this.editor;\n    var $toolbarElem = editor.$toolbarElem;\n    var config = editor.config; // 若isTooltipShowTop为true则伪元素为下三角，反之为上三角\n\n    var menuTooltipPosition = config.menuTooltipPosition;\n    var $tooltipEl = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu-tooltip w-e-menu-tooltip-\" + menuTooltipPosition + \"\\\">\\n            <div class=\\\"w-e-menu-tooltip-item-wrapper\\\">\\n              <div></div>\\n            </div>\\n          </div>\");\n    $tooltipEl.css('visibility', 'hidden');\n    $toolbarElem.append($tooltipEl); // 设置 z-index\n\n    $tooltipEl.css('z-index', editor.zIndex.get('tooltip'));\n    var showTimeoutId = 0; // 定时器，延时200ms显示tooltips\n    // 清空计时器\n\n    function clearShowTimeoutId() {\n      if (showTimeoutId) {\n        clearTimeout(showTimeoutId);\n      }\n    } // 隐藏tooltip\n\n\n    function hide() {\n      clearShowTimeoutId();\n      $tooltipEl.css('visibility', 'hidden');\n    } // 事件监听\n\n\n    $toolbarElem.on('mouseover', function (e) {\n      var target = e.target;\n      var $target = dom_core_1[\"default\"](target);\n      var title;\n      var $menuEl;\n\n      if ($target.isContain($toolbarElem)) {\n        hide();\n        return;\n      }\n\n      if ($target.parentUntil('.w-e-droplist') != null) {\n        // 处于droplist中时隐藏\n        hide();\n      } else {\n        if ($target.attr('data-title')) {\n          title = $target.attr('data-title');\n          $menuEl = $target;\n        } else {\n          var $parent = $target.parentUntil('.w-e-menu');\n\n          if ($parent != null) {\n            title = $parent.attr('data-title');\n            $menuEl = $parent;\n          }\n        }\n      }\n\n      if (title && $menuEl) {\n        clearShowTimeoutId();\n        var targetOffset = $menuEl.getOffsetData();\n        $tooltipEl.text(editor.i18next.t('menus.title.' + title));\n        var tooltipOffset = $tooltipEl.getOffsetData();\n        var left = targetOffset.left + targetOffset.width / 2 - tooltipOffset.width / 2;\n        $tooltipEl.css('left', left + \"px\"); // 2. 高度设置\n\n        if (menuTooltipPosition === 'up') {\n          $tooltipEl.css('top', targetOffset.top - tooltipOffset.height - 8 + \"px\");\n        } else if (menuTooltipPosition === 'down') {\n          $tooltipEl.css('top', targetOffset.top + targetOffset.height + 8 + \"px\");\n        }\n\n        showTimeoutId = (0, _setTimeout2[\"default\"])(function () {\n          $tooltipEl.css('visibility', 'visible');\n        }, 200);\n      } else {\n        hide();\n      }\n    }).on('mouseleave', function () {\n      hide();\n    });\n  }; // 添加到菜单栏\n\n\n  Menus.prototype._addToToolbar = function () {\n    var _context4;\n\n    var editor = this.editor;\n    var $toolbarElem = editor.$toolbarElem; // 遍历添加到 DOM\n\n    (0, _forEach[\"default\"])(_context4 = this.menuList).call(_context4, function (menu) {\n      var $elem = menu.$elem;\n\n      if ($elem) {\n        $toolbarElem.append($elem);\n      }\n    });\n  };\n  /**\n   * 获取菜单对象\n   * @param 菜单名称 小写\n   * @return Menus 菜单对象\n   */\n\n\n  Menus.prototype.menuFind = function (key) {\n    var menuList = this.menuList;\n\n    for (var i = 0, l = menuList.length; i < l; i++) {\n      if (menuList[i].key === key) return menuList[i];\n    }\n\n    return menuList[0];\n  };\n  /**\n   * @description 修改菜单激活状态\n   */\n\n\n  Menus.prototype.changeActive = function () {\n    var _context5;\n\n    (0, _forEach[\"default\"])(_context5 = this.menuList).call(_context5, function (menu) {\n      var _context6;\n\n      (0, _setTimeout2[\"default\"])((0, _bind[\"default\"])(_context6 = menu.tryChangeActive).call(_context6, menu), 100); // 暂用 any ，后面再替换\n    });\n  };\n\n  return Menus;\n}();\n\nexports[\"default\"] = Menus;\n\n/***/ }),\n/* 317 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(318);\n\n/***/ }),\n/* 318 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(319);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 319 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(320);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Object.keys;\n\n\n/***/ }),\n/* 320 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar toObject = __webpack_require__(26);\nvar nativeKeys = __webpack_require__(53);\nvar fails = __webpack_require__(12);\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n\n\n/***/ }),\n/* 321 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(322);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 322 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(323);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Object.entries;\n\n\n/***/ }),\n/* 323 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar $entries = __webpack_require__(324).entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n\n\n/***/ }),\n/* 324 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(15);\nvar objectKeys = __webpack_require__(53);\nvar toIndexedObject = __webpack_require__(29);\nvar propertyIsEnumerable = __webpack_require__(63).f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n\n\n/***/ }),\n/* 325 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(326);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 326 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar some = __webpack_require__(327);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.some;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.some) ? some : own;\n};\n\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(328);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').some;\n\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $some = __webpack_require__(31).some;\nvar arrayMethodIsStrict = __webpack_require__(73);\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 所有菜单的构造函数\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(330));\n\nvar index_2 = tslib_1.__importDefault(__webpack_require__(331));\n\nvar index_3 = tslib_1.__importDefault(__webpack_require__(336));\n\nvar index_4 = tslib_1.__importDefault(__webpack_require__(341));\n\nvar index_5 = tslib_1.__importDefault(__webpack_require__(342));\n\nvar index_6 = tslib_1.__importDefault(__webpack_require__(343));\n\nvar index_7 = tslib_1.__importDefault(__webpack_require__(344));\n\nvar font_size_1 = tslib_1.__importDefault(__webpack_require__(346));\n\nvar index_8 = tslib_1.__importDefault(__webpack_require__(348));\n\nvar index_9 = tslib_1.__importDefault(__webpack_require__(349));\n\nvar index_10 = tslib_1.__importDefault(__webpack_require__(352));\n\nvar index_11 = tslib_1.__importDefault(__webpack_require__(353));\n\nvar index_12 = tslib_1.__importDefault(__webpack_require__(354));\n\nvar index_13 = tslib_1.__importDefault(__webpack_require__(365));\n\nvar index_14 = tslib_1.__importDefault(__webpack_require__(380));\n\nvar index_15 = tslib_1.__importDefault(__webpack_require__(384));\n\nvar index_16 = tslib_1.__importDefault(__webpack_require__(142));\n\nvar index_17 = tslib_1.__importDefault(__webpack_require__(393));\n\nvar index_18 = tslib_1.__importDefault(__webpack_require__(395));\n\nvar index_19 = tslib_1.__importDefault(__webpack_require__(396));\n\nvar index_20 = tslib_1.__importDefault(__webpack_require__(397));\n\nvar code_1 = tslib_1.__importDefault(__webpack_require__(417));\n\nvar index_21 = tslib_1.__importDefault(__webpack_require__(422));\n\nvar todo_1 = tslib_1.__importDefault(__webpack_require__(425));\n\nexports[\"default\"] = {\n  bold: index_1[\"default\"],\n  head: index_2[\"default\"],\n  italic: index_4[\"default\"],\n  link: index_3[\"default\"],\n  underline: index_5[\"default\"],\n  strikeThrough: index_6[\"default\"],\n  fontName: index_7[\"default\"],\n  fontSize: font_size_1[\"default\"],\n  justify: index_8[\"default\"],\n  quote: index_9[\"default\"],\n  backColor: index_10[\"default\"],\n  foreColor: index_11[\"default\"],\n  video: index_12[\"default\"],\n  image: index_13[\"default\"],\n  indent: index_14[\"default\"],\n  emoticon: index_15[\"default\"],\n  list: index_16[\"default\"],\n  lineHeight: index_17[\"default\"],\n  undo: index_18[\"default\"],\n  redo: index_19[\"default\"],\n  table: index_20[\"default\"],\n  code: code_1[\"default\"],\n  splitLine: index_21[\"default\"],\n  todo: todo_1[\"default\"]\n};\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 加粗\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Bold = function (_super) {\n  tslib_1.__extends(Bold, _super);\n\n  function Bold(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u52A0\\u7C97\\\">\\n                <i class=\\\"w-e-icon-bold\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Bold.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var isSelectEmpty = editor.selection.isSelectionEmpty();\n\n    if (isSelectEmpty) {\n      // 选区范围是空的，插入并选中一个“空白”\n      editor.selection.createEmptyRange();\n    } // 执行 bold 命令\n\n\n    editor.cmd[\"do\"]('bold');\n\n    if (isSelectEmpty) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Bold.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (editor.cmd.queryCommandState('bold')) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Bold;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Bold;\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 标题\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _stringify = _interopRequireDefault(__webpack_require__(332));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n\nvar Head = function (_super) {\n  tslib_1.__extends(Head, _super);\n\n  function Head(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"标题\"><i class=\"w-e-icon-header\"></i></div>');\n    var dropListConf = {\n      width: 100,\n      title: '设置标题',\n      type: 'list',\n      list: [{\n        $elem: dom_core_1[\"default\"]('<h1>H1</h1>'),\n        value: '<h1>'\n      }, {\n        $elem: dom_core_1[\"default\"]('<h2>H2</h2>'),\n        value: '<h2>'\n      }, {\n        $elem: dom_core_1[\"default\"]('<h3>H3</h3>'),\n        value: '<h3>'\n      }, {\n        $elem: dom_core_1[\"default\"]('<h4>H4</h4>'),\n        value: '<h4>'\n      }, {\n        $elem: dom_core_1[\"default\"]('<h5>H5</h5>'),\n        value: '<h5>'\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\" + editor.i18next.t('menus.dropListMenu.head.正文') + \"</p>\"),\n        value: '<p>'\n      }],\n      clickHandler: function clickHandler(value) {\n        // 注意 this 是指向当前的 Head 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, dropListConf) || this;\n    var onCatalogChange = editor.config.onCatalogChange; // 未配置目录change监听回调时不运行下面操作\n\n    if (onCatalogChange) {\n      _this.oldCatalogs = [];\n\n      _this.addListenerCatalog(); // 监听文本框编辑时的大纲信息\n\n\n      _this.getCatalogs(); // 初始有值的情况获取一遍大纲信息\n\n    }\n\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  Head.prototype.command = function (value) {\n    var editor = this.editor;\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n\n    if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n      // 不能选中多行来设置标题，否则会出现问题\n      // 例如选中的是 <p>xxx</p><p>yyy</p> 来设置标题，设置之后会成为 <h1>xxx<br>yyy</h1> 不符合预期\n      this.setMultilineHead(value);\n    } else {\n      var _context;\n\n      // 选中内容包含序列，code，表格，分割线时不处理\n      if ((0, _indexOf[\"default\"])(_context = ['OL', 'UL', 'LI', 'TABLE', 'TH', 'TR', 'CODE', 'HR']).call(_context, dom_core_1[\"default\"]($selectionElem).getNodeName()) > -1) {\n        return;\n      }\n\n      editor.cmd[\"do\"]('formatBlock', value);\n    } // 标题设置成功且不是<p>正文标签就配置大纲id\n\n\n    value !== '<p>' && this.addUidForSelectionElem();\n  };\n  /**\n   * 为标题设置大纲\n   */\n\n\n  Head.prototype.addUidForSelectionElem = function () {\n    var editor = this.editor;\n    var tag = editor.selection.getSelectionContainerElem();\n    var id = util_1.getRandomCode(); // 默认五位数id\n\n    dom_core_1[\"default\"](tag).attr('id', id);\n  };\n  /**\n   * 监听change事件来返回大纲信息\n   */\n\n\n  Head.prototype.addListenerCatalog = function () {\n    var _this = this;\n\n    var editor = this.editor;\n    editor.txt.eventHooks.changeEvents.push(function () {\n      _this.getCatalogs();\n    });\n  };\n  /**\n   * 获取大纲数组\n   */\n\n\n  Head.prototype.getCatalogs = function () {\n    var editor = this.editor;\n    var $textElem = this.editor.$textElem;\n    var onCatalogChange = editor.config.onCatalogChange;\n    var elems = (0, _find[\"default\"])($textElem).call($textElem, 'h1,h2,h3,h4,h5');\n    var catalogs = [];\n    (0, _forEach[\"default\"])(elems).call(elems, function (elem, index) {\n      var $elem = dom_core_1[\"default\"](elem);\n      var id = $elem.attr('id');\n      var tag = $elem.getNodeName();\n      var text = $elem.text();\n\n      if (!id) {\n        id = util_1.getRandomCode();\n        $elem.attr('id', id);\n      } // 标题为空的情况不生成目录\n\n\n      if (!text) return;\n      catalogs.push({\n        tag: tag,\n        id: id,\n        text: text\n      });\n    }); // 旧目录和新目录对比是否相等，不相等则运行回调并保存新目录到旧目录变量，以方便下一次对比\n\n    if ((0, _stringify[\"default\"])(this.oldCatalogs) !== (0, _stringify[\"default\"])(catalogs)) {\n      this.oldCatalogs = catalogs;\n      onCatalogChange && onCatalogChange(catalogs);\n    }\n  };\n  /**\n   * 设置选中的多行标题\n   * @param value  需要执行的命令值\n   */\n\n\n  Head.prototype.setMultilineHead = function (value) {\n    var _this = this;\n\n    var _a, _b;\n\n    var editor = this.editor;\n    var $selection = editor.selection; // 初始选区的父节点\n\n    var containerElem = (_a = $selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0]; // 白名单：用户选区里如果有该元素则不进行转换\n\n    var _WHITE_LIST = ['IMG', 'VIDEO', 'TABLE', 'TH', 'TR', 'UL', 'OL', 'PRE', 'HR', 'BLOCKQUOTE']; // 获取选中的首、尾元素\n\n    var startElem = dom_core_1[\"default\"]($selection.getSelectionStartElem());\n    var endElem = dom_core_1[\"default\"]($selection.getSelectionEndElem()); // 判断用户选中元素是否为最后一个空元素，如果是将endElem指向上一个元素\n\n    if (endElem.elems[0].outerHTML === dom_core_1[\"default\"](const_1.EMPTY_P).elems[0].outerHTML && !endElem.elems[0].nextSibling) {\n      endElem = endElem.prev();\n    } // 存放选中的所有元素\n\n\n    var cacheDomList = [];\n    cacheDomList.push(startElem.getNodeTop(editor)); // 选中首尾元素在父级下的坐标\n\n    var indexList = []; // 选区共同祖先元素的所有子节点\n\n    var childList = (_b = $selection.getRange()) === null || _b === void 0 ? void 0 : _b.commonAncestorContainer.childNodes; // 找到选区的首尾元素的下标，方便最后恢复选区\n\n    childList === null || childList === void 0 ? void 0 : (0, _forEach[\"default\"])(childList).call(childList, function (item, index) {\n      if (item === cacheDomList[0].getNode()) {\n        indexList.push(index);\n      }\n\n      if (item === endElem.getNodeTop(editor).getNode()) {\n        indexList.push(index);\n      }\n    }); // 找到首尾元素中间所包含的所有dom\n\n    var i = 0; // 数组中的当前元素不等于选区最后一个节点时循环寻找中间节点\n\n    while (cacheDomList[i].getNode() !== endElem.getNodeTop(editor).getNode()) {\n      // 严谨性判断，是否元素为空\n      if (!cacheDomList[i].elems[0]) return;\n      var d = dom_core_1[\"default\"](cacheDomList[i].next().getNode());\n      cacheDomList.push(d);\n      i++;\n    } // 将选区内的所有子节点进行遍历生成对应的标签\n\n\n    cacheDomList === null || cacheDomList === void 0 ? void 0 : (0, _forEach[\"default\"])(cacheDomList).call(cacheDomList, function (_node, index) {\n      // 判断元素是否含有白名单内的标签元素\n      if (!_this.hasTag(_node, _WHITE_LIST)) {\n        var $h = dom_core_1[\"default\"](value);\n\n        var $parentNode = _node.parent().getNode(); // 设置标签内容\n\n\n        $h.html(\"\" + _node.html()); // 插入生成的新标签\n\n        $parentNode.insertBefore($h.getNode(), _node.getNode()); // 移除原有的标签\n\n        _node.remove();\n      }\n    }); // 重新设置选区起始位置，保留拖蓝区域\n\n    $selection.createRangeByElems(containerElem.children[indexList[0]], containerElem.children[indexList[1]]);\n  };\n  /**\n   * 是否含有某元素\n   * @param elem 需要检查的元素\n   * @param whiteList 白名单\n   */\n\n\n  Head.prototype.hasTag = function (elem, whiteList) {\n    var _this = this;\n\n    var _a;\n\n    if (!elem) return false;\n    if ((0, _includes[\"default\"])(whiteList).call(whiteList, elem === null || elem === void 0 ? void 0 : elem.getNodeName())) return true;\n    var _flag = false;\n    (_a = elem.children()) === null || _a === void 0 ? void 0 : (0, _forEach[\"default\"])(_a).call(_a, function (child) {\n      _flag = _this.hasTag(dom_core_1[\"default\"](child), whiteList);\n    });\n    return _flag;\n  };\n  /**\n   * 尝试改变菜单激活（高亮）状态\n   */\n\n\n  Head.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n    var reg = /^h/i;\n    var cmdValue = editor.cmd.queryCommandValue('formatBlock');\n\n    if (reg.test(cmdValue)) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Head;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = Head;\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(333);\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(334);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(335);\nvar core = __webpack_require__(11);\n\n// eslint-disable-next-line es/no-json -- safe\nif (!core.JSON) core.JSON = { stringify: JSON.stringify };\n\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nmodule.exports = function stringify(it, replacer, space) {\n  return core.JSON.stringify.apply(null, arguments);\n};\n\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar getBuiltIn = __webpack_require__(25);\nvar fails = __webpack_require__(12);\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar re = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = string.charAt(offset - 1);\n  var next = string.charAt(offset + 1);\n  if ((low.test(match) && !hi.test(next)) || (hi.test(match) && !low.test(prev))) {\n    return '\\\\u' + match.charCodeAt(0).toString(16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var result = $stringify.apply(null, arguments);\n      return typeof result == 'string' ? result.replace(re, fix) : result;\n    }\n  });\n}\n\n\n/***/ }),\n/* 336 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 链接 菜单\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(337));\n\nvar is_active_1 = tslib_1.__importDefault(__webpack_require__(139));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(339));\n\nvar const_1 = __webpack_require__(7);\n\nvar Link = function (_super) {\n  tslib_1.__extends(Link, _super);\n\n  function Link(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"链接\"><i class=\"w-e-icon-link\"></i></div>');\n    _this = _super.call(this, $elem, editor) || this; // 绑定事件，如点击链接时，可以查看链接\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 菜单点击事件\n   */\n\n\n  Link.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var $linkElem;\n    /**\n        @author:Gavin\n        @description\n            解决当全选删除编辑区内容时，点击链接没反应的问题(因为选区有问题)\n          \n    **/\n\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n    var $textElem = editor.$textElem;\n    var html = $textElem.html();\n    var $txtHtml = (0, _trim[\"default\"])(html).call(html);\n\n    if ($txtHtml === const_1.EMPTY_P) {\n      var $emptyChild = $textElem.children(); // 调整选区\n\n      editor.selection.createRangeByElem($emptyChild, true, true); // 重新获取选区\n\n      $selectionElem = editor.selection.getSelectionContainerElem();\n    } // 判断是否是多行 多行则退出 否则会出现问题\n\n\n    if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n      return;\n    }\n\n    if (this.isActive) {\n      // 菜单被激活，说明选区在链接里\n      $linkElem = editor.selection.getSelectionContainerElem();\n\n      if (!$linkElem) {\n        return;\n      } // 弹出 panel\n\n\n      this.createPanel($linkElem.text(), $linkElem.attr('href'));\n    } else {\n      // 菜单未被激活，说明选区不在链接里\n      if (editor.selection.isSelectionEmpty()) {\n        // 选区是空的，未选中内容\n        this.createPanel('', '');\n      } else {\n        // 选中内容了\n        this.createPanel(editor.selection.getSelectionText(), '');\n      }\n    }\n  };\n  /**\n   * 创建 panel\n   * @param text 文本\n   * @param link 链接\n   */\n\n\n  Link.prototype.createPanel = function (text, link) {\n    var conf = create_panel_conf_1[\"default\"](this.editor, text, link);\n    var panel = new Panel_1[\"default\"](this, conf);\n    panel.create();\n  };\n  /**\n   * 尝试修改菜单 active 状态\n   */\n\n\n  Link.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (is_active_1[\"default\"](editor)) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Link;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Link;\n\n/***/ }),\n/* 337 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description link 菜单 panel tab 配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar is_active_1 = tslib_1.__importDefault(__webpack_require__(139));\n\nvar util_2 = __webpack_require__(338);\n\nfunction default_1(editor, text, link) {\n  // panel 中需要用到的id\n  var inputLinkId = util_1.getRandom('input-link');\n  var inputTextId = util_1.getRandom('input-text');\n  var btnOkId = util_1.getRandom('btn-ok');\n  var btnDelId = util_1.getRandom('btn-del'); // 是否显示“取消链接”\n\n  var delBtnDisplay = is_active_1[\"default\"](editor) ? 'inline-block' : 'none';\n  var $selectedLink;\n  /**\n   * 选中整个链接元素\n   */\n\n  function selectLinkElem() {\n    if (!is_active_1[\"default\"](editor)) return;\n    var $linkElem = editor.selection.getSelectionContainerElem();\n    if (!$linkElem) return;\n    editor.selection.createRangeByElem($linkElem);\n    editor.selection.restoreSelection();\n    $selectedLink = $linkElem; // 赋值给函数内全局变量\n  }\n  /**\n   * 插入链接\n   * @param text 文字\n   * @param link 链接\n   */\n\n\n  function insertLink(text, link) {\n    // fix: 修复列表下无法设置超链接的问题(替换选中文字中的标签)\n    var subStr = new RegExp(/(<\\/*ul>)|(<\\/*li>)|(<\\/*ol>)/g);\n    text = text.replace(subStr, '');\n\n    if (is_active_1[\"default\"](editor)) {\n      // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n      selectLinkElem();\n      editor.cmd[\"do\"]('insertHTML', \"<a href=\\\"\" + link + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>\");\n    } else {\n      // 选区未处于链接中，直接插入即可\n      editor.cmd[\"do\"]('insertHTML', \"<a href=\\\"\" + link + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>\");\n    }\n  }\n  /**\n   * 取消链接\n   */\n\n\n  function delLink() {\n    if (!is_active_1[\"default\"](editor)) {\n      return;\n    } // 选中整个链接\n\n\n    selectLinkElem(); // 用文本替换链接\n\n    var selectionText = $selectedLink.text();\n    editor.cmd[\"do\"]('insertHTML', '<span>' + selectionText + '</span>');\n  }\n  /**\n   * 校验链接是否合法\n   * @param link 链接\n   */\n\n\n  function checkLink(text, link) {\n    //查看开发者自定义配置的返回值\n    var check = editor.config.linkCheck(text, link);\n\n    if (check === undefined) {//用户未能通过开发者的校验，且开发者不希望编辑器提示用户\n    } else if (check === true) {\n      //用户通过了开发者的校验\n      return true;\n    } else {\n      //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n      editor.config.customAlert(check, 'warning');\n    }\n\n    return false;\n  }\n\n  var conf = {\n    width: 300,\n    height: 0,\n    // panel 中可包含多个 tab\n    tabs: [{\n      // tab 的标题\n      title: editor.i18next.t('menus.panelMenus.link.链接'),\n      // 模板\n      tpl: \"<div>\\n                        <input\\n                            id=\\\"\" + inputTextId + \"\\\"\\n                            type=\\\"text\\\"\\n                            class=\\\"block\\\"\\n                            value=\\\"\" + text + \"\\\"\\n                            placeholder=\\\"\" + editor.i18next.t('menus.panelMenus.link.链接文字') + \"\\\"/>\\n                        </td>\\n                        <input\\n                            id=\\\"\" + inputLinkId + \"\\\"\\n                            type=\\\"text\\\"\\n                            class=\\\"block\\\"\\n                            value=\\\"\" + link + \"\\\"\\n                            placeholder=\\\"\" + editor.i18next.t('如') + \" https://...\\\"/>\\n                        </td>\\n                        <div class=\\\"w-e-button-container\\\">\\n                            <button type=\\\"button\\\" id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\\n                                \" + editor.i18next.t('插入') + \"\\n                            </button>\\n                            <button type=\\\"button\\\" id=\\\"\" + btnDelId + \"\\\" class=\\\"gray right\\\" style=\\\"display:\" + delBtnDisplay + \"\\\">\\n                                \" + editor.i18next.t('menus.panelMenus.link.取消链接') + \"\\n                            </button>\\n                        </div>\\n                    </div>\",\n      // 事件绑定\n      events: [// 插入链接\n      {\n        selector: '#' + btnOkId,\n        type: 'click',\n        fn: function fn() {\n          var _context, _context2;\n\n          var _a, _b; // 获取选取\n\n\n          editor.selection.restoreSelection();\n          var topNode = editor.selection.getSelectionRangeTopNodes()[0].getNode();\n          var selection = window.getSelection(); // 执行插入链接\n\n          var $link = dom_core_1[\"default\"]('#' + inputLinkId);\n          var $text = dom_core_1[\"default\"]('#' + inputTextId);\n          var link = (0, _trim[\"default\"])(_context = $link.val()).call(_context);\n          var text = (0, _trim[\"default\"])(_context2 = $text.val()).call(_context2);\n          var html = '';\n          if (selection && !(selection === null || selection === void 0 ? void 0 : selection.isCollapsed)) html = (_a = util_2.insertHtml(selection, topNode)) === null || _a === void 0 ? void 0 : (0, _trim[\"default\"])(_a).call(_a); // 去除html的tag标签\n\n          var htmlText = html === null || html === void 0 ? void 0 : html.replace(/<.*?>/g, '');\n          var htmlTextLen = (_b = htmlText === null || htmlText === void 0 ? void 0 : htmlText.length) !== null && _b !== void 0 ? _b : 0; // 当input中的text的长度大于等于选区的文字时\n          // 需要判断两者相同的长度的text内容是否相同\n          // 相同则只需把多余的部分添加上去即可，否则使用input中的内容\n\n          if (htmlTextLen <= text.length) {\n            var startText = text.substring(0, htmlTextLen);\n            var endText = text.substring(htmlTextLen);\n\n            if (htmlText === startText) {\n              text = html + endText;\n            }\n          } // 链接为空，则不插入\n\n\n          if (!link) return; // 文本为空，则用链接代替\n\n          if (!text) text = link; // 校验链接是否满足用户的规则，若不满足则不插入\n\n          if (!checkLink(text, link)) return;\n          insertLink(text, link); // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n\n          return true;\n        },\n        bindEnter: true\n      }, // 取消链接\n      {\n        selector: '#' + btnDelId,\n        type: 'click',\n        fn: function fn() {\n          // 执行取消链接\n          delLink(); // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n\n          return true;\n        }\n      }]\n    } // tab end\n    ] // tabs end\n\n  };\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 338 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.insertHtml = exports.createPartHtml = exports.makeHtmlString = exports.getTopNode = void 0;\n/**\n * 获取除了包裹在整行区域的顶级Node\n * @param node 最外层node下的某个childNode\n * @param topText 最外层node中文本内容\n */\n\nfunction getTopNode(node, topText) {\n  var pointerNode = node;\n  var topNode = node;\n\n  do {\n    if (pointerNode.textContent === topText) break;\n    topNode = pointerNode;\n\n    if (pointerNode.parentNode) {\n      pointerNode = pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.parentNode;\n    }\n  } while ((pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.nodeName) !== 'P');\n\n  return topNode;\n}\n\nexports.getTopNode = getTopNode;\n/**\n * 生成html的string形式\n * @param tagName 标签名\n * @param content 需要包裹的内容\n */\n\nfunction makeHtmlString(node, content) {\n  var tagName = node.nodeName;\n  var attr = '';\n\n  if (node.nodeType === 3 || /^(h|H)[1-6]$/.test(tagName)) {\n    return content;\n  }\n\n  if (node.nodeType === 1) {\n    var style = node.getAttribute('style');\n    var face = node.getAttribute('face');\n    var color = node.getAttribute('color');\n    if (style) attr = attr + (\" style=\\\"\" + style + \"\\\"\");\n    if (face) attr = attr + (\" face=\\\"\" + face + \"\\\"\");\n    if (color) attr = attr + (\" color=\\\"\" + color + \"\\\"\");\n  }\n\n  tagName = tagName.toLowerCase();\n  return \"<\" + tagName + attr + \">\" + content + \"</\" + tagName + \">\";\n}\n\nexports.makeHtmlString = makeHtmlString;\n/**\n * 生成开始或者结束位置的html字符片段\n * @param topText 选区所在的行的文本内容\n * @param node 选区给出的node节点\n * @param startPos node文本内容选取的开始位置\n * @param endPos node文本内容选取的结束位置\n */\n\nfunction createPartHtml(topText, node, startPos, endPost) {\n  var _a;\n\n  var selectionContent = (_a = node.textContent) === null || _a === void 0 ? void 0 : _a.substring(startPos, endPost);\n  var pointerNode = node;\n  var content = '';\n\n  do {\n    content = makeHtmlString(pointerNode, selectionContent !== null && selectionContent !== void 0 ? selectionContent : '');\n    selectionContent = content;\n    pointerNode = pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.parentElement;\n  } while (pointerNode && pointerNode.textContent !== topText);\n\n  return content;\n}\n\nexports.createPartHtml = createPartHtml;\n/**\n * 生成需要插入的html内容的字符串形式\n * @param selection 选区对象\n * @param topNode 选区所在行的顶级node节点\n */\n\nfunction insertHtml(selection, topNode) {\n  var _a, _b, _c, _d, _e;\n\n  var anchorNode = selection.anchorNode,\n      focusNode = selection.focusNode,\n      anchorPos = selection.anchorOffset,\n      focusPos = selection.focusOffset;\n  var topText = (_a = topNode.textContent) !== null && _a !== void 0 ? _a : '';\n  var TagArr = getContainerTag(topNode);\n  var content = '';\n  var startContent = '';\n  var middleContent = '';\n  var endContent = '';\n  var startNode = anchorNode;\n  var endNode = focusNode; // 用来保存 anchorNode的非p最外层节点\n\n  var pointerNode = anchorNode; // 节点是同一个的处理\n\n  if (anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.isEqualNode(focusNode !== null && focusNode !== void 0 ? focusNode : null)) {\n    var innerContent = createPartHtml(topText, anchorNode, anchorPos, focusPos);\n    innerContent = addContainer(TagArr, innerContent);\n    return innerContent;\n  } // 选中开始位置节点的处理\n\n\n  if (anchorNode) startContent = createPartHtml(topText, anchorNode, anchorPos !== null && anchorPos !== void 0 ? anchorPos : 0); // 结束位置节点的处理\n\n  if (focusNode) endContent = createPartHtml(topText, focusNode, 0, focusPos); // 将指针节点位置放置到开始的节点\n\n  if (anchorNode) {\n    // 获取start的非p顶级node\n    startNode = getTopNode(anchorNode, topText);\n  }\n\n  if (focusNode) {\n    // 获取end的非p顶级node\n    endNode = getTopNode(focusNode, topText);\n  } // 处于开始和结束节点位置之间的节点的处理\n\n\n  pointerNode = (_b = startNode === null || startNode === void 0 ? void 0 : startNode.nextSibling) !== null && _b !== void 0 ? _b : anchorNode;\n\n  while (!(pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.isEqualNode(endNode !== null && endNode !== void 0 ? endNode : null))) {\n    var pointerNodeName = pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.nodeName;\n\n    if (pointerNodeName === '#text') {\n      middleContent = middleContent + (pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.textContent);\n    } else {\n      var htmlString = (_d = (_c = pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.firstChild) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.innerHTML;\n      if (pointerNode) middleContent = middleContent + makeHtmlString(pointerNode, htmlString !== null && htmlString !== void 0 ? htmlString : '');\n    } // 解决文字和图片同一行时会触发无限循环, 到不了endNode === pointerNode条件\n\n\n    var nextPointNode = (_e = pointerNode === null || pointerNode === void 0 ? void 0 : pointerNode.nextSibling) !== null && _e !== void 0 ? _e : pointerNode;\n    if (nextPointNode === pointerNode) break;\n    pointerNode = nextPointNode;\n  }\n\n  content = \"\" + startContent + middleContent + endContent; // 增加最外层包裹标签\n\n  content = addContainer(TagArr, content);\n  return content;\n}\n\nexports.insertHtml = insertHtml;\n/**\n * 获取包裹在最外层的非p Node tagName 数组\n * @param node 选区所在行的node节点\n */\n\nfunction getContainerTag(node) {\n  var _a;\n\n  var topText = (_a = node.textContent) !== null && _a !== void 0 ? _a : '';\n  var tagArr = [];\n\n  while ((node === null || node === void 0 ? void 0 : node.textContent) === topText) {\n    if (node.nodeName !== 'P') {\n      tagArr.push(node);\n    }\n\n    node = node.childNodes[0];\n  }\n\n  return tagArr;\n}\n/**\n * 为内容增加包裹标签\n * @param tagArr 最外层包裹的tag数组，索引越小tag越在外面\n * @param content tag要包裹的内容\n */\n\n\nfunction addContainer(tagArr, content) {\n  (0, _forEach[\"default\"])(tagArr).call(tagArr, function (v) {\n    content = makeHtmlString(v, content);\n  });\n  return content;\n}\n\n/***/ }),\n/* 339 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定链接元素的事件，入口\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(340));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  // tooltip 事件\n  tooltip_event_1[\"default\"](editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 340 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description tooltip 事件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n  /**\n   * 显示 tooltip\n   * @param $link 链接元素\n   */\n\n  function showLinkTooltip($link) {\n    var conf = [{\n      $elem: dom_core_1[\"default\"](\"<span>\" + editor.i18next.t('menus.panelMenus.link.查看链接') + \"</span>\"),\n      onClick: function onClick(editor, $link) {\n        var link = $link.attr('href');\n        window.open(link, '_target'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + editor.i18next.t('menus.panelMenus.link.取消链接') + \"</span>\"),\n      onClick: function onClick(editor, $link) {\n        var _a, _b; // 选中链接元素\n\n\n        editor.selection.createRangeByElem($link);\n        editor.selection.restoreSelection();\n        var $childNodes = $link.childNodes(); // 如果链接是图片\n\n        if (($childNodes === null || $childNodes === void 0 ? void 0 : $childNodes.getNodeName()) === 'IMG') {\n          // 获取选中的图片\n          var $selectIMG = (_b = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.children()) === null || _b === void 0 ? void 0 : _b.elems[0].children[0]; // 插入图片\n\n          editor.cmd[\"do\"]('insertHTML', \"<img \\n                                src=\" + ($selectIMG === null || $selectIMG === void 0 ? void 0 : $selectIMG.getAttribute('src')) + \" \\n                                style=\" + ($selectIMG === null || $selectIMG === void 0 ? void 0 : $selectIMG.getAttribute('style')) + \">\");\n        } else {\n          // 用文字，替换链接\n          var selectionText = $link.text();\n          editor.cmd[\"do\"]('insertHTML', '<span>' + selectionText + '</span>');\n        } // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n\n        return true;\n      }\n    }]; // 创建 tooltip\n\n    tooltip = new Tooltip_1[\"default\"](editor, $link, conf);\n    tooltip.create();\n  }\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  function hideLinkTooltip() {\n    // 移除 tooltip\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showLinkTooltip: showLinkTooltip,\n    hideLinkTooltip: hideLinkTooltip\n  };\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showLinkTooltip = _a.showLinkTooltip,\n      hideLinkTooltip = _a.hideLinkTooltip; // 点击链接元素是，显示 tooltip\n\n\n  editor.txt.eventHooks.linkClickEvents.push(showLinkTooltip); // 点击其他地方，或者滚动时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideLinkTooltip);\n  editor.txt.eventHooks.keyupEvents.push(hideLinkTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideLinkTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideLinkTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideLinkTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n\n/***/ }),\n/* 341 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 斜体\n * @author liuwei\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Italic = function (_super) {\n  tslib_1.__extends(Italic, _super);\n\n  function Italic(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u659C\\u4F53\\\">\\n                <i class=\\\"w-e-icon-italic\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Italic.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var isSelectEmpty = editor.selection.isSelectionEmpty();\n\n    if (isSelectEmpty) {\n      // 选区范围是空的，插入并选中一个“空白”\n      editor.selection.createEmptyRange();\n    } // 执行 italic 命令\n\n\n    editor.cmd[\"do\"]('italic');\n\n    if (isSelectEmpty) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Italic.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (editor.cmd.queryCommandState('italic')) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Italic;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Italic;\n\n/***/ }),\n/* 342 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 下划线 underline\n * @author dyl\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Underline = function (_super) {\n  tslib_1.__extends(Underline, _super);\n\n  function Underline(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u4E0B\\u5212\\u7EBF\\\">\\n                <i class=\\\"w-e-icon-underline\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Underline.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var isSelectEmpty = editor.selection.isSelectionEmpty();\n\n    if (isSelectEmpty) {\n      // 选区范围是空的，插入并选中一个“空白”\n      editor.selection.createEmptyRange();\n    } // 执行 Underline 命令\n\n\n    editor.cmd[\"do\"]('underline');\n\n    if (isSelectEmpty) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Underline.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (editor.cmd.queryCommandState('underline')) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Underline;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Underline;\n\n/***/ }),\n/* 343 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 删除线\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar StrikeThrough = function (_super) {\n  tslib_1.__extends(StrikeThrough, _super);\n\n  function StrikeThrough(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5220\\u9664\\u7EBF\\\">\\n                <i class=\\\"w-e-icon-strikethrough\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  StrikeThrough.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var isSelectEmpty = editor.selection.isSelectionEmpty();\n\n    if (isSelectEmpty) {\n      // 选区范围是空的，插入并选中一个“空白”\n      editor.selection.createEmptyRange();\n    } // 执行 strikeThrough 命令\n\n\n    editor.cmd[\"do\"]('strikeThrough');\n\n    if (isSelectEmpty) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  StrikeThrough.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (editor.cmd.queryCommandState('strikeThrough')) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return StrikeThrough;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = StrikeThrough;\n\n/***/ }),\n/* 344 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 字体样式 FontStyle\n * @author dyl\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar FontStyleList_1 = tslib_1.__importDefault(__webpack_require__(345));\n\nvar FontStyle = function (_super) {\n  tslib_1.__extends(FontStyle, _super);\n\n  function FontStyle(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5B57\\u4F53\\\">\\n                <i class=\\\"w-e-icon-font\\\"></i>\\n            </div>\");\n    var fontStyleList = new FontStyleList_1[\"default\"](editor.config.fontNames);\n    var fontListConf = {\n      width: 100,\n      title: '设置字体',\n      type: 'list',\n      list: fontStyleList.getItemList(),\n      clickHandler: function clickHandler(value) {\n        // this 是指向当前的 FontStyle 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, fontListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  FontStyle.prototype.command = function (value) {\n    var _a;\n\n    var editor = this.editor;\n    var isEmptySelection = editor.selection.isSelectionEmpty();\n    var $selectionElem = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0];\n    if ($selectionElem == null) return;\n    var isFont = ($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.nodeName.toLowerCase()) !== 'p';\n    var isSameValue = ($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getAttribute('face')) === value;\n\n    if (isEmptySelection) {\n      if (isFont && !isSameValue) {\n        var $elems = editor.selection.getSelectionRangeTopNodes();\n        editor.selection.createRangeByElem($elems[0]);\n        editor.selection.moveCursor($elems[0].elems[0]);\n      }\n\n      editor.selection.setRangeToElem($selectionElem); // 插入空白选区\n\n      editor.selection.createEmptyRange();\n    }\n\n    editor.cmd[\"do\"]('fontName', value);\n\n    if (isEmptySelection) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   * ?字体是否需要有激活状态这个操作?\n   */\n\n\n  FontStyle.prototype.tryChangeActive = function () {// const editor = this.editor\n    // const cmdValue = editor.cmd.queryCommandValue('fontName')\n    // if (menusConfig.fontNames.indexOf(cmdValue) >= 0) {\n    //     this.active()\n    // } else {\n    //     this.unActive()\n    // }\n  };\n\n  return FontStyle;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = FontStyle;\n\n/***/ }),\n/* 345 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 字体 class\n * @author dyl\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 封装的一个字体菜单列表数据的组装对象,\n * 原因是因为在constructor函数中,直接执行此流程,会让代码量看起来较多,\n * 如果要在constructor调用外部函数,个人目前发现会有错误提示,\n * 因此,想着顺便研究实践下ts,遍创建了这样一个类\n */\n\n\nvar FontStyleList = function () {\n  function FontStyleList(list) {\n    var _this = this;\n\n    this.itemList = [];\n    (0, _forEach[\"default\"])(list).call(list, function (fontValue) {\n      // fontValue 2种情况一种是string类型的直接value等同于font-family\n      // Object类型value为font-family name为ui视图呈现\n      var fontFamily = typeof fontValue === 'string' ? fontValue : fontValue.value;\n      var fontName = typeof fontValue === 'string' ? fontValue : fontValue.name;\n\n      _this.itemList.push({\n        $elem: dom_core_1[\"default\"](\"<p style=\\\"font-family:'\" + fontFamily + \"'\\\">\" + fontName + \"</p>\"),\n        value: fontName\n      });\n    });\n  }\n\n  FontStyleList.prototype.getItemList = function () {\n    return this.itemList;\n  };\n\n  return FontStyleList;\n}();\n\nexports[\"default\"] = FontStyleList;\n\n/***/ }),\n/* 346 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 字号 FontSize\n * @author lkw\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar FontSizeList_1 = tslib_1.__importDefault(__webpack_require__(347));\n\nvar FontSize = function (_super) {\n  tslib_1.__extends(FontSize, _super);\n\n  function FontSize(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5B57\\u53F7\\\">\\n                <i class=\\\"w-e-icon-text-heigh\\\"></i>\\n            </div>\");\n    var fontStyleList = new FontSizeList_1[\"default\"](editor.config.fontSizes);\n    var fontListConf = {\n      width: 160,\n      title: '设置字号',\n      type: 'list',\n      list: fontStyleList.getItemList(),\n      clickHandler: function clickHandler(value) {\n        // this 是指向当前的 FontSize 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, fontListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  FontSize.prototype.command = function (value) {\n    var _a;\n\n    var editor = this.editor;\n    var isEmptySelection = editor.selection.isSelectionEmpty();\n    var selectionElem = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0];\n    if (selectionElem == null) return;\n    editor.cmd[\"do\"]('fontSize', value);\n\n    if (isEmptySelection) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   * ?字号是否需要有激活状态这个操作?\n   */\n\n\n  FontSize.prototype.tryChangeActive = function () {};\n\n  return FontSize;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = FontSize;\n\n/***/ }),\n/* 347 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 字号 class\n * @author lkw\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * FontSizeList 字号配置列表\n */\n\n\nvar FontSizeList = function () {\n  function FontSizeList(list) {\n    this.itemList = [];\n\n    for (var key in list) {\n      var item = list[key];\n      this.itemList.push({\n        $elem: dom_core_1[\"default\"](\"<p style=\\\"font-size:\" + key + \"\\\">\" + item.name + \"</p>\"),\n        value: item.value\n      });\n    }\n  }\n\n  FontSizeList.prototype.getItemList = function () {\n    return this.itemList;\n  };\n\n  return FontSizeList;\n}();\n\nexports[\"default\"] = FontSizeList;\n\n/***/ }),\n/* 348 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 对齐方式\n * @author liuwei\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar SPECIAL_NODE_LIST = ['LI'];\nvar SPECIAL_TOP_NODE_LIST = ['UL', 'BLOCKQUOTE'];\n\nvar Justify = function (_super) {\n  tslib_1.__extends(Justify, _super);\n\n  function Justify(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"对齐\"><i class=\"w-e-icon-paragraph-left\"></i></div>');\n    var dropListConf = {\n      width: 100,\n      title: '对齐方式',\n      type: 'list',\n      list: [{\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-left w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.靠左') + \"\\n                        </p>\"),\n        value: 'left'\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-center w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.居中') + \"\\n                        </p>\"),\n        value: 'center'\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-right w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.靠右') + \"\\n                        </p>\"),\n        value: 'right'\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-paragraph-justify w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.justify.两端') + \"\\n                        </p>\"),\n        value: 'justify'\n      }],\n      clickHandler: function clickHandler(value) {\n        // 执行对应的value操作\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, dropListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  Justify.prototype.command = function (value) {\n    var editor = this.editor;\n    var selection = editor.selection;\n    var $selectionElem = selection.getSelectionContainerElem(); // 保存选区\n\n    selection.saveRange(); // 获取顶级元素\n\n    var $elems = editor.selection.getSelectionRangeTopNodes();\n\n    if ($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.length) {\n      // list 在chrome下默认多包裹一个 p，导致不能通过顶层元素判断，所以单独加个判断\n      if (this.isSpecialNode($selectionElem, $elems[0]) || this.isSpecialTopNode($elems[0])) {\n        var el = this.getSpecialNodeUntilTop($selectionElem, $elems[0]);\n        if (el == null) return;\n        dom_core_1[\"default\"](el).css('text-align', value);\n      } else {\n        (0, _forEach[\"default\"])($elems).call($elems, function (el) {\n          el.css('text-align', value);\n        });\n      }\n    } //恢复选区\n\n\n    selection.restoreSelection();\n  };\n  /**\n   * 获取选区中的特殊元素，如果不存在，则直接返回顶层元素子元素\n   * @param el DomElement\n   * @param topEl DomElement\n   */\n\n\n  Justify.prototype.getSpecialNodeUntilTop = function (el, topEl) {\n    var parentNode = el.elems[0];\n    var topNode = topEl.elems[0]; // 可能出现嵌套的情况，所以一级一级向上找，是否是特殊元素\n\n    while (parentNode != null) {\n      if ((0, _indexOf[\"default\"])(SPECIAL_NODE_LIST).call(SPECIAL_NODE_LIST, parentNode === null || parentNode === void 0 ? void 0 : parentNode.nodeName) !== -1) {\n        return parentNode;\n      } // 如果再到 top 元素之前还没找到特殊元素，直接返回元素\n\n\n      if (parentNode.parentNode === topNode) {\n        return parentNode;\n      }\n\n      parentNode = parentNode.parentNode;\n    }\n\n    return parentNode;\n  };\n  /**\n   * 当选区元素或者顶层元素是某些特殊元素时，只需要修改子元素的对齐样式的元素\n   * @param el DomElement\n   * @param topEl DomElement\n   */\n\n\n  Justify.prototype.isSpecialNode = function (el, topEl) {\n    // 如果以后有类似的元素要这样处理，直接修改这个数组即可\n    var parentNode = this.getSpecialNodeUntilTop(el, topEl);\n    if (parentNode == null) return false;\n    return (0, _indexOf[\"default\"])(SPECIAL_NODE_LIST).call(SPECIAL_NODE_LIST, parentNode.nodeName) !== -1;\n  };\n  /**\n   * 当选区 top 元素为某些特殊元素时，只需要修改子元素的对齐样式的元素\n   * @param el DomElement\n   */\n\n\n  Justify.prototype.isSpecialTopNode = function (topEl) {\n    var _a;\n\n    if (topEl == null) return false;\n    return (0, _indexOf[\"default\"])(SPECIAL_TOP_NODE_LIST).call(SPECIAL_TOP_NODE_LIST, (_a = topEl.elems[0]) === null || _a === void 0 ? void 0 : _a.nodeName) !== -1;\n  };\n  /**\n   * 尝试改变菜单激活（高亮）状态\n   * 默认左对齐,若选择其他对其方式对active进行高亮否则unActive\n   * ?考虑优化的话 是否可以对具体选中的进行高亮\n   */\n\n\n  Justify.prototype.tryChangeActive = function () {};\n\n  return Justify;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = Justify;\n\n/***/ }),\n/* 349 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 引用\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar bind_event_1 = tslib_1.__importDefault(__webpack_require__(350));\n\nvar create_quote_node_1 = tslib_1.__importDefault(__webpack_require__(351));\n\nvar const_1 = __webpack_require__(7);\n\nvar Quote = function (_super) {\n  tslib_1.__extends(Quote, _super);\n\n  function Quote(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5F15\\u7528\\\">\\n                <i class=\\\"w-e-icon-quotes-left\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    bind_event_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Quote.prototype.clickHandler = function () {\n    var _a, _b;\n\n    var editor = this.editor;\n    var isSelectEmpty = editor.selection.isSelectionEmpty();\n    var topNodeElem = editor.selection.getSelectionRangeTopNodes();\n    var $topNodeElem = topNodeElem[topNodeElem.length - 1];\n    var nodeName = this.getTopNodeName(); // IE 中不支持 formatBlock <BLOCKQUOTE> ，要用其他方式兼容\n    // 兼容firefox无法取消blockquote的问题\n\n    if (nodeName === 'BLOCKQUOTE') {\n      // 撤销 quote\n      var $targetELem = dom_core_1[\"default\"]($topNodeElem.childNodes());\n      var len = $targetELem.length;\n      var $middle_1 = $topNodeElem;\n      (0, _forEach[\"default\"])($targetELem).call($targetELem, function (elem) {\n        var $elem = dom_core_1[\"default\"](elem);\n        $elem.insertAfter($middle_1);\n        $middle_1 = $elem;\n      });\n      $topNodeElem.remove();\n      editor.selection.moveCursor($targetELem.elems[len - 1]); // 即时更新btn状态\n\n      this.tryChangeActive();\n    } else {\n      // 将 P 转换为 quote\n\n      /**\n      @author:gavin\n      @description\n          1. 解决ctrl+a全选删除后，选区错位的问题。\n          2. 或者内容清空，按删除键后，选区错位。\n           导致topNodeElem选择的是编辑器顶层元素，在进行dom操作时，quote插入的位置有问题。\n      **/\n      var $quote = create_quote_node_1[\"default\"](topNodeElem); //如果选择的元素时顶层元素，就将选区移动到正确的位置\n\n      if (editor.$textElem.equal($topNodeElem)) {\n        var containerElem = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0];\n        editor.selection.createRangeByElems(containerElem.children[0], containerElem.children[0]);\n        topNodeElem = editor.selection.getSelectionRangeTopNodes();\n        $quote = create_quote_node_1[\"default\"](topNodeElem);\n        $topNodeElem.append($quote);\n      } else {\n        $quote.insertAfter($topNodeElem);\n      }\n\n      this.delSelectNode(topNodeElem);\n      var moveNode = (_b = $quote.childNodes()) === null || _b === void 0 ? void 0 : _b.last().getNode();\n      if (moveNode == null) return; // 兼容firefox（firefox下空行情况下选区会在br后，造成自动换行的问题）\n\n      moveNode.textContent ? editor.selection.moveCursor(moveNode) : editor.selection.moveCursor(moveNode, 0); // 即时更新btn状态\n\n      this.tryChangeActive(); // 防止最后一行无法跳出\n\n      dom_core_1[\"default\"](const_1.EMPTY_P).insertAfter($quote);\n      return;\n    }\n\n    if (isSelectEmpty) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Quote.prototype.tryChangeActive = function () {\n    var _a;\n\n    var editor = this.editor;\n    var cmdValue = (_a = editor.selection.getSelectionRangeTopNodes()[0]) === null || _a === void 0 ? void 0 : _a.getNodeName();\n\n    if (cmdValue === 'BLOCKQUOTE') {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n  /**\n   * 获取包裹在最外层的节点(防止内部嵌入多个样式)\n   * @param selectionElem 选中的节点\n   * @returns {string} 最终要处理的节点名称\n   */\n\n\n  Quote.prototype.getTopNodeName = function () {\n    var editor = this.editor;\n    var $topNodeElem = editor.selection.getSelectionRangeTopNodes()[0];\n    var nodeName = $topNodeElem === null || $topNodeElem === void 0 ? void 0 : $topNodeElem.getNodeName();\n    return nodeName;\n  };\n  /**\n   * 删除选中的元素\n   * @param selectElem 选中的元素节点数组\n   */\n\n\n  Quote.prototype.delSelectNode = function (selectElem) {\n    (0, _forEach[\"default\"])(selectElem).call(selectElem, function (node) {\n      node.remove();\n    });\n  };\n\n  return Quote;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Quote;\n\n/***/ }),\n/* 350 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nfunction bindEvent(editor) {\n  function quoteEnter(e) {\n    var _a;\n\n    var $selectElem = editor.selection.getSelectionContainerElem();\n    var $topSelectElem = editor.selection.getSelectionRangeTopNodes()[0]; // 对quote的enter进行特殊处理\n    //最后一行为空标签时再按会出跳出blockquote\n\n    if (($topSelectElem === null || $topSelectElem === void 0 ? void 0 : $topSelectElem.getNodeName()) === 'BLOCKQUOTE') {\n      // firefox下点击引用按钮会选中外容器<blockquote></blockquote>\n      if ($selectElem.getNodeName() === 'BLOCKQUOTE') {\n        var selectNode = (_a = $selectElem.childNodes()) === null || _a === void 0 ? void 0 : _a.getNode();\n        editor.selection.moveCursor(selectNode);\n      }\n\n      if ($selectElem.text() === '') {\n        e.preventDefault();\n        $selectElem.remove();\n        var $newLine = dom_core_1[\"default\"](const_1.EMPTY_P);\n        $newLine.insertAfter($topSelectElem); // 将光标移动br前面\n\n        editor.selection.moveCursor($newLine.getNode(), 0);\n      } // 当blockQuote中没有内容回车后移除blockquote\n\n\n      if ($topSelectElem.text() === '') {\n        $topSelectElem.remove();\n      }\n    }\n  }\n\n  editor.txt.eventHooks.enterDownEvents.push(quoteEnter);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 351 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 创建一个blockquote元素节点\n * @param editor 编辑器实例\n */\n\n\nfunction createQuote($childElem) {\n  var $targetElem = dom_core_1[\"default\"](\"<blockquote></blockquote>\");\n  (0, _forEach[\"default\"])($childElem).call($childElem, function (node) {\n    $targetElem.append(node.clone(true));\n  });\n  return $targetElem;\n}\n\nexports[\"default\"] = createQuote;\n\n/***/ }),\n/* 352 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 背景颜色 BackColor\n * @author lkw\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar BackColor = function (_super) {\n  tslib_1.__extends(BackColor, _super);\n\n  function BackColor(editor) {\n    var _context;\n\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u80CC\\u666F\\u8272\\\">\\n                <i class=\\\"w-e-icon-paint-brush\\\"></i>\\n            </div>\");\n    var colorListConf = {\n      width: 120,\n      title: '背景颜色',\n      // droplist 内容以 block 形式展示\n      type: 'inline-block',\n      list: (0, _map[\"default\"])(_context = editor.config.colors).call(_context, function (color) {\n        return {\n          $elem: dom_core_1[\"default\"](\"<i style=\\\"color:\" + color + \";\\\" class=\\\"w-e-icon-paint-brush\\\"></i>\"),\n          value: color\n        };\n      }),\n      clickHandler: function clickHandler(value) {\n        // this 是指向当前的 BackColor 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, colorListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  BackColor.prototype.command = function (value) {\n    var _a;\n\n    var editor = this.editor;\n    var isEmptySelection = editor.selection.isSelectionEmpty();\n    var $selectionElem = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0];\n    if ($selectionElem == null) return;\n    var isSpan = ($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.nodeName.toLowerCase()) !== 'p';\n    var bgColor = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.style.backgroundColor;\n    var isSameColor = util_1.hexToRgb(value) === bgColor;\n\n    if (isEmptySelection) {\n      if (isSpan && !isSameColor) {\n        var $elems = editor.selection.getSelectionRangeTopNodes();\n        editor.selection.createRangeByElem($elems[0]);\n        editor.selection.moveCursor($elems[0].elems[0]);\n      } // 插入空白选区\n\n\n      editor.selection.createEmptyRange();\n    }\n\n    editor.cmd[\"do\"]('backColor', value);\n\n    if (isEmptySelection) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  BackColor.prototype.tryChangeActive = function () {};\n\n  return BackColor;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = BackColor;\n\n/***/ }),\n/* 353 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 文字颜色 FontColor\n * @author lkw\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar FontColor = function (_super) {\n  tslib_1.__extends(FontColor, _super);\n\n  function FontColor(editor) {\n    var _context;\n\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u6587\\u5B57\\u989C\\u8272\\\">\\n                <i class=\\\"w-e-icon-pencil2\\\"></i>\\n            </div>\");\n    var colorListConf = {\n      width: 120,\n      title: '文字颜色',\n      // droplist 内容以 block 形式展示\n      type: 'inline-block',\n      list: (0, _map[\"default\"])(_context = editor.config.colors).call(_context, function (color) {\n        return {\n          $elem: dom_core_1[\"default\"](\"<i style=\\\"color:\" + color + \";\\\" class=\\\"w-e-icon-pencil2\\\"></i>\"),\n          value: color\n        };\n      }),\n      clickHandler: function clickHandler(value) {\n        // this 是指向当前的 BackColor 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, colorListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  FontColor.prototype.command = function (value) {\n    var _a;\n\n    var editor = this.editor;\n    var isEmptySelection = editor.selection.isSelectionEmpty();\n    var $selectionElem = (_a = editor.selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0];\n    if ($selectionElem == null) return; // 获取选区范围的文字\n\n    var $selectionText = editor.selection.getSelectionText(); // 如果设置的是 a 标签就特殊处理一下，避免回车换行设置颜色无效的情况\n    // 只处理选中a标签内全部文字的情况，因为选中部分文字不存在换行颜色失效的情况\n\n    if ($selectionElem.nodeName === 'A' && $selectionElem.textContent === $selectionText) {\n      // 创建一个相当于占位的元素\n      var _payloadElem = dom_core_1[\"default\"]('<span>&#8203;</span>').getNode(); // 添加到a标签之后\n\n\n      $selectionElem.appendChild(_payloadElem);\n    }\n\n    editor.cmd[\"do\"]('foreColor', value);\n\n    if (isEmptySelection) {\n      // 需要将选区范围折叠起来\n      editor.selection.collapseRange();\n      editor.selection.restoreSelection();\n    }\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  FontColor.prototype.tryChangeActive = function () {};\n\n  return FontColor;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = FontColor;\n\n/***/ }),\n/* 354 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 视频 菜单\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(355));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(361));\n\nvar Video = function (_super) {\n  tslib_1.__extends(Video, _super);\n\n  function Video(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u89C6\\u9891\\\">\\n                <i class=\\\"w-e-icon-play\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this; // 绑定事件 tootip\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 菜单点击事件\n   */\n\n\n  Video.prototype.clickHandler = function () {\n    // 弹出 panel\n    this.createPanel('');\n  };\n  /**\n   * 创建 panel\n   * @param link 链接\n   */\n\n\n  Video.prototype.createPanel = function (iframe) {\n    var conf = create_panel_conf_1[\"default\"](this.editor, iframe);\n    var panel = new Panel_1[\"default\"](this, conf);\n    panel.create();\n  };\n  /**\n   * 尝试修改菜单 active 状态\n   */\n\n\n  Video.prototype.tryChangeActive = function () {};\n\n  return Video;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Video;\n\n/***/ }),\n/* 355 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description video 菜单 panel tab 配置\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar upload_video_1 = tslib_1.__importDefault(__webpack_require__(356));\n\nvar const_1 = __webpack_require__(7);\n\nfunction default_1(editor, video) {\n  var config = editor.config;\n  var uploadVideo = new upload_video_1[\"default\"](editor); // panel 中需要用到的id\n\n  var inputIFrameId = util_1.getRandom('input-iframe');\n  var btnOkId = util_1.getRandom('btn-ok');\n  var inputUploadId = util_1.getRandom('input-upload');\n  var btnStartId = util_1.getRandom('btn-local-ok');\n  /**\n   * 插入链接\n   * @param iframe html标签\n   */\n\n  function insertVideo(video) {\n    editor.cmd[\"do\"]('insertHTML', video + const_1.EMPTY_P); // video添加后的回调\n\n    editor.config.onlineVideoCallback(video);\n  }\n  /**\n   * 校验在线视频链接\n   * @param video 在线视频链接\n   */\n\n\n  function checkOnlineVideo(video) {\n    // 查看开发者自定义配置的返回值\n    var check = editor.config.onlineVideoCheck(video);\n\n    if (check === true) {\n      return true;\n    }\n\n    if (typeof check === 'string') {\n      //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n      editor.config.customAlert(check, 'error');\n    }\n\n    return false;\n  } // tabs配置\n  // const fileMultipleAttr = config.uploadVideoMaxLength === 1 ? '' : 'multiple=\"multiple\"'\n\n\n  var tabsConf = [{\n    // tab 的标题\n    title: editor.i18next.t('menus.panelMenus.video.上传视频'),\n    tpl: \"<div class=\\\"w-e-up-video-container\\\">\\n                    <div id=\\\"\" + btnStartId + \"\\\" class=\\\"w-e-up-btn\\\">\\n                        <i class=\\\"w-e-icon-upload2\\\"></i>\\n                    </div>\\n                    <div style=\\\"display:none;\\\">\\n                        <input id=\\\"\" + inputUploadId + \"\\\" type=\\\"file\\\" accept=\\\"video/*\\\"/>\\n                    </div>\\n                 </div>\",\n    events: [// 触发选择视频\n    {\n      selector: '#' + btnStartId,\n      type: 'click',\n      fn: function fn() {\n        var $file = dom_core_1[\"default\"]('#' + inputUploadId);\n        var fileElem = $file.elems[0];\n\n        if (fileElem) {\n          fileElem.click();\n        } else {\n          // 返回 true 可关闭 panel\n          return true;\n        }\n      }\n    }, // 选择视频完毕\n    {\n      selector: '#' + inputUploadId,\n      type: 'change',\n      fn: function fn() {\n        var $file = dom_core_1[\"default\"]('#' + inputUploadId);\n        var fileElem = $file.elems[0];\n\n        if (!fileElem) {\n          // 返回 true 可关闭 panel\n          return true;\n        } // 获取选中的 file 对象列表\n\n\n        var fileList = fileElem.files;\n\n        if (fileList.length) {\n          uploadVideo.uploadVideo(fileList);\n        } // 返回 true 可关闭 panel\n\n\n        return true;\n      }\n    }]\n  }, {\n    // tab 的标题\n    title: editor.i18next.t('menus.panelMenus.video.插入视频'),\n    // 模板\n    tpl: \"<div>\\n                    <input \\n                        id=\\\"\" + inputIFrameId + \"\\\" \\n                        type=\\\"text\\\" \\n                        class=\\\"block\\\" \\n                        placeholder=\\\"\" + editor.i18next.t('如') + \"\\uFF1A<iframe src=... ></iframe>\\\"/>\\n                    </td>\\n                    <div class=\\\"w-e-button-container\\\">\\n                        <button type=\\\"button\\\" id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\\n                            \" + editor.i18next.t('插入') + \"\\n                        </button>\\n                    </div>\\n                </div>\",\n    // 事件绑定\n    events: [// 插入视频\n    {\n      selector: '#' + btnOkId,\n      type: 'click',\n      fn: function fn() {\n        var _context;\n\n        // 执行插入视频\n        var $video = dom_core_1[\"default\"]('#' + inputIFrameId);\n        var video = (0, _trim[\"default\"])(_context = $video.val()).call(_context); // 视频为空，则不插入\n\n        if (!video) return; // 对当前用户插入的内容进行判断，插入为空，或者返回false，都停止插入\n\n        if (!checkOnlineVideo(video)) return;\n        insertVideo(video); // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n\n        return true;\n      },\n      bindEnter: true\n    }]\n  } // tab end\n  ];\n  var conf = {\n    width: 300,\n    height: 0,\n    // panel 中可包含多个 tab\n    tabs: [] // tabs end\n\n  }; // 显示“上传视频”\n\n  if (window.FileReader && (config.uploadVideoServer || config.customUploadVideo)) {\n    conf.tabs.push(tabsConf[0]);\n  } // 显示“插入视频”\n\n\n  if (config.showLinkVideo) {\n    conf.tabs.push(tabsConf[1]);\n  }\n\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 356 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 上传视频\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _some = _interopRequireDefault(__webpack_require__(137));\n\nvar _bind = _interopRequireDefault(__webpack_require__(61));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar upload_core_1 = tslib_1.__importDefault(__webpack_require__(140));\n\nvar progress_1 = tslib_1.__importDefault(__webpack_require__(141));\n\nvar const_1 = __webpack_require__(7);\n\nvar util_2 = __webpack_require__(6);\n\nvar UploadVideo = function () {\n  function UploadVideo(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 上传视频\n   * @param files 文件列表\n   */\n\n\n  UploadVideo.prototype.uploadVideo = function (files) {\n    var _this = this;\n\n    if (!files.length) {\n      return;\n    }\n\n    var editor = this.editor;\n    var config = editor.config; // ------------------------------ i18next ------------------------------\n\n    var i18nPrefix = 'validate.';\n\n    var t = function t(text) {\n      return editor.i18next.t(i18nPrefix + text);\n    }; // ------------------------------ 获取配置信息 ------------------------------\n    // 服务端地址\n\n\n    var uploadVideoServer = config.uploadVideoServer; // 上传视频的最大体积，默认 1024M\n\n    var maxSize = config.uploadVideoMaxSize;\n    var uploadVideoMaxSize = maxSize / 1024; // 一次最多上传多少个视频\n    // const uploadVideoMaxLength = config.uploadVideoMaxLength\n    // 自定义上传视频的名称\n\n    var uploadVideoName = config.uploadVideoName; // 上传视频自定义参数\n\n    var uploadVideoParams = config.uploadVideoParams; // 自定义参数拼接到 url 中\n\n    var uploadVideoParamsWithUrl = config.uploadVideoParamsWithUrl; // 上传视频自定义 header\n\n    var uploadVideoHeaders = config.uploadVideoHeaders; // 钩子函数\n\n    var uploadVideoHooks = config.uploadVideoHooks; // 上传视频超时时间 ms 默认2个小时\n\n    var uploadVideoTimeout = config.uploadVideoTimeout; // 跨域带 cookie\n\n    var withVideoCredentials = config.withVideoCredentials; // 自定义上传\n\n    var customUploadVideo = config.customUploadVideo; // 格式校验\n\n    var uploadVideoAccept = config.uploadVideoAccept; // ------------------------------ 验证文件信息 ------------------------------\n\n    var resultFiles = [];\n    var errInfos = [];\n    util_1.arrForEach(files, function (file) {\n      var name = file.name;\n      var size = file.size / 1024 / 1024; // chrome 低版本 name === undefined\n\n      if (!name || !size) {\n        return;\n      }\n\n      if (!(uploadVideoAccept instanceof Array)) {\n        // 格式不是数组\n        errInfos.push(\"\\u3010\" + uploadVideoAccept + \"\\u3011\" + t('uploadVideoAccept 不是Array'));\n        return;\n      }\n\n      if (!(0, _some[\"default\"])(uploadVideoAccept).call(uploadVideoAccept, function (item) {\n        return item === name.split('.')[name.split('.').length - 1];\n      })) {\n        // 后缀名不合法，不是视频\n        errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('不是视频'));\n        return;\n      }\n\n      if (uploadVideoMaxSize < size) {\n        // 上传视频过大\n        errInfos.push(\"\\u3010\" + name + \"\\u3011\" + t('大于') + \" \" + uploadVideoMaxSize + \"M\");\n        return;\n      } //验证通过的加入结果列表\n\n\n      resultFiles.push(file);\n    }); // 抛出验证信息\n\n    if (errInfos.length) {\n      config.customAlert(t('视频验证未通过') + \": \\n\" + errInfos.join('\\n'), 'warning');\n      return;\n    } // 如果过滤后文件列表为空直接返回\n\n\n    if (resultFiles.length === 0) {\n      config.customAlert(t('传入的文件不合法'), 'warning');\n      return;\n    } // ------------------------------ 自定义上传 ------------------------------\n\n\n    if (customUploadVideo && typeof customUploadVideo === 'function') {\n      var _context;\n\n      customUploadVideo(resultFiles, (0, _bind[\"default\"])(_context = this.insertVideo).call(_context, this));\n      return;\n    } // 添加视频数据\n\n\n    var formData = new FormData();\n    (0, _forEach[\"default\"])(resultFiles).call(resultFiles, function (file, index) {\n      var name = uploadVideoName || file.name;\n\n      if (resultFiles.length > 1) {\n        // 多个文件时，filename 不能重复\n        name = name + (index + 1);\n      }\n\n      formData.append(name, file);\n    }); // ------------------------------ 上传视频 ------------------------------\n    //添加自定义参数  基于有服务端地址的情况下\n\n    if (uploadVideoServer) {\n      // 添加自定义参数\n      var uploadVideoServerArr = uploadVideoServer.split('#');\n      uploadVideoServer = uploadVideoServerArr[0];\n      var uploadVideoServerHash = uploadVideoServerArr[1] || '';\n      (0, _forEach[\"default\"])(util_1).call(util_1, uploadVideoParams, function (key, val) {\n        // 因使用者反应，自定义参数不能默认 encode ，由 v3.1.1 版本开始注释掉\n        // val = encodeURIComponent(val)\n        // 第一，将参数拼接到 url 中\n        if (uploadVideoParamsWithUrl) {\n          if ((0, _indexOf[\"default\"])(uploadVideoServer).call(uploadVideoServer, '?') > 0) {\n            uploadVideoServer += '&';\n          } else {\n            uploadVideoServer += '?';\n          }\n\n          uploadVideoServer = uploadVideoServer + key + '=' + val;\n        } // 第二，将参数添加到 formData 中\n\n\n        formData.append(key, val);\n      });\n\n      if (uploadVideoServerHash) {\n        uploadVideoServer += '#' + uploadVideoServerHash;\n      } // 开始上传\n\n\n      var xhr = upload_core_1[\"default\"](uploadVideoServer, {\n        timeout: uploadVideoTimeout,\n        formData: formData,\n        headers: uploadVideoHeaders,\n        withCredentials: !!withVideoCredentials,\n        beforeSend: function beforeSend(xhr) {\n          if (uploadVideoHooks.before) return uploadVideoHooks.before(xhr, editor, resultFiles);\n        },\n        onTimeout: function onTimeout(xhr) {\n          config.customAlert(t('上传视频超时'), 'error');\n          if (uploadVideoHooks.timeout) uploadVideoHooks.timeout(xhr, editor);\n        },\n        onProgress: function onProgress(percent, e) {\n          var progressBar = new progress_1[\"default\"](editor);\n\n          if (e.lengthComputable) {\n            percent = e.loaded / e.total;\n            progressBar.show(percent);\n          }\n        },\n        onError: function onError(xhr) {\n          config.customAlert(t('上传视频错误'), 'error', t('上传视频错误') + \"\\uFF0C\" + t('服务器返回状态') + \": \" + xhr.status);\n          if (uploadVideoHooks.error) uploadVideoHooks.error(xhr, editor);\n        },\n        onFail: function onFail(xhr, resultStr) {\n          config.customAlert(t('上传视频失败'), 'error', t('上传视频返回结果错误') + (\"\\uFF0C\" + t('返回结果') + \": \") + resultStr);\n          if (uploadVideoHooks.fail) uploadVideoHooks.fail(xhr, editor, resultStr);\n        },\n        onSuccess: function onSuccess(xhr, result) {\n          if (uploadVideoHooks.customInsert) {\n            var _context2;\n\n            // 自定义插入视频\n            uploadVideoHooks.customInsert((0, _bind[\"default\"])(_context2 = _this.insertVideo).call(_context2, _this), result, editor);\n            return;\n          }\n\n          if (result.errno != '0') {\n            // 返回格式不对，应该为 { errno: 0, data: [...] }\n            config.customAlert(t('上传视频失败'), 'error', t('上传视频返回结果错误') + \"\\uFF0C\" + t('返回结果') + \" errno=\" + result.errno);\n            if (uploadVideoHooks.fail) uploadVideoHooks.fail(xhr, editor, result);\n            return;\n          } // 成功，插入视频\n\n\n          var data = result.data;\n\n          _this.insertVideo(data.url); // 钩子函数\n\n\n          if (uploadVideoHooks.success) uploadVideoHooks.success(xhr, editor, result);\n        }\n      });\n\n      if (typeof xhr === 'string') {\n        // 上传被阻止\n        config.customAlert(xhr, 'error');\n      }\n    }\n  };\n  /**\n   * 往编辑器区域插入视频\n   * @param url 视频访问地址\n   */\n\n\n  UploadVideo.prototype.insertVideo = function (url) {\n    var editor = this.editor;\n    var config = editor.config;\n    var i18nPrefix = 'validate.';\n\n    var t = function t(text, prefix) {\n      if (prefix === void 0) {\n        prefix = i18nPrefix;\n      }\n\n      return editor.i18next.t(prefix + text);\n    }; // 判断用户是否自定义插入视频\n\n\n    if (!config.customInsertVideo) {\n      if (util_2.UA.isFirefox) {\n        editor.cmd[\"do\"]('insertHTML', \"<p data-we-video-p=\\\"true\\\"><video src=\\\"\" + url + \"\\\" controls=\\\"controls\\\" style=\\\"max-width:100%\\\"></video></p><p>&#8203</p>\");\n      } else {\n        editor.cmd[\"do\"]('insertHTML', \"<video src=\\\"\" + url + \"\\\" controls=\\\"controls\\\" style=\\\"max-width:100%\\\"></video>\" + const_1.EMPTY_P);\n      }\n    } else {\n      config.customInsertVideo(url);\n      return;\n    } // 加载视频\n\n\n    var video = document.createElement('video');\n\n    video.onload = function () {\n      video = null;\n    };\n\n    video.onerror = function () {\n      config.customAlert(t('插入视频错误'), 'error', \"wangEditor: \" + t('插入视频错误') + \"\\uFF0C\" + t('视频链接') + \" \\\"\" + url + \"\\\"\\uFF0C\" + t('下载链接失败'));\n      video = null;\n    };\n\n    video.onabort = function () {\n      return video = null;\n    };\n\n    video.src = url;\n  };\n\n  return UploadVideo;\n}();\n\nexports[\"default\"] = UploadVideo;\n\n/***/ }),\n/* 357 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(358);\n\n/***/ }),\n/* 358 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(359);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 359 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(360);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Date.now;\n\n\n/***/ }),\n/* 360 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\n\n// `Date.now` method\n// https://tc39.es/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n\n\n/***/ }),\n/* 361 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定视频的事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(362));\n\nvar keyboard_1 = tslib_1.__importDefault(__webpack_require__(364));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  //Tooltip\n  tooltip_event_1[\"default\"](editor);\n  keyboard_1[\"default\"](editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 362 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description tooltip 事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createShowHideFn = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n\nvar video_alignment_1 = tslib_1.__importDefault(__webpack_require__(363));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n\n  var t = function t(text, prefix) {\n    if (prefix === void 0) {\n      prefix = '';\n    }\n\n    return editor.i18next.t(prefix + text);\n  };\n  /**\n   * 显示 tooltip\n   * @param $node 链接元素\n   */\n\n\n  function showVideoTooltip($node) {\n    var conf = [{\n      $elem: dom_core_1[\"default\"](\"<span class='w-e-icon-trash-o'></span>\"),\n      onClick: function onClick(editor, $node) {\n        // 选中video元素 删除\n        $node.remove(); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>100%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '100%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>50%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '50%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>30%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '30%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('重置') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        $node.removeAttr('width');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('menus.justify.靠左') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 获取顶级元素\n        video_alignment_1[\"default\"]($node, 'left'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('menus.justify.居中') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 获取顶级元素\n        video_alignment_1[\"default\"]($node, 'center'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('menus.justify.靠右') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 获取顶级元素\n        video_alignment_1[\"default\"]($node, 'right'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }];\n    tooltip = new Tooltip_1[\"default\"](editor, $node, conf);\n    tooltip.create();\n  }\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  function hideVideoTooltip() {\n    // 移除 tooltip\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showVideoTooltip: showVideoTooltip,\n    hideVideoTooltip: hideVideoTooltip\n  };\n}\n\nexports.createShowHideFn = createShowHideFn;\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showVideoTooltip = _a.showVideoTooltip,\n      hideVideoTooltip = _a.hideVideoTooltip; // 点击视频元素是，显示 tooltip\n\n\n  editor.txt.eventHooks.videoClickEvents.push(showVideoTooltip); // 点击其他地方，或者滚动时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideVideoTooltip);\n  editor.txt.eventHooks.keyupEvents.push(hideVideoTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideVideoTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideVideoTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideVideoTooltip); // change 时隐藏\n\n  editor.txt.eventHooks.changeEvents.push(hideVideoTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n\n/***/ }),\n/* 363 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 视频布局 事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _includes = _interopRequireDefault(__webpack_require__(46));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3)); // 设置布局方式\n\n\nfunction setAlignment($node, value) {\n  // 设置顶级元素匹配\n  var NODENAME = ['P']; // 获取匹配得顶级元素\n\n  var topNode = getSelectedTopNode($node, NODENAME); // 判断是否存在\n\n  if (topNode) {\n    dom_core_1[\"default\"](topNode).css('text-align', value);\n  }\n}\n\nexports[\"default\"] = setAlignment;\n/**\n * 获取选中的元素的顶级元素\n * @params el 选中的元素\n * @params tag 匹配顶级的元素 如 P LI ....\n */\n\nfunction getSelectedTopNode(el, tag) {\n  var _a;\n\n  var parentNode = el.elems[0]; // 可能出现嵌套的情况，所以一级一级向上找，找到指定得顶级元素\n\n  while (parentNode != null) {\n    if ((0, _includes[\"default\"])(tag).call(tag, parentNode === null || parentNode === void 0 ? void 0 : parentNode.nodeName)) {\n      return parentNode;\n    } // 兜底 body\n\n\n    if (((_a = parentNode === null || parentNode === void 0 ? void 0 : parentNode.parentNode) === null || _a === void 0 ? void 0 : _a.nodeName) === 'BODY') {\n      return null;\n    }\n\n    parentNode = parentNode.parentNode;\n  }\n\n  return parentNode;\n}\n\n/***/ }),\n/* 364 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar util_1 = __webpack_require__(6);\n\nfunction bindEventKeyboardEvent(editor) {\n  if (!util_1.UA.isFirefox) return;\n  var txt = editor.txt,\n      selection = editor.selection;\n  var keydownEvents = txt.eventHooks.keydownEvents;\n  keydownEvents.push(function (e) {\n    // 实时保存选区\n    // editor.selection.saveRange()\n    var $selectionContainerElem = selection.getSelectionContainerElem();\n\n    if ($selectionContainerElem) {\n      var $topElem = $selectionContainerElem.getNodeTop(editor);\n      var $preElem = $topElem.length ? $topElem.prev().length ? $topElem.prev() : null : null;\n\n      if ($preElem && $preElem.attr('data-we-video-p')) {\n        // 光标处于选区开头\n        if (selection.getCursorPos() === 0) {\n          // 如果上一个dom是包含video， 按下删除连video一块删除\n          if (e.keyCode === 8) {\n            $preElem.remove();\n          }\n        }\n      }\n    }\n  });\n}\n\nexports[\"default\"] = bindEventKeyboardEvent;\n\n/***/ }),\n/* 365 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 插入、上传图片\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(366));\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(379));\n\nvar Image = function (_super) {\n  tslib_1.__extends(Image, _super);\n\n  function Image(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"图片\"><i class=\"w-e-icon-image\"></i></div>');\n    var imgPanelConfig = create_panel_conf_1[\"default\"](editor);\n\n    if (imgPanelConfig.onlyUploadConf) {\n      var _context;\n\n      $elem = imgPanelConfig.onlyUploadConf.$elem;\n      (0, _map[\"default\"])(_context = imgPanelConfig.onlyUploadConf.events).call(_context, function (event) {\n        var type = event.type;\n        var fn = event.fn || const_1.EMPTY_FN;\n        $elem.on(type, function (e) {\n          e.stopPropagation();\n          fn(e);\n        });\n      });\n    }\n\n    _this = _super.call(this, $elem, editor) || this;\n    _this.imgPanelConfig = imgPanelConfig; // 绑定事件，如粘贴图片\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 菜单点击事件\n   */\n\n\n  Image.prototype.clickHandler = function () {\n    if (!this.imgPanelConfig.onlyUploadConf) {\n      this.createPanel();\n    }\n  };\n  /**\n   * 创建 panel\n   */\n\n\n  Image.prototype.createPanel = function () {\n    var conf = this.imgPanelConfig;\n    var panel = new Panel_1[\"default\"](this, conf);\n    this.setPanel(panel);\n    panel.create();\n  };\n  /**\n   * 尝试修改菜单 active 状态\n   */\n\n\n  Image.prototype.tryChangeActive = function () {};\n\n  return Image;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Image;\n\n/***/ }),\n/* 366 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定图片的事件\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar paste_img_1 = tslib_1.__importDefault(__webpack_require__(367));\n\nvar drop_img_1 = tslib_1.__importDefault(__webpack_require__(368));\n\nvar drag_size_1 = tslib_1.__importDefault(__webpack_require__(369));\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(377));\n\nvar keyboard_event_1 = tslib_1.__importDefault(__webpack_require__(378));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  // 粘贴图片\n  paste_img_1[\"default\"](editor); // 拖拽图片\n\n  drop_img_1[\"default\"](editor); // 可再扩展其他事件...如图片 tooltip 等\n  // 拖拽图片尺寸\n\n  drag_size_1[\"default\"](editor); //Tooltip\n\n  tooltip_event_1[\"default\"](editor);\n  keyboard_event_1[\"default\"](editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 367 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 粘贴图片\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar paste_event_1 = __webpack_require__(135);\n\nvar upload_img_1 = tslib_1.__importDefault(__webpack_require__(104));\n/**\n * 剪切板是否有 text 或者 html ？\n * @param editor 编辑器对象\n * @param e 粘贴事件参数\n */\n\n\nfunction _haveTextOrHtml(editor, e) {\n  var config = editor.config;\n  var pasteFilterStyle = config.pasteFilterStyle;\n  var pasteIgnoreImg = config.pasteIgnoreImg;\n  var pasteHtml = paste_event_1.getPasteHtml(e, pasteFilterStyle, pasteIgnoreImg);\n  if (pasteHtml) return true;\n  var pasteText = paste_event_1.getPasteText(e);\n  if (pasteText) return true;\n  return false; // text html 都没有，则返回 false\n}\n/**\n * 剪切板是否有 Files\n * @param editor 编辑器对象\n * @param e 粘贴事件参数\n */\n\n\nfunction _haveFiles(editor, e) {\n  var _a;\n\n  var types = ((_a = e.clipboardData) === null || _a === void 0 ? void 0 : _a.types) || [];\n\n  for (var i = 0; i < types.length; i++) {\n    var type = types[i];\n\n    if (type === 'Files') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * 粘贴图片事件方法\n * @param e 事件参数\n */\n\n\nfunction pasteImgHandler(e, editor) {\n  // 粘贴过来的没有 file 时，判断 text 或者 html\n  if (!_haveFiles(editor, e)) {\n    if (_haveTextOrHtml(editor, e)) {\n      // 粘贴过来的有 text 或者 html ，则不执行粘贴图片逻辑\n      return;\n    }\n  } // 获取粘贴的图片列表\n\n\n  var pastedFiles = paste_event_1.getPasteImgs(e);\n\n  if (!pastedFiles.length) {\n    return;\n  } // code 中忽略（暂不管它）\n  // 执行上传\n\n\n  var uploadImg = new upload_img_1[\"default\"](editor);\n  uploadImg.uploadImg(pastedFiles);\n}\n/**\n * 粘贴图片\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\n\n\nfunction bindPasteImg(editor) {\n  /**\n   * 绑定 paste 事件\n   * 这里使用了unshift，以前是push\n   * 在以前的流程中，pasteImgHandler触发之前，会调用到window.getSelection().removeAllRanges()\n   * 会导致性能变差。在编辑器中粘贴，粘贴耗时多了100+ms，根本原因未知\n   * 最小复现demo，在div内粘贴图片就可以看到getData耗时异常得长\n   * <html>\n   *     <div id=\"a\" contenteditable=\"true\"></div>\n   *     <script>\n   *         const div = document.getElementById('a')\n   *         div.addEventListener('paste', (e) => {\n   *             window.getSelection().removeAllRanges()\n   *             e.clipboardData.getData('text/html')\n   *         })\n   *     </script>\n   * </html>\n   * 因此改成unshift，先触发pasteImgHandler就不会有性能问题\n   */\n  editor.txt.eventHooks.pasteEvents.unshift(function (e) {\n    pasteImgHandler(e, editor);\n  });\n}\n\nexports[\"default\"] = bindPasteImg;\n\n/***/ }),\n/* 368 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 拖拽上传图片\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar upload_img_1 = tslib_1.__importDefault(__webpack_require__(104));\n\nfunction bindDropImg(editor) {\n  /**\n   * 拖拽图片的事件\n   * @param e 事件参数\n   */\n  function dropImgHandler(e) {\n    var files = e.dataTransfer && e.dataTransfer.files;\n\n    if (!files || !files.length) {\n      return;\n    } // 上传图片\n\n\n    var uploadImg = new upload_img_1[\"default\"](editor);\n    uploadImg.uploadImg(files);\n  } // 绑定 drop 事件\n\n\n  editor.txt.eventHooks.dropEvents.push(dropImgHandler);\n}\n\nexports[\"default\"] = bindDropImg;\n\n/***/ }),\n/* 369 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 图片拖拽事件绑定\n * @author xiaokyo\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\nvar _parseFloat2 = _interopRequireDefault(__webpack_require__(370));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createShowHideFn = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\n__webpack_require__(375);\n\nvar util_1 = __webpack_require__(6);\n/**\n * 设置拖拽框的rect\n * @param $drag drag Dom\n * @param width 要设置的宽度\n * @param height 要设置的高度\n * @param left 要设置的左边\n * @param top 要设置的顶部距离\n */\n\n\nfunction setDragStyle($drag, width, height, left, top) {\n  $drag.attr('style', \"width:\" + width + \"px; height:\" + height + \"px; left:\" + left + \"px; top:\" + top + \"px;\");\n}\n/**\n * 生成一个图片指定大小的拖拽框\n * @param editor 编辑器实例\n * @param $textContainerElem 编辑框对象\n */\n\n\nfunction createDragBox(editor, $textContainerElem) {\n  var $drag = dom_core_1[\"default\"](\"<div class=\\\"w-e-img-drag-mask\\\">\\n            <div class=\\\"w-e-img-drag-show-size\\\"></div>\\n            <div class=\\\"w-e-img-drag-rb\\\"></div>\\n         </div>\");\n  $drag.hide();\n  $textContainerElem.append($drag);\n  return $drag;\n}\n/**\n * 显示拖拽框并设置宽度\n * @param $textContainerElem 编辑框实例\n * @param $drag 拖拽框对象\n */\n\n\nfunction showDargBox($textContainerElem, $drag, $img) {\n  var boxRect = $textContainerElem.getBoundingClientRect();\n  var rect = $img.getBoundingClientRect();\n  var rectW = rect.width.toFixed(2);\n  var rectH = rect.height.toFixed(2);\n  (0, _find[\"default\"])($drag).call($drag, '.w-e-img-drag-show-size').text(rectW + \"px * \" + rectH + \"px\");\n  setDragStyle($drag, (0, _parseFloat2[\"default\"])(rectW), (0, _parseFloat2[\"default\"])(rectH), rect.left - boxRect.left, rect.top - boxRect.top);\n  $drag.show();\n}\n/**\n * 生成图片拖拽框的 显示/隐藏 函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var $textContainerElem = editor.$textContainerElem;\n  var $imgTarget; // 生成拖拽框\n\n  var $drag = createDragBox(editor, $textContainerElem);\n  /**\n   * 设置拖拽事件\n   * @param $drag 拖拽框的domElement\n   * @param $textContainerElem 编辑器实例\n   */\n\n  function bindDragEvents($drag, $container) {\n    $drag.on('click', function (e) {\n      e.stopPropagation();\n    });\n    $drag.on('mousedown', '.w-e-img-drag-rb', function (e) {\n      // e.stopPropagation()\n      e.preventDefault();\n      if (!$imgTarget) return;\n      var firstX = e.clientX;\n      var firstY = e.clientY;\n      var boxRect = $container.getBoundingClientRect();\n      var imgRect = $imgTarget.getBoundingClientRect();\n      var width = imgRect.width;\n      var height = imgRect.height;\n      var left = imgRect.left - boxRect.left;\n      var top = imgRect.top - boxRect.top;\n      var ratio = width / height;\n      var setW = width;\n      var setH = height;\n      var $document = dom_core_1[\"default\"](document);\n\n      function offEvents() {\n        $document.off('mousemove', mouseMoveHandler);\n        $document.off('mouseup', mouseUpHandler);\n      }\n\n      function mouseMoveHandler(ev) {\n        ev.stopPropagation();\n        ev.preventDefault();\n        setW = width + (ev.clientX - firstX);\n        setH = height + (ev.clientY - firstY); // 等比计算\n\n        if (setW / setH != ratio) {\n          setH = setW / ratio;\n        }\n\n        setW = (0, _parseFloat2[\"default\"])(setW.toFixed(2));\n        setH = (0, _parseFloat2[\"default\"])(setH.toFixed(2));\n        (0, _find[\"default\"])($drag).call($drag, '.w-e-img-drag-show-size').text(setW.toFixed(2).replace('.00', '') + \"px * \" + setH.toFixed(2).replace('.00', '') + \"px\");\n        setDragStyle($drag, setW, setH, left, top);\n      }\n\n      $document.on('mousemove', mouseMoveHandler);\n\n      function mouseUpHandler() {\n        $imgTarget.attr('width', setW + '');\n        $imgTarget.attr('height', setH + '');\n        var newImgRect = $imgTarget.getBoundingClientRect();\n        setDragStyle($drag, setW, setH, newImgRect.left - boxRect.left, newImgRect.top - boxRect.top); // 解绑事件\n\n        offEvents();\n      }\n\n      $document.on('mouseup', mouseUpHandler); // 解绑事件\n\n      $document.on('mouseleave', offEvents);\n    });\n  } // 显示拖拽框\n\n\n  function showDrag($target) {\n    if (util_1.UA.isIE()) return false;\n\n    if ($target) {\n      $imgTarget = $target;\n      showDargBox($textContainerElem, $drag, $imgTarget);\n    }\n  } // 隐藏拖拽框\n\n\n  function hideDrag() {\n    (0, _find[\"default\"])($textContainerElem).call($textContainerElem, '.w-e-img-drag-mask').hide();\n  } // 事件绑定\n\n\n  bindDragEvents($drag, $textContainerElem); // 后期改成 blur 触发\n\n  dom_core_1[\"default\"](document).on('click', hideDrag);\n  editor.beforeDestroy(function () {\n    dom_core_1[\"default\"](document).off('click', hideDrag);\n  });\n  return {\n    showDrag: showDrag,\n    hideDrag: hideDrag\n  };\n}\n\nexports.createShowHideFn = createShowHideFn;\n/**\n * 点击事件委托\n * @param editor 编辑器实例\n */\n\nfunction bindDragImgSize(editor) {\n  var _a = createShowHideFn(editor),\n      showDrag = _a.showDrag,\n      hideDrag = _a.hideDrag; // 显示拖拽框\n\n\n  editor.txt.eventHooks.imgClickEvents.push(showDrag); // 隐藏拖拽框\n\n  editor.txt.eventHooks.textScrollEvents.push(hideDrag);\n  editor.txt.eventHooks.keyupEvents.push(hideDrag);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideDrag);\n  editor.txt.eventHooks.menuClickEvents.push(hideDrag);\n  editor.txt.eventHooks.changeEvents.push(hideDrag);\n}\n\nexports[\"default\"] = bindDragImgSize;\n\n/***/ }),\n/* 370 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(371);\n\n/***/ }),\n/* 371 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(372);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 372 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(373);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.parseFloat;\n\n\n/***/ }),\n/* 373 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar parseFloatImplementation = __webpack_require__(374);\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n\n\n/***/ }),\n/* 374 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(8);\nvar toString = __webpack_require__(30);\nvar trim = __webpack_require__(97).trim;\nvar whitespaces = __webpack_require__(74);\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(toString(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n\n\n/***/ }),\n/* 375 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(376);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 376 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-text-container {\\n  overflow: hidden;\\n}\\n.w-e-img-drag-mask {\\n  position: absolute;\\n  z-index: 1;\\n  border: 1px dashed #ccc;\\n  box-sizing: border-box;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-rb {\\n  position: absolute;\\n  right: -5px;\\n  bottom: -5px;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  background: #ccc;\\n  cursor: se-resize;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-show-size {\\n  min-width: 110px;\\n  height: 22px;\\n  line-height: 22px;\\n  font-size: 14px;\\n  color: #999;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #999;\\n  color: #fff;\\n  border-radius: 2px;\\n  padding: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 377 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description tooltip 事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createShowHideFn = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n\n  var t = function t(text, prefix) {\n    if (prefix === void 0) {\n      prefix = '';\n    }\n\n    return editor.i18next.t(prefix + text);\n  };\n  /**\n   * 显示 tooltip\n   * @param $node 链接元素\n   */\n\n\n  function showImgTooltip($node) {\n    var conf = [{\n      $elem: dom_core_1[\"default\"](\"<span class='w-e-icon-trash-o'></span>\"),\n      onClick: function onClick(editor, $node) {\n        // 选中img元素\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('delete'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>30%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '30%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>50%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '50%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"]('<span>100%</span>'),\n      onClick: function onClick(editor, $node) {\n        $node.attr('width', '100%');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }];\n    conf.push({\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('重置') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        $node.removeAttr('width');\n        $node.removeAttr('height'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    });\n\n    if ($node.attr('data-href')) {\n      conf.push({\n        $elem: dom_core_1[\"default\"](\"<span>\" + t('查看链接') + \"</span>\"),\n        onClick: function onClick(editor, $node) {\n          var link = $node.attr('data-href');\n\n          if (link) {\n            link = decodeURIComponent(link);\n            window.open(link, '_target');\n          } // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n\n          return true;\n        }\n      });\n    }\n\n    tooltip = new Tooltip_1[\"default\"](editor, $node, conf);\n    tooltip.create();\n  }\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  function hideImgTooltip() {\n    // 移除 tooltip\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showImgTooltip: showImgTooltip,\n    hideImgTooltip: hideImgTooltip\n  };\n}\n\nexports.createShowHideFn = createShowHideFn;\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showImgTooltip = _a.showImgTooltip,\n      hideImgTooltip = _a.hideImgTooltip; // 点击图片元素是，显示 tooltip\n\n\n  editor.txt.eventHooks.imgClickEvents.push(showImgTooltip); // 点击其他地方，或者滚动时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideImgTooltip);\n  editor.txt.eventHooks.keyupEvents.push(hideImgTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideImgTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideImgTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideImgTooltip);\n  editor.txt.eventHooks.imgDragBarMouseDownEvents.push(hideImgTooltip); // change 时隐藏\n\n  editor.txt.eventHooks.changeEvents.push(hideImgTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n\n/***/ }),\n/* 378 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction bindEventKeyboardEvent(editor) {\n  var txt = editor.txt,\n      selection = editor.selection;\n  var keydownEvents = txt.eventHooks.keydownEvents;\n  keydownEvents.push(function (e) {\n    // 删除图片时，有时会因为浏览器bug删不掉。因此这里手动判断光标前面是不是图片，是就删掉\n    var $selectionContainerElem = selection.getSelectionContainerElem();\n    var range = selection.getRange();\n\n    if (!range || !$selectionContainerElem || e.keyCode !== 8 || !selection.isSelectionEmpty()) {\n      return;\n    }\n\n    var startContainer = range.startContainer,\n        startOffset = range.startOffset; // 同一段落内上一个节点\n\n    var prevNode = null;\n\n    if (startOffset === 0) {\n      // 此时上一个节点需要通过previousSibling去找\n      while (startContainer !== $selectionContainerElem.elems[0] && $selectionContainerElem.elems[0].contains(startContainer) && startContainer.parentNode && !prevNode) {\n        if (startContainer.previousSibling) {\n          prevNode = startContainer.previousSibling;\n          break;\n        }\n\n        startContainer = startContainer.parentNode;\n      }\n    } else if (startContainer.nodeType !== 3) {\n      // 非文本节点才需要被处理，比如p\n      prevNode = startContainer.childNodes[startOffset - 1];\n    }\n\n    if (!prevNode) {\n      return;\n    }\n\n    var lastChildNodeInPrevNode = prevNode; // 找到最右侧叶子节点\n\n    while (lastChildNodeInPrevNode.childNodes.length) {\n      lastChildNodeInPrevNode = lastChildNodeInPrevNode.childNodes[lastChildNodeInPrevNode.childNodes.length - 1];\n    }\n\n    if (lastChildNodeInPrevNode instanceof HTMLElement && lastChildNodeInPrevNode.tagName === 'IMG') {\n      lastChildNodeInPrevNode.remove();\n      e.preventDefault();\n    }\n  });\n}\n\nexports[\"default\"] = bindEventKeyboardEvent;\n\n/***/ }),\n/* 379 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description image 菜单 panel tab 配置\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar upload_img_1 = tslib_1.__importDefault(__webpack_require__(104));\n\nfunction default_1(editor) {\n  var _context;\n\n  var config = editor.config;\n  var uploadImg = new upload_img_1[\"default\"](editor); // panel 中需要用到的id\n\n  var upTriggerId = util_1.getRandom('up-trigger-id');\n  var upFileId = util_1.getRandom('up-file-id');\n  var linkUrlId = util_1.getRandom('input-link-url');\n  var linkUrlAltId = util_1.getRandom('input-link-url-alt');\n  var linkUrlHrefId = util_1.getRandom('input-link-url-href');\n  var linkBtnId = util_1.getRandom('btn-link');\n  var i18nPrefix = 'menus.panelMenus.image.';\n\n  var t = function t(text, prefix) {\n    if (prefix === void 0) {\n      prefix = i18nPrefix;\n    }\n\n    return editor.i18next.t(prefix + text);\n  };\n  /**\n   * 校验网络图片链接是否合法\n   * @param linkImg 网络图片链接\n   */\n\n\n  function checkLinkImg(src, linkUrlAltText, linkUrlHrefText) {\n    //查看开发者自定义配置的返回值\n    var check = config.linkImgCheck(src);\n\n    if (check === true) {\n      return true;\n    } else if (typeof check === 'string') {\n      //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n      config.customAlert(check, 'error');\n    }\n\n    return false;\n  } // tabs 配置 -----------------------------------------\n\n\n  var fileMultipleAttr = config.uploadImgMaxLength === 1 ? '' : 'multiple=\"multiple\"';\n  var accepts = (0, _map[\"default\"])(_context = config.uploadImgAccept).call(_context, function (item) {\n    return \"image/\" + item;\n  }).join(',');\n  /**\n   * 设置模板的类名和icon图标\n   * w-e-menu是作为button菜单的模板\n   * w-e-up-img-container是做为panel菜单的窗口内容的模板\n   * @param containerClass 模板最外层的类名\n   * @param iconClass 模板中icon的类名\n   * @param titleName 模板中标题的名称 需要则设置不需要则设为空字符\n   */\n\n  var getUploadImgTpl = function getUploadImgTpl(containerClass, iconClass, titleName) {\n    return \"<div class=\\\"\" + containerClass + \"\\\" data-title=\\\"\" + titleName + \"\\\">\\n            <div id=\\\"\" + upTriggerId + \"\\\" class=\\\"w-e-up-btn\\\">\\n                <i class=\\\"\" + iconClass + \"\\\"></i>\\n            </div>\\n            <div style=\\\"display:none;\\\">\\n                <input id=\\\"\" + upFileId + \"\\\" type=\\\"file\\\" \" + fileMultipleAttr + \" accept=\\\"\" + accepts + \"\\\"/>\\n            </div>\\n        </div>\";\n  };\n\n  var uploadEvents = [// 触发选择图片\n  {\n    selector: '#' + upTriggerId,\n    type: 'click',\n    fn: function fn() {\n      var uploadImgFromMedia = config.uploadImgFromMedia;\n\n      if (uploadImgFromMedia && typeof uploadImgFromMedia === 'function') {\n        uploadImgFromMedia();\n        return true;\n      }\n\n      var $file = dom_core_1[\"default\"]('#' + upFileId);\n      var fileElem = $file.elems[0];\n\n      if (fileElem) {\n        fileElem.click();\n      } else {\n        // 返回 true 可关闭 panel\n        return true;\n      }\n    }\n  }, // 选择图片完毕\n  {\n    selector: '#' + upFileId,\n    type: 'change',\n    fn: function fn() {\n      var $file = dom_core_1[\"default\"]('#' + upFileId);\n      var fileElem = $file.elems[0];\n\n      if (!fileElem) {\n        // 返回 true 可关闭 panel\n        return true;\n      } // 获取选中的 file 对象列表\n\n\n      var fileList = fileElem.files;\n\n      if (fileList === null || fileList === void 0 ? void 0 : fileList.length) {\n        uploadImg.uploadImg(fileList);\n      } // 判断用于打开文件的input，有没有值，如果有就清空，以防上传同一张图片时，不会触发change事件\n      // input的功能只是单单为了打开文件而已，获取到需要的文件参数，当文件数据获取到后，可以清空。\n\n\n      if (fileElem) {\n        fileElem.value = '';\n      } // 返回 true 可关闭 panel\n\n\n      return true;\n    }\n  }];\n  var linkImgInputs = [\"<input\\n            id=\\\"\" + linkUrlId + \"\\\"\\n            type=\\\"text\\\"\\n            class=\\\"block\\\"\\n            placeholder=\\\"\" + t('图片地址') + \"\\\"/>\"];\n\n  if (config.showLinkImgAlt) {\n    linkImgInputs.push(\"\\n        <input\\n            id=\\\"\" + linkUrlAltId + \"\\\"\\n            type=\\\"text\\\"\\n            class=\\\"block\\\"\\n            placeholder=\\\"\" + t('图片文字说明') + \"\\\"/>\");\n  }\n\n  if (config.showLinkImgHref) {\n    linkImgInputs.push(\"\\n        <input\\n            id=\\\"\" + linkUrlHrefId + \"\\\"\\n            type=\\\"text\\\"\\n            class=\\\"block\\\"\\n            placeholder=\\\"\" + t('跳转链接') + \"\\\"/>\");\n  }\n\n  var tabsConf = [// first tab\n  {\n    // 标题\n    title: t('上传图片'),\n    // 模板\n    tpl: getUploadImgTpl('w-e-up-img-container', 'w-e-icon-upload2', ''),\n    // 事件绑定\n    events: uploadEvents\n  }, // second tab\n  {\n    title: t('网络图片'),\n    tpl: \"<div>\\n                    \" + linkImgInputs.join('') + \"\\n                    <div class=\\\"w-e-button-container\\\">\\n                        <button type=\\\"button\\\" id=\\\"\" + linkBtnId + \"\\\" class=\\\"right\\\">\" + t('插入', '') + \"</button>\\n                    </div>\\n                </div>\",\n    events: [{\n      selector: '#' + linkBtnId,\n      type: 'click',\n      fn: function fn() {\n        var _context2;\n\n        var $linkUrl = dom_core_1[\"default\"]('#' + linkUrlId);\n        var url = (0, _trim[\"default\"])(_context2 = $linkUrl.val()).call(_context2); //如果url为空则直接返回\n\n        if (!url) return;\n        var linkUrlAltText;\n\n        if (config.showLinkImgAlt) {\n          var _context3;\n\n          linkUrlAltText = (0, _trim[\"default\"])(_context3 = dom_core_1[\"default\"]('#' + linkUrlAltId).val()).call(_context3);\n        }\n\n        var linkUrlHrefText;\n\n        if (config.showLinkImgHref) {\n          var _context4;\n\n          linkUrlHrefText = (0, _trim[\"default\"])(_context4 = dom_core_1[\"default\"]('#' + linkUrlHrefId).val()).call(_context4);\n        } //如果不能通过校验也直接返回\n\n\n        if (!checkLinkImg(url, linkUrlAltText, linkUrlHrefText)) return; //插入图片url\n\n        uploadImg.insertImg(url, linkUrlAltText, linkUrlHrefText); // 返回 true 表示函数执行结束之后关闭 panel\n\n        return true;\n      },\n      bindEnter: true\n    }]\n  } // second tab end\n  ]; // tabs end\n  // 最终的配置 -----------------------------------------\n\n  var conf = {\n    width: 300,\n    height: 0,\n    tabs: [],\n    onlyUploadConf: {\n      $elem: dom_core_1[\"default\"](getUploadImgTpl('w-e-menu', 'w-e-icon-image', '图片')),\n      events: uploadEvents\n    }\n  }; // 显示“上传图片”\n\n  if (window.FileReader && (config.uploadImgShowBase64 || config.uploadImgServer || config.customUploadImg || config.uploadImgFromMedia)) {\n    conf.tabs.push(tabsConf[0]);\n  } // 显示“插入网络图片”\n\n\n  if (config.showLinkImg) {\n    conf.tabs.push(tabsConf[1]);\n    conf.onlyUploadConf = undefined;\n  }\n\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 380 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 增加缩进/减少缩进\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar operate_element_1 = tslib_1.__importDefault(__webpack_require__(381));\n\nvar Indent = function (_super) {\n  tslib_1.__extends(Indent, _super);\n\n  function Indent(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u7F29\\u8FDB\\\">\\n                <i class=\\\"w-e-icon-indent-increase\\\"></i>\\n            </div>\");\n    var dropListConf = {\n      width: 130,\n      title: '设置缩进',\n      type: 'list',\n      list: [{\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-indent-increase w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.indent.增加缩进') + \"\\n                        <p>\"),\n        value: 'increase'\n      }, {\n        $elem: dom_core_1[\"default\"](\"<p>\\n                            <i class=\\\"w-e-icon-indent-decrease w-e-drop-list-item\\\"></i>\\n                            \" + editor.i18next.t('menus.dropListMenu.indent.减少缩进') + \"\\n                        <p>\"),\n        value: 'decrease'\n      }],\n      clickHandler: function clickHandler(value) {\n        // 注意 this 是指向当前的 Indent 对象\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, dropListConf) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  Indent.prototype.command = function (value) {\n    var editor = this.editor;\n    var $selectionElem = editor.selection.getSelectionContainerElem(); // 判断 当前选区为 textElem 时\n\n    if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n      // 当 当前选区 等于 textElem 时\n      // 代表 当前选区 可能是一个选择了一个完整的段落或者多个段落\n      var $elems = editor.selection.getSelectionRangeTopNodes();\n\n      if ($elems.length > 0) {\n        (0, _forEach[\"default\"])($elems).call($elems, function (item) {\n          operate_element_1[\"default\"](dom_core_1[\"default\"](item), value, editor);\n        });\n      }\n    } else {\n      // 当 当前选区 不等于 textElem 时\n      // 代表 当前选区要么是一个段落，要么是段落中的一部分\n      if ($selectionElem && $selectionElem.length > 0) {\n        (0, _forEach[\"default\"])($selectionElem).call($selectionElem, function (item) {\n          operate_element_1[\"default\"](dom_core_1[\"default\"](item), value, editor);\n        });\n      }\n    } // 恢复选区\n\n\n    editor.selection.restoreSelection();\n    this.tryChangeActive();\n  };\n  /**\n   * 尝试改变菜单激活（高亮）状态\n   */\n\n\n  Indent.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n    var $selectionElem = editor.selection.getSelectionStartElem();\n    var $selectionStartElem = dom_core_1[\"default\"]($selectionElem).getNodeTop(editor);\n    if ($selectionStartElem.length <= 0) return;\n\n    if ($selectionStartElem.elems[0].style['paddingLeft'] != '') {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Indent;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = Indent;\n\n/***/ }),\n/* 381 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 对节点 操作 进行封装\n *                  获取当前节点的段落\n *                  根据type判断是增加还是减少缩进\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar increase_indent_style_1 = tslib_1.__importDefault(__webpack_require__(382));\n\nvar decrease_indent_style_1 = tslib_1.__importDefault(__webpack_require__(383));\n\nvar lengthRegex = /^(\\d+)(\\w+)$/;\nvar percentRegex = /^(\\d+)%$/;\n\nfunction parseIndentation(editor) {\n  var indentation = editor.config.indentation;\n\n  if (typeof indentation === 'string') {\n    if (lengthRegex.test(indentation)) {\n      var _context;\n\n      var _a = (0, _slice[\"default\"])(_context = (0, _trim[\"default\"])(indentation).call(indentation).match(lengthRegex)).call(_context, 1, 3),\n          value = _a[0],\n          unit = _a[1];\n\n      return {\n        value: Number(value),\n        unit: unit\n      };\n    } else if (percentRegex.test(indentation)) {\n      return {\n        value: Number((0, _trim[\"default\"])(indentation).call(indentation).match(percentRegex)[1]),\n        unit: '%'\n      };\n    }\n  } else if (indentation.value !== void 0 && indentation.unit) {\n    return indentation;\n  }\n\n  return {\n    value: 2,\n    unit: 'em'\n  };\n}\n\nfunction operateElement($node, type, editor) {\n  var $elem = $node.getNodeTop(editor);\n  var reg = /^(P|H[0-9]*)$/;\n\n  if (reg.test($elem.getNodeName())) {\n    if (type === 'increase') increase_indent_style_1[\"default\"]($elem, parseIndentation(editor));else if (type === 'decrease') decrease_indent_style_1[\"default\"]($elem, parseIndentation(editor));\n  }\n}\n\nexports[\"default\"] = operateElement;\n\n/***/ }),\n/* 382 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 增加缩进\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction increaseIndentStyle($node, options) {\n  var $elem = $node.elems[0];\n\n  if ($elem.style['paddingLeft'] === '') {\n    $node.css('padding-left', options.value + options.unit);\n  } else {\n    var oldPL = $elem.style['paddingLeft'];\n    var oldVal = (0, _slice[\"default\"])(oldPL).call(oldPL, 0, oldPL.length - options.unit.length);\n    var newVal = Number(oldVal) + options.value;\n    $node.css('padding-left', \"\" + newVal + options.unit);\n  }\n}\n\nexports[\"default\"] = increaseIndentStyle;\n\n/***/ }),\n/* 383 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 减少缩进\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction decreaseIndentStyle($node, options) {\n  var $elem = $node.elems[0];\n\n  if ($elem.style['paddingLeft'] !== '') {\n    var oldPL = $elem.style['paddingLeft'];\n    var oldVal = (0, _slice[\"default\"])(oldPL).call(oldPL, 0, oldPL.length - options.unit.length);\n    var newVal = Number(oldVal) - options.value;\n\n    if (newVal > 0) {\n      $node.css('padding-left', \"\" + newVal + options.unit);\n    } else {\n      $node.css('padding-left', '');\n    }\n  }\n}\n\nexports[\"default\"] = decreaseIndentStyle;\n\n/***/ }),\n/* 384 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 插入表情\n * @author liuwe\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(385));\n\nvar Emoticon = function (_super) {\n  tslib_1.__extends(Emoticon, _super);\n\n  function Emoticon(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u8868\\u60C5\\\">\\n                <i class=\\\"w-e-icon-happy\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 创建 panel\n   */\n\n\n  Emoticon.prototype.createPanel = function () {\n    var conf = create_panel_conf_1[\"default\"](this.editor);\n    var panel = new Panel_1[\"default\"](this, conf);\n    panel.create();\n  };\n  /**\n   * 菜单表情点击事件\n   */\n\n\n  Emoticon.prototype.clickHandler = function () {\n    this.createPanel();\n  };\n\n  Emoticon.prototype.tryChangeActive = function () {};\n\n  return Emoticon;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Emoticon;\n\n/***/ }),\n/* 385 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description  表情菜单 panel配置\n * @author liuwei\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\nvar _filter = _interopRequireDefault(__webpack_require__(76));\n\nvar _trim = _interopRequireDefault(__webpack_require__(16));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nfunction default_1(editor) {\n  // 声明emotions数据结构\n  var emotions = editor.config.emotions;\n  /* tabs配置项 ==================================================================*/\n  // 生成表情结构 TODO jele type类型待优化\n\n  function GenerateExpressionStructure(ele) {\n    // 返回为一个数组对象\n    var res = []; // 如果type是image类型则生成一个img标签\n\n    if (ele.type == 'image') {\n      var _context;\n\n      res = (0, _map[\"default\"])(_context = ele.content).call(_context, function (con) {\n        if (typeof con == 'string') return '';\n        return \"<span  title=\\\"\" + con.alt + \"\\\">\\n                    <img class=\\\"eleImg\\\" data-emoji=\\\"\" + con.alt + \"\\\" style src=\\\"\" + con.src + \"\\\" alt=\\\"[\" + con.alt + \"]\\\">\\n                </span>\";\n      });\n      res = (0, _filter[\"default\"])(res).call(res, function (s) {\n        return s !== '';\n      });\n    } //否则直接当内容处理\n    else {\n      var _context2;\n\n      res = (0, _map[\"default\"])(_context2 = ele.content).call(_context2, function (con) {\n        return \"<span class=\\\"eleImg\\\" title=\\\"\" + con + \"\\\">\" + con + \"</span>\";\n      });\n    }\n\n    return res.join('').replace(/&nbsp;/g, '');\n  }\n\n  var tabsConf = (0, _map[\"default\"])(emotions).call(emotions, function (ele) {\n    return {\n      title: editor.i18next.t(\"menus.panelMenus.emoticon.\" + ele.title),\n      // 判断type类型如果是image则以img的形式插入否则以内容\n      tpl: \"<div>\" + GenerateExpressionStructure(ele) + \"</div>\",\n      events: [{\n        selector: '.eleImg',\n        type: 'click',\n        fn: function fn(e) {\n          // e为事件对象\n          var $target = dom_core_1[\"default\"](e.target);\n          var nodeName = $target.getNodeName();\n          var insertHtml;\n\n          if (nodeName === 'IMG') {\n            var _context3;\n\n            // 插入图片\n            insertHtml = (0, _trim[\"default\"])(_context3 = $target.parent().html()).call(_context3);\n          } else {\n            // 插入 emoji\n            insertHtml = '<span>' + $target.html() + '</span>';\n          }\n\n          editor.cmd[\"do\"]('insertHTML', insertHtml); // 示函数执行结束之后关闭 panel\n\n          return true;\n        }\n      }]\n    };\n  });\n  /* tabs配置项 =================================================================end*/\n  // 最终的配置 -----------------------------------------\n\n  var conf = {\n    width: 300,\n    height: 230,\n    tabs: tabsConf\n  };\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 386 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createListHandle = exports.ClassType = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar WrapListHandle_1 = tslib_1.__importDefault(__webpack_require__(387));\n\nvar JoinListHandle_1 = tslib_1.__importDefault(__webpack_require__(389));\n\nvar StartJoinListHandle_1 = tslib_1.__importDefault(__webpack_require__(390));\n\nvar EndJoinListHandle_1 = tslib_1.__importDefault(__webpack_require__(391));\n\nvar OtherListHandle_1 = tslib_1.__importDefault(__webpack_require__(392));\n\nvar ClassType;\n\n(function (ClassType) {\n  ClassType[\"Wrap\"] = \"WrapListHandle\";\n  ClassType[\"Join\"] = \"JoinListHandle\";\n  ClassType[\"StartJoin\"] = \"StartJoinListHandle\";\n  ClassType[\"EndJoin\"] = \"EndJoinListHandle\";\n  ClassType[\"Other\"] = \"OtherListHandle\";\n})(ClassType = exports.ClassType || (exports.ClassType = {}));\n\nvar handle = {\n  WrapListHandle: WrapListHandle_1[\"default\"],\n  JoinListHandle: JoinListHandle_1[\"default\"],\n  StartJoinListHandle: StartJoinListHandle_1[\"default\"],\n  EndJoinListHandle: EndJoinListHandle_1[\"default\"],\n  OtherListHandle: OtherListHandle_1[\"default\"]\n};\n\nfunction createListHandle(classType, options, range) {\n  if (classType === ClassType.Other && range === undefined) {\n    throw new Error('other 类需要传入 range');\n  }\n\n  return classType !== ClassType.Other ? new handle[classType](options) : new handle[classType](options, range);\n}\n\nexports.createListHandle = createListHandle;\n/**\n * 统一执行的接口\n */\n\nvar ListHandleCommand = function () {\n  function ListHandleCommand(handle) {\n    this.handle = handle;\n    this.handle.exec();\n  }\n\n  ListHandleCommand.prototype.getSelectionRangeElem = function () {\n    return dom_core_1[\"default\"](this.handle.selectionRangeElem.get());\n  };\n\n  return ListHandleCommand;\n}();\n\nexports[\"default\"] = ListHandleCommand;\n\n/***/ }),\n/* 387 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar ListHandle_1 = __webpack_require__(62);\n\nvar utils_1 = __webpack_require__(49);\n/**\n * 选区在序列内的处理\n */\n\n\nvar WrapListHandle = function (_super) {\n  tslib_1.__extends(WrapListHandle, _super);\n\n  function WrapListHandle(options) {\n    return _super.call(this, options) || this;\n  }\n\n  WrapListHandle.prototype.exec = function () {\n    var _a = this.options,\n        listType = _a.listType,\n        listTarget = _a.listTarget,\n        $selectionElem = _a.$selectionElem,\n        $startElem = _a.$startElem,\n        $endElem = _a.$endElem;\n    var $containerFragment; // 容器 - HTML 文档片段\n\n    var $nodes = []; // 获取选中的段落\n    // 获取 selectionElem 的标签名\n\n    var containerNodeName = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeName(); // 获取开始以及结束的 li 元素\n\n    var $start = $startElem.prior;\n    var $end = $endElem.prior; // =====================================\n    // 当 开始节点 和 结束节点 没有 prior\n    // 并且 开始节点 没有前一个兄弟节点\n    // 并且 结束节点 没有后一个兄弟节点\n    // 即代表 全选序列\n    // =====================================\n\n    if (!$startElem.prior && !$endElem.prior || !($start === null || $start === void 0 ? void 0 : $start.prev().length) && !($end === null || $end === void 0 ? void 0 : $end.next().length)) {\n      var _context;\n\n      // 获取当前序列下的所有 li 标签\n      ;\n      (0, _forEach[\"default\"])(_context = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.children()).call(_context, function ($node) {\n        $nodes.push(dom_core_1[\"default\"]($node));\n      }); // =====================================\n      // 当 selectionElem 的标签名和按钮类型 一致 的时候\n      // 代表着当前的操作是 取消 序列\n      // =====================================\n\n      if (containerNodeName === listType) {\n        // 生成对应的段落(p)并添加到文档片段中，然后删除掉无用的 li\n        $containerFragment = utils_1.createElementFragment($nodes, utils_1.createDocumentFragment(), // 创建 文档片段\n        'p');\n      } // =====================================\n      // 当 selectionElem 的标签名和按钮类型 不一致 的时候\n      // 代表着当前的操作是 转换 序列\n      // =====================================\n      else {\n        // 创建 序列节点\n        $containerFragment = utils_1.createElement(listTarget); // 因为是转换，所以 li 元素可以直接使用\n\n        (0, _forEach[\"default\"])($nodes).call($nodes, function ($node) {\n          $containerFragment.appendChild($node.elems[0]);\n        });\n      } // 把 文档片段 或 序列节点 插入到 selectionElem 的前面\n\n\n      this.selectionRangeElem.set($containerFragment); // 插入到 $selectionElem 之前\n\n      utils_1.insertBefore($selectionElem, $containerFragment, $selectionElem.elems[0]); // 删除无用的 selectionElem 因为它被掏空了\n\n      $selectionElem.remove();\n    } // =====================================\n    // 当不是全选序列的时候就代表是非全选序列(废话)\n    // 非全选序列的情况\n    // =====================================\n    else {\n      // 获取选中的内容\n      var $startDom = $start;\n\n      while ($startDom.length) {\n        $nodes.push($startDom);\n        ($end === null || $end === void 0 ? void 0 : $end.equal($startDom)) ? $startDom = dom_core_1[\"default\"](undefined) : $startDom = $startDom.next(); // 继续\n      } // 获取开始节点的上一个兄弟节点\n\n\n      var $prveDom = $start.prev(); // 获取结束节点的下一个兄弟节点\n\n      var $nextDom = $end.next(); // =====================================\n      // 当 selectionElem 的标签名和按钮类型一致的时候\n      // 代表着当前的操作是 取消 序列\n      // =====================================\n\n      if (containerNodeName === listType) {\n        // 生成对应的段落(p)并添加到文档片段中，然后删除掉无用的 li\n        $containerFragment = utils_1.createElementFragment($nodes, utils_1.createDocumentFragment(), // 创建 文档片段\n        'p');\n      } // =====================================\n      // 当 selectionElem 的标签名和按钮类型不一致的时候\n      // 代表着当前的操作是 转换 序列\n      // =====================================\n      else {\n        // 创建 文档片段\n        $containerFragment = utils_1.createElement(listTarget); // 因为是转换，所以 li 元素可以直接使用\n\n        (0, _forEach[\"default\"])($nodes).call($nodes, function ($node) {\n          $containerFragment.append($node.elems[0]);\n        });\n      } // =====================================\n      // 当 prveDom 和 nextDom 都存在的时候\n      // 代表着当前选区是在序列的中间\n      // 所以要先把 下半部分 未选择的 li 元素独立出来生成一个 序列\n      // =====================================\n\n\n      if ($prveDom.length && $nextDom.length) {\n        // 获取尾部的元素\n        var $tailDomArr = [];\n\n        while ($nextDom.length) {\n          $tailDomArr.push($nextDom);\n          $nextDom = $nextDom.next();\n        } // 创建 尾部序列节点\n\n\n        var $tailDocFragment_1 = utils_1.createElement(containerNodeName); // 把尾部元素节点添加到尾部序列节点中\n\n        (0, _forEach[\"default\"])($tailDomArr).call($tailDomArr, function ($node) {\n          $tailDocFragment_1.append($node.elems[0]);\n        }); // 把尾部序列节点插入到 selectionElem 的后面\n\n        dom_core_1[\"default\"]($tailDocFragment_1).insertAfter($selectionElem); // =====================================\n        // 获取选区容器元素的父元素，一般就是编辑区域\n        // 然后判断 selectionElem 是否还有下一个兄弟节点\n        // 如果有，就把文档片段添加到 selectionElem 下一个兄弟节点前\n        // 如果没有，就把文档片段添加到 编辑区域 末尾\n        // =====================================\n\n        this.selectionRangeElem.set($containerFragment);\n        var $selectionNextDom = $selectionElem.next();\n        $selectionNextDom.length ? utils_1.insertBefore($selectionElem, $containerFragment, $selectionNextDom.elems[0]) : $selectionElem.parent().elems[0].append($containerFragment);\n      } // =====================================\n      // 不管是 取消 还是 转换 都需要重新插入节点\n      //\n      // prveDom.length 等于 0 即代表选区是 selectionElem 序列的上半部分\n      // 上半部分的 li 元素\n      // =====================================\n      else if (!$prveDom.length) {\n        // 文档片段插入到 selectionElem 之前\n        this.selectionRangeElem.set($containerFragment);\n        utils_1.insertBefore($selectionElem, $containerFragment, $selectionElem.elems[0]);\n      } // =====================================\n      // 不管是 取消 还是 转换 都需要重新插入节点\n      //\n      // nextDom.length 等于 0 即代表选区是 selectionElem 序列的下半部分\n      // 下半部分的 li 元素  if (!$nextDom.length)\n      // =====================================\n      else {\n        // 文档片段插入到 selectionElem 之后\n        this.selectionRangeElem.set($containerFragment);\n        var $selectionNextDom = $selectionElem.next();\n        $selectionNextDom.length ? utils_1.insertBefore($selectionElem, $containerFragment, $selectionNextDom.elems[0]) : $selectionElem.parent().elems[0].append($containerFragment);\n      }\n    }\n  };\n\n  return WrapListHandle;\n}(ListHandle_1.ListHandle);\n\nexports[\"default\"] = WrapListHandle;\n\n/***/ }),\n/* 388 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @description 选区的 Element\n * @author tonghan\n */\n\nvar SelectionRangeElem = function () {\n  function SelectionRangeElem() {\n    this._element = null;\n  }\n  /**\n   * 设置 SelectionRangeElem 的值\n   * @param { SetSelectionRangeType } data\n   */\n\n\n  SelectionRangeElem.prototype.set = function (data) {\n    //\n    if (data instanceof DocumentFragment) {\n      var _context;\n\n      var childNode_1 = [];\n      (0, _forEach[\"default\"])(_context = data.childNodes).call(_context, function ($node) {\n        childNode_1.push($node);\n      });\n      data = childNode_1;\n    }\n\n    this._element = data;\n  };\n  /**\n   * 获取 SelectionRangeElem 的值\n   * @returns { SelectionRangeType } Elem\n   */\n\n\n  SelectionRangeElem.prototype.get = function () {\n    return this._element;\n  };\n  /**\n   * 清除 SelectionRangeElem 的值\n   */\n\n\n  SelectionRangeElem.prototype.clear = function () {\n    this._element = null;\n  };\n\n  return SelectionRangeElem;\n}();\n\nexports[\"default\"] = SelectionRangeElem;\n\n/***/ }),\n/* 389 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar ListHandle_1 = __webpack_require__(62);\n\nvar utils_1 = __webpack_require__(49);\n\nvar JoinListHandle = function (_super) {\n  tslib_1.__extends(JoinListHandle, _super);\n\n  function JoinListHandle(options) {\n    return _super.call(this, options) || this;\n  }\n\n  JoinListHandle.prototype.exec = function () {\n    var _a, _b, _c, _d, _e, _f, _g;\n\n    var _h = this.options,\n        editor = _h.editor,\n        listType = _h.listType,\n        listTarget = _h.listTarget,\n        $startElem = _h.$startElem,\n        $endElem = _h.$endElem; // 容器 - HTML 文档片段\n\n    var $containerFragment; // 获取选中的段落\n\n    var $nodes = editor.selection.getSelectionRangeTopNodes(); // 获取开始段落和结束段落 标签名\n\n    var startNodeName = $startElem === null || $startElem === void 0 ? void 0 : $startElem.getNodeName();\n    var endNodeName = $endElem === null || $endElem === void 0 ? void 0 : $endElem.getNodeName(); // =====================================\n    // 开头结尾都是序列的情况下\n    // 开头序列 和 结尾序列的标签名一致的时候\n    // =====================================\n\n    if (startNodeName === endNodeName) {\n      // =====================================\n      // 开头序列 和 结尾序列 中间还有其他的段落的时候\n      // =====================================\n      if ($nodes.length > 2) {\n        // 弹出 开头 和 结尾\n        $nodes.shift();\n        $nodes.pop(); // 把中间部分的节点元素转换成 li 元素并添加到文档片段后删除\n\n        $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 过滤 $nodes 获取到符合要求的选中元素节点\n        utils_1.createDocumentFragment() // 创建 文档片段\n        ); // =====================================\n        // 由于开头序列 和 结尾序列的标签名一样，所以只判断了开头序列的\n        // 当开头序列的标签名和按钮类型 一致 的时候\n        // 代表着当前是一个 设置序列 的操作\n        // =====================================\n\n        if (startNodeName === listType) {\n          // 把结束序列的 li 元素添加到 文档片段中\n          (_a = $endElem.children()) === null || _a === void 0 ? void 0 : (0, _forEach[\"default\"])(_a).call(_a, function ($list) {\n            $containerFragment.append($list);\n          }); // 下序列全选被掏空了，就卸磨杀驴吧\n\n          $endElem.remove(); // 在开始序列中添加 文档片段\n\n          this.selectionRangeElem.set($containerFragment);\n          $startElem.elems[0].append($containerFragment);\n        } // =====================================\n        // 由于开头序列 和 结尾序列的标签名一样，所以只判断了开头序列的\n        // 当开头序列的标签名和按钮类型 不一致 的时候\n        // 代表着当前是一个 转换序列 的操作\n        // =====================================\n        else {\n          // 创建 开始序列和结束序列的文档片段\n          var $startFragment = document.createDocumentFragment();\n          var $endFragment_1 = document.createDocumentFragment(); // 获取起点元素\n\n          var $startDom = utils_1.getStartPoint($startElem); // 获取上半序列中的选中内容，并添加到文档片段中\n\n          while ($startDom.length) {\n            var _element = $startDom.elems[0];\n            $startDom = $startDom.next();\n            $startFragment.append(_element);\n          } // 获取结束元素\n\n\n          var $endDom = utils_1.getEndPoint($endElem); // 获取下半序列中选中的内容\n\n          var domArr = [];\n\n          while ($endDom.length) {\n            domArr.unshift($endDom.elems[0]);\n            $endDom = $endDom.prev();\n          } // 添加到文档片段中\n\n\n          (0, _forEach[\"default\"])(domArr).call(domArr, function ($node) {\n            $endFragment_1.append($node);\n          }); // 合并文档片段\n\n          var $orderFragment = utils_1.createElement(listTarget);\n          $orderFragment.append($startFragment);\n          $orderFragment.append($containerFragment);\n          $orderFragment.append($endFragment_1);\n          $containerFragment = $orderFragment; // 插入\n\n          this.selectionRangeElem.set($containerFragment);\n          dom_core_1[\"default\"]($orderFragment).insertAfter($startElem); // 序列全选被掏空了后，就卸磨杀驴吧\n\n          !((_b = $startElem.children()) === null || _b === void 0 ? void 0 : _b.length) && $startElem.remove();\n          !((_c = $endElem.children()) === null || _c === void 0 ? void 0 : _c.length) && $endElem.remove();\n        }\n      } // =====================================\n      // 开头序列 和 结尾序列 中间没有其他的段落\n      // =====================================\n      else {\n        $nodes.length = 0; // 获取起点元素\n\n        var $startDom = utils_1.getStartPoint($startElem); // 获取上半序列中的选中内容\n\n        while ($startDom.length) {\n          $nodes.push($startDom);\n          $startDom = $startDom.next();\n        } // 获取结束元素\n\n\n        var $endDom = utils_1.getEndPoint($endElem); // 获取下半序列中选中的内容\n\n        var domArr = []; // 获取下半序列中的选中内容\n\n        while ($endDom.length) {\n          domArr.unshift($endDom);\n          $endDom = $endDom.prev();\n        } // 融合内容\n\n\n        $nodes.push.apply($nodes, domArr); // =====================================\n        // 由于开头序列 和 结尾序列的标签名一样，所以只判断了开头序列的\n        // 当开头序列的标签名和按钮类型 一致 的时候\n        // 代表着当前是一个 取消序列 的操作\n        // =====================================\n\n        if (startNodeName === listType) {\n          // 创建 文档片段\n          // 把 li 转换为 p 标签\n          $containerFragment = utils_1.createElementFragment($nodes, utils_1.createDocumentFragment(), 'p'); // 插入到 endElem 前\n\n          this.selectionRangeElem.set($containerFragment);\n          utils_1.insertBefore($startElem, $containerFragment, $endElem.elems[0]);\n        } // =====================================\n        // 由于开头序列 和 结尾序列的标签名一样，所以只判断了开头序列的\n        // 当开头序列的标签名和按钮类型 不一致 的时候\n        // 代表着当前是一个 设置序列 的操作\n        // =====================================\n        else {\n          // 创建 序列元素\n          $containerFragment = utils_1.createElement(listTarget); // li 元素添加到 序列元素 中\n\n          (0, _forEach[\"default\"])($nodes).call($nodes, function ($list) {\n            $containerFragment.append($list.elems[0]);\n          }); // 插入到 startElem 之后\n\n          this.selectionRangeElem.set($containerFragment);\n          dom_core_1[\"default\"]($containerFragment).insertAfter($startElem);\n        } // 序列全选被掏空了后，就卸磨杀驴吧\n\n\n        !((_d = $startElem.children()) === null || _d === void 0 ? void 0 : _d.length) && $endElem.remove();\n        !((_e = $endElem.children()) === null || _e === void 0 ? void 0 : _e.length) && $endElem.remove();\n      }\n    } // =====================================\n    // 由于开头序列 和 结尾序列的标签名不一样\n    // =====================================\n    else {\n      // 下序列元素数组\n      var lowerListElems = []; // 获取结束元素\n\n      var $endDom = utils_1.getEndPoint($endElem); // 获取下半序列中选中的内容\n\n      while ($endDom.length) {\n        lowerListElems.unshift($endDom);\n        $endDom = $endDom.prev();\n      } // 上序列元素数组\n\n\n      var upperListElems = []; // 获取起点元素\n\n      var $startDom = utils_1.getStartPoint($startElem); // 获取上半序列中的选中内容，并添加到文档片段中\n\n      while ($startDom.length) {\n        upperListElems.push($startDom);\n        $startDom = $startDom.next();\n      } // 创建 文档片段\n\n\n      $containerFragment = utils_1.createDocumentFragment(); // 弹出开头和结尾的序列\n\n      $nodes.shift();\n      $nodes.pop(); // 把头部序列的内容添加到文档片段当中\n\n      (0, _forEach[\"default\"])(upperListElems).call(upperListElems, function ($list) {\n        return $containerFragment.append($list.elems[0]);\n      }); // 生成 li 标签，并且添加到 文档片段中，删除无用节点\n\n      $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 序列中间的数据 - 进行数据过滤\n      $containerFragment); // 把尾部序列的内容添加到文档片段当中\n\n      (0, _forEach[\"default\"])(lowerListElems).call(lowerListElems, function ($list) {\n        return $containerFragment.append($list.elems[0]);\n      }); // 记录\n\n      this.selectionRangeElem.set($containerFragment); // =====================================\n      // 开头序列 和 设置序列类型相同\n      // =====================================\n\n      if (startNodeName === listType) {\n        // 插入到 开始序列的尾部(作为子元素)\n        $startElem.elems[0].append($containerFragment); // 序列全选被掏空了后，就卸磨杀驴吧\n\n        !((_f = $endElem.children()) === null || _f === void 0 ? void 0 : _f.length) && $endElem.remove();\n      } // =====================================\n      // 结尾序列 和 设置序列类型相同\n      // =====================================\n      else {\n        // 插入到结束序列的顶部(作为子元素)\n        if ((_g = $endElem.children()) === null || _g === void 0 ? void 0 : _g.length) {\n          var $endElemChild = $endElem.children();\n          utils_1.insertBefore($endElemChild, $containerFragment, $endElemChild.elems[0]);\n        } else {\n          $endElem.elems[0].append($containerFragment);\n        }\n      }\n    }\n  };\n\n  return JoinListHandle;\n}(ListHandle_1.ListHandle);\n\nexports[\"default\"] = JoinListHandle;\n\n/***/ }),\n/* 390 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar ListHandle_1 = __webpack_require__(62);\n\nvar utils_1 = __webpack_require__(49);\n\nvar StartJoinListHandle = function (_super) {\n  tslib_1.__extends(StartJoinListHandle, _super);\n\n  function StartJoinListHandle(options) {\n    return _super.call(this, options) || this;\n  }\n\n  StartJoinListHandle.prototype.exec = function () {\n    var _a;\n\n    var _b = this.options,\n        editor = _b.editor,\n        listType = _b.listType,\n        listTarget = _b.listTarget,\n        $startElem = _b.$startElem; // 容器 - HTML 文档片段\n\n    var $containerFragment; // 获取选中的段落\n\n    var $nodes = editor.selection.getSelectionRangeTopNodes(); // 获取开始段落标签名\n\n    var startNodeName = $startElem === null || $startElem === void 0 ? void 0 : $startElem.getNodeName(); // 弹出 开头序列\n\n    $nodes.shift(); // 上序列元素数组\n\n    var upperListElems = []; // 获取起点元素\n\n    var $startDom = utils_1.getStartPoint($startElem); // 获取上半序列中的选中内容，并添加到文档片段中\n\n    while ($startDom.length) {\n      upperListElems.push($startDom);\n      $startDom = $startDom.next();\n    } // =====================================\n    // 当前序列类型和开头序列的类型 一致\n    // 代表当前是一个 融合(把其他段落加入到开头序列中) 的操作\n    // =====================================\n\n\n    if (startNodeName === listType) {\n      $containerFragment = utils_1.createDocumentFragment();\n      (0, _forEach[\"default\"])(upperListElems).call(upperListElems, function ($list) {\n        return $containerFragment.append($list.elems[0]);\n      }); // 生成 li 元属，并删除\n\n      $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 过滤元素节点数据\n      $containerFragment); // 插入到开始序列末尾\n\n      this.selectionRangeElem.set($containerFragment); // this.selectionRangeElem.set($startElem.elems[0])\n\n      $startElem.elems[0].append($containerFragment);\n    } // =====================================\n    // 当前序列类型和开头序列的类型 不一致\n    // 代表当前是一个 设置序列 的操作\n    // =====================================\n    else {\n      // 创建 序列节点\n      $containerFragment = utils_1.createElement(listTarget);\n      (0, _forEach[\"default\"])(upperListElems).call(upperListElems, function ($list) {\n        return $containerFragment.append($list.elems[0]);\n      }); // 生成 li 元素，并添加到 序列节点 当中，删除无用节点\n\n      $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 过滤普通节点\n      $containerFragment); // 插入到开始元素\n\n      this.selectionRangeElem.set($containerFragment);\n      dom_core_1[\"default\"]($containerFragment).insertAfter($startElem); // 序列全选被掏空了后，就卸磨杀驴吧\n\n      !((_a = $startElem.children()) === null || _a === void 0 ? void 0 : _a.length) && $startElem.remove();\n    }\n  };\n\n  return StartJoinListHandle;\n}(ListHandle_1.ListHandle);\n\nexports[\"default\"] = StartJoinListHandle;\n\n/***/ }),\n/* 391 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar ListHandle_1 = __webpack_require__(62);\n\nvar utils_1 = __webpack_require__(49);\n\nvar EndJoinListHandle = function (_super) {\n  tslib_1.__extends(EndJoinListHandle, _super);\n\n  function EndJoinListHandle(options) {\n    return _super.call(this, options) || this;\n  }\n\n  EndJoinListHandle.prototype.exec = function () {\n    var _a, _b;\n\n    var _c = this.options,\n        editor = _c.editor,\n        listType = _c.listType,\n        listTarget = _c.listTarget,\n        $endElem = _c.$endElem; // 容器 - HTML 文档片段\n\n    var $containerFragment; // 获取选中的段落\n\n    var $nodes = editor.selection.getSelectionRangeTopNodes(); // 获取结束段落标签名\n\n    var endNodeName = $endElem === null || $endElem === void 0 ? void 0 : $endElem.getNodeName(); // 弹出 结束序列\n\n    $nodes.pop(); // 下序列元素数组\n\n    var lowerListElems = []; // 获取结束元素\n\n    var $endDom = utils_1.getEndPoint($endElem); // 获取下半序列中选中的内容\n\n    while ($endDom.length) {\n      lowerListElems.unshift($endDom);\n      $endDom = $endDom.prev();\n    } // =====================================\n    // 当前序列类型和结束序列的类型 一致\n    // 代表当前是一个 融合(把其他段落加入到结束序列中) 的操作\n    // =====================================\n\n\n    if (endNodeName === listType) {\n      // 生成 li 元属，并删除原来的 dom 元素\n      $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 过滤元素节点数据\n      utils_1.createDocumentFragment() // 创建 文档片段\n      );\n      (0, _forEach[\"default\"])(lowerListElems).call(lowerListElems, function ($list) {\n        return $containerFragment.append($list.elems[0]);\n      }); // 插入到结束序列之前\n\n      this.selectionRangeElem.set($containerFragment);\n\n      if ((_a = $endElem.children()) === null || _a === void 0 ? void 0 : _a.length) {\n        var $endElemChild = $endElem.children();\n        utils_1.insertBefore($endElemChild, $containerFragment, $endElemChild.elems[0]);\n      } else {\n        $endElem.elems[0].append($containerFragment);\n      }\n    } // =====================================\n    // 当前序列类型和结束序列的类型 不一致\n    // 代表当前是一个 设置序列 的操作\n    // =====================================\n    else {\n      // 过滤元素节点数据\n      var $selectionNodes = utils_1.filterSelectionNodes($nodes); // 把下序列的内容添加到过滤元素中\n\n      $selectionNodes.push.apply($selectionNodes, lowerListElems); // 生成 li 元素并且添加到序列节点后删除原节点\n\n      $containerFragment = utils_1.createElementFragment($selectionNodes, utils_1.createElement(listTarget) // 创建 序列节点\n      ); // 插入到结束序列之前\n\n      this.selectionRangeElem.set($containerFragment);\n      dom_core_1[\"default\"]($containerFragment).insertBefore($endElem); // 序列全选被掏空了后，就卸磨杀驴吧\n\n      !((_b = $endElem.children()) === null || _b === void 0 ? void 0 : _b.length) && $endElem.remove();\n    }\n  };\n\n  return EndJoinListHandle;\n}(ListHandle_1.ListHandle);\n\nexports[\"default\"] = EndJoinListHandle;\n\n/***/ }),\n/* 392 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar ListHandle_1 = __webpack_require__(62);\n\nvar utils_1 = __webpack_require__(49);\n\nvar OtherListHandle = function (_super) {\n  tslib_1.__extends(OtherListHandle, _super);\n\n  function OtherListHandle(options, range) {\n    var _this = _super.call(this, options) || this;\n\n    _this.range = range;\n    return _this;\n  }\n\n  OtherListHandle.prototype.exec = function () {\n    var _a = this.options,\n        editor = _a.editor,\n        listTarget = _a.listTarget; // 获取选中的段落\n\n    var $nodes = editor.selection.getSelectionRangeTopNodes(); // 生成 li 元素并且添加到序列节点后删除原节点\n\n    var $containerFragment = utils_1.createElementFragment(utils_1.filterSelectionNodes($nodes), // 过滤选取的元素\n    utils_1.createElement(listTarget) // 创建 序列节点\n    ); // 插入节点到选区\n\n    this.selectionRangeElem.set($containerFragment);\n    this.range.insertNode($containerFragment);\n  };\n\n  return OtherListHandle;\n}(ListHandle_1.ListHandle);\n\nexports[\"default\"] = OtherListHandle;\n\n/***/ }),\n/* 393 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 段落行高 LineHeight\n * @author lichunlin\n *\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar DropListMenu_1 = tslib_1.__importDefault(__webpack_require__(24));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar lineHeightList_1 = tslib_1.__importDefault(__webpack_require__(394));\n\nvar util_1 = __webpack_require__(6);\n\nvar LineHeight = function (_super) {\n  tslib_1.__extends(LineHeight, _super);\n\n  function LineHeight(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u884C\\u9AD8\\\">\\n                    <i class=\\\"w-e-icon-row-height\\\"></i>\\n                </div>\");\n    var lineHeightMenu = new lineHeightList_1[\"default\"](editor, editor.config.lineHeights);\n    var DropListMenu = {\n      width: 100,\n      title: '设置行高',\n      type: 'list',\n      list: lineHeightMenu.getItemList(),\n      clickHandler: function clickHandler(value) {\n        //保存焦点\n        editor.selection.saveRange();\n\n        _this.command(value);\n      }\n    };\n    _this = _super.call(this, $elem, editor, DropListMenu) || this;\n    return _this;\n  }\n  /**\n   * 执行命令\n   * @param value value\n   */\n\n\n  LineHeight.prototype.command = function (value) {\n    var _this = this;\n\n    var _a;\n\n    var selection = window.getSelection ? window.getSelection() : document.getSelection(); //允许设置dom\n\n    var allowArray = ['P'];\n    var editor = this.editor;\n    var st = ''; //恢复焦点\n\n    editor.selection.restoreSelection();\n    var $selectionElem = dom_core_1[\"default\"](editor.selection.getSelectionContainerElem());\n    if (!($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.length)) return;\n    var $selectionAll = dom_core_1[\"default\"](editor.selection.getSelectionContainerElem()); // let dom:HTMLElement= $selectionElem.elems[0]\n\n    var dom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()).elems[0]; //获取元素的style\n\n    var style = '';\n    var styleList = []; //点击默认的时候删除line-height属性 并重新设置 style\n\n    var styleStr = ''; //选中多行操作\n\n    if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n      var isIE_1 = util_1.UA.isIE(); //获取range 开头结束的dom在 祖父元素的下标\n\n      var indexStore_1 = [];\n      var arrayDom_a = [];\n      var arrayDom_b = []; //获取range 开头结束的dom\n\n      var StartElem_1 = dom_core_1[\"default\"](editor.selection.getSelectionStartElem());\n      var EndElem_1 = dom_core_1[\"default\"](editor.selection.getSelectionEndElem());\n      var childList = (_a = editor.selection.getRange()) === null || _a === void 0 ? void 0 : _a.commonAncestorContainer.childNodes;\n      arrayDom_a.push(this.getDom(StartElem_1.elems[0]));\n      childList === null || childList === void 0 ? void 0 : (0, _forEach[\"default\"])(childList).call(childList, function (item, index) {\n        if (item === _this.getDom(StartElem_1.elems[0])) {\n          indexStore_1.push(index);\n        }\n\n        if (item === _this.getDom(EndElem_1.elems[0])) {\n          indexStore_1.push(index);\n        }\n      }); //遍历 获取头尾之间的dom元素\n\n      var i = 0;\n      var d = void 0;\n      arrayDom_b.push(this.getDom(StartElem_1.elems[0]));\n\n      while (arrayDom_a[i] !== this.getDom(EndElem_1.elems[0])) {\n        d = dom_core_1[\"default\"](arrayDom_a[i].nextElementSibling).elems[0];\n\n        if ((0, _indexOf[\"default\"])(allowArray).call(allowArray, dom_core_1[\"default\"](d).getNodeName()) !== -1) {\n          arrayDom_b.push(d);\n          arrayDom_a.push(d);\n        } else {\n          arrayDom_a.push(d);\n        }\n\n        i++;\n      } //设置段落选取 全选\n\n\n      if (dom_core_1[\"default\"](arrayDom_a[0]).getNodeName() !== 'P') {\n        i = 0; //遍历集合得到第一个p标签的下标\n\n        for (var k = 0; k < arrayDom_a.length; k++) {\n          if (dom_core_1[\"default\"](arrayDom_a[k]).getNodeName() === 'P') {\n            i = k;\n            break;\n          }\n        } //i===0 说明选区中没有p段落\n\n\n        if (i === 0) {\n          return;\n        }\n\n        var _i = 0;\n\n        while (_i !== i) {\n          arrayDom_a.shift();\n          _i++;\n        }\n      } //设置替换的选区\n\n\n      this.setRange(arrayDom_a[0], arrayDom_a[arrayDom_a.length - 1]); //生成innerHtml html字符串\n\n      (0, _forEach[\"default\"])(arrayDom_a).call(arrayDom_a, function (item) {\n        style = item.getAttribute('style');\n        styleList = style ? style.split(';') : [];\n        styleStr = _this.styleProcessing(styleList);\n\n        if (dom_core_1[\"default\"](item).getNodeName() === 'P') {\n          //判断是否 点击默认\n          if (value) {\n            styleStr += value ? \"line-height:\" + value + \";\" : '';\n          }\n        }\n\n        if (!isIE_1) {\n          st += \"<\" + dom_core_1[\"default\"](item).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + item.innerHTML + \"</\" + dom_core_1[\"default\"](item).getNodeName().toLowerCase() + \">\";\n        } else {\n          dom_core_1[\"default\"](item).css('line-height', value);\n        }\n      });\n\n      if (st) {\n        this.action(st, editor);\n      } //恢复已选择的选区\n\n\n      dom = $selectionAll.elems[0];\n      this.setRange(dom.children[indexStore_1[0]], dom.children[indexStore_1[1]]);\n      return;\n    } //遍历dom 获取祖父元素 直到contenteditable属性的div标签\n\n\n    dom = this.getDom(dom); //校验允许lineheight设置标签\n\n    if ((0, _indexOf[\"default\"])(allowArray).call(allowArray, dom_core_1[\"default\"](dom).getNodeName()) === -1) {\n      return;\n    }\n\n    style = dom.getAttribute('style');\n    styleList = style ? style.split(';') : []; //全选 dom下所有的内容\n\n    selection === null || selection === void 0 ? void 0 : selection.selectAllChildren(dom); //保存range\n\n    editor.selection.saveRange(); //判断是否存在value 默认 移除line-height\n\n    if (!value) {\n      if (style) {\n        styleStr = this.styleProcessing(styleList); //避免没有其它属性 只留下 ‘style’ 减少代码\n\n        if (styleStr === '') {\n          st = \"<\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \">\" + dom.innerHTML + \"</\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \">\";\n        } else {\n          st = \"<\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + dom.innerHTML + \"</\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \">\";\n        }\n\n        this.action(st, editor);\n      }\n\n      return;\n    }\n\n    if (style) {\n      //存在style 检索其它style属性\n      styleStr = this.styleProcessing(styleList) + (\"line-height:\" + value + \";\");\n    } else {\n      styleStr = \"line-height:\" + value + \";\";\n    }\n\n    st = \"<\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \" style=\\\"\" + styleStr + \"\\\">\" + dom.innerHTML + \"</\" + dom_core_1[\"default\"](dom).getNodeName().toLowerCase() + \">\"; //防止BLOCKQUOTE叠加 or IE下导致P嵌套出现误删\n\n    if (dom_core_1[\"default\"](dom).getNodeName() === 'BLOCKQUOTE' || util_1.UA.isIE()) {\n      dom_core_1[\"default\"](dom).css('line-height', value);\n    } else {\n      this.action(st, editor);\n    }\n  };\n  /**\n   * 遍历dom 获取祖父元素 直到contenteditable属性的div标签\n   *\n   */\n\n\n  LineHeight.prototype.getDom = function (dom) {\n    var DOM = dom_core_1[\"default\"](dom).elems[0];\n\n    if (!DOM.parentNode) {\n      return DOM;\n    }\n\n    function getParentNode($node, editor) {\n      var $parent = dom_core_1[\"default\"]($node.parentNode);\n\n      if (editor.$textElem.equal($parent)) {\n        return $node;\n      } else {\n        return getParentNode($parent.elems[0], editor);\n      }\n    }\n\n    DOM = getParentNode(DOM, this.editor);\n    return DOM;\n  };\n  /**\n   * 执行 document.execCommand\n   *\n   */\n\n\n  LineHeight.prototype.action = function (html_str, editor) {\n    editor.cmd[\"do\"]('insertHTML', html_str);\n  };\n  /**\n   * style 处理\n   */\n\n\n  LineHeight.prototype.styleProcessing = function (styleList) {\n    var styleStr = '';\n    (0, _forEach[\"default\"])(styleList).call(styleList, function (item) {\n      item !== '' && (0, _indexOf[\"default\"])(item).call(item, 'line-height') === -1 ? styleStr = styleStr + item + ';' : '';\n    });\n    return styleStr;\n  };\n  /**\n   * 段落全选 比如：避免11变成111\n   */\n\n\n  LineHeight.prototype.setRange = function (startDom, endDom) {\n    var editor = this.editor;\n    var selection = window.getSelection ? window.getSelection() : document.getSelection(); //清除所有的选区\n\n    selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n    var range = document.createRange();\n    var star = startDom;\n    var end = endDom;\n    range.setStart(star, 0);\n    range.setEnd(end, 1);\n    selection === null || selection === void 0 ? void 0 : selection.addRange(range); //保存设置好的选区\n\n    editor.selection.saveRange(); //清除所有的选区\n\n    selection === null || selection === void 0 ? void 0 : selection.removeAllRanges(); //恢复选区\n\n    editor.selection.restoreSelection();\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  LineHeight.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n\n    if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n      //避免选中多行设置\n      return;\n    }\n\n    var dom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); // 有些情况下 dom 可能为空，比如编辑器初始化\n\n    if (dom.length === 0) return;\n    dom = this.getDom(dom.elems[0]);\n    var style = dom.getAttribute('style') ? dom.getAttribute('style') : ''; //判断当前标签是否具有line-height属性\n\n    if (style && (0, _indexOf[\"default\"])(style).call(style, 'line-height') !== -1) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return LineHeight;\n}(DropListMenu_1[\"default\"]);\n\nexports[\"default\"] = LineHeight;\n\n/***/ }),\n/* 394 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 行高 菜单\n * @author lichunlin\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar lineHeightList = function () {\n  function lineHeightList(editor, list) {\n    var _this = this;\n\n    this.itemList = [{\n      $elem: dom_core_1[\"default\"](\"<span>\" + editor.i18next.t('默认') + \"</span>\"),\n      value: ''\n    }];\n    (0, _forEach[\"default\"])(list).call(list, function (item) {\n      _this.itemList.push({\n        $elem: dom_core_1[\"default\"](\"<span>\" + item + \"</span>\"),\n        value: item\n      });\n    });\n  }\n\n  lineHeightList.prototype.getItemList = function () {\n    return this.itemList;\n  };\n\n  return lineHeightList;\n}();\n\nexports[\"default\"] = lineHeightList;\n\n/***/ }),\n/* 395 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 撤销\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar Undo = function (_super) {\n  tslib_1.__extends(Undo, _super);\n\n  function Undo(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u64A4\\u9500\\\">\\n                <i class=\\\"w-e-icon-undo\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Undo.prototype.clickHandler = function () {\n    var editor = this.editor;\n    editor.history.revoke(); // 重新创建 range，是处理当初始化编辑器，API插入内容后撤销，range 不在编辑器内部的问题\n\n    var children = editor.$textElem.children();\n    if (!(children === null || children === void 0 ? void 0 : children.length)) return;\n    var $last = children.last();\n    editor.selection.createRangeByElem($last, false, true);\n    editor.selection.restoreSelection();\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Undo.prototype.tryChangeActive = function () {\n    // 标准模式下才进行操作\n    if (!this.editor.isCompatibleMode) {\n      if (this.editor.history.size[0]) {\n        this.active();\n      } else {\n        this.unActive();\n      }\n    }\n  };\n\n  return Undo;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Undo;\n\n/***/ }),\n/* 396 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 重做\n * @author tonghan\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar Redo = function (_super) {\n  tslib_1.__extends(Redo, _super);\n\n  function Redo(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u6062\\u590D\\\">\\n                <i class=\\\"w-e-icon-redo\\\"></i>\\n            </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Redo.prototype.clickHandler = function () {\n    var editor = this.editor;\n    editor.history.restore(); // 重新创建 range，是处理当初始化编辑器，API插入内容后撤销，range 不在编辑器内部的问题\n\n    var children = editor.$textElem.children();\n    if (!(children === null || children === void 0 ? void 0 : children.length)) return;\n    var $last = children.last();\n    editor.selection.createRangeByElem($last, false, true);\n    editor.selection.restoreSelection();\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  Redo.prototype.tryChangeActive = function () {\n    // 标准模式下才进行操作\n    if (!this.editor.isCompatibleMode) {\n      if (this.editor.history.size[1]) {\n        this.active();\n      } else {\n        this.unActive();\n      }\n    }\n  };\n\n  return Redo;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Redo;\n\n/***/ }),\n/* 397 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 创建table\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(398));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(407));\n\nvar Table = function (_super) {\n  tslib_1.__extends(Table, _super);\n\n  function Table(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"表格\"><i class=\"w-e-icon-table2\"></i></div>');\n    _this = _super.call(this, $elem, editor) || this; // 绑定事件\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 菜单点击事件\n   */\n\n\n  Table.prototype.clickHandler = function () {\n    this.createPanel();\n  };\n  /**\n   * 创建 panel\n   */\n\n\n  Table.prototype.createPanel = function () {\n    var conf = create_panel_conf_1[\"default\"](this.editor);\n    var panel = new Panel_1[\"default\"](this, conf);\n    panel.create();\n  };\n  /**\n   * 尝试修改菜单 active 状态\n   */\n\n\n  Table.prototype.tryChangeActive = function () {};\n\n  return Table;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Table;\n\n/***/ }),\n/* 398 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description table 菜单 panel tab 配置\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _isInteger = _interopRequireDefault(__webpack_require__(399));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\n__webpack_require__(404);\n\nvar create_table_1 = tslib_1.__importDefault(__webpack_require__(406));\n/**\n * 判断一个数值是否为正整数\n * @param { number } n 被验证的值\n */\n\n\nfunction isPositiveInteger(n) {\n  //是否为正整数\n  return n > 0 && (0, _isInteger[\"default\"])(n);\n}\n\nfunction default_1(editor) {\n  var createTable = new create_table_1[\"default\"](editor); // panel 中需要用到的id\n\n  var colId = util_1.getRandom('w-col-id');\n  var rowId = util_1.getRandom('w-row-id');\n  var insertBtnId = util_1.getRandom('btn-link');\n  var i18nPrefix = 'menus.panelMenus.table.';\n\n  var t = function t(text) {\n    return editor.i18next.t(text);\n  }; // tabs 配置 -----------------------------------------\n\n\n  var tabsConf = [{\n    title: t(i18nPrefix + \"\\u63D2\\u5165\\u8868\\u683C\"),\n    tpl: \"<div>\\n                    <div class=\\\"w-e-table\\\">\\n                        <span>\" + t('创建') + \"</span>\\n                        <input id=\\\"\" + rowId + \"\\\"  type=\\\"text\\\" class=\\\"w-e-table-input\\\" value=\\\"5\\\"/></td>\\n                        <span>\" + t(i18nPrefix + \"\\u884C\") + \"</span>\\n                        <input id=\\\"\" + colId + \"\\\" type=\\\"text\\\" class=\\\"w-e-table-input\\\" value=\\\"5\\\"/></td>\\n                        <span>\" + (t(i18nPrefix + \"\\u5217\") + t(i18nPrefix + \"\\u7684\") + t(i18nPrefix + \"\\u8868\\u683C\")) + \"</span>\\n                    </div>\\n                    <div class=\\\"w-e-button-container\\\">\\n                        <button type=\\\"button\\\" id=\\\"\" + insertBtnId + \"\\\" class=\\\"right\\\">\" + t('插入') + \"</button>\\n                    </div>\\n                </div>\",\n    events: [{\n      selector: '#' + insertBtnId,\n      type: 'click',\n      fn: function fn() {\n        var colValue = Number(dom_core_1[\"default\"]('#' + colId).val());\n        var rowValue = Number(dom_core_1[\"default\"]('#' + rowId).val()); //校验是否传值\n\n        if (isPositiveInteger(rowValue) && isPositiveInteger(colValue)) {\n          createTable.createAction(rowValue, colValue);\n          return true;\n        } else {\n          editor.config.customAlert('表格行列请输入正整数', 'warning');\n          return false;\n        } // 返回 true 表示函数执行结束之后关闭 panel\n\n      },\n      bindEnter: true\n    }]\n  }]; // tabs end\n  // 最终的配置 -----------------------------------------\n\n  var conf = {\n    width: 330,\n    height: 0,\n    tabs: []\n  };\n  conf.tabs.push(tabsConf[0]);\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 399 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(400);\n\n/***/ }),\n/* 400 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(401);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 401 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(402);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Number.isInteger;\n\n\n/***/ }),\n/* 402 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar isInteger = __webpack_require__(403);\n\n// `Number.isInteger` method\n// https://tc39.es/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n\n\n/***/ }),\n/* 403 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(13);\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.es/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n/***/ }),\n/* 404 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(405);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 405 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-table {\\n  display: flex;\\n}\\n.w-e-table .w-e-table-input {\\n  width: 40px;\\n  text-align: center!important;\\n  margin: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 406 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 创建tabel\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar CreateTable = function () {\n  function CreateTable(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 执行创建\n   * @param rowValue 行数\n   * @param colValue 列数\n   */\n\n\n  CreateTable.prototype.createAction = function (rowValue, colValue) {\n    var editor = this.editor; //不允许在有序列表中添加table\n\n    var $selectionElem = dom_core_1[\"default\"](editor.selection.getSelectionContainerElem());\n    var $ul = dom_core_1[\"default\"]($selectionElem.elems[0]).parentUntilEditor('UL', editor);\n    var $ol = dom_core_1[\"default\"]($selectionElem.elems[0]).parentUntilEditor('OL', editor);\n\n    if ($ul || $ol) {\n      return;\n    }\n\n    var tableDom = this.createTableHtml(rowValue, colValue);\n    editor.cmd[\"do\"]('insertHTML', tableDom);\n  };\n  /**\n   * 创建table、行、列\n   * @param rowValue 行数\n   * @param colValue 列数\n   */\n\n\n  CreateTable.prototype.createTableHtml = function (rowValue, colValue) {\n    var rowStr = '';\n    var colStr = '';\n\n    for (var i = 0; i < rowValue; i++) {\n      colStr = '';\n\n      for (var j = 0; j < colValue; j++) {\n        if (i === 0) {\n          colStr = colStr + '<th></th>';\n        } else {\n          colStr = colStr + '<td></td>';\n        }\n      }\n\n      rowStr = rowStr + '<tr>' + colStr + '</tr>';\n    }\n\n    var tableDom = \"<table border=\\\"0\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\"><tbody>\" + rowStr + (\"</tbody></table>\" + const_1.EMPTY_P);\n    return tableDom;\n  };\n\n  return CreateTable;\n}();\n\nexports[\"default\"] = CreateTable;\n\n/***/ }),\n/* 407 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定点击事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(408));\n\nvar table_event_1 = __webpack_require__(416);\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  //Tooltip\n  tooltip_event_1[\"default\"](editor);\n  table_event_1.bindEventKeyboardEvent(editor);\n  table_event_1.bindClickEvent(editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 408 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description tooltip 事件\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37)); //操作事件\n\n\nvar operating_event_1 = tslib_1.__importDefault(__webpack_require__(409));\n\nvar getNode_1 = tslib_1.__importDefault(__webpack_require__(415));\n\nvar const_1 = __webpack_require__(7);\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n  /**\n   * 显示 tooltip\n   * @param  table元素\n   */\n\n  function showTableTooltip($node) {\n    var getnode = new getNode_1[\"default\"](editor);\n    var i18nPrefix = 'menus.panelMenus.table.';\n\n    var t = function t(text, prefix) {\n      if (prefix === void 0) {\n        prefix = i18nPrefix;\n      }\n\n      return editor.i18next.t(prefix + text);\n    };\n\n    var conf = [{\n      // $elem: $(\"<span class='w-e-icon-trash-o'></span>\"),\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('删除表格') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 选中img元素\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('insertHTML', const_1.EMPTY_P); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('添加行') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 禁止多选操作\n        var isMore = isMoreRowAction(editor);\n\n        if (isMore) {\n          return true;\n        } //当前元素\n\n\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前行\n\n        var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n\n        if (!$currentRow) {\n          return true;\n        } //获取当前行的index\n\n\n        var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow)); //生成要替换的html\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //生成新的table\n\n        var newdom = getnode.getTableHtml(operating_event_1[\"default\"].ProcessingRow(dom_core_1[\"default\"](htmlStr), index).elems[0]);\n        newdom = _isEmptyP($node, newdom); // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('删除行') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 禁止多选操作\n        var isMore = isMoreRowAction(editor);\n\n        if (isMore) {\n          return true;\n        } //当前元素\n\n\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前行\n\n        var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n\n        if (!$currentRow) {\n          return true;\n        } //获取当前行的index\n\n\n        var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow)); //生成要替换的html\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //获取新生成的table 判断是否是最后一行被删除 是 删除整个table\n\n        var trLength = operating_event_1[\"default\"].DeleteRow(dom_core_1[\"default\"](htmlStr), index).elems[0].children[0].children.length; //生成新的table\n\n        var newdom = ''; // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n\n        if (trLength === 0) {\n          newdom = const_1.EMPTY_P;\n        } else {\n          newdom = getnode.getTableHtml(operating_event_1[\"default\"].DeleteRow(dom_core_1[\"default\"](htmlStr), index).elems[0]);\n        }\n\n        newdom = _isEmptyP($node, newdom);\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('添加列') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 禁止多选操作\n        var isMore = isMoreRowAction(editor);\n\n        if (isMore) {\n          return true;\n        } //当前元素\n\n\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前列的index\n\n        var index = getnode.getCurrentColIndex(selectDom.elems[0]); //生成要替换的html\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //生成新的table\n\n        var newdom = getnode.getTableHtml(operating_event_1[\"default\"].ProcessingCol(dom_core_1[\"default\"](htmlStr), index).elems[0]);\n        newdom = _isEmptyP($node, newdom); // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('删除列') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 禁止多选操作\n        var isMore = isMoreRowAction(editor);\n\n        if (isMore) {\n          return true;\n        } //当前元素\n\n\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前列的index\n\n        var index = getnode.getCurrentColIndex(selectDom.elems[0]); //生成要替换的html\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //获取新生成的table 判断是否是最后一列被删除 是 删除整个table\n\n        var newDom = operating_event_1[\"default\"].DeleteCol(dom_core_1[\"default\"](htmlStr), index); // 获取子节点的数量\n\n        var tdLength = newDom.elems[0].children[0].children[0].children.length; //生成新的table\n\n        var newdom = ''; // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection(); // 如果没有列了 则替换成空行\n\n        if (tdLength === 0) {\n          newdom = const_1.EMPTY_P;\n        } else {\n          newdom = getnode.getTableHtml(newDom.elems[0]);\n        }\n\n        newdom = _isEmptyP($node, newdom);\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('设置表头') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        // 禁止多选操作\n        var isMore = isMoreRowAction(editor);\n\n        if (isMore) {\n          return true;\n        } //当前元素\n\n\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前行\n\n        var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n\n        if (!$currentRow) {\n          return true;\n        } //获取当前行的index\n\n\n        var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n\n        if (index !== 0) {\n          //控制在table的第一行\n          index = 0;\n        } //生成要替换的html\n\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //生成新的table\n\n        var newdom = getnode.getTableHtml(operating_event_1[\"default\"].setTheHeader(dom_core_1[\"default\"](htmlStr), index, 'th').elems[0]);\n        newdom = _isEmptyP($node, newdom); // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }, {\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('取消表头') + \"</span>\"),\n      onClick: function onClick(editor, $node) {\n        //当前元素\n        var selectDom = dom_core_1[\"default\"](editor.selection.getSelectionStartElem()); //当前行\n\n        var $currentRow = getnode.getRowNode(selectDom.elems[0]);\n\n        if (!$currentRow) {\n          return true;\n        } //获取当前行的index\n\n\n        var index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow));\n\n        if (index !== 0) {\n          //控制在table的第一行\n          index = 0;\n        } //生成要替换的html\n\n\n        var htmlStr = getnode.getTableHtml($node.elems[0]); //生成新的table\n\n        var newdom = getnode.getTableHtml(operating_event_1[\"default\"].setTheHeader(dom_core_1[\"default\"](htmlStr), index, 'td').elems[0]);\n        newdom = _isEmptyP($node, newdom); // 选中table\n\n        editor.selection.createRangeByElem($node);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('insertHTML', newdom);\n        return true;\n      }\n    }];\n    tooltip = new Tooltip_1[\"default\"](editor, $node, conf);\n    tooltip.create();\n  }\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  function hideTableTooltip() {\n    // 移除 tooltip\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showTableTooltip: showTableTooltip,\n    hideTableTooltip: hideTableTooltip\n  };\n}\n/**\n * 判断是否是多行\n */\n\n\nfunction isMoreRowAction(editor) {\n  var $startElem = editor.selection.getSelectionStartElem();\n  var $endElem = editor.selection.getSelectionEndElem();\n\n  if (($startElem === null || $startElem === void 0 ? void 0 : $startElem.elems[0]) !== ($endElem === null || $endElem === void 0 ? void 0 : $endElem.elems[0])) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showTableTooltip = _a.showTableTooltip,\n      hideTableTooltip = _a.hideTableTooltip; // 点击table元素是，显示 tooltip\n\n\n  editor.txt.eventHooks.tableClickEvents.push(showTableTooltip); // 点击其他地方，或者滚动时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideTableTooltip);\n  editor.txt.eventHooks.keyupEvents.push(hideTableTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideTableTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideTableTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideTableTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n/**\n * 判断表格的下一个节点是否是空行\n */\n\nfunction _isEmptyP($node, newdom) {\n  // 当表格的下一个兄弟节点是空行时，在 newdom 后添加 EMPTY_P\n  var nextNode = $node.elems[0].nextSibling;\n\n  if (!nextNode || nextNode.innerHTML === '<br>') {\n    newdom += \"\" + const_1.EMPTY_P;\n  }\n\n  return newdom;\n}\n\n/***/ }),\n/* 409 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _slice = _interopRequireDefault(__webpack_require__(47));\n\nvar _splice = _interopRequireDefault(__webpack_require__(99));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _from = _interopRequireDefault(__webpack_require__(143));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 处理新添加行\n * @param $node 整个table\n * @param _index 行的inde\n */\n\n\nfunction ProcessingRow($node, _index) {\n  //执行获取tbody节点\n  var $dom = generateDomAction($node); //取出所有的行\n\n  var domArray = (0, _slice[\"default\"])(Array.prototype).apply($dom.children); //列的数量\n\n  var childrenLength = domArray[0].children.length; //创建新tr\n\n  var tr = document.createElement('tr');\n\n  for (var i = 0; i < childrenLength; i++) {\n    var td = document.createElement('td');\n    tr.appendChild(td);\n  } //插入集合中\n\n\n  (0, _splice[\"default\"])(domArray).call(domArray, _index + 1, 0, tr); //移除、新增节点事件\n\n  removeAndInsertAction($dom, domArray);\n  return dom_core_1[\"default\"]($dom.parentNode);\n}\n/**\n * 处理新添加列\n * @param $node 整个table\n * @param _index 列的inde\n */\n\n\nfunction ProcessingCol($node, _index) {\n  //执行获取tbody节点\n  var $dom = generateDomAction($node); //取出所有的行\n\n  var domArray = (0, _slice[\"default\"])(Array.prototype).apply($dom.children);\n\n  var _loop_1 = function _loop_1(i) {\n    var _context;\n\n    var cArray = []; //取出所有的列\n\n    (0, _forEach[\"default\"])(_context = (0, _from[\"default\"])(domArray[i].children)).call(_context, function (item) {\n      cArray.push(item);\n    }); //移除行的旧的子节点\n\n    while (domArray[i].children.length !== 0) {\n      domArray[i].removeChild(domArray[i].children[0]);\n    } //列分th td\n\n\n    var td = dom_core_1[\"default\"](cArray[0]).getNodeName() !== 'TH' ? document.createElement('td') : document.createElement('th'); // let td = document.createElement('td')\n\n    (0, _splice[\"default\"])(cArray).call(cArray, _index + 1, 0, td); //插入新的子节点\n\n    for (var j = 0; j < cArray.length; j++) {\n      domArray[i].appendChild(cArray[j]);\n    }\n  }; //创建td\n\n\n  for (var i = 0; i < domArray.length; i++) {\n    _loop_1(i);\n  } //移除、新增节点事件\n\n\n  removeAndInsertAction($dom, domArray);\n  return dom_core_1[\"default\"]($dom.parentNode);\n}\n/**\n * 处理删除行\n * @param $node  整个table\n * @param _index  行的inde\n */\n\n\nfunction DeleteRow($node, _index) {\n  //执行获取tbody节点\n  var $dom = generateDomAction($node); //取出所有的行\n\n  var domArray = (0, _slice[\"default\"])(Array.prototype).apply($dom.children); //删除行\n\n  (0, _splice[\"default\"])(domArray).call(domArray, _index, 1); //移除、新增节点事件\n\n  removeAndInsertAction($dom, domArray);\n  return dom_core_1[\"default\"]($dom.parentNode);\n}\n/**\n * 处理删除列\n * @param $node\n * @param _index\n */\n\n\nfunction DeleteCol($node, _index) {\n  //执行获取tbody节点\n  var $dom = generateDomAction($node); //取出所有的行\n\n  var domArray = (0, _slice[\"default\"])(Array.prototype).apply($dom.children);\n\n  var _loop_2 = function _loop_2(i) {\n    var _context2;\n\n    var cArray = []; //取出所有的列\n\n    (0, _forEach[\"default\"])(_context2 = (0, _from[\"default\"])(domArray[i].children)).call(_context2, function (item) {\n      cArray.push(item);\n    }); //移除行的旧的子节点\n\n    while (domArray[i].children.length !== 0) {\n      domArray[i].removeChild(domArray[i].children[0]);\n    }\n\n    (0, _splice[\"default\"])(cArray).call(cArray, _index, 1); //插入新的子节点\n\n    for (var j = 0; j < cArray.length; j++) {\n      domArray[i].appendChild(cArray[j]);\n    }\n  }; //创建td\n\n\n  for (var i = 0; i < domArray.length; i++) {\n    _loop_2(i);\n  } //移除、新增节点事件\n\n\n  removeAndInsertAction($dom, domArray);\n  return dom_core_1[\"default\"]($dom.parentNode);\n}\n/**\n * 处理设置/取消表头\n * @param $node\n * @param _index\n * @type 替换的标签 th还是td\n */\n\n\nfunction setTheHeader($node, _index, type) {\n  // 执行获取tbody节点\n  var $dom = generateDomAction($node); // 取出所有的行\n\n  var domArray = (0, _slice[\"default\"])(Array.prototype).apply($dom.children); // 列的数量\n\n  var cols = domArray[_index].children; // 创建新tr\n\n  var tr = document.createElement('tr');\n\n  var _loop_3 = function _loop_3(i) {\n    var _context3;\n\n    // 根据type(td 或者 th)生成对应的el\n    var el = document.createElement(type);\n    var col = cols[i];\n    /**\n     * 没有使用children是因为谷歌纯文本内容children数组就为空，而火狐纯文本内容是“xxx<br>”使用children只能获取br\n     * 当然使用childNodes也涵盖支持我们表头使用表情，代码块等，不管是设置还是取消都会保留第一行\n     */\n\n    (0, _forEach[\"default\"])(_context3 = (0, _from[\"default\"])(col.childNodes)).call(_context3, function (item) {\n      el.appendChild(item);\n    });\n    tr.appendChild(el);\n  };\n\n  for (var i = 0; i < cols.length; i++) {\n    _loop_3(i);\n  } //插入集合中\n\n\n  (0, _splice[\"default\"])(domArray).call(domArray, _index, 1, tr); //移除、新增节点事件\n\n  removeAndInsertAction($dom, domArray);\n  return dom_core_1[\"default\"]($dom.parentNode);\n}\n/**\n * 封装移除、新增节点事件\n * @param $dom tbody节点\n * @param domArray  所有的行\n */\n\n\nfunction removeAndInsertAction($dom, domArray) {\n  //移除所有的旧的子节点\n  while ($dom.children.length !== 0) {\n    $dom.removeChild($dom.children[0]);\n  } //插入新的子节点\n\n\n  for (var i = 0; i < domArray.length; i++) {\n    $dom.appendChild(domArray[i]);\n  }\n}\n/**\n * 封装判断是否tbody节点\n * 粘贴的table 第一个节点是<colgroup> 最后的节点<tbody>\n * @param dom\n */\n\n\nfunction generateDomAction($node) {\n  var $dom = $node.elems[0].children[0];\n\n  if ($dom.nodeName === 'COLGROUP') {\n    $dom = $node.elems[0].children[$node.elems[0].children.length - 1];\n  }\n\n  return $dom;\n}\n\nexports[\"default\"] = {\n  ProcessingRow: ProcessingRow,\n  ProcessingCol: ProcessingCol,\n  DeleteRow: DeleteRow,\n  DeleteCol: DeleteCol,\n  setTheHeader: setTheHeader\n};\n\n/***/ }),\n/* 410 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(411);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 411 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(58);\n__webpack_require__(412);\nvar path = __webpack_require__(11);\n\nmodule.exports = path.Array.from;\n\n\n/***/ }),\n/* 412 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $ = __webpack_require__(5);\nvar from = __webpack_require__(413);\nvar checkCorrectnessOfIteration = __webpack_require__(120);\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n\n\n/***/ }),\n/* 413 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar bind = __webpack_require__(40);\nvar toObject = __webpack_require__(26);\nvar callWithSafeIterationClosing = __webpack_require__(414);\nvar isArrayIteratorMethod = __webpack_require__(112);\nvar toLength = __webpack_require__(35);\nvar createProperty = __webpack_require__(75);\nvar getIteratorMethod = __webpack_require__(113);\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n\n\n/***/ }),\n/* 414 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(20);\nvar iteratorClose = __webpack_require__(114);\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n\n\n/***/ }),\n/* 415 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 获取dom节点\n * @author lichunlin\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _from = _interopRequireDefault(__webpack_require__(143));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar getNode = function () {\n  function getNode(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 获取焦点所在行\n   * @param $node 当前table\n   */\n\n\n  getNode.prototype.getRowNode = function ($node) {\n    var _a;\n\n    var DOM = dom_core_1[\"default\"]($node).elems[0];\n\n    if (!DOM.parentNode) {\n      return DOM;\n    }\n\n    DOM = (_a = dom_core_1[\"default\"](DOM).parentUntil('TR', DOM)) === null || _a === void 0 ? void 0 : _a.elems[0];\n    return DOM;\n  };\n  /**\n   * 获取当前行的下标\n   * @param $node 当前table\n   * @param $dmo 当前行节点\n   */\n\n\n  getNode.prototype.getCurrentRowIndex = function ($node, $dom) {\n    var _context;\n\n    var _index = 0;\n    var $nodeChild = $node.children[0]; //粘贴的table 最后一个节点才是tbody\n\n    if ($nodeChild.nodeName === 'COLGROUP') {\n      $nodeChild = $node.children[$node.children.length - 1];\n    }\n\n    (0, _forEach[\"default\"])(_context = (0, _from[\"default\"])($nodeChild.children)).call(_context, function (item, index) {\n      item === $dom ? _index = index : '';\n    });\n    return _index;\n  };\n  /**\n   * 获取当前列的下标\n   * @param $node 当前点击元素\n   */\n\n\n  getNode.prototype.getCurrentColIndex = function ($node) {\n    var _context2;\n\n    var _a; //当前行\n\n\n    var _index = 0; //获取当前列 td或th\n\n    var rowDom = dom_core_1[\"default\"]($node).getNodeName() === 'TD' || dom_core_1[\"default\"]($node).getNodeName() === 'TH' ? $node : (_a = dom_core_1[\"default\"]($node).parentUntil('TD', $node)) === null || _a === void 0 ? void 0 : _a.elems[0];\n    var colDom = dom_core_1[\"default\"](rowDom).parent();\n    (0, _forEach[\"default\"])(_context2 = (0, _from[\"default\"])(colDom.elems[0].children)).call(_context2, function (item, index) {\n      item === rowDom ? _index = index : '';\n    });\n    return _index;\n  };\n  /**\n   * 返回元素html字符串\n   * @param $node\n   */\n\n\n  getNode.prototype.getTableHtml = function ($node) {\n    var htmlStr = \"<table border=\\\"0\\\" width=\\\"100%\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\">\" + dom_core_1[\"default\"]($node).html() + \"</table>\";\n    return htmlStr;\n  };\n\n  return getNode;\n}();\n\nexports[\"default\"] = getNode;\n\n/***/ }),\n/* 416 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.bindEventKeyboardEvent = exports.bindClickEvent = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * @description 是否是空行\n * @param topElem\n */\n\n\nfunction isEmptyLine(topElem) {\n  if (!topElem.length) {\n    return false;\n  }\n\n  var dom = topElem.elems[0];\n  return dom.nodeName === 'P' && dom.innerHTML === '<br>';\n}\n\nfunction bindClickEvent(editor) {\n  function handleTripleClick($dom, e) {\n    // 处理三击事件，此时选区可能离开table，修正回来\n    if (e.detail >= 3) {\n      var selection = window.getSelection();\n\n      if (selection) {\n        var focusNode = selection.focusNode,\n            anchorNode = selection.anchorNode;\n        var $anchorNode = dom_core_1[\"default\"](anchorNode === null || anchorNode === void 0 ? void 0 : anchorNode.parentElement); // 当focusNode离开了table\n\n        if (!$dom.isContain(dom_core_1[\"default\"](focusNode))) {\n          var $td = $anchorNode.elems[0].tagName === 'TD' ? $anchorNode : $anchorNode.parentUntilEditor('td', editor);\n\n          if ($td) {\n            var range = editor.selection.getRange();\n            range === null || range === void 0 ? void 0 : range.setEnd($td.elems[0], $td.elems[0].childNodes.length);\n            editor.selection.restoreSelection();\n          }\n        }\n      }\n    }\n  }\n\n  editor.txt.eventHooks.tableClickEvents.push(handleTripleClick);\n}\n\nexports.bindClickEvent = bindClickEvent;\n\nfunction bindEventKeyboardEvent(editor) {\n  var txt = editor.txt,\n      selection = editor.selection;\n  var keydownEvents = txt.eventHooks.keydownEvents;\n  keydownEvents.push(function (e) {\n    // 实时保存选区\n    editor.selection.saveRange();\n    var $selectionContainerElem = selection.getSelectionContainerElem();\n\n    if ($selectionContainerElem) {\n      var $topElem = $selectionContainerElem.getNodeTop(editor);\n      var $preElem = $topElem.length ? $topElem.prev().length ? $topElem.prev() : null : null; // 删除时，选区前面是table，且选区没有选中文本，阻止默认行为\n\n      if ($preElem && $preElem.getNodeName() === 'TABLE' && selection.isSelectionEmpty() && selection.getCursorPos() === 0 && e.keyCode === 8) {\n        var $nextElem = $topElem.next();\n        var hasNext = !!$nextElem.length;\n        /**\n         * 如果当前是空行，并且当前行下面还有内容，删除当前行\n         * 浏览器默认行为不会删除掉当前行的<br>标签\n         * 因此阻止默认行为，特殊处理\n         */\n\n        if (hasNext && isEmptyLine($topElem)) {\n          $topElem.remove();\n          editor.selection.setRangeToElem($nextElem.elems[0]);\n        }\n\n        e.preventDefault();\n      }\n    }\n  });\n}\n\nexports.bindEventKeyboardEvent = bindEventKeyboardEvent;\n\n/***/ }),\n/* 417 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 代码 菜单\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.formatCodeHtml = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar PanelMenu_1 = tslib_1.__importDefault(__webpack_require__(36));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar create_panel_conf_1 = tslib_1.__importDefault(__webpack_require__(418));\n\nvar is_active_1 = tslib_1.__importDefault(__webpack_require__(144));\n\nvar Panel_1 = tslib_1.__importDefault(__webpack_require__(33));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(419));\n\nfunction formatCodeHtml(editor, html) {\n  if (!html) return html;\n  html = deleteHighlightCode(html);\n  html = formatEnterCode(html);\n  html = util_1.replaceSpecialSymbol(html);\n  return html; // 格式化换换所产生的code标签\n\n  function formatEnterCode(html) {\n    var preArr = html.match(/<pre[\\s|\\S]+?\\/pre>/g);\n    if (preArr === null) return html;\n    (0, _map[\"default\"])(preArr).call(preArr, function (item) {\n      //将连续的code标签换为\\n换行\n      html = html.replace(item, item.replace(/<\\/code><code>/g, '\\n').replace(/<br>/g, ''));\n    });\n    return html;\n  } // highlight格式化方法\n\n\n  function deleteHighlightCode(html) {\n    var _context;\n\n    // 获取所有hljs文本\n    var m = html.match(/<span\\sclass=\"hljs[\\s|\\S]+?\\/span>/gm); // 没有代码渲染文本则退出\n    // @ts-ignore\n\n    if (!m || !m.length) return html; // 获取替换文本\n\n    var r = (0, _map[\"default\"])(_context = util_1.deepClone(m)).call(_context, function (i) {\n      i = i.replace(/<span\\sclass=\"hljs[^>]+>/, '');\n      return i.replace(/<\\/span>/, '');\n    }); // @ts-ignore\n\n    for (var i = 0; i < m.length; i++) {\n      html = html.replace(m[i], r[i]);\n    }\n\n    return deleteHighlightCode(html);\n  }\n}\n\nexports.formatCodeHtml = formatCodeHtml;\n\nvar Code = function (_super) {\n  tslib_1.__extends(Code, _super);\n\n  function Code(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"代码\"><i class=\"w-e-icon-terminal\"></i></div>');\n    _this = _super.call(this, $elem, editor) || this; // 绑定事件，如点击链接时，可以查看链接\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 插入行内代码\n   * @param text\n   * @return null\n   */\n\n\n  Code.prototype.insertLineCode = function (text) {\n    var editor = this.editor; // 行内代码处理\n\n    var $code = dom_core_1[\"default\"](\"<code>\" + text + \"</code>\");\n    editor.cmd[\"do\"]('insertElem', $code);\n    editor.selection.createRangeByElem($code, false);\n    editor.selection.restoreSelection();\n  };\n  /**\n   * 菜单点击事件\n   */\n\n\n  Code.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var selectionText = editor.selection.getSelectionText();\n\n    if (this.isActive) {\n      return;\n    } else {\n      // 菜单未被激活，说明选区不在链接里\n      if (editor.selection.isSelectionEmpty()) {\n        // 选区是空的，未选中内容\n        this.createPanel('', '');\n      } else {\n        // 行内代码处理 选中了非代码内容\n        this.insertLineCode(selectionText);\n      }\n    }\n  };\n  /**\n   * 创建 panel\n   * @param text 代码文本\n   * @param languageType 代码类型\n   */\n\n\n  Code.prototype.createPanel = function (text, languageType) {\n    var conf = create_panel_conf_1[\"default\"](this.editor, text, languageType);\n    var panel = new Panel_1[\"default\"](this, conf);\n    panel.create();\n  };\n  /**\n   * 尝试修改菜单 active 状态\n   */\n\n\n  Code.prototype.tryChangeActive = function () {\n    var editor = this.editor;\n\n    if (is_active_1[\"default\"](editor)) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n\n  return Code;\n}(PanelMenu_1[\"default\"]);\n\nexports[\"default\"] = Code;\n\n/***/ }),\n/* 418 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description code 菜单 panel tab 配置\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _map = _interopRequireDefault(__webpack_require__(27));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar util_1 = __webpack_require__(6);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar is_active_1 = tslib_1.__importDefault(__webpack_require__(144));\n\nvar const_1 = __webpack_require__(7);\n\nfunction default_1(editor, text, languageType) {\n  var _context;\n\n  // panel 中需要用到的id\n  var inputIFrameId = util_1.getRandom('input-iframe');\n  var languageId = util_1.getRandom('select');\n  var btnOkId = util_1.getRandom('btn-ok');\n  /**\n   * 插入代码块\n   * @param text 文字\n   */\n\n  function insertCode(text) {\n    var _a; // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n\n\n    var active = is_active_1[\"default\"](editor);\n\n    if (active) {\n      selectCodeElem();\n    }\n\n    var content = (_a = editor.selection.getSelectionStartElem()) === null || _a === void 0 ? void 0 : _a.elems[0].innerHTML;\n\n    if (content) {\n      editor.cmd[\"do\"]('insertHTML', const_1.EMPTY_P);\n    }\n\n    editor.cmd[\"do\"]('insertHTML', text);\n    var $code = editor.selection.getSelectionStartElem();\n    var $codeElem = $code === null || $code === void 0 ? void 0 : $code.getNodeTop(editor); // 通过dom操作添加换行标签\n\n    if (($codeElem === null || $codeElem === void 0 ? void 0 : $codeElem.getNextSibling().elems.length) === 0) {\n      // @ts-ignore\n      dom_core_1[\"default\"](const_1.EMPTY_P).insertAfter($codeElem);\n    }\n  }\n  /**\n   * 选中整个链接元素\n   */\n\n\n  function selectCodeElem() {\n    if (!is_active_1[\"default\"](editor)) return; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n    var $selectedCode;\n    var $code = editor.selection.getSelectionStartElem();\n    var $codeElem = $code === null || $code === void 0 ? void 0 : $code.getNodeTop(editor);\n    if (!$codeElem) return;\n    editor.selection.createRangeByElem($codeElem);\n    editor.selection.restoreSelection();\n    $selectedCode = $codeElem; // 赋值给函数内全局变量\n  }\n\n  var t = function t(text) {\n    return editor.i18next.t(text);\n  }; // @ts-ignore\n\n\n  var conf = {\n    width: 500,\n    height: 0,\n    // panel 中可包含多个 tab\n    tabs: [{\n      // tab 的标题\n      title: t('menus.panelMenus.code.插入代码'),\n      // 模板\n      tpl: \"<div>\\n                        <select name=\\\"\\\" id=\\\"\" + languageId + \"\\\">\\n                            \" + (0, _map[\"default\"])(_context = editor.config.languageType).call(_context, function (language) {\n        return '<option ' + (languageType == language ? 'selected' : '') + ' value =\"' + language + '\">' + language + '</option>';\n      }) + \"\\n                        </select>\\n                        <textarea id=\\\"\" + inputIFrameId + \"\\\" type=\\\"text\\\" class=\\\"wang-code-textarea\\\" placeholder=\\\"\\\" style=\\\"height: 160px\\\">\" + text.replace(/&quot;/g, '\"') + \"</textarea>\\n                        <div class=\\\"w-e-button-container\\\">\\n                            <button type=\\\"button\\\" id=\\\"\" + btnOkId + \"\\\" class=\\\"right\\\">\" + (is_active_1[\"default\"](editor) ? t('修改') : t('插入')) + \"</button>\\n                        </div>\\n                    </div>\",\n      // 事件绑定\n      events: [// 插入链接\n      {\n        selector: '#' + btnOkId,\n        type: 'click',\n        fn: function fn() {\n          var formatCode, codeDom;\n          var $code = document.getElementById(inputIFrameId);\n          var $select = dom_core_1[\"default\"]('#' + languageId);\n          var languageType = $select.val(); // @ts-ignore\n\n          var code = $code.value; // 高亮渲染\n\n          if (editor.highlight) {\n            formatCode = editor.highlight.highlightAuto(code).value;\n          } else {\n            formatCode = \"<xmp>\" + code + \"</xmp>\";\n          } // 代码为空，则不插入\n\n\n          if (!code) return; //增加标签\n\n          if (is_active_1[\"default\"](editor)) {\n            return false;\n          } else {\n            //增加pre标签\n            codeDom = \"<pre><code class=\\\"\" + languageType + \"\\\">\" + formatCode + \"</code></pre>\"; // @ts-ignore\n\n            insertCode(codeDom);\n          } // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n\n\n          return true;\n        }\n      }]\n    } // tab end\n    ] // tabs end\n\n  };\n  return conf;\n}\n\nexports[\"default\"] = default_1;\n\n/***/ }),\n/* 419 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定链接元素的事件，入口\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(420));\n\nvar jump_code_block_down_1 = tslib_1.__importDefault(__webpack_require__(421));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  // tooltip 事件\n  tooltip_event_1[\"default\"](editor); // 代码块为最后内容的跳出处理\n\n  jump_code_block_down_1[\"default\"](editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 420 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description tooltip 事件\n * @author lkw\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.createShowHideFn = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n  /**\n   * 显示 tooltip\n   * @param $code 链接元素\n   */\n\n  function showCodeTooltip($code) {\n    var i18nPrefix = 'menus.panelMenus.code.';\n\n    var t = function t(text, prefix) {\n      if (prefix === void 0) {\n        prefix = i18nPrefix;\n      }\n\n      return editor.i18next.t(prefix + text);\n    };\n\n    var conf = [{\n      $elem: dom_core_1[\"default\"](\"<span>\" + t('删除代码') + \"</span>\"),\n      onClick: function onClick(editor, $code) {\n        //dom操作删除\n        $code.remove(); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }]; // 创建 tooltip\n\n    tooltip = new Tooltip_1[\"default\"](editor, $code, conf);\n    tooltip.create();\n  }\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  function hideCodeTooltip() {\n    // 移除 tooltip\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showCodeTooltip: showCodeTooltip,\n    hideCodeTooltip: hideCodeTooltip\n  };\n}\n\nexports.createShowHideFn = createShowHideFn;\n/**\n * preEnterListener是为了统一浏览器 在pre标签内的enter行为而进行的监听\n * 目前并没有使用, 但是在未来处理与Firefox和ie的兼容性时需要用到 暂且放置\n * pre标签内的回车监听\n * @param e\n * @param editor\n */\n\n/* istanbul ignore next */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nfunction preEnterListener(e, editor) {\n  // 获取当前标签元素\n  var $selectionElem = editor.selection.getSelectionContainerElem(); // 获取当前节点最顶级标签元素\n\n  var $topElem = $selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.getNodeTop(editor); // 获取顶级节点节点名\n\n  var topNodeName = $topElem === null || $topElem === void 0 ? void 0 : $topElem.getNodeName(); // 非pre标签退出\n\n  if (topNodeName !== 'PRE') return; // 取消默认行为\n\n  e.preventDefault(); // 执行换行\n\n  editor.cmd[\"do\"]('insertHTML', '\\n\\r');\n}\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showCodeTooltip = _a.showCodeTooltip,\n      hideCodeTooltip = _a.hideCodeTooltip; // 点击代码元素时，显示 tooltip\n\n\n  editor.txt.eventHooks.codeClickEvents.push(showCodeTooltip); // 点击其他地方，或者滚动时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideCodeTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideCodeTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideCodeTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideCodeTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n\n/***/ }),\n/* 421 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 代码块为最后一块内容时往下跳出代码块\n * @author zhengwenjian\n */\n\n\nvar const_1 = __webpack_require__(7);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n/**\n * 在代码块最后一行 按方向下键跳出代码块的处理\n * @param editor 编辑器实例\n */\n\n\nfunction bindEventJumpCodeBlock(editor) {\n  var $textElem = editor.$textElem,\n      selection = editor.selection,\n      txt = editor.txt;\n  var keydownEvents = txt.eventHooks.keydownEvents;\n  keydownEvents.push(function (e) {\n    var _a; // 40 是键盘中的下方向键\n\n\n    if (e.keyCode !== 40) return;\n    var node = selection.getSelectionContainerElem();\n    var $lastNode = (_a = $textElem.children()) === null || _a === void 0 ? void 0 : _a.last();\n\n    if ((node === null || node === void 0 ? void 0 : node.elems[0].tagName) === 'XMP' && ($lastNode === null || $lastNode === void 0 ? void 0 : $lastNode.elems[0].tagName) === 'PRE') {\n      // 就是最后一块是代码块的情况插入空p标签并光标移至p\n      var $emptyP = dom_core_1[\"default\"](const_1.EMPTY_P);\n      $textElem.append($emptyP);\n    }\n  }); // fix: 修复代码块作为最后一个元素时，用户无法再进行输入的问题\n\n  keydownEvents.push(function (e) {\n    // 实时保存选区\n    editor.selection.saveRange();\n    var $selectionContainerElem = selection.getSelectionContainerElem();\n\n    if ($selectionContainerElem) {\n      var $topElem = $selectionContainerElem.getNodeTop(editor); // 获取选区所在节点的上一元素\n\n      var $preElem = $topElem === null || $topElem === void 0 ? void 0 : $topElem.prev(); // 判断该元素后面是否还存在元素\n      // 如果存在则允许删除\n\n      var $nextElem = $topElem === null || $topElem === void 0 ? void 0 : $topElem.getNextSibling();\n\n      if ($preElem.length && ($preElem === null || $preElem === void 0 ? void 0 : $preElem.getNodeName()) === 'PRE' && $nextElem.length === 0) {\n        // 光标处于选区开头\n        if (selection.getCursorPos() === 0) {\n          // 按下delete键时末尾追加空行\n          if (e.keyCode === 8) {\n            var $emptyP = dom_core_1[\"default\"](const_1.EMPTY_P);\n            $textElem.append($emptyP);\n          }\n        }\n      }\n    }\n  });\n}\n\nexports[\"default\"] = bindEventJumpCodeBlock;\n\n/***/ }),\n/* 422 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description 分割线\n * @author wangqiaoling\n */\n\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar index_1 = tslib_1.__importDefault(__webpack_require__(423));\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n\nvar splitLine = function (_super) {\n  tslib_1.__extends(splitLine, _super);\n\n  function splitLine(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"]('<div class=\"w-e-menu\" data-title=\"分割线\"><i class=\"w-e-icon-split-line\"></i></div>');\n    _this = _super.call(this, $elem, editor) || this; // 绑定事件\n\n    index_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 菜单点击事件\n   */\n\n\n  splitLine.prototype.clickHandler = function () {\n    var editor = this.editor;\n    var range = editor.selection.getRange();\n    var $selectionElem = editor.selection.getSelectionContainerElem();\n    if (!($selectionElem === null || $selectionElem === void 0 ? void 0 : $selectionElem.length)) return;\n    var $DomElement = dom_core_1[\"default\"]($selectionElem.elems[0]);\n    var $tableDOM = $DomElement.parentUntil('TABLE', $selectionElem.elems[0]);\n    var $imgDOM = $DomElement.children(); // 禁止在代码块中添加分割线\n\n    if ($DomElement.getNodeName() === 'CODE') return; // 禁止在表格中添加分割线\n\n    if ($tableDOM && dom_core_1[\"default\"]($tableDOM.elems[0]).getNodeName() === 'TABLE') return; // 禁止在图片处添加分割线\n\n    if ($imgDOM && $imgDOM.length !== 0 && dom_core_1[\"default\"]($imgDOM.elems[0]).getNodeName() === 'IMG' && !(range === null || range === void 0 ? void 0 : range.collapsed) // 处理光标在 img 后面的情况\n    ) {\n      return;\n    }\n\n    this.createSplitLine();\n  };\n  /**\n   * 创建 splitLine\n   */\n\n\n  splitLine.prototype.createSplitLine = function () {\n    // 防止插入分割线时没有占位元素的尴尬\n    var splitLineDOM = \"<hr/>\" + const_1.EMPTY_P; // 火狐浏览器不需要br标签占位\n\n    if (util_1.UA.isFirefox) {\n      splitLineDOM = '<hr/><p></p>';\n    }\n\n    this.editor.cmd[\"do\"]('insertHTML', splitLineDOM);\n  };\n  /**\n   * 尝试修改菜单激活状态\n   */\n\n\n  splitLine.prototype.tryChangeActive = function () {};\n\n  return splitLine;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = splitLine;\n\n/***/ }),\n/* 423 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar tooltip_event_1 = tslib_1.__importDefault(__webpack_require__(424));\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\n\n\nfunction bindEvent(editor) {\n  // 分割线的 tooltip 事件\n  tooltip_event_1[\"default\"](editor);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 424 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n/**\n * @description tooltip 事件\n * @author wangqiaoling\n */\n\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar Tooltip_1 = tslib_1.__importDefault(__webpack_require__(37));\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\n\n\nfunction createShowHideFn(editor) {\n  var tooltip;\n  /**\n   * 显示分割线的 tooltip\n   * @param $splitLine 分割线元素\n   */\n\n  function showSplitLineTooltip($splitLine) {\n    // 定义 splitLine tooltip 配置\n    var conf = [{\n      $elem: dom_core_1[\"default\"](\"<span>\" + editor.i18next.t('menus.panelMenus.删除') + \"</span>\"),\n      onClick: function onClick(editor, $splitLine) {\n        // 选中 分割线 元素\n        editor.selection.createRangeByElem($splitLine);\n        editor.selection.restoreSelection();\n        editor.cmd[\"do\"]('delete'); // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n\n        return true;\n      }\n    }]; // 实例化 tooltip\n\n    tooltip = new Tooltip_1[\"default\"](editor, $splitLine, conf); // 创建 tooltip\n\n    tooltip.create();\n  }\n  /**\n   * 隐藏分割线的 tooltip\n   */\n\n\n  function hideSplitLineTooltip() {\n    if (tooltip) {\n      tooltip.remove();\n      tooltip = null;\n    }\n  }\n\n  return {\n    showSplitLineTooltip: showSplitLineTooltip,\n    hideSplitLineTooltip: hideSplitLineTooltip\n  };\n}\n\nfunction bindTooltipEvent(editor) {\n  var _a = createShowHideFn(editor),\n      showSplitLineTooltip = _a.showSplitLineTooltip,\n      hideSplitLineTooltip = _a.hideSplitLineTooltip; // 点击分割线时，显示 tooltip\n\n\n  editor.txt.eventHooks.splitLineEvents.push(showSplitLineTooltip); // 点击其他地方（工具栏、滚动、keyup）时，隐藏 tooltip\n\n  editor.txt.eventHooks.clickEvents.push(hideSplitLineTooltip);\n  editor.txt.eventHooks.keyupEvents.push(hideSplitLineTooltip);\n  editor.txt.eventHooks.toolbarClickEvents.push(hideSplitLineTooltip);\n  editor.txt.eventHooks.menuClickEvents.push(hideSplitLineTooltip);\n  editor.txt.eventHooks.textScrollEvents.push(hideSplitLineTooltip);\n}\n\nexports[\"default\"] = bindTooltipEvent;\n\n/***/ }),\n/* 425 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar BtnMenu_1 = tslib_1.__importDefault(__webpack_require__(23));\n\nvar util_1 = __webpack_require__(105);\n\nvar bind_event_1 = tslib_1.__importDefault(__webpack_require__(431));\n\nvar todo_1 = tslib_1.__importDefault(__webpack_require__(145));\n\nvar Todo = function (_super) {\n  tslib_1.__extends(Todo, _super);\n\n  function Todo(editor) {\n    var _this = this;\n\n    var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5F85\\u529E\\u4E8B\\u9879\\\">\\n                    <i class=\\\"w-e-icon-checkbox-checked\\\"></i>\\n                </div>\");\n    _this = _super.call(this, $elem, editor) || this;\n    bind_event_1[\"default\"](editor);\n    return _this;\n  }\n  /**\n   * 点击事件\n   */\n\n\n  Todo.prototype.clickHandler = function () {\n    var editor = this.editor;\n\n    if (!util_1.isAllTodo(editor)) {\n      // 设置todolist\n      this.setTodo();\n    } else {\n      // 取消设置todolist\n      this.cancelTodo();\n      this.tryChangeActive();\n    }\n  };\n\n  Todo.prototype.tryChangeActive = function () {\n    if (util_1.isAllTodo(this.editor)) {\n      this.active();\n    } else {\n      this.unActive();\n    }\n  };\n  /**\n   * 设置todo\n   */\n\n\n  Todo.prototype.setTodo = function () {\n    var editor = this.editor;\n    var topNodeElem = editor.selection.getSelectionRangeTopNodes();\n    (0, _forEach[\"default\"])(topNodeElem).call(topNodeElem, function ($node) {\n      var _a;\n\n      var nodeName = $node === null || $node === void 0 ? void 0 : $node.getNodeName();\n\n      if (nodeName === 'P') {\n        var todo = todo_1[\"default\"]($node);\n        var todoNode = todo.getTodo();\n        var child = (_a = todoNode.children()) === null || _a === void 0 ? void 0 : _a.getNode();\n        todoNode.insertAfter($node);\n        editor.selection.moveCursor(child);\n        $node.remove();\n      }\n    });\n    this.tryChangeActive();\n  };\n  /**\n   * 取消设置todo\n   */\n\n\n  Todo.prototype.cancelTodo = function () {\n    var editor = this.editor;\n    var $topNodeElems = editor.selection.getSelectionRangeTopNodes();\n    (0, _forEach[\"default\"])($topNodeElems).call($topNodeElems, function ($topNodeElem) {\n      var _a, _b, _c;\n\n      var content = (_b = (_a = $topNodeElem.childNodes()) === null || _a === void 0 ? void 0 : _a.childNodes()) === null || _b === void 0 ? void 0 : _b.clone(true);\n      var $p = dom_core_1[\"default\"](\"<p></p>\");\n      $p.append(content);\n      $p.insertAfter($topNodeElem); // 移除input\n\n      (_c = $p.childNodes()) === null || _c === void 0 ? void 0 : _c.get(0).remove();\n      editor.selection.moveCursor($p.getNode());\n      $topNodeElem.remove();\n    });\n  };\n\n  return Todo;\n}(BtnMenu_1[\"default\"]);\n\nexports[\"default\"] = Todo;\n\n/***/ }),\n/* 426 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(427);\n\n/***/ }),\n/* 427 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parent = __webpack_require__(428);\n\nmodule.exports = parent;\n\n\n/***/ }),\n/* 428 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar every = __webpack_require__(429);\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.every;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.every) ? every : own;\n};\n\n\n/***/ }),\n/* 429 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(430);\nvar entryVirtual = __webpack_require__(14);\n\nmodule.exports = entryVirtual('Array').every;\n\n\n/***/ }),\n/* 430 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(5);\nvar $every = __webpack_require__(31).every;\nvar arrayMethodIsStrict = __webpack_require__(73);\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\n\n// `Array.prototype.every` method\n// https://tc39.es/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n/* 431 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(105);\n\nvar todo_1 = tslib_1.__importDefault(__webpack_require__(145));\n\nvar util_2 = __webpack_require__(105);\n\nvar const_1 = __webpack_require__(7);\n/**\n * todolist 内部逻辑\n * @param editor\n */\n\n\nfunction bindEvent(editor) {\n  /**\n   * todo的自定义回车事件\n   * @param e 事件属性\n   */\n  function todoEnter(e) {\n    var _a, _b; // 判断是否为todo节点\n\n\n    if (util_1.isAllTodo(editor)) {\n      e.preventDefault();\n      var selection = editor.selection;\n      var $topSelectElem = selection.getSelectionRangeTopNodes()[0];\n      var $li = (_a = $topSelectElem.childNodes()) === null || _a === void 0 ? void 0 : _a.get(0);\n      var selectionNode = (_b = window.getSelection()) === null || _b === void 0 ? void 0 : _b.anchorNode;\n      var range = selection.getRange();\n\n      if (!(range === null || range === void 0 ? void 0 : range.collapsed)) {\n        var rangeChildNodes = range === null || range === void 0 ? void 0 : range.commonAncestorContainer.childNodes;\n        var startContainer_1 = range === null || range === void 0 ? void 0 : range.startContainer;\n        var endContainer_1 = range === null || range === void 0 ? void 0 : range.endContainer;\n        var startPos = range === null || range === void 0 ? void 0 : range.startOffset;\n        var endPos = range === null || range === void 0 ? void 0 : range.endOffset;\n        var startElemIndex_1 = 0;\n        var endElemIndex_1 = 0;\n        var delList_1 = []; // 找出startContainer和endContainer在rangeChildNodes中的位置\n\n        rangeChildNodes === null || rangeChildNodes === void 0 ? void 0 : (0, _forEach[\"default\"])(rangeChildNodes).call(rangeChildNodes, function (v, i) {\n          if (v.contains(startContainer_1)) startElemIndex_1 = i;\n          if (v.contains(endContainer_1)) endElemIndex_1 = i;\n        }); // 删除两个容器间的内容\n\n        if (endElemIndex_1 - startElemIndex_1 > 1) {\n          rangeChildNodes === null || rangeChildNodes === void 0 ? void 0 : (0, _forEach[\"default\"])(rangeChildNodes).call(rangeChildNodes, function (v, i) {\n            if (i <= startElemIndex_1) return;\n            if (i >= endElemIndex_1) return;\n            delList_1.push(v);\n          });\n          (0, _forEach[\"default\"])(delList_1).call(delList_1, function (v) {\n            v.remove();\n          });\n        } // 删除两个容器里拖蓝的内容\n\n\n        util_2.dealTextNode(startContainer_1, startPos);\n        util_2.dealTextNode(endContainer_1, endPos, false);\n        editor.selection.moveCursor(endContainer_1, 0);\n      } // 回车时内容为空时，删去此行\n\n\n      if ($topSelectElem.text() === '') {\n        var $p = dom_core_1[\"default\"](const_1.EMPTY_P);\n        $p.insertAfter($topSelectElem);\n        selection.moveCursor($p.getNode());\n        $topSelectElem.remove();\n        return;\n      }\n\n      var pos = selection.getCursorPos();\n      var CursorNextNode = util_1.getCursorNextNode($li === null || $li === void 0 ? void 0 : $li.getNode(), selectionNode, pos);\n      var todo = todo_1[\"default\"](dom_core_1[\"default\"](CursorNextNode));\n      var $inputcontainer = todo.getInputContainer();\n      var todoLiElem = $inputcontainer.parent().getNode();\n      var $newTodo = todo.getTodo();\n      var contentSection = $inputcontainer.getNode().nextSibling; // 处理光标在最前面时回车input不显示的问题\n\n      if (($li === null || $li === void 0 ? void 0 : $li.text()) === '') {\n        $li === null || $li === void 0 ? void 0 : $li.append(dom_core_1[\"default\"](\"<br>\"));\n      }\n\n      $newTodo.insertAfter($topSelectElem); // 处理在google中光标在最后面的，input不显示的问题(必须插入之后移动光标)\n\n      if (!contentSection || (contentSection === null || contentSection === void 0 ? void 0 : contentSection.textContent) === '') {\n        // 防止多个br出现的情况\n        if ((contentSection === null || contentSection === void 0 ? void 0 : contentSection.nodeName) !== 'BR') {\n          var $br = dom_core_1[\"default\"](\"<br>\");\n          $br.insertAfter($inputcontainer);\n        }\n\n        selection.moveCursor(todoLiElem, 1);\n      } else {\n        selection.moveCursor(todoLiElem);\n      }\n    }\n  }\n  /**\n   * 自定义删除事件，用来处理光标在最前面删除input产生的问题\n   */\n\n\n  function delDown(e) {\n    var _a, _b;\n\n    if (util_1.isAllTodo(editor)) {\n      var selection = editor.selection;\n      var $topSelectElem = selection.getSelectionRangeTopNodes()[0];\n      var $li = (_a = $topSelectElem.childNodes()) === null || _a === void 0 ? void 0 : _a.getNode();\n      var $p = dom_core_1[\"default\"](\"<p></p>\");\n      var p_1 = $p.getNode();\n      var selectionNode = (_b = window.getSelection()) === null || _b === void 0 ? void 0 : _b.anchorNode;\n      var pos = selection.getCursorPos();\n      var prevNode = selectionNode.previousSibling; // 处理内容为空的情况\n\n      if ($topSelectElem.text() === '') {\n        e.preventDefault();\n        var $newP = dom_core_1[\"default\"](const_1.EMPTY_P);\n        $newP.insertAfter($topSelectElem);\n        $topSelectElem.remove();\n        selection.moveCursor($newP.getNode(), 0);\n        return;\n      } // 处理有内容时，光标在最前面的情况\n\n\n      if ((prevNode === null || prevNode === void 0 ? void 0 : prevNode.nodeName) === 'SPAN' && prevNode.childNodes[0].nodeName === 'INPUT' && pos === 0) {\n        var _context;\n\n        e.preventDefault();\n        $li === null || $li === void 0 ? void 0 : (0, _forEach[\"default\"])(_context = $li.childNodes).call(_context, function (v, index) {\n          if (index === 0) return;\n          p_1.appendChild(v.cloneNode(true));\n        });\n        $p.insertAfter($topSelectElem);\n        $topSelectElem.remove();\n      }\n    }\n  }\n  /**\n   * 自定义删除键up事件\n   */\n\n\n  function deleteUp() {\n    var selection = editor.selection;\n    var $topSelectElem = selection.getSelectionRangeTopNodes()[0];\n\n    if ($topSelectElem && util_2.isTodo($topSelectElem)) {\n      if ($topSelectElem.text() === '') {\n        dom_core_1[\"default\"](const_1.EMPTY_P).insertAfter($topSelectElem);\n        $topSelectElem.remove();\n      }\n    }\n  }\n  /**\n   * input 的点击事件（ input 默认不会产生 attribute 的改变 ）\n   * @param e 事件属性\n   */\n\n\n  function inputClick(e) {\n    if (e && e.target instanceof HTMLInputElement) {\n      if (e.target.type === 'checkbox') {\n        if (e.target.checked) {\n          e.target.setAttribute('checked', 'true');\n        } else {\n          e.target.removeAttribute('checked');\n        }\n      }\n    }\n  }\n\n  editor.txt.eventHooks.enterDownEvents.push(todoEnter);\n  editor.txt.eventHooks.deleteUpEvents.push(deleteUp);\n  editor.txt.eventHooks.deleteDownEvents.push(delDown);\n  editor.txt.eventHooks.clickEvents.push(inputClick);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 432 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 初始化编辑器 DOM 结构\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorValidator = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n\nvar text_1 = tslib_1.__importDefault(__webpack_require__(134));\n\nvar styleSettings = {\n  border: '1px solid #c9d8db',\n  toolbarBgColor: '#FFF',\n  toolbarBottomBorder: '1px solid #EEE'\n};\n\nfunction default_1(editor) {\n  var toolbarSelector = editor.toolbarSelector;\n  var $toolbarSelector = dom_core_1[\"default\"](toolbarSelector);\n  var textSelector = editor.textSelector;\n  var config = editor.config;\n  var height = config.height;\n  var i18next = editor.i18next;\n  var $toolbarElem = dom_core_1[\"default\"]('<div></div>');\n  var $textContainerElem = dom_core_1[\"default\"]('<div></div>');\n  var $textElem;\n  var $children;\n  var $subChildren = null;\n\n  if (textSelector == null) {\n    // 将编辑器区域原有的内容，暂存起来\n    $children = $toolbarSelector.children(); // 添加到 DOM 结构中\n\n    $toolbarSelector.append($toolbarElem).append($textContainerElem); // 自行创建的，需要配置默认的样式\n\n    $toolbarElem.css('background-color', styleSettings.toolbarBgColor).css('border', styleSettings.border).css('border-bottom', styleSettings.toolbarBottomBorder);\n    $textContainerElem.css('border', styleSettings.border).css('border-top', 'none').css('height', height + \"px\");\n  } else {\n    // toolbarSelector 和 textSelector 都有\n    $toolbarSelector.append($toolbarElem); // 菜单分离后，文本区域内容暂存\n\n    $subChildren = dom_core_1[\"default\"](textSelector).children();\n    dom_core_1[\"default\"](textSelector).append($textContainerElem); // 将编辑器区域原有的内容，暂存起来\n\n    $children = $textContainerElem.children();\n  } // 编辑区域\n\n\n  $textElem = dom_core_1[\"default\"]('<div></div>');\n  $textElem.attr('contenteditable', 'true').css('width', '100%').css('height', '100%'); // 添加 placeholder\n\n  var $placeholder;\n  var placeholder = editor.config.placeholder;\n\n  if (placeholder !== text_1[\"default\"].placeholder) {\n    $placeholder = dom_core_1[\"default\"](\"<div>\" + placeholder + \"</div>\");\n  } else {\n    $placeholder = dom_core_1[\"default\"](\"<div>\" + i18next.t(placeholder) + \"</div>\");\n  }\n\n  $placeholder.addClass('placeholder'); // 初始化编辑区域内容\n\n  if ($children && $children.length) {\n    $textElem.append($children); // 编辑器有默认值的时候隐藏placeholder\n\n    $placeholder.hide();\n  } else {\n    $textElem.append(dom_core_1[\"default\"](const_1.EMPTY_P)); // 新增一行，方便继续编辑\n  } // 菜单分离后，文本区域有标签的带入编辑器内\n\n\n  if ($subChildren && $subChildren.length) {\n    $textElem.append($subChildren); // 编辑器有默认值的时候隐藏placeholder\n\n    $placeholder.hide();\n  } // 编辑区域加入DOM\n\n\n  $textContainerElem.append($textElem); // 添加placeholder\n\n  $textContainerElem.append($placeholder); // 设置通用的 class\n\n  $toolbarElem.addClass('w-e-toolbar').css('z-index', editor.zIndex.get('toolbar'));\n  $textContainerElem.addClass('w-e-text-container');\n  $textContainerElem.css('z-index', editor.zIndex.get());\n  $textElem.addClass('w-e-text'); // 添加 ID\n\n  var toolbarElemId = util_1.getRandom('toolbar-elem');\n  $toolbarElem.attr('id', toolbarElemId);\n  var textElemId = util_1.getRandom('text-elem');\n  $textElem.attr('id', textElemId); // 判断编辑区与容器高度是否一致\n\n  var textContainerCliheight = $textContainerElem.getBoundingClientRect().height;\n  var textElemClientHeight = $textElem.getBoundingClientRect().height;\n\n  if (textContainerCliheight !== textElemClientHeight) {\n    $textElem.css('min-height', textContainerCliheight + 'px');\n  } // 记录属性\n\n\n  editor.$toolbarElem = $toolbarElem;\n  editor.$textContainerElem = $textContainerElem;\n  editor.$textElem = $textElem;\n  editor.toolbarElemId = toolbarElemId;\n  editor.textElemId = textElemId;\n}\n\nexports[\"default\"] = default_1;\n/**\n * 工具栏/文本区域 DOM selector 有效性验证\n * @param editor 编辑器实例\n */\n\nfunction selectorValidator(editor) {\n  var name = 'data-we-id';\n  var regexp = /^wangEditor-\\d+$/;\n  var textSelector = editor.textSelector,\n      toolbarSelector = editor.toolbarSelector;\n  var $el = {\n    bar: dom_core_1[\"default\"]('<div></div>'),\n    text: dom_core_1[\"default\"]('<div></div>')\n  };\n\n  if (toolbarSelector == null) {\n    throw new Error('错误：初始化编辑器时候未传入任何参数，请查阅文档');\n  } else {\n    $el.bar = dom_core_1[\"default\"](toolbarSelector);\n\n    if (!$el.bar.elems.length) {\n      throw new Error(\"\\u65E0\\u6548\\u7684\\u8282\\u70B9\\u9009\\u62E9\\u5668\\uFF1A\" + toolbarSelector);\n    }\n\n    if (regexp.test($el.bar.attr(name))) {\n      throw new Error('初始化节点已存在编辑器实例，无法重复创建编辑器');\n    }\n  }\n\n  if (textSelector) {\n    $el.text = dom_core_1[\"default\"](textSelector);\n\n    if (!$el.text.elems.length) {\n      throw new Error(\"\\u65E0\\u6548\\u7684\\u8282\\u70B9\\u9009\\u62E9\\u5668\\uFF1A\" + textSelector);\n    }\n\n    if (regexp.test($el.text.attr(name))) {\n      throw new Error('初始化节点已存在编辑器实例，无法重复创建编辑器');\n    }\n  } // 给节点做上标记\n\n\n  $el.bar.attr(name, editor.id);\n  $el.text.attr(name, editor.id); // 在编辑器销毁前取消标记\n\n  editor.beforeDestroy(function () {\n    $el.bar.removeAttr(name);\n    $el.text.removeAttr(name);\n  });\n}\n\nexports.selectorValidator = selectorValidator;\n\n/***/ }),\n/* 433 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 初始化编辑器选区，将光标定位到文档末尾\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar const_1 = __webpack_require__(7);\n/**\n * 初始化编辑器选区，将光标定位到文档末尾\n * @param editor 编辑器实例\n * @param newLine 是否新增一行\n */\n\n\nfunction initSelection(editor, newLine) {\n  var $textElem = editor.$textElem;\n  var $children = $textElem.children();\n\n  if (!$children || !$children.length) {\n    // 如果编辑器区域无内容，添加一个空行，重新设置选区\n    $textElem.append(dom_core_1[\"default\"](const_1.EMPTY_P));\n    initSelection(editor);\n    return;\n  }\n\n  var $last = $children.last();\n\n  if (newLine) {\n    // 新增一个空行\n    var html = $last.html().toLowerCase();\n    var nodeName = $last.getNodeName();\n\n    if (html !== '<br>' && html !== '<br/>' || nodeName !== 'P') {\n      // 最后一个元素不是 空标签，添加一个空行，重新设置选区\n      $textElem.append(dom_core_1[\"default\"](const_1.EMPTY_P));\n      initSelection(editor);\n      return;\n    }\n  }\n\n  editor.selection.createRangeByElem($last, false, true);\n\n  if (editor.config.focus) {\n    editor.selection.restoreSelection();\n  } else {\n    // 防止focus=false受其他因素影响\n    editor.selection.clearWindowSelectionRange();\n  }\n}\n\nexports[\"default\"] = initSelection;\n\n/***/ }),\n/* 434 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 绑定编辑器事件 change blur focus\n * @author wangfupeng\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nfunction bindEvent(editor) {\n  // 绑定 change 事件\n  _bindChange(editor); // 绑定 focus blur 事件\n\n\n  _bindFocusAndBlur(editor); // 绑定 input 输入\n\n\n  _bindInput(editor);\n}\n/**\n * 绑定 change 事件\n * @param editor 编辑器实例\n */\n\n\nfunction _bindChange(editor) {\n  editor.txt.eventHooks.changeEvents.push(function () {\n    var onchange = editor.config.onchange;\n\n    if (onchange) {\n      var html = editor.txt.html() || ''; // onchange触发时，是focus状态，详见https://github.com/wangeditor-team/wangEditor/issues/3034\n\n      editor.isFocus = true;\n      onchange(html);\n    }\n\n    editor.txt.togglePlaceholder();\n  });\n}\n/**\n * 绑定 focus blur 事件\n * @param editor 编辑器实例\n */\n\n\nfunction _bindFocusAndBlur(editor) {\n  // 当前编辑器是否是焦点状态\n  editor.isFocus = false;\n\n  function listener(e) {\n    var target = e.target;\n    var $target = dom_core_1[\"default\"](target);\n    var $textElem = editor.$textElem;\n    var $toolbarElem = editor.$toolbarElem; //判断当前点击元素是否在编辑器内\n\n    var isChild = $textElem.isContain($target); //判断当前点击元素是否为工具栏\n\n    var isToolbar = $toolbarElem.isContain($target);\n    var isMenu = $toolbarElem.elems[0] == e.target ? true : false;\n\n    if (!isChild) {\n      // 若为选择工具栏中的功能，则不视为成 blur 操作\n      if (isToolbar && !isMenu || !editor.isFocus) {\n        return;\n      }\n\n      _blurHandler(editor);\n\n      editor.isFocus = false;\n    } else {\n      if (!editor.isFocus) {\n        _focusHandler(editor);\n      }\n\n      editor.isFocus = true;\n    }\n  } // fix: 增加判断条件，防止当用户设置isFocus=false时，初始化完成后点击其他元素依旧会触发blur事件的问题\n\n\n  if (document.activeElement === editor.$textElem.elems[0] && editor.config.focus) {\n    _focusHandler(editor);\n\n    editor.isFocus = true;\n  } // 绑定监听事件\n\n\n  dom_core_1[\"default\"](document).on('click', listener); // 全局事件在编辑器实例销毁的时候进行解绑\n\n  editor.beforeDestroy(function () {\n    dom_core_1[\"default\"](document).off('click', listener);\n  });\n}\n/**\n * 绑定 input 事件\n * @param editor 编辑器实例\n */\n\n\nfunction _bindInput(editor) {\n  // 绑定中文输入\n  editor.$textElem.on('compositionstart', function () {\n    editor.isComposing = true;\n    editor.txt.togglePlaceholder();\n  }).on('compositionend', function () {\n    editor.isComposing = false;\n    editor.txt.togglePlaceholder();\n  });\n}\n/**\n * blur 事件\n * @param editor 编辑器实例\n */\n\n\nfunction _blurHandler(editor) {\n  var _context;\n\n  var config = editor.config;\n  var onblur = config.onblur;\n  var currentHtml = editor.txt.html() || '';\n  (0, _forEach[\"default\"])(_context = editor.txt.eventHooks.onBlurEvents).call(_context, function (fn) {\n    return fn();\n  });\n  onblur(currentHtml);\n}\n/**\n * focus 事件\n * @param editor 编辑器实例\n */\n\n\nfunction _focusHandler(editor) {\n  var config = editor.config;\n  var onfocus = config.onfocus;\n  var currentHtml = editor.txt.html() || '';\n  onfocus(currentHtml);\n}\n\nexports[\"default\"] = bindEvent;\n\n/***/ }),\n/* 435 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 国际化 初始化\n * @author tonghan\n * i18next 是使用 JavaScript 编写的国际化框架\n * i18next 提供了标准的i18n功能，例如（复数，上下文，插值，格式）等\n * i18next 文档地址： https://www.i18next.com/overview/getting-started\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nfunction i18nextInit(editor) {\n  var _a = editor.config,\n      lang = _a.lang,\n      languages = _a.languages;\n\n  if (editor.i18next != null) {\n    try {\n      editor.i18next.init({\n        ns: 'wangEditor',\n        lng: lang,\n        defaultNS: 'wangEditor',\n        resources: languages\n      });\n    } catch (error) {\n      throw new Error('i18next:' + error);\n    }\n\n    return;\n  } // 没有引入 i18next 的替代品\n\n\n  editor.i18next = {\n    t: function t(str) {\n      var strArr = str.split('.');\n      return strArr[strArr.length - 1];\n    }\n  };\n}\n\nexports[\"default\"] = i18nextInit;\n\n/***/ }),\n/* 436 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 全屏功能\n * @author xiaokyo\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.setUnFullScreen = exports.setFullScreen = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\n__webpack_require__(437);\n\nvar iconFullScreenText = 'w-e-icon-fullscreen'; // 全屏icon class\n\nvar iconExitFullScreenText = 'w-e-icon-fullscreen_exit'; // 退出全屏icon class\n\nvar classfullScreenEditor = 'w-e-full-screen-editor'; // 全屏添加至编辑器的class\n\n/**\n * 设置全屏\n * @param editor 编辑器实例\n */\n\nvar setFullScreen = function setFullScreen(editor) {\n  var $editorParent = dom_core_1[\"default\"](editor.toolbarSelector);\n  var $textContainerElem = editor.$textContainerElem;\n  var $toolbarElem = editor.$toolbarElem;\n  var $iconElem = (0, _find[\"default\"])($toolbarElem).call($toolbarElem, \"i.\" + iconFullScreenText);\n  var config = editor.config;\n  $iconElem.removeClass(iconFullScreenText);\n  $iconElem.addClass(iconExitFullScreenText);\n  $editorParent.addClass(classfullScreenEditor);\n  $editorParent.css('z-index', config.zIndexFullScreen);\n  var bar = $toolbarElem.getBoundingClientRect();\n  $textContainerElem.css('height', \"calc(100% - \" + bar.height + \"px)\");\n};\n\nexports.setFullScreen = setFullScreen;\n/**\n * 取消全屏\n * @param editor 编辑器实例\n */\n\nvar setUnFullScreen = function setUnFullScreen(editor) {\n  var $editorParent = dom_core_1[\"default\"](editor.toolbarSelector);\n  var $textContainerElem = editor.$textContainerElem;\n  var $toolbarElem = editor.$toolbarElem;\n  var $iconElem = (0, _find[\"default\"])($toolbarElem).call($toolbarElem, \"i.\" + iconExitFullScreenText);\n  var config = editor.config;\n  $iconElem.removeClass(iconExitFullScreenText);\n  $iconElem.addClass(iconFullScreenText);\n  $editorParent.removeClass(classfullScreenEditor);\n  $editorParent.css('z-index', 'auto');\n  $textContainerElem.css('height', config.height + 'px');\n};\n\nexports.setUnFullScreen = setUnFullScreen;\n/**\n * 初始化全屏功能\n * @param editor 编辑器实例\n */\n\nvar initFullScreen = function initFullScreen(editor) {\n  // 当textSelector有值的时候，也就是编辑器是工具栏和编辑区域分离的情况， 则不生成全屏功能按钮\n  if (editor.textSelector) return;\n  if (!editor.config.showFullScreen) return;\n  var $toolbarElem = editor.$toolbarElem;\n  var $elem = dom_core_1[\"default\"](\"<div class=\\\"w-e-menu\\\" data-title=\\\"\\u5168\\u5C4F\\\">\\n            <i class=\\\"\" + iconFullScreenText + \"\\\"></i>\\n        </div>\");\n  $elem.on('click', function (e) {\n    var _context;\n\n    var $elemIcon = (0, _find[\"default\"])(_context = dom_core_1[\"default\"](e.currentTarget)).call(_context, 'i');\n\n    if ($elemIcon.hasClass(iconFullScreenText)) {\n      $elem.attr('data-title', '取消全屏');\n      exports.setFullScreen(editor);\n    } else {\n      $elem.attr('data-title', '全屏');\n      exports.setUnFullScreen(editor);\n    }\n  });\n  $toolbarElem.append($elem);\n};\n\nexports[\"default\"] = initFullScreen;\n\n/***/ }),\n/* 437 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(438);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 438 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-full-screen-editor {\\n  position: fixed;\\n  width: 100%!important;\\n  height: 100%!important;\\n  left: 0;\\n  top: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 439 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 滚动到指定锚点\n * @author zhengwenjian\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/**\n * 编辑器滚动到指定锚点\n * @param editor 编辑器实例\n * @param id 标题锚点id\n */\n\nvar scrollToHead = function scrollToHead(editor, id) {\n  var _context;\n\n  var $textElem = editor.isEnable ? editor.$textElem : (0, _find[\"default\"])(_context = editor.$textContainerElem).call(_context, '.w-e-content-mantle');\n  var $targetHead = (0, _find[\"default\"])($textElem).call($textElem, \"[id='\" + id + \"']\");\n  var targetTop = $targetHead.getOffsetData().top;\n  $textElem.scrollTop(targetTop);\n};\n\nexports[\"default\"] = scrollToHead;\n\n/***/ }),\n/* 440 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar style_1 = tslib_1.__importDefault(__webpack_require__(133));\n\nvar tier = {\n  menu: 2,\n  panel: 2,\n  toolbar: 1,\n  tooltip: 1,\n  textContainer: 1 // 编辑区域\n\n};\n\nvar ZIndex = function () {\n  function ZIndex() {\n    // 层级参数\n    this.tier = tier; // 默认值\n\n    this.baseZIndex = style_1[\"default\"].zIndex;\n  } // 获取 tierName 对应的 z-index 的值。如果 tierName 未定义则返回默认的 z-index 值\n\n\n  ZIndex.prototype.get = function (tierName) {\n    if (tierName && this.tier[tierName]) {\n      return this.baseZIndex + this.tier[tierName];\n    }\n\n    return this.baseZIndex;\n  }; // 初始化\n\n\n  ZIndex.prototype.init = function (editor) {\n    if (this.baseZIndex == style_1[\"default\"].zIndex) {\n      this.baseZIndex = editor.config.zIndex;\n    }\n  };\n\n  return ZIndex;\n}();\n\nexports[\"default\"] = ZIndex;\n\n/***/ }),\n/* 441 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 编辑器 change 事件\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _filter = _interopRequireDefault(__webpack_require__(76));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar mutation_1 = tslib_1.__importDefault(__webpack_require__(442));\n\nvar util_1 = __webpack_require__(6);\n\nvar const_1 = __webpack_require__(7);\n/**\n * 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n * @param mutations MutationRecord[]\n * @param tar 编辑区容器的 DOM 节点\n */\n\n\nfunction mutationsFilter(mutations, tar) {\n  // 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n  return (0, _filter[\"default\"])(mutations).call(mutations, function (_a) {\n    var type = _a.type,\n        target = _a.target,\n        attributeName = _a.attributeName;\n    return type != 'attributes' || type == 'attributes' && (attributeName == 'contenteditable' || target != tar);\n  });\n}\n/**\n * Change 实现\n */\n\n\nvar Change = function (_super) {\n  tslib_1.__extends(Change, _super);\n\n  function Change(editor) {\n    var _this = _super.call(this, function (mutations, observer) {\n      var _a; // 数据过滤\n\n\n      mutations = mutationsFilter(mutations, observer.target); // 存储数据\n\n      (_a = _this.data).push.apply(_a, mutations); // 标准模式下\n\n\n      if (!editor.isCompatibleMode) {\n        // 在非中文输入状态下时才保存数据\n        if (!editor.isComposing) {\n          return _this.asyncSave();\n        }\n      } // 兼容模式下\n      else {\n        _this.asyncSave();\n      }\n    }) || this;\n\n    _this.editor = editor;\n    /**\n     * 变化的数据集合\n     */\n\n    _this.data = [];\n    /**\n     * 异步保存数据\n     */\n\n    _this.asyncSave = const_1.EMPTY_FN;\n    return _this;\n  }\n  /**\n   * 保存变化的数据并发布 change event\n   */\n\n\n  Change.prototype.save = function () {\n    // 有数据\n    if (this.data.length) {\n      // 保存变化数据\n      this.editor.history.save(this.data); // 清除缓存\n\n      this.data.length = 0;\n      this.emit();\n    }\n  };\n  /**\n   * 发布 change event\n   */\n\n\n  Change.prototype.emit = function () {\n    var _context;\n\n    // 执行 onchange 回调\n    (0, _forEach[\"default\"])(_context = this.editor.txt.eventHooks.changeEvents).call(_context, function (fn) {\n      return fn();\n    });\n  }; // 重写 observe\n\n\n  Change.prototype.observe = function () {\n    var _this = this;\n\n    _super.prototype.observe.call(this, this.editor.$textElem.elems[0]);\n\n    var timeout = this.editor.config.onchangeTimeout;\n    this.asyncSave = util_1.debounce(function () {\n      _this.save();\n    }, timeout);\n\n    if (!this.editor.isCompatibleMode) {\n      this.editor.$textElem.on('compositionend', function () {\n        _this.asyncSave();\n      });\n    }\n  };\n\n  return Change;\n}(mutation_1[\"default\"]);\n\nexports[\"default\"] = Change;\n\n/***/ }),\n/* 442 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 封装 MutationObserver\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n/**\n * 封装 MutationObserver，抽离成公共类\n */\n\nvar Mutation = function () {\n  /**\n   * 构造器\n   * @param fn 发生变化时执行的回调函数\n   * @param options 自定义配置项\n   */\n  function Mutation(fn, options) {\n    var _this = this;\n    /**\n     * 默认的 MutationObserverInit 配置\n     */\n\n\n    this.options = {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeOldValue: true,\n      characterData: true,\n      characterDataOldValue: true\n    };\n\n    this.callback = function (mutations) {\n      fn(mutations, _this);\n    };\n\n    this.observer = new MutationObserver(this.callback);\n    options && (this.options = options);\n  }\n\n  (0, _defineProperty[\"default\"])(Mutation.prototype, \"target\", {\n    get: function get() {\n      return this.node;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 绑定监听节点（初次绑定有效）\n   * @param node 需要被监听的节点\n   */\n\n  Mutation.prototype.observe = function (node) {\n    if (!(this.node instanceof Node)) {\n      this.node = node;\n      this.connect();\n    }\n  };\n  /**\n   * 连接监听器（开始观察）\n   */\n\n\n  Mutation.prototype.connect = function () {\n    if (this.node) {\n      this.observer.observe(this.node, this.options);\n      return this;\n    }\n\n    throw new Error('还未初始化绑定，请您先绑定有效的 Node 节点');\n  };\n  /**\n   * 断开监听器（停止观察）\n   */\n\n\n  Mutation.prototype.disconnect = function () {\n    var list = this.observer.takeRecords();\n    list.length && this.callback(list);\n    this.observer.disconnect();\n  };\n\n  return Mutation;\n}();\n\nexports[\"default\"] = Mutation;\n\n/***/ }),\n/* 443 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 历史记录\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar content_1 = tslib_1.__importDefault(__webpack_require__(444));\n\nvar scroll_1 = tslib_1.__importDefault(__webpack_require__(451));\n\nvar range_1 = tslib_1.__importDefault(__webpack_require__(452));\n/**\n * 历史记录（撤销、恢复）\n */\n\n\nvar History = function () {\n  function History(editor) {\n    this.editor = editor;\n    this.content = new content_1[\"default\"](editor);\n    this.scroll = new scroll_1[\"default\"](editor);\n    this.range = new range_1[\"default\"](editor);\n  }\n\n  (0, _defineProperty[\"default\"])(History.prototype, \"size\", {\n    /**\n     *  获取缓存中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n     */\n    get: function get() {\n      return this.scroll.size;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 初始化绑定。在 editor.create() 结尾时调用\n   */\n\n  History.prototype.observe = function () {\n    this.content.observe();\n    this.scroll.observe(); // 标准模式下才进行初始化绑定\n\n    !this.editor.isCompatibleMode && this.range.observe();\n  };\n  /**\n   * 保存数据\n   */\n\n\n  History.prototype.save = function (mutations) {\n    if (mutations.length) {\n      this.content.save(mutations);\n      this.scroll.save(); // 标准模式下才进行缓存\n\n      !this.editor.isCompatibleMode && this.range.save();\n    }\n  };\n  /**\n   * 撤销\n   */\n\n\n  History.prototype.revoke = function () {\n    this.editor.change.disconnect();\n    var res = this.content.revoke();\n\n    if (res) {\n      this.scroll.revoke(); // 标准模式下才执行\n\n      if (!this.editor.isCompatibleMode) {\n        this.range.revoke();\n        this.editor.$textElem.focus();\n      }\n    }\n\n    this.editor.change.connect(); // 如果用户在 onchange 中修改了内容（DOM），那么缓存中的节点数据可能不连贯了，不连贯的数据必将导致恢复失败，所以必须将用户的 onchange 处于监控状态中\n\n    res && this.editor.change.emit();\n  };\n  /**\n   * 恢复\n   */\n\n\n  History.prototype.restore = function () {\n    this.editor.change.disconnect();\n    var res = this.content.restore();\n\n    if (res) {\n      this.scroll.restore(); // 标准模式下才执行\n\n      if (!this.editor.isCompatibleMode) {\n        this.range.restore();\n        this.editor.$textElem.focus();\n      }\n    }\n\n    this.editor.change.connect(); // 与 revoke 同理\n\n    res && this.editor.change.emit();\n  };\n\n  return History;\n}();\n\nexports[\"default\"] = History;\n\n/***/ }),\n/* 444 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 整合差异备份和内容备份，进行统一管理\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar node_1 = tslib_1.__importDefault(__webpack_require__(445));\n\nvar html_1 = tslib_1.__importDefault(__webpack_require__(449));\n\nvar ContentCache = function () {\n  function ContentCache(editor) {\n    this.editor = editor;\n  }\n  /**\n   * 初始化绑定\n   */\n\n\n  ContentCache.prototype.observe = function () {\n    if (this.editor.isCompatibleMode) {\n      // 兼容模式（内容备份）\n      this.cache = new html_1[\"default\"](this.editor);\n    } else {\n      // 标准模式（差异备份/节点备份）\n      this.cache = new node_1[\"default\"](this.editor);\n    }\n\n    this.cache.observe();\n  };\n  /**\n   * 保存\n   */\n\n\n  ContentCache.prototype.save = function (mutations) {\n    if (this.editor.isCompatibleMode) {\n      ;\n      this.cache.save();\n    } else {\n      ;\n      this.cache.compile(mutations);\n    }\n  };\n  /**\n   * 撤销\n   */\n\n\n  ContentCache.prototype.revoke = function () {\n    var _a;\n\n    return (_a = this.cache) === null || _a === void 0 ? void 0 : _a.revoke();\n  };\n  /**\n   * 恢复\n   */\n\n\n  ContentCache.prototype.restore = function () {\n    var _a;\n\n    return (_a = this.cache) === null || _a === void 0 ? void 0 : _a.restore();\n  };\n\n  return ContentCache;\n}();\n\nexports[\"default\"] = ContentCache;\n\n/***/ }),\n/* 445 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 差异备份\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar cache_1 = tslib_1.__importDefault(__webpack_require__(106));\n\nvar compile_1 = tslib_1.__importDefault(__webpack_require__(447));\n\nvar decompilation_1 = __webpack_require__(448);\n\nvar NodeCache = function (_super) {\n  tslib_1.__extends(NodeCache, _super);\n\n  function NodeCache(editor) {\n    var _this = _super.call(this, editor.config.historyMaxSize) || this;\n\n    _this.editor = editor;\n    return _this;\n  }\n\n  NodeCache.prototype.observe = function () {\n    this.resetMaxSize(this.editor.config.historyMaxSize);\n  };\n  /**\n   * 编译并保存数据\n   */\n\n\n  NodeCache.prototype.compile = function (data) {\n    this.save(compile_1[\"default\"](data));\n    return this;\n  };\n  /**\n   * 撤销\n   */\n\n\n  NodeCache.prototype.revoke = function () {\n    return _super.prototype.revoke.call(this, function (data) {\n      decompilation_1.revoke(data);\n    });\n  };\n  /**\n   * 恢复\n   */\n\n\n  NodeCache.prototype.restore = function () {\n    return _super.prototype.restore.call(this, function (data) {\n      decompilation_1.restore(data);\n    });\n  };\n\n  return NodeCache;\n}(cache_1[\"default\"]);\n\nexports[\"default\"] = NodeCache;\n\n/***/ }),\n/* 446 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 数据结构 - 栈\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.CeilStack = void 0;\n/**\n * 栈（限制最大数据条数，栈满后可以继续入栈，而先入栈的数据将失效）\n */\n// 取名灵感来自 Math.ceil，向上取有效值\n\nvar CeilStack = function () {\n  function CeilStack(max) {\n    if (max === void 0) {\n      max = 0;\n    }\n    /**\n     * 数据缓存\n     */\n\n\n    this.data = [];\n    /**\n     * 栈的最大长度。为零则长度不限\n     */\n\n    this.max = 0;\n    /**\n     * 标识是否重设过 max 值\n     */\n\n    this.reset = false;\n    max = Math.abs(max);\n    max && (this.max = max);\n  }\n  /**\n   * 允许用户重设一次 max 值\n   */\n\n\n  CeilStack.prototype.resetMax = function (maxSize) {\n    maxSize = Math.abs(maxSize);\n\n    if (!this.reset && !isNaN(maxSize)) {\n      this.max = maxSize;\n      this.reset = true;\n    }\n  };\n\n  (0, _defineProperty[\"default\"])(CeilStack.prototype, \"size\", {\n    /**\n     * 当前栈中的数据条数\n     */\n    get: function get() {\n      return this.data.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 入栈\n   * @param data 入栈的数据\n   */\n\n  CeilStack.prototype.instack = function (data) {\n    this.data.unshift(data);\n\n    if (this.max && this.size > this.max) {\n      this.data.length = this.max;\n    }\n\n    return this;\n  };\n  /**\n   * 出栈\n   */\n\n\n  CeilStack.prototype.outstack = function () {\n    return this.data.shift();\n  };\n  /**\n   * 清空栈\n   */\n\n\n  CeilStack.prototype.clear = function () {\n    this.data.length = 0;\n    return this;\n  };\n\n  return CeilStack;\n}();\n\nexports.CeilStack = CeilStack;\n\n/***/ }),\n/* 447 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 数据整理\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _indexOf = _interopRequireDefault(__webpack_require__(28));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.compliePosition = exports.complieNodes = exports.compileValue = exports.compileType = void 0;\n\nvar util_1 = __webpack_require__(6);\n/**\n * 数据类型\n */\n\n\nfunction compileType(data) {\n  switch (data) {\n    case 'childList':\n      return 'node';\n\n    case 'attributes':\n      return 'attr';\n\n    default:\n      return 'text';\n  }\n}\n\nexports.compileType = compileType;\n/**\n * 获取当前的文本内容\n */\n\nfunction compileValue(data) {\n  switch (data.type) {\n    case 'attributes':\n      return data.target.getAttribute(data.attributeName) || '';\n\n    case 'characterData':\n      return data.target.textContent;\n\n    default:\n      return '';\n  }\n}\n\nexports.compileValue = compileValue;\n/**\n * addedNodes/removedNodes\n */\n\nfunction complieNodes(data) {\n  var temp = {};\n\n  if (data.addedNodes.length) {\n    temp.add = util_1.toArray(data.addedNodes);\n  }\n\n  if (data.removedNodes.length) {\n    temp.remove = util_1.toArray(data.removedNodes);\n  }\n\n  return temp;\n}\n\nexports.complieNodes = complieNodes;\n/**\n * addedNodes/removedNodes 的相对位置\n */\n\nfunction compliePosition(data) {\n  var temp;\n\n  if (data.previousSibling) {\n    temp = {\n      type: 'before',\n      target: data.previousSibling\n    };\n  } else if (data.nextSibling) {\n    temp = {\n      type: 'after',\n      target: data.nextSibling\n    };\n  } else {\n    temp = {\n      type: 'parent',\n      target: data.target\n    };\n  }\n\n  return temp;\n}\n\nexports.compliePosition = compliePosition;\n/**\n * 补全 Firefox 数据的特殊标签\n */\n\nvar tag = ['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n/**\n * 将 MutationRecord 转换成自定义格式的数据\n */\n\nfunction compile(data) {\n  var temp = []; // 以下两个变量是兼容 Firefox 时使用到的\n  // 前一次操作为删除元素节点\n\n  var removeNode = false; // 连续的节点删除记录\n\n  var removeCache = [];\n  (0, _forEach[\"default\"])(data).call(data, function (record, index) {\n    var item = {\n      type: compileType(record.type),\n      target: record.target,\n      attr: record.attributeName || '',\n      value: compileValue(record) || '',\n      oldValue: record.oldValue || '',\n      nodes: complieNodes(record),\n      position: compliePosition(record)\n    };\n    temp.push(item); // 兼容 Firefox，补全数据（这几十行代码写得吐血，跟 IE 有得一拼）\n\n    if (!util_1.UA.isFirefox) {\n      return;\n    } // 正常的数据：缩进、行高、超链接、对齐方式、引用、插入表情、插入图片、分割线、表格、插入代码\n    // 普通的数据补全：标题（纯文本内容）、加粗、斜体、删除线、下划线、颜色、背景色、字体、字号、列表（纯文本内容）\n    // 特殊的数据补全：标题（包含 HTMLElement）、列表（包含 HTMLElement 或 ul -> ol 或 ol -> ul 或 Enter）\n\n\n    if (removeNode && record.addedNodes.length && record.addedNodes[0].nodeType == 1) {\n      // 需要被全数据的目标节点\n      var replenishNode = record.addedNodes[0];\n      var replenishData = {\n        type: 'node',\n        target: replenishNode,\n        attr: '',\n        value: '',\n        oldValue: '',\n        nodes: {\n          add: [removeNode]\n        },\n        position: {\n          type: 'parent',\n          target: replenishNode\n        }\n      }; // 特殊的标签：['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6']\n\n      if ((0, _indexOf[\"default\"])(tag).call(tag, replenishNode.nodeName) != -1) {\n        replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n        temp.push(replenishData);\n      } // 上一个删除元素是文本节点\n      else if (removeNode.nodeType == 3) {\n        if (contains(replenishNode, removeCache)) {\n          replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n        }\n\n        temp.push(replenishData);\n      } // 上一个删除元素是 Element && 由近到远的删除元素至少有一个是需要补全数据节点的子节点\n      else if ((0, _indexOf[\"default\"])(tag).call(tag, record.target.nodeName) == -1 && contains(replenishNode, removeCache)) {\n        replenishData.nodes.add = util_1.toArray(replenishNode.childNodes);\n        temp.push(replenishData);\n      }\n    } // 记录本次的节点信息\n\n\n    if (item.type == 'node' && record.removedNodes.length == 1) {\n      removeNode = record.removedNodes[0];\n      removeCache.push(removeNode);\n    } else {\n      removeNode = false;\n      removeCache.length = 0;\n    }\n  });\n  return temp;\n}\n\nexports[\"default\"] = compile; // 删除元素的历史记录中包含有多少个目标节点的子元素\n\nfunction contains(tar, childs) {\n  var count = 0;\n\n  for (var i = childs.length - 1; i > 0; i--) {\n    if (tar.contains(childs[i])) {\n      count++;\n    } else {\n      break;\n    }\n  }\n\n  return count;\n}\n\n/***/ }),\n/* 448 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\nvar _entries = _interopRequireDefault(__webpack_require__(102));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.restore = exports.revoke = void 0;\n/**\n * 将节点添加到 DOM 树中\n * @param data 数据项\n * @param list 节点集合（addedNodes 或 removedNodes）\n */\n\nfunction insertNode(data, list) {\n  var reference = data.position.target;\n\n  switch (data.position.type) {\n    // reference 在这些节点的前面\n    case 'before':\n      if (reference.nextSibling) {\n        reference = reference.nextSibling;\n        (0, _forEach[\"default\"])(list).call(list, function (item) {\n          data.target.insertBefore(item, reference);\n        });\n      } else {\n        (0, _forEach[\"default\"])(list).call(list, function (item) {\n          data.target.appendChild(item);\n        });\n      }\n\n      break;\n    // reference 在这些节点的后面\n\n    case 'after':\n      (0, _forEach[\"default\"])(list).call(list, function (item) {\n        data.target.insertBefore(item, reference);\n      });\n      break;\n    // parent\n    // reference 是这些节点的父节点\n\n    default:\n      (0, _forEach[\"default\"])(list).call(list, function (item) {\n        reference.appendChild(item);\n      });\n      break;\n  }\n}\n/* ------------------------------------------------------------------ 撤销逻辑 ------------------------------------------------------------------ */\n\n\nfunction revokeNode(data) {\n  for (var _i = 0, _a = (0, _entries[\"default\"])(data.nodes); _i < _a.length; _i++) {\n    var _b = _a[_i],\n        relative = _b[0],\n        list = _b[1];\n\n    switch (relative) {\n      // 反向操作，将这些节点从 DOM 中移除\n      case 'add':\n        (0, _forEach[\"default\"])(list).call(list, function (item) {\n          data.target.removeChild(item);\n        });\n        break;\n      // remove（反向操作，将这些节点添加到 DOM 中）\n\n      default:\n        {\n          insertNode(data, list);\n          break;\n        }\n    }\n  }\n}\n/**\n * 撤销 attribute\n */\n\n\nfunction revokeAttr(data) {\n  var target = data.target;\n\n  if (data.oldValue == null) {\n    target.removeAttribute(data.attr);\n  } else {\n    target.setAttribute(data.attr, data.oldValue);\n  }\n}\n/**\n * 撤销文本内容\n */\n\n\nfunction revokeText(data) {\n  data.target.textContent = data.oldValue;\n}\n\nvar revokeFns = {\n  node: revokeNode,\n  text: revokeText,\n  attr: revokeAttr\n}; // 撤销 - 对外暴露的接口\n\nfunction revoke(data) {\n  for (var i = data.length - 1; i > -1; i--) {\n    var item = data[i];\n    revokeFns[item.type](item);\n  }\n}\n\nexports.revoke = revoke;\n/* ------------------------------------------------------------------ 恢复逻辑 ------------------------------------------------------------------ */\n\nfunction restoreNode(data) {\n  for (var _i = 0, _a = (0, _entries[\"default\"])(data.nodes); _i < _a.length; _i++) {\n    var _b = _a[_i],\n        relative = _b[0],\n        list = _b[1];\n\n    switch (relative) {\n      case 'add':\n        {\n          insertNode(data, list);\n          break;\n        }\n      // remove\n\n      default:\n        {\n          (0, _forEach[\"default\"])(list).call(list, function (item) {\n            ;\n            item.parentNode.removeChild(item);\n          });\n          break;\n        }\n    }\n  }\n}\n\nfunction restoreText(data) {\n  data.target.textContent = data.value;\n}\n\nfunction restoreAttr(data) {\n  ;\n  data.target.setAttribute(data.attr, data.value);\n}\n\nvar restoreFns = {\n  node: restoreNode,\n  text: restoreText,\n  attr: restoreAttr\n}; // 恢复 - 对外暴露的接口\n\nfunction restore(data) {\n  for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n    var item = data_1[_i];\n    restoreFns[item.type](item);\n  }\n}\n\nexports.restore = restore;\n\n/***/ }),\n/* 449 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar chain_1 = __webpack_require__(450);\n\nvar HtmlCache = function () {\n  function HtmlCache(editor) {\n    this.editor = editor;\n    this.data = new chain_1.TailChain();\n  }\n  /**\n   * 初始化绑定\n   */\n\n\n  HtmlCache.prototype.observe = function () {\n    this.data.resetMax(this.editor.config.historyMaxSize); // 保存初始化值\n\n    this.data.insertLast(this.editor.$textElem.html());\n  };\n  /**\n   * 保存\n   */\n\n\n  HtmlCache.prototype.save = function () {\n    this.data.insertLast(this.editor.$textElem.html());\n    return this;\n  };\n  /**\n   * 撤销\n   */\n\n\n  HtmlCache.prototype.revoke = function () {\n    var data = this.data.prev();\n\n    if (data) {\n      this.editor.$textElem.html(data);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * 恢复\n   */\n\n\n  HtmlCache.prototype.restore = function () {\n    var data = this.data.next();\n\n    if (data) {\n      this.editor.$textElem.html(data);\n      return true;\n    }\n\n    return false;\n  };\n\n  return HtmlCache;\n}();\n\nexports[\"default\"] = HtmlCache;\n\n/***/ }),\n/* 450 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 数据结构 - 链表\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _splice = _interopRequireDefault(__webpack_require__(99));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.TailChain = void 0;\n/**\n * 特殊链表（数据尾插入、插入前自动清理指针后边的数据、插入后指针永远定位于最后一位元素、可限制链表长度、指针双向移动）\n */\n\nvar TailChain = function () {\n  function TailChain() {\n    /**\n     * 链表数据\n     */\n    this.data = [];\n    /**\n     * 链表最大长度，零表示长度不限\n     */\n\n    this.max = 0;\n    /**\n     * 指针\n     */\n\n    this.point = 0; // 当前指针是否人为操作过\n\n    this.isRe = false;\n  }\n  /**\n   * 允许用户重设一次 max 值\n   */\n\n\n  TailChain.prototype.resetMax = function (maxSize) {\n    maxSize = Math.abs(maxSize);\n    maxSize && (this.max = maxSize);\n  };\n\n  (0, _defineProperty[\"default\"])(TailChain.prototype, \"size\", {\n    /**\n     * 当前链表的长度\n     */\n    get: function get() {\n      return this.data.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 尾插入\n   * @param data 插入的数据\n   */\n\n  TailChain.prototype.insertLast = function (data) {\n    // 人为操作过指针，清除指针后面的元素\n    if (this.isRe) {\n      var _context;\n\n      (0, _splice[\"default\"])(_context = this.data).call(_context, this.point + 1);\n      this.isRe = false;\n    }\n\n    this.data.push(data); // 超出链表最大长度\n\n    while (this.max && this.size > this.max) {\n      this.data.shift();\n    } // 从新定位指针到最后一个元素\n\n\n    this.point = this.size - 1;\n    return this;\n  };\n  /**\n   * 获取当前指针元素\n   */\n\n\n  TailChain.prototype.current = function () {\n    return this.data[this.point];\n  };\n  /**\n   * 获取上一指针元素\n   */\n\n\n  TailChain.prototype.prev = function () {\n    !this.isRe && (this.isRe = true);\n    this.point--;\n\n    if (this.point < 0) {\n      this.point = 0;\n      return undefined;\n    }\n\n    return this.current();\n  };\n  /**\n   * 下一指针元素\n   */\n\n\n  TailChain.prototype.next = function () {\n    !this.isRe && (this.isRe = true);\n    this.point++;\n\n    if (this.point >= this.size) {\n      this.point = this.size - 1;\n      return undefined;\n    }\n\n    return this.current();\n  };\n\n  return TailChain;\n}();\n\nexports.TailChain = TailChain;\n\n/***/ }),\n/* 451 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 记录 scrollTop\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar cache_1 = tslib_1.__importDefault(__webpack_require__(106));\n\nvar ScrollCache = function (_super) {\n  tslib_1.__extends(ScrollCache, _super);\n\n  function ScrollCache(editor) {\n    var _this = _super.call(this, editor.config.historyMaxSize) || this;\n\n    _this.editor = editor;\n    /**\n     * 上一次的 scrollTop\n     */\n\n    _this.last = 0;\n    _this.target = editor.$textElem.elems[0];\n    return _this;\n  }\n  /**\n   * 给编辑区容器绑定 scroll 事件\n   */\n\n\n  ScrollCache.prototype.observe = function () {\n    var _this = this;\n\n    this.target = this.editor.$textElem.elems[0];\n    this.editor.$textElem.on('scroll', function () {\n      _this.last = _this.target.scrollTop;\n    });\n    this.resetMaxSize(this.editor.config.historyMaxSize);\n  };\n  /**\n   * 保存 scrollTop 值\n   */\n\n\n  ScrollCache.prototype.save = function () {\n    _super.prototype.save.call(this, [this.last, this.target.scrollTop]);\n\n    return this;\n  };\n  /**\n   * 撤销\n   */\n\n\n  ScrollCache.prototype.revoke = function () {\n    var _this = this;\n\n    return _super.prototype.revoke.call(this, function (data) {\n      _this.target.scrollTop = data[0];\n    });\n  };\n  /**\n   * 恢复\n   */\n\n\n  ScrollCache.prototype.restore = function () {\n    var _this = this;\n\n    return _super.prototype.restore.call(this, function (data) {\n      _this.target.scrollTop = data[1];\n    });\n  };\n\n  return ScrollCache;\n}(cache_1[\"default\"]);\n\nexports[\"default\"] = ScrollCache;\n\n/***/ }),\n/* 452 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * @description 记录 range 变化\n * @author fangzhicong\n */\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar cache_1 = tslib_1.__importDefault(__webpack_require__(106));\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\nvar util_1 = __webpack_require__(6);\n/**\n * 把 Range 对象转换成缓存对象\n * @param range Range 对象\n */\n\n\nfunction rangeToObject(range) {\n  return {\n    start: [range.startContainer, range.startOffset],\n    end: [range.endContainer, range.endOffset],\n    root: range.commonAncestorContainer,\n    collapsed: range.collapsed\n  };\n}\n/**\n * 编辑区 range 缓存管理器\n */\n\n\nvar RangeCache = function (_super) {\n  tslib_1.__extends(RangeCache, _super);\n\n  function RangeCache(editor) {\n    var _this = _super.call(this, editor.config.historyMaxSize) || this;\n\n    _this.editor = editor;\n    _this.lastRange = rangeToObject(document.createRange());\n    _this.root = editor.$textElem.elems[0];\n    _this.updateLastRange = util_1.debounce(function () {\n      _this.lastRange = rangeToObject(_this.rangeHandle);\n    }, editor.config.onchangeTimeout);\n    return _this;\n  }\n\n  (0, _defineProperty[\"default\"])(RangeCache.prototype, \"rangeHandle\", {\n    /**\n     * 获取 Range 对象\n     */\n    get: function get() {\n      var selection = document.getSelection();\n      return selection && selection.rangeCount ? selection.getRangeAt(0) : document.createRange();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * 初始化绑定\n   */\n\n  RangeCache.prototype.observe = function () {\n    var self = this; // 同步节点数据\n\n    this.root = this.editor.$textElem.elems[0];\n    this.resetMaxSize(this.editor.config.historyMaxSize); // selection change 回调函数\n\n    function selectionchange() {\n      var handle = self.rangeHandle;\n\n      if (self.root === handle.commonAncestorContainer || self.root.contains(handle.commonAncestorContainer)) {\n        // 非中文输入状态下才进行记录\n        if (!self.editor.isComposing) {\n          self.updateLastRange();\n        }\n      }\n    } // backspace 和 delete 手动更新 Range 缓存\n\n\n    function deletecallback(e) {\n      if (e.key == 'Backspace' || e.key == 'Delete') {\n        // self.lastRange = rangeToObject(self.rangeHandle)\n        self.updateLastRange();\n      }\n    } // 绑定事件（必须绑定在 document 上，不能绑定在 window 上）\n\n\n    dom_core_1[\"default\"](document).on('selectionchange', selectionchange); // 解除事件绑定\n\n    this.editor.beforeDestroy(function () {\n      dom_core_1[\"default\"](document).off('selectionchange', selectionchange);\n    }); // 删除文本时手动更新 range\n\n    self.editor.$textElem.on('keydown', deletecallback);\n  };\n  /**\n   * 保存 Range\n   */\n\n\n  RangeCache.prototype.save = function () {\n    var current = rangeToObject(this.rangeHandle);\n\n    _super.prototype.save.call(this, [this.lastRange, current]);\n\n    this.lastRange = current;\n    return this;\n  };\n  /**\n   * 设置 Range，在 撤销/恢复 中调用\n   * @param range 缓存的 Range 数据\n   */\n\n\n  RangeCache.prototype.set = function (range) {\n    try {\n      if (range) {\n        var handle = this.rangeHandle;\n        handle.setStart.apply(handle, range.start);\n        handle.setEnd.apply(handle, range.end);\n        this.editor.menus.changeActive();\n        return true;\n      }\n    } catch (err) {\n      return false;\n    }\n\n    return false;\n  };\n  /**\n   * 撤销\n   */\n\n\n  RangeCache.prototype.revoke = function () {\n    var _this = this;\n\n    return _super.prototype.revoke.call(this, function (data) {\n      _this.set(data[0]);\n    });\n  };\n  /**\n   * 恢复\n   */\n\n\n  RangeCache.prototype.restore = function () {\n    var _this = this;\n\n    return _super.prototype.restore.call(this, function (data) {\n      _this.set(data[1]);\n    });\n  };\n\n  return RangeCache;\n}(cache_1[\"default\"]);\n\nexports[\"default\"] = RangeCache;\n\n/***/ }),\n/* 453 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _find = _interopRequireDefault(__webpack_require__(32));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = __webpack_require__(2);\n\nvar dom_core_1 = tslib_1.__importDefault(__webpack_require__(3));\n\n__webpack_require__(454);\n\nfunction disableInit(editor) {\n  var isCurtain = false; // 避免重复生成幕布\n\n  var $contentDom;\n  var $menuDom; // 禁用期间，通过 js 修改内容后，刷新内容\n\n  editor.txt.eventHooks.changeEvents.push(function () {\n    if (isCurtain) {\n      (0, _find[\"default\"])($contentDom).call($contentDom, '.w-e-content-preview').html(editor.$textElem.html());\n    }\n  }); // 创建幕布\n\n  function disable() {\n    if (isCurtain) return; // 隐藏编辑区域\n\n    editor.$textElem.hide(); // 生成div 渲染编辑内容\n\n    var textContainerZindexValue = editor.zIndex.get('textContainer');\n    var content = editor.txt.html();\n    $contentDom = dom_core_1[\"default\"](\"<div class=\\\"w-e-content-mantle\\\" style=\\\"z-index:\" + textContainerZindexValue + \"\\\">\\n                <div class=\\\"w-e-content-preview w-e-text\\\">\" + content + \"</div>\\n            </div>\");\n    editor.$textContainerElem.append($contentDom); // 生成div 菜单膜布\n\n    var menuZindexValue = editor.zIndex.get('menu');\n    $menuDom = dom_core_1[\"default\"](\"<div class=\\\"w-e-menue-mantle\\\" style=\\\"z-index:\" + menuZindexValue + \"\\\"></div>\");\n    editor.$toolbarElem.append($menuDom);\n    isCurtain = true;\n    editor.isEnable = false;\n  } // 销毁幕布并显示可编辑区域\n\n\n  function enable() {\n    if (!isCurtain) return;\n    $contentDom.remove();\n    $menuDom.remove();\n    editor.$textElem.show();\n    isCurtain = false;\n    editor.isEnable = true;\n  }\n\n  return {\n    disable: disable,\n    enable: enable\n  };\n}\n\nexports[\"default\"] = disableInit;\n\n/***/ }),\n/* 454 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(21);\n            var content = __webpack_require__(455);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n/* 455 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(22);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".w-e-content-mantle {\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n.w-e-content-mantle .w-e-content-preview {\\n  width: 100%;\\n  min-height: 100%;\\n  padding: 0 10px;\\n  line-height: 1.5;\\n}\\n.w-e-content-mantle .w-e-content-preview img {\\n  cursor: default;\\n}\\n.w-e-content-mantle .w-e-content-preview img:hover {\\n  box-shadow: none;\\n}\\n.w-e-menue-mantle {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n/* 456 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\nvar SelectionChange = function () {\n  function SelectionChange(editor) {\n    var _this = this;\n\n    this.editor = editor; // 绑定的事件\n\n    var init = function init() {\n      var activeElement = document.activeElement;\n\n      if (activeElement === editor.$textElem.elems[0]) {\n        _this.emit();\n      }\n    }; //  选取变化事件监听\n\n\n    window.document.addEventListener('selectionchange', init); // 摧毁时移除监听\n\n    this.editor.beforeDestroy(function () {\n      window.document.removeEventListener('selectionchange', init);\n    });\n  }\n\n  SelectionChange.prototype.emit = function () {\n    var _a; // 执行rangeChange函数\n\n\n    var onSelectionChange = this.editor.config.onSelectionChange;\n\n    if (onSelectionChange) {\n      var selection = this.editor.selection;\n      selection.saveRange();\n      if (!selection.isSelectionEmpty()) onSelectionChange({\n        // 当前文本\n        text: selection.getSelectionText(),\n        // 当前的html\n        html: (_a = selection.getSelectionContainerElem()) === null || _a === void 0 ? void 0 : _a.elems[0].innerHTML,\n        // select对象\n        selection: selection\n      });\n    }\n  };\n\n  return SelectionChange;\n}();\n\nexports[\"default\"] = SelectionChange;\n\n/***/ }),\n/* 457 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\nvar _assign = _interopRequireDefault(__webpack_require__(132));\n\nvar _entries = _interopRequireDefault(__webpack_require__(102));\n\nvar _forEach = _interopRequireDefault(__webpack_require__(4));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nexports.registerPlugin = void 0;\n\nvar tslib_1 = __webpack_require__(2);\n\nvar editor_1 = tslib_1.__importDefault(__webpack_require__(94));\n\nvar util_1 = __webpack_require__(6);\n/**\n * 插件注册\n * @param { string } name 插件名\n * @param { RegisterOptions } options 插件配置\n * @param { pluginsListType } memory 存储介质\n */\n\n\nfunction registerPlugin(name, options, memory) {\n  if (!name) {\n    throw new TypeError('name is not define');\n  }\n\n  if (!options) {\n    throw new TypeError('options is not define');\n  }\n\n  if (!options.intention) {\n    throw new TypeError('options.intention is not define');\n  }\n\n  if (options.intention && typeof options.intention !== 'function') {\n    throw new TypeError('options.intention is not function');\n  }\n\n  if (memory[name]) {\n    console.warn(\"plugin \" + name + \" \\u5DF2\\u5B58\\u5728\\uFF0C\\u5DF2\\u8986\\u76D6\\u3002\");\n  }\n\n  memory[name] = options;\n}\n\nexports.registerPlugin = registerPlugin;\n/**\n * 插件初始化\n * @param { Editor } editor 编辑器实例\n */\n\nfunction initPlugins(editor) {\n  var plugins = (0, _assign[\"default\"])({}, util_1.deepClone(editor_1[\"default\"].globalPluginsFunctionList), util_1.deepClone(editor.pluginsFunctionList));\n  var values = (0, _entries[\"default\"])(plugins);\n  (0, _forEach[\"default\"])(values).call(values, function (_a) {\n    var name = _a[0],\n        options = _a[1];\n    console.info(\"plugin \" + name + \" initializing\");\n    var intention = options.intention,\n        config = options.config;\n    intention(editor, config);\n    console.info(\"plugin \" + name + \" initialization complete\");\n  });\n}\n\nexports[\"default\"] = initPlugins;\n\n/***/ }),\n/* 458 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(0);\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(1));\n\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\n\n/***/ })\n/******/ ])[\"default\"];\n});\n//# sourceMappingURL=wangEditor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2FuZ2VkaXRvci9kaXN0L3dhbmdFZGl0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2FuZ2VkaXRvci9kaXN0L3dhbmdFZGl0b3IuanM/NmZhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ3YW5nRWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIndhbmdFZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQ2KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19leHRlbmRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19leHRlbmRzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2Fzc2lnblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXNzaWduOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX3Jlc3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX3Jlc3Q7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZGVjb3JhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2RlY29yYXRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX3BhcmFtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19wYXJhbTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19tZXRhZGF0YVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fbWV0YWRhdGE7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fYXdhaXRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXdhaXRlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19nZW5lcmF0b3JcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2dlbmVyYXRvcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19jcmVhdGVCaW5kaW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19jcmVhdGVCaW5kaW5nOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2V4cG9ydFN0YXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2V4cG9ydFN0YXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fdmFsdWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX192YWx1ZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fcmVhZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fcmVhZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19zcHJlYWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX3NwcmVhZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19zcHJlYWRBcnJheXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX3NwcmVhZEFycmF5czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19zcHJlYWRBcnJheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fc3ByZWFkQXJyYXk7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fYXdhaXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2F3YWl0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2FzeW5jR2VuZXJhdG9yXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19hc3luY0dlbmVyYXRvcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19hc3luY0RlbGVnYXRvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXN5bmNEZWxlZ2F0b3I7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fYXN5bmNWYWx1ZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2FzeW5jVmFsdWVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX21ha2VUZW1wbGF0ZU9iamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fbWFrZVRlbXBsYXRlT2JqZWN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2ltcG9ydFN0YXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2ltcG9ydFN0YXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9faW1wb3J0RGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiX19jbGFzc1ByaXZhdGVGaWVsZEdldFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fY2xhc3NQcml2YXRlRmllbGRTZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0OyB9KTtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5bCB6KOFIERPTSDmk43kvZxcbiAqIEB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9pc0FycmF5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSk7XG5cbnZhciBfdHJpbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNikpO1xuXG52YXIgX21hcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTI1KSk7XG5cbnZhciBfaW5kZXhPZiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpO1xuXG52YXIgX3NwbGljZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg5OSkpO1xuXG52YXIgX2ZpbHRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg3NikpO1xuXG52YXIgX2luY2x1ZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSk7XG5cbnZhciBfYmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Eb21FbGVtZW50ID0gdm9pZCAwO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgQUdFTlRfRVZFTlRTID0gW107XG4vKipcbiAqIOagueaNriBodG1sIOWtl+espuS4suWIm+W7uiBlbGVtXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbCBodG1sXG4gKi9cblxuZnVuY3Rpb24gX2NyZWF0ZUVsZW1CeUhUTUwoaHRtbCkge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICB2YXIgZWxlbXMgPSBkaXYuY2hpbGRyZW47XG4gIHJldHVybiB1dGlsXzEudG9BcnJheShlbGVtcyk7XG59XG4vKipcbiAqIOWIpOaWreaYr+WQpuaYryBET00gTGlzdFxuICogQHBhcmFtIHNlbGVjdG9yIERPTSDlhYPntKDmiJbliJfooahcbiAqL1xuXG5cbmZ1bmN0aW9uIF9pc0RPTUxpc3Qoc2VsZWN0b3IpIHtcbiAgaWYgKCFzZWxlY3Rvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uIHx8IHNlbGVjdG9yIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICog5bCB6KOFIHF1ZXJ5U2VsZWN0b3JBbGxcbiAqIEBwYXJhbSBzZWxlY3RvciBjc3Mg6YCJ5oup5ZmoXG4gKi9cblxuXG5mdW5jdGlvbiBfcXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcikge1xuICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgcmV0dXJuIHV0aWxfMS50b0FycmF5KGVsZW1zKTtcbn1cbi8qKlxuICog5bCB6KOFIF9zdHlsZUFyclRyaW1cbiAqIEBwYXJhbSBzdHlsZUFyciBjc3NcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zdHlsZUFyclRyaW0oc3R5bGUpIHtcbiAgdmFyIHN0eWxlQXJyID0gW107XG4gIHZhciByZXN1bHRBcnIgPSBbXTtcblxuICBpZiAoISgwLCBfaXNBcnJheVtcImRlZmF1bHRcIl0pKHN0eWxlKSkge1xuICAgIC8vIOaciSBzdHlsZe+8jOWwhiBzdHlsZSDmjInnhacgYDtgIOaLhuWIhuS4uuaVsOe7hFxuICAgIHN0eWxlQXJyID0gc3R5bGUuc3BsaXQoJzsnKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZUFyciA9IHN0eWxlO1xuICB9XG5cbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoc3R5bGVBcnIpLmNhbGwoc3R5bGVBcnIsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgLy8g5a+55q+P6aG55qC35byP77yM5oyJ54WnIDog5ouG5YiG5Li6IGtleSDlkowgdmFsdWVcbiAgICB2YXIgYXJyID0gKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IGl0ZW0uc3BsaXQoJzonKSkuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShpKS5jYWxsKGkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGFyci5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJlc3VsdEFyci5wdXNoKGFyclswXSArICc6JyArIGFyclsxXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdEFycjtcbn0gLy8g5p6E6YCg5Ye95pWwXG5cblxudmFyIERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiDmnoTpgKDlh73mlbBcbiAgICogQHBhcmFtIHNlbGVjdG9yIOS7u+S4gOexu+Wei+eahOmAieaLqeWZqFxuICAgKi9cbiAgZnVuY3Rpb24gRG9tRWxlbWVudChzZWxlY3Rvcikge1xuICAgIC8vIOWIneWni+WMluWxnuaAp1xuICAgIHRoaXMuZWxlbXMgPSBbXTtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuZWxlbXMubGVuZ3RoO1xuICAgIHRoaXMuZGF0YVNvdXJjZSA9IG5ldyBfbWFwMltcImRlZmF1bHRcIl0oKTtcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIOWOn+acrOWwseaYryBEb21FbGVtZW50IOWunuS+i++8jOWImeebtOaOpei/lOWbnlxuXG5cbiAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBEb21FbGVtZW50KSB7XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuXG4gICAgdmFyIHNlbGVjdG9yUmVzdWx0ID0gW107IC8vIOWtmOWCqOafpeivoue7k+aenFxuXG4gICAgdmFyIG5vZGVUeXBlID0gc2VsZWN0b3IgaW5zdGFuY2VvZiBOb2RlID8gc2VsZWN0b3Iubm9kZVR5cGUgOiAtMTtcbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICBpZiAobm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkpIHtcbiAgICAgIHNlbGVjdG9yUmVzdWx0ID0gW3NlbGVjdG9yXTtcbiAgICB9IGVsc2UgaWYgKF9pc0RPTUxpc3Qoc2VsZWN0b3IpKSB7XG4gICAgICAvLyBET00gTGlzdFxuICAgICAgc2VsZWN0b3JSZXN1bHQgPSB1dGlsXzEudG9BcnJheShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAvLyBFbGVtZW50IOaVsOe7hO+8iOWFtuS7luaVsOaNruexu+Wei++8jOaaguaXtuW/veeVpe+8iVxuICAgICAgc2VsZWN0b3JSZXN1bHQgPSBzZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgIC8vIOWtl+espuS4slxuICAgICAgdmFyIHRtcFNlbGVjdG9yID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gc2VsZWN0b3IucmVwbGFjZSgnL1xcbi9tZycsICcnKSkuY2FsbChfY29udGV4dDIpO1xuXG4gICAgICBpZiAoKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkodG1wU2VsZWN0b3IpLmNhbGwodG1wU2VsZWN0b3IsICc8JykgPT09IDApIHtcbiAgICAgICAgLy8g5aaCIDxkaXY+XG4gICAgICAgIHNlbGVjdG9yUmVzdWx0ID0gX2NyZWF0ZUVsZW1CeUhUTUwodG1wU2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5aaCICNpZCAuY2xhc3NcbiAgICAgICAgc2VsZWN0b3JSZXN1bHQgPSBfcXVlcnlTZWxlY3RvckFsbCh0bXBTZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHNlbGVjdG9yUmVzdWx0Lmxlbmd0aDtcblxuICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAvLyDnqbrmlbDnu4RcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8g5Yqg5YWlIERPTSDoioLngrlcblxuXG4gICAgdmFyIGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lbGVtcy5wdXNoKHNlbGVjdG9yUmVzdWx0W2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgfVxuXG4gICgwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShEb21FbGVtZW50LnByb3RvdHlwZSwgXCJpZFwiLCB7XG4gICAgLyoqXG4gICAgICog6I635Y+W5YWD57SgIGlkXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtc1swXS5pZDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXG4gICAqIOmBjeWOhuaJgOacieWFg+e0oO+8jOaJp+ihjOWbnuiwg+WHveaVsFxuICAgKiBAcGFyYW0gZm4g5Zue6LCD5Ye95pWwXG4gICAqL1xuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1tpXTtcbiAgICAgIHZhciByZXN1bHQgPSBmbi5jYWxsKGVsZW0sIGVsZW0sIGkpO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIOWFi+mahuWFg+e0oFxuICAgKiBAcGFyYW0gZGVlcCDmmK/lkKbmt7HluqblhYvpmoZcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChkZWVwKSB7XG4gICAgdmFyIF9jb250ZXh0MztcblxuICAgIGlmIChkZWVwID09PSB2b2lkIDApIHtcbiAgICAgIGRlZXAgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgY2xvbmVMaXN0ID0gW107XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQzID0gdGhpcy5lbGVtcykuY2FsbChfY29udGV4dDMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICBjbG9uZUxpc3QucHVzaChlbGVtLmNsb25lTm9kZSghIWRlZXApKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJChjbG9uZUxpc3QpO1xuICB9O1xuICAvKipcbiAgICog6I635Y+W56ys5Yeg5Liq5YWD57SgXG4gICAqIEBwYXJhbSBpbmRleCBpbmRleFxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICBpbmRleCA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgaWYgKGluZGV4ID49IGxlbmd0aCkge1xuICAgICAgaW5kZXggPSBpbmRleCAlIGxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gJCh0aGlzLmVsZW1zW2luZGV4XSk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5bnrKzkuIDkuKrlhYPntKBcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5bmnIDlkI7kuIDkuKrlhYPntKBcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gdGhpcy5nZXQobGVuZ3RoIC0gMSk7XG4gIH07XG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgc2VsZWN0b3IsIGZuKSB7XG4gICAgdmFyIF9jb250ZXh0NDtcblxuICAgIGlmICghdHlwZSkgcmV0dXJuIHRoaXM7IC8vIOayoeaciSBzZWxlY3RvciDvvIzlj6rmnIkgdHlwZSDlkowgZm5cblxuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZuID0gc2VsZWN0b3I7XG4gICAgICBzZWxlY3RvciA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDQgPSB0aGlzKS5jYWxsKF9jb250ZXh0NCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIC8vIOayoeacieS6i+S7tuS7o+eQhlxuICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAvLyDml6Dku6PnkIZcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyDmnInkuovku7bku6PnkIZcblxuXG4gICAgICB2YXIgYWdlbnRGbiA9IGZ1bmN0aW9uIGFnZW50Rm4oZSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHRhcmdldC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBmbi5jYWxsKHRhcmdldCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBhZ2VudEZuKTsgLy8g57yT5a2Y5Luj55CG5LqL5Lu2XG5cbiAgICAgIEFHRU5UX0VWRU5UUy5wdXNoKHtcbiAgICAgICAgZWxlbTogZWxlbSxcbiAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICBmbjogZm4sXG4gICAgICAgIGFnZW50Rm46IGFnZW50Rm5cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBzZWxlY3RvciwgZm4pIHtcbiAgICB2YXIgX2NvbnRleHQ1O1xuXG4gICAgaWYgKCF0eXBlKSByZXR1cm4gdGhpczsgLy8g5rKh5pyJIHNlbGVjdG9yIO+8jOWPquaciSB0eXBlIOWSjCBmblxuXG4gICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZm4gPSBzZWxlY3RvcjtcbiAgICAgIHNlbGVjdG9yID0gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0NSA9IHRoaXMpLmNhbGwoX2NvbnRleHQ1LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgLy8g6Kej57uR5LqL5Lu25Luj55CGXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGlkeCA9IC0xO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQUdFTlRfRVZFTlRTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSBBR0VOVF9FVkVOVFNbaV07XG5cbiAgICAgICAgICBpZiAoaXRlbS5zZWxlY3RvciA9PT0gc2VsZWN0b3IgJiYgaXRlbS5mbiA9PT0gZm4gJiYgaXRlbS5lbGVtID09PSBlbGVtKSB7XG4gICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICB2YXIgYWdlbnRGbiA9ICgwLCBfc3BsaWNlW1wiZGVmYXVsdFwiXSkoQUdFTlRfRVZFTlRTKS5jYWxsKEFHRU5UX0VWRU5UUywgaWR4LCAxKVswXS5hZ2VudEZuO1xuICAgICAgICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBhZ2VudEZuKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICB2YXIgX2NvbnRleHQ2O1xuXG4gICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAvLyDojrflj5bmlbDmja5cbiAgICAgIHJldHVybiB0aGlzLmVsZW1zWzBdLmdldEF0dHJpYnV0ZShrZXkpIHx8ICcnO1xuICAgIH0gLy8g5ZCm5YiZ77yM6K6+572u5bGe5oCnXG5cblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDYgPSB0aGlzKS5jYWxsKF9jb250ZXh0NiwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGtleSwgdmFsKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOWIoOmZpCDlsZ7mgKdcbiAgICogQHBhcmFtIGtleSBrZXlcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBfY29udGV4dDc7XG5cbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDcgPSB0aGlzKS5jYWxsKF9jb250ZXh0NywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiDmt7vliqAgY3NzIGNsYXNzXG4gICAqIEBwYXJhbSBjbGFzc05hbWUgY3NzIGNsYXNzXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgdmFyIF9jb250ZXh0ODtcblxuICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQ4ID0gdGhpcykuY2FsbChfY29udGV4dDgsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICBpZiAoZWxlbS5jbGFzc05hbWUpIHtcbiAgICAgICAgLy8g5b2T5YmN5pyJIGNsYXNzXG4gICAgICAgIHZhciBhcnIgPSBlbGVtLmNsYXNzTmFtZS5zcGxpdCgvXFxzLyk7XG4gICAgICAgIGFyciA9ICgwLCBfZmlsdGVyW1wiZGVmYXVsdFwiXSkoYXJyKS5jYWxsKGFyciwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gISEoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShpdGVtKS5jYWxsKGl0ZW0pO1xuICAgICAgICB9KTsgLy8g5re75YqgIGNsYXNzXG5cbiAgICAgICAgaWYgKCgwLCBfaW5kZXhPZltcImRlZmF1bHRcIl0pKGFycikuY2FsbChhcnIsIGNsYXNzTmFtZSkgPCAwKSB7XG4gICAgICAgICAgYXJyLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgfSAvLyDkv67mlLkgZWxlbS5jbGFzc1xuXG5cbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBhcnIuam9pbignICcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5b2T5YmN5rKh5pyJIGNsYXNzXG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICog5re75YqgIGNzcyBjbGFzc1xuICAgKiBAcGFyYW0gY2xhc3NOYW1lIGNzcyBjbGFzc1xuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIHZhciBfY29udGV4dDk7XG5cbiAgICBpZiAoIWNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0OSA9IHRoaXMpLmNhbGwoX2NvbnRleHQ5LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgaWYgKCFlbGVtLmNsYXNzTmFtZSkge1xuICAgICAgICAvLyDlvZPliY3ml6AgY2xhc3NcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJyID0gZWxlbS5jbGFzc05hbWUuc3BsaXQoL1xccy8pO1xuICAgICAgYXJyID0gKDAsIF9maWx0ZXJbXCJkZWZhdWx0XCJdKShhcnIpLmNhbGwoYXJyLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpdGVtID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoaXRlbSkuY2FsbChpdGVtKTsgLy8g5Yig6ZmkIGNsYXNzXG5cbiAgICAgICAgaWYgKCFpdGVtIHx8IGl0ZW0gPT09IGNsYXNzTmFtZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7IC8vIOS/ruaUuSBlbGVtLmNsYXNzXG5cbiAgICAgIGVsZW0uY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOaYr+WQpuacieS8oOWFpeeahCBjc3MgY2xhc3NcbiAgICogQHBhcmFtIGNsYXNzTmFtZSBjc3MgY2xhc3NcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICBpZiAoIWNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcblxuICAgIGlmICghZWxlbS5jbGFzc05hbWUpIHtcbiAgICAgIC8vIOW9k+WJjeaXoCBjbGFzc1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBhcnIgPSBlbGVtLmNsYXNzTmFtZS5zcGxpdCgvXFxzLyk7XG4gICAgcmV0dXJuICgwLCBfaW5jbHVkZXNbXCJkZWZhdWx0XCJdKShhcnIpLmNhbGwoYXJyLCBjbGFzc05hbWUpOyAvLyDmmK/lkKbljIXlkKtcbiAgfTtcbiAgLyoqXG4gICAqIOS/ruaUuSBjc3NcbiAgICogQHBhcmFtIGtleSBjc3Mga2V5XG4gICAqIEBwYXJhbSB2YWwgY3NzIHZhbHVlXG4gICAqL1xuICAvLyBjc3Moa2V5OiBzdHJpbmcpOiBzdHJpbmdcblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICAgIHZhciBfY29udGV4dDEwO1xuXG4gICAgdmFyIGN1cnJlbnRTdHlsZTtcblxuICAgIGlmICh2YWwgPT0gJycpIHtcbiAgICAgIGN1cnJlbnRTdHlsZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50U3R5bGUgPSBrZXkgKyBcIjpcIiArIHZhbCArIFwiO1wiO1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDEwID0gdGhpcykuY2FsbChfY29udGV4dDEwLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgdmFyIF9jb250ZXh0MTE7XG5cbiAgICAgIHZhciBzdHlsZSA9ICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0MTEgPSBlbGVtLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSB8fCAnJykuY2FsbChfY29udGV4dDExKTtcblxuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIC8vIOaciSBzdHlsZe+8jOWwhiBzdHlsZSDmjInnhacgYDtgIOaLhuWIhuS4uuaVsOe7hFxuICAgICAgICB2YXIgcmVzdWx0QXJyID0gX3N0eWxlQXJyVHJpbShzdHlsZSk7IC8vIOabv+aNoueOsOacieeahCBzdHlsZVxuXG5cbiAgICAgICAgcmVzdWx0QXJyID0gKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShyZXN1bHRBcnIpLmNhbGwocmVzdWx0QXJyLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGlmICgoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKShpdGVtKS5jYWxsKGl0ZW0sIGtleSkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50U3R5bGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7IC8vIOaWsOWiniBzdHlsZVxuXG4gICAgICAgIGlmIChjdXJyZW50U3R5bGUgIT0gJycgJiYgKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkocmVzdWx0QXJyKS5jYWxsKHJlc3VsdEFyciwgY3VycmVudFN0eWxlKSA8IDApIHtcbiAgICAgICAgICByZXN1bHRBcnIucHVzaChjdXJyZW50U3R5bGUpO1xuICAgICAgICB9IC8vIOWOu+aOiSDnqbrnmb1cblxuXG4gICAgICAgIGlmIChjdXJyZW50U3R5bGUgPT0gJycpIHtcbiAgICAgICAgICByZXN1bHRBcnIgPSBfc3R5bGVBcnJUcmltKHJlc3VsdEFycik7XG4gICAgICAgIH0gLy8g6YeN5paw6K6+572uIHN0eWxlXG5cblxuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCByZXN1bHRBcnIuam9pbignOyAnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlvZPliY3msqHmnIkgc3R5bGVcbiAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY3VycmVudFN0eWxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOWwgeijhSBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1zWzBdO1xuICAgIHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9O1xuICAvKipcbiAgICog5pi+56S6XG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgfTtcbiAgLyoqXG4gICAqIOmakOiXj1xuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluWtkOiKgueCue+8iOWPquaciSBET00g5YWD57Sg77yJXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuY2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1zWzBdO1xuXG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gJChlbGVtLmNoaWxkcmVuKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluWtkOiKgueCue+8iOWMheaLrOaWh+acrOiKgueCue+8iVxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmNoaWxkTm9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1zWzBdO1xuXG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gJChlbGVtLmNoaWxkTm9kZXMpO1xuICB9O1xuICAvKipcbiAgICog5bCG5a2Q5YWD57Sg5YWo6YOo5pu/5o2iXG4gICAqIEBwYXJhbSAkY2hpbGRyZW4g5paw55qEY2hpbGToioLngrlcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5yZXBsYWNlQ2hpbGRBbGwgPSBmdW5jdGlvbiAoJGNoaWxkcmVuKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0Tm9kZSgpO1xuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcblxuICAgIHdoaWxlIChlbGVtLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgJiYgZWxlbS5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmQoJGNoaWxkcmVuKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWinuWKoOWtkOiKgueCuVxuICAgKiBAcGFyYW0gJGNoaWxkcmVuIOWtkOiKgueCuVxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICgkY2hpbGRyZW4pIHtcbiAgICB2YXIgX2NvbnRleHQxMjtcblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDEyID0gdGhpcykuY2FsbChfY29udGV4dDEyLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJGNoaWxkcmVuKS5jYWxsKCRjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiDnp7vpmaTlvZPliY3oioLngrlcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb250ZXh0MTM7XG5cbiAgICByZXR1cm4gKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQxMyA9IHRoaXMpLmNhbGwoX2NvbnRleHQxMywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtLnJlbW92ZSkge1xuICAgICAgICBlbGVtLnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcmVudF8xID0gZWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBwYXJlbnRfMSAmJiBwYXJlbnRfMS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOW9k+WJjeWFg+e0oO+8jOaYr+WQpuWMheWQq+afkOS4quWtkOWFg+e0oFxuICAgKiBAcGFyYW0gJGNoaWxkIOWtkOWFg+e0oFxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmlzQ29udGFpbiA9IGZ1bmN0aW9uICgkY2hpbGQpIHtcbiAgICB2YXIgZWxlbSA9IHRoaXMuZWxlbXNbMF07XG4gICAgdmFyIGNoaWxkID0gJGNoaWxkLmVsZW1zWzBdO1xuICAgIHJldHVybiBlbGVtLmNvbnRhaW5zKGNoaWxkKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluW9k+WJjeWFg+e0oCBub2RlTmFtZVxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmdldE5vZGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcbiAgICByZXR1cm4gZWxlbS5ub2RlTmFtZTtcbiAgfTtcbiAgLyoqXG4gICAqIOagueaNruWFg+e0oOS9jee9ruiOt+WPluWFg+e0oOiKgueCue+8iOm7mOiupOiOt+WPljDkvY3nva7nmoToioLngrnvvIlcbiAgICogQHBhcmFtIG4g5YWD57Sg6IqC54K55L2N572uXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuZ2V0Tm9kZSA9IGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgICAgbiA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGVsZW07XG4gICAgZWxlbSA9IHRoaXMuZWxlbXNbbl07XG4gICAgcmV0dXJuIGVsZW07XG4gIH07XG4gIC8qKlxuICAgKiDmn6Xor6JcbiAgICogQHBhcmFtIHNlbGVjdG9yIGNzcyDpgInmi6nlmahcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1zWzBdO1xuICAgIHJldHVybiAkKGVsZW0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICB9O1xuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKCF2YWwpIHtcbiAgICAgIC8vIOiOt+WPliB0ZXh0XG4gICAgICB2YXIgZWxlbSA9IHRoaXMuZWxlbXNbMF07XG4gICAgICByZXR1cm4gZWxlbS5pbm5lckhUTUwucmVwbGFjZSgvPFtePl0rPi9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NvbnRleHQxNDtcblxuICAgICAgLy8g6K6+572uIHRleHRcbiAgICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDE0ID0gdGhpcykuY2FsbChfY29udGV4dDE0LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9IHZhbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcblxuICAgIGlmICghdmFsKSB7XG4gICAgICAvLyDojrflj5YgaHRtbFxuICAgICAgcmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDorr7nva4gaHRtbFxuICAgICAgZWxlbS5pbm5lckhUTUwgPSB2YWw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blhYPntKAgdmFsdWVcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS52YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb250ZXh0MTU7XG5cbiAgICB2YXIgZWxlbSA9IHRoaXMuZWxlbXNbMF07XG4gICAgcmV0dXJuICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0MTUgPSBlbGVtLnZhbHVlKS5jYWxsKF9jb250ZXh0MTUpOyAvLyDmmoLnlKggYW55XG4gIH07XG4gIC8qKlxuICAgKiBmb2N1cyDliLDlvZPliY3lhYPntKBcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbnRleHQxNjtcblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDE2ID0gdGhpcykuY2FsbChfY29udGV4dDE2LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgZWxlbS5mb2N1cygpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICog5b2T5YmN5YWD57Sg5YmN5LiA5Liq5YWE5byf6IqC54K5XG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWxlbSA9IHRoaXMuZWxlbXNbMF07XG4gICAgcmV0dXJuICQoZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKTtcbiAgfTtcbiAgLyoqXG4gICAqIOW9k+WJjeWFg+e0oOWQjuS4gOS4quWFhOW8n+iKgueCuVxuICAgKiDkuI3ljIXmi6zmlofmnKzoioLngrnjgIHms6jph4roioLngrnvvIlcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcbiAgICByZXR1cm4gJChlbGVtLm5leHRFbGVtZW50U2libGluZyk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blvZPliY3oioLngrnnmoTkuIvkuIDkuKrlhYTlvJ/oioLngrlcbiAgICog5YyF5ous5paH5pys6IqC54K544CB5rOo6YeK6IqC54K55Y2z5Zue6L2m44CB5o2i6KGM44CB56m65qC844CB5paH5pys562J562J77yJXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuZ2V0TmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1zWzBdO1xuICAgIHJldHVybiAkKGVsZW0ubmV4dFNpYmxpbmcpO1xuICB9O1xuICAvKipcbiAgICog6I635Y+W54i25YWD57SgXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUucGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGVtID0gdGhpcy5lbGVtc1swXTtcbiAgICByZXR1cm4gJChlbGVtLnBhcmVudEVsZW1lbnQpO1xuICB9O1xuICAvKipcbiAgICog5p+l5om+54i25YWD57Sg77yM55u05Yiw5ruh6LazIHNlbGVjdG9yIOadoeS7tlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgY3NzIOmAieaLqeWZqFxuICAgKiBAcGFyYW0gY3VyRWxlbSDku47lk6rkuKrlhYPntKDlvIDlp4vmn6Xmib7vvIzpu5jorqTkuLrlvZPliY3lhYPntKBcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5wYXJlbnRVbnRpbCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY3VyRWxlbSkge1xuICAgIHZhciBlbGVtID0gY3VyRWxlbSB8fCB0aGlzLmVsZW1zWzBdO1xuXG4gICAgaWYgKGVsZW0ubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudDtcblxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgIC8vIOaJvuWIsO+8jOW5tui/lOWbnlxuICAgICAgcmV0dXJuICQocGFyZW50KTtcbiAgICB9IC8vIOe7p+e7reafpeaJvu+8jOmAkuW9klxuXG5cbiAgICByZXR1cm4gdGhpcy5wYXJlbnRVbnRpbChzZWxlY3RvciwgcGFyZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIOafpeaJvueItuWFg+e0oO+8jOebtOWIsOa7oei2syBzZWxlY3RvciDmnaHku7Ys5oiW6ICFIOWIsOi+viDnvJbovpHljLrln5/lrrnlmajku6Xlj4roj5zljZXmoI/lrrnlmahcbiAgICogQHBhcmFtIHNlbGVjdG9yIGNzcyDpgInmi6nlmahcbiAgICogQHBhcmFtIGN1ckVsZW0g5LuO5ZOq5Liq5YWD57Sg5byA5aeL5p+l5om+77yM6buY6K6k5Li65b2T5YmN5YWD57SgXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUucGFyZW50VW50aWxFZGl0b3IgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGVkaXRvciwgY3VyRWxlbSkge1xuICAgIHZhciBlbGVtID0gY3VyRWxlbSB8fCB0aGlzLmVsZW1zWzBdO1xuXG4gICAgaWYgKCQoZWxlbSkuZXF1YWwoZWRpdG9yLiR0ZXh0Q29udGFpbmVyRWxlbSkgfHwgJChlbGVtKS5lcXVhbChlZGl0b3IuJHRvb2xiYXJFbGVtKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudDtcblxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgIC8vIOaJvuWIsO+8jOW5tui/lOWbnlxuICAgICAgcmV0dXJuICQocGFyZW50KTtcbiAgICB9IC8vIOe7p+e7reafpeaJvu+8jOmAkuW9klxuXG5cbiAgICByZXR1cm4gdGhpcy5wYXJlbnRVbnRpbEVkaXRvcihzZWxlY3RvciwgZWRpdG9yLCBwYXJlbnQpO1xuICB9O1xuICAvKipcbiAgICog5Yik6K+75piv5ZCm55u4562JXG4gICAqIEBwYXJhbSAkZWxlbSDlhYPntKBcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5lcXVhbCA9IGZ1bmN0aW9uICgkZWxlbSkge1xuICAgIGlmICgkZWxlbSBpbnN0YW5jZW9mIERvbUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1zWzBdID09PSAkZWxlbS5lbGVtc1swXTtcbiAgICB9IGVsc2UgaWYgKCRlbGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1zWzBdID09PSAkZWxlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWwhuivpeWFg+e0oOaPkuWFpeWIsOafkOS4quWFg+e0oOWJjemdolxuICAgKiBAcGFyYW0gc2VsZWN0b3IgY3NzIOmAieaLqeWZqFxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHZhciBfY29udGV4dDE3O1xuXG4gICAgdmFyICRyZWZlcmVuY2VOb2RlID0gJChzZWxlY3Rvcik7XG4gICAgdmFyIHJlZmVyZW5jZU5vZGUgPSAkcmVmZXJlbmNlTm9kZS5lbGVtc1swXTtcblxuICAgIGlmICghcmVmZXJlbmNlTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0MTcgPSB0aGlzKS5jYWxsKF9jb250ZXh0MTcsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICB2YXIgcGFyZW50ID0gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlO1xuICAgICAgcGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50Lmluc2VydEJlZm9yZShlbGVtLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOWwhuivpeWFg+e0oOaPkuWFpeWIsHNlbGVjdG9y5YWD57Sg5ZCO6Z2iXG4gICAqIEBwYXJhbSBzZWxlY3RvciBjc3Mg6YCJ5oup5ZmoXG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICB2YXIgX2NvbnRleHQxODtcblxuICAgIHZhciAkcmVmZXJlbmNlTm9kZSA9ICQoc2VsZWN0b3IpO1xuICAgIHZhciByZWZlcmVuY2VOb2RlID0gJHJlZmVyZW5jZU5vZGUuZWxlbXNbMF07XG4gICAgdmFyIGFuY2hvck5vZGUgPSByZWZlcmVuY2VOb2RlICYmIHJlZmVyZW5jZU5vZGUubmV4dFNpYmxpbmc7XG5cbiAgICBpZiAoIXJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDE4ID0gdGhpcykuY2FsbChfY29udGV4dDE4LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgdmFyIHBhcmVudCA9IHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZTtcblxuICAgICAgaWYgKGFuY2hvck5vZGUpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtLCBhbmNob3JOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOiuvue9ri/ojrflj5Yg5pWw5o2uXG4gICAqIEBwYXJhbSBrZXkga2V5XG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAvLyDorr7nva7mlbDmja5cbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOiOt+WPluaVsOaNrlxuICAgICAgcmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5nZXQoa2V5KTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blvZPliY3oioLngrnnmoTpobbnuqco5q616JC9KVxuICAgKiBAcGFyYW0gZWRpdG9yIOWvjOaWh+acrOWunuS+i1xuICAgKi9cblxuXG4gIERvbUVsZW1lbnQucHJvdG90eXBlLmdldE5vZGVUb3AgPSBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgLy8g5byC5bi45oqb5Ye677yM56m655qEIERvbUVsZW1lbnQg55u05o6l6L+U5ZueXG4gICAgaWYgKHRoaXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyDojrflj5bniLbnuqflhYPntKDvvIzlubbliKTmlq3mmK/lkKbmmK8g57yW6L6R5Yy65Z+fXG4gICAgLy8g5aaC5p6c5piv5YiZ6L+U5Zue5b2T5YmN6IqC54K5XG5cblxuICAgIHZhciAkcGFyZW50ID0gdGhpcy5wYXJlbnQoKTsgLy8gZml477ya5re75Yqg5b2T5YmN5YWD57Sg5LiO57yW6L6R5Yy65YWD57Sg55qE5q+U6L6D77yM6Ziy5q2i5Lyg5YWl55qE5b2T5YmN5YWD57Sg5bCx5piv57yW6L6R5Yy65YWD57Sg6ICM6YCg5oiQ55qE6I635Y+W6aG257qn5YWD57Sg5Li656m655qE5oOF5Ya1XG5cbiAgICBpZiAoZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCh0aGlzKSB8fCBlZGl0b3IuJHRleHRFbGVtLmVxdWFsKCRwYXJlbnQpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IC8vIOWIsOS6huatpOWkhO+8jOWNs+S7o+ihqOW9k+WJjeiKgueCueS4jeaYr+mhtue6p+auteiQvVxuICAgIC8vIOWwhuW9k+WJjeiKgueCueWtmOaUvuS6jueItuiKgueCueeahCBwcmlvciDlrZfmrrXkuItcbiAgICAvLyDkuLvopoHnlKjkuo4g5Zue5rqvIOWtkOiKgueCuVxuICAgIC8vIOS+i+Wmgu+8mnVsIG9sIOetieagh+etvlxuICAgIC8vIOWunumZheaTjeS9nOeahOiKgueCueaYryBsaSDkvYbmmK/kuIDkuKogdWwgb2wg55qE5a2Q6IqC54K55Y+v6IO95pyJ5aSa5LiqXG4gICAgLy8g5omA5Lul6ZyA6KaB5a+55YW26L+b6KGMIOWbnua6ryDmib7liLDlr7nlupTnmoTlrZDoioLngrlcblxuXG4gICAgJHBhcmVudC5wcmlvciA9IHRoaXM7XG4gICAgcmV0dXJuICRwYXJlbnQuZ2V0Tm9kZVRvcChlZGl0b3IpO1xuICB9O1xuICAvKipcbiAgICog6I635Y+W5b2T5YmNIOiKgueCuSDln7rkuI7kuIrkuIDkuKrmi6XmnInnm7jlr7nmiJbogIXop6PlhrPlrprkvY3nmoTniLblrrnlmajnmoTkvY3nva5cbiAgICogQHBhcmFtIGVkaXRvciDlr4zmlofmnKzlrp7kvotcbiAgICovXG5cblxuICBEb21FbGVtZW50LnByb3RvdHlwZS5nZXRPZmZzZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkbm9kZSA9IHRoaXMuZWxlbXNbMF07XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogJG5vZGUub2Zmc2V0VG9wLFxuICAgICAgbGVmdDogJG5vZGUub2Zmc2V0TGVmdCxcbiAgICAgIHdpZHRoOiAkbm9kZS5vZmZzZXRXaWR0aCxcbiAgICAgIGhlaWdodDogJG5vZGUub2Zmc2V0SGVpZ2h0LFxuICAgICAgcGFyZW50OiAkbm9kZS5vZmZzZXRQYXJlbnRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICog5LuO5LiK6Iez5LiL6L+b6KGM5rua5YqoXG4gICAqIEBwYXJhbSB0b3Ag5rua5Yqo55qE5YC8XG4gICAqL1xuXG5cbiAgRG9tRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24gKHRvcCkge1xuICAgIHZhciAkbm9kZSA9IHRoaXMuZWxlbXNbMF07XG4gICAgJG5vZGUuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiB0b3BcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRG9tRWxlbWVudDtcbn0oKTtcblxuZXhwb3J0cy5Eb21FbGVtZW50ID0gRG9tRWxlbWVudDsgLy8gbmV3IOS4gOS4quWvueixoVxuXG5mdW5jdGlvbiAkKCkge1xuICB2YXIgYXJnID0gW107XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICBhcmdbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgKCgwLCBfYmluZFtcImRlZmF1bHRcIl0pKERvbUVsZW1lbnQpLmFwcGx5KERvbUVsZW1lbnQsIHRzbGliXzEuX19zcHJlYWRBcnJheShbdm9pZCAwXSwgYXJnKSkpKCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gJDtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpLmY7XG52YXIgaXNGb3JjZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxudmFyIHdyYXBDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChOYXRpdmVDb25zdHJ1Y3Rvcikge1xuICB2YXIgV3JhcHBlciA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBOYXRpdmVDb25zdHJ1Y3Rvcikge1xuICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpO1xuICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihhLCBiKTtcbiAgICAgIH0gcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihhLCBiLCBjKTtcbiAgICB9IHJldHVybiBOYXRpdmVDb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuICBXcmFwcGVyLnByb3RvdHlwZSA9IE5hdGl2ZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIFdyYXBwZXI7XG59O1xuXG4vKlxuICBvcHRpb25zLnRhcmdldCAgICAgIC0gbmFtZSBvZiB0aGUgdGFyZ2V0IG9iamVjdFxuICBvcHRpb25zLmdsb2JhbCAgICAgIC0gdGFyZ2V0IGlzIHRoZSBnbG9iYWwgb2JqZWN0XG4gIG9wdGlvbnMuc3RhdCAgICAgICAgLSBleHBvcnQgYXMgc3RhdGljIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucHJvdG8gICAgICAgLSBleHBvcnQgYXMgcHJvdG90eXBlIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucmVhbCAgICAgICAgLSByZWFsIHByb3RvdHlwZSBtZXRob2QgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLmZvcmNlZCAgICAgIC0gZXhwb3J0IGV2ZW4gaWYgdGhlIG5hdGl2ZSBmZWF0dXJlIGlzIGF2YWlsYWJsZVxuICBvcHRpb25zLmJpbmQgICAgICAgIC0gYmluZCBtZXRob2RzIHRvIHRoZSB0YXJnZXQsIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy53cmFwICAgICAgICAtIHdyYXAgY29uc3RydWN0b3JzIHRvIHByZXZlbnRpbmcgZ2xvYmFsIHBvbGx1dGlvbiwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLnVuc2FmZSAgICAgIC0gdXNlIHRoZSBzaW1wbGUgYXNzaWdubWVudCBvZiBwcm9wZXJ0eSBpbnN0ZWFkIG9mIGRlbGV0ZSArIGRlZmluZVByb3BlcnR5XG4gIG9wdGlvbnMuc2hhbSAgICAgICAgLSBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gIG9wdGlvbnMuZW51bWVyYWJsZSAgLSBleHBvcnQgYXMgZW51bWVyYWJsZSBwcm9wZXJ0eVxuICBvcHRpb25zLm5vVGFyZ2V0R2V0IC0gcHJldmVudCBjYWxsaW5nIGEgZ2V0dGVyIG9uIHRhcmdldFxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuICB2YXIgVEFSR0VUID0gb3B0aW9ucy50YXJnZXQ7XG4gIHZhciBHTE9CQUwgPSBvcHRpb25zLmdsb2JhbDtcbiAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcbiAgdmFyIFBST1RPID0gb3B0aW9ucy5wcm90bztcblxuICB2YXIgbmF0aXZlU291cmNlID0gR0xPQkFMID8gZ2xvYmFsIDogU1RBVElDID8gZ2xvYmFsW1RBUkdFVF0gOiAoZ2xvYmFsW1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcblxuICB2YXIgdGFyZ2V0ID0gR0xPQkFMID8gcGF0aCA6IHBhdGhbVEFSR0VUXSB8fCAocGF0aFtUQVJHRVRdID0ge30pO1xuICB2YXIgdGFyZ2V0UHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcblxuICB2YXIgRk9SQ0VELCBVU0VfTkFUSVZFLCBWSVJUVUFMX1BST1RPVFlQRTtcbiAgdmFyIGtleSwgc291cmNlUHJvcGVydHksIHRhcmdldFByb3BlcnR5LCBuYXRpdmVQcm9wZXJ0eSwgcmVzdWx0UHJvcGVydHksIGRlc2NyaXB0b3I7XG5cbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgRk9SQ0VEID0gaXNGb3JjZWQoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBVU0VfTkFUSVZFID0gIUZPUkNFRCAmJiBuYXRpdmVTb3VyY2UgJiYgaGFzKG5hdGl2ZVNvdXJjZSwga2V5KTtcblxuICAgIHRhcmdldFByb3BlcnR5ID0gdGFyZ2V0W2tleV07XG5cbiAgICBpZiAoVVNFX05BVElWRSkgaWYgKG9wdGlvbnMubm9UYXJnZXRHZXQpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmF0aXZlU291cmNlLCBrZXkpO1xuICAgICAgbmF0aXZlUHJvcGVydHkgPSBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfSBlbHNlIG5hdGl2ZVByb3BlcnR5ID0gbmF0aXZlU291cmNlW2tleV07XG5cbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIGltcGxlbWVudGF0aW9uXG4gICAgc291cmNlUHJvcGVydHkgPSAoVVNFX05BVElWRSAmJiBuYXRpdmVQcm9wZXJ0eSkgPyBuYXRpdmVQcm9wZXJ0eSA6IHNvdXJjZVtrZXldO1xuXG4gICAgaWYgKFVTRV9OQVRJVkUgJiYgdHlwZW9mIHRhcmdldFByb3BlcnR5ID09PSB0eXBlb2Ygc291cmNlUHJvcGVydHkpIGNvbnRpbnVlO1xuXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBpZiAob3B0aW9ucy5iaW5kICYmIFVTRV9OQVRJVkUpIHJlc3VsdFByb3BlcnR5ID0gYmluZChzb3VyY2VQcm9wZXJ0eSwgZ2xvYmFsKTtcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdzIGluIHRoaXMgdmVyc2lvblxuICAgIGVsc2UgaWYgKG9wdGlvbnMud3JhcCAmJiBVU0VfTkFUSVZFKSByZXN1bHRQcm9wZXJ0eSA9IHdyYXBDb25zdHJ1Y3Rvcihzb3VyY2VQcm9wZXJ0eSk7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgZWxzZSBpZiAoUFJPVE8gJiYgdHlwZW9mIHNvdXJjZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHJlc3VsdFByb3BlcnR5ID0gYmluZChGdW5jdGlvbi5jYWxsLCBzb3VyY2VQcm9wZXJ0eSk7XG4gICAgLy8gZGVmYXVsdCBjYXNlXG4gICAgZWxzZSByZXN1bHRQcm9wZXJ0eSA9IHNvdXJjZVByb3BlcnR5O1xuXG4gICAgLy8gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICAgIGlmIChvcHRpb25zLnNoYW0gfHwgKHNvdXJjZVByb3BlcnR5ICYmIHNvdXJjZVByb3BlcnR5LnNoYW0pIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHJlc3VsdFByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgIH1cblxuICAgIHRhcmdldFtrZXldID0gcmVzdWx0UHJvcGVydHk7XG5cbiAgICBpZiAoUFJPVE8pIHtcbiAgICAgIFZJUlRVQUxfUFJPVE9UWVBFID0gVEFSR0VUICsgJ1Byb3RvdHlwZSc7XG4gICAgICBpZiAoIWhhcyhwYXRoLCBWSVJUVUFMX1BST1RPVFlQRSkpIHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHBhdGgsIFZJUlRVQUxfUFJPVE9UWVBFLCB7fSk7XG4gICAgICB9XG4gICAgICAvLyBleHBvcnQgdmlydHVhbCBwcm90b3R5cGUgbWV0aG9kc1xuICAgICAgcGF0aFtWSVJUVUFMX1BST1RPVFlQRV1ba2V5XSA9IHNvdXJjZVByb3BlcnR5O1xuICAgICAgLy8gZXhwb3J0IHJlYWwgcHJvdG90eXBlIG1ldGhvZHNcbiAgICAgIGlmIChvcHRpb25zLnJlYWwgJiYgdGFyZ2V0UHJvdG90eXBlICYmICF0YXJnZXRQcm90b3R5cGVba2V5XSkge1xuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGFyZ2V0UHJvdG90eXBlLCBrZXksIHNvdXJjZVByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlt6Xlhbflh73mlbDpm4blkIhcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCkpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9wYXJzZUludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjcxKSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDcpKTtcblxudmFyIF9zZXRUaW1lb3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkpO1xuXG52YXIgX2lzQXJyYXkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oOTYpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjcpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaGV4VG9SZ2IgPSBleHBvcnRzLmdldFJhbmRvbUNvZGUgPSBleHBvcnRzLnRvQXJyYXkgPSBleHBvcnRzLmRlZXBDbG9uZSA9IGV4cG9ydHMuaXNGdW5jdGlvbiA9IGV4cG9ydHMuZGVib3VuY2UgPSBleHBvcnRzLnRocm90dGxlID0gZXhwb3J0cy5hcnJGb3JFYWNoID0gZXhwb3J0cy5mb3JFYWNoID0gZXhwb3J0cy5yZXBsYWNlU3BlY2lhbFN5bWJvbCA9IGV4cG9ydHMucmVwbGFjZUh0bWxTeW1ib2wgPSBleHBvcnRzLmdldFJhbmRvbSA9IGV4cG9ydHMuVUEgPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIE5hdlVBID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBOYXZVQSgpIHtcbiAgICB0aGlzLl91YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgICB2YXIgbWF0aCA9IHRoaXMuX3VhLm1hdGNoKC8oRWRnZT8pXFwvKFxcZCspLyk7XG5cbiAgICB0aGlzLmlzT2xkRWRnZSA9IG1hdGggJiYgbWF0aFsxXSA9PSAnRWRnZScgJiYgKDAsIF9wYXJzZUludDJbXCJkZWZhdWx0XCJdKShtYXRoWzJdKSA8IDE5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHRoaXMuaXNGaXJlZm94ID0gL0ZpcmVmb3hcXC9cXGQrLy50ZXN0KHRoaXMuX3VhKSAmJiAhL1NlYW1vbmtleVxcL1xcZCsvLnRlc3QodGhpcy5fdWEpID8gdHJ1ZSA6IGZhbHNlO1xuICB9IC8vIOaYr+WQpuS4uiBJRVxuXG5cbiAgTmF2VUEucHJvdG90eXBlLmlzSUUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3c7XG4gIH07IC8vIOaYr+WQpuS4uiB3ZWJraXRcblxuXG4gIE5hdlVBLnByb3RvdHlwZS5pc1dlYmtpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gL3dlYmtpdC9pLnRlc3QodGhpcy5fdWEpO1xuICB9O1xuXG4gIHJldHVybiBOYXZVQTtcbn0oKTsgLy8g5ZKMIFVBIOebuOWFs+eahOWxnuaAp1xuXG5cbmV4cG9ydHMuVUEgPSBuZXcgTmF2VUEoKTtcbi8qKlxuICog6I635Y+W6ZqP5py65a2X56ymXG4gKiBAcGFyYW0gcHJlZml4IOWJjee8gFxuICovXG5cbmZ1bmN0aW9uIGdldFJhbmRvbShwcmVmaXgpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgIHByZWZpeCA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIHByZWZpeCArICgwLCBfc2xpY2VbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSkuY2FsbChfY29udGV4dCwgMik7XG59XG5cbmV4cG9ydHMuZ2V0UmFuZG9tID0gZ2V0UmFuZG9tO1xuLyoqXG4gKiDmm7/mjaIgaHRtbCDnibnmrorlrZfnrKZcbiAqIEBwYXJhbSBodG1sIGh0bWwg5a2X56ym5LiyXG4gKi9cblxuZnVuY3Rpb24gcmVwbGFjZUh0bWxTeW1ib2woaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKC88L2dtLCAnJmx0OycpLnJlcGxhY2UoLz4vZ20sICcmZ3Q7JykucmVwbGFjZSgvXCIvZ20sICcmcXVvdDsnKS5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pL2csICc8YnIvPicpO1xufVxuXG5leHBvcnRzLnJlcGxhY2VIdG1sU3ltYm9sID0gcmVwbGFjZUh0bWxTeW1ib2w7XG5cbmZ1bmN0aW9uIHJlcGxhY2VTcGVjaWFsU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mbHQ7L2dtLCAnPCcpLnJlcGxhY2UoLyZndDsvZ20sICc+JykucmVwbGFjZSgvJnF1b3Q7L2dtLCAnXCInKTtcbn1cblxuZXhwb3J0cy5yZXBsYWNlU3BlY2lhbFN5bWJvbCA9IHJlcGxhY2VTcGVjaWFsU3ltYm9sO1xuXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZm4oa2V5LCBvYmpba2V5XSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIOaPkOWJjee7iOatouW+queOr1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5mb3JFYWNoID0gZm9yRWFjaDtcbi8qKlxuICog6YGN5Y6G57G75pWw57uEXG4gKiBAcGFyYW0gZmFrZUFyciDnsbvmlbDnu4RcbiAqIEBwYXJhbSBmbiDlm57osIPlh73mlbBcbiAqL1xuXG5mdW5jdGlvbiBhcnJGb3JFYWNoKGZha2VBcnIsIGZuKSB7XG4gIHZhciBpLCBpdGVtLCByZXN1bHQ7XG4gIHZhciBsZW5ndGggPSBmYWtlQXJyLmxlbmd0aCB8fCAwO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGl0ZW0gPSBmYWtlQXJyW2ldO1xuICAgIHJlc3VsdCA9IGZuLmNhbGwoZmFrZUFyciwgaXRlbSwgaSk7XG5cbiAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydHMuYXJyRm9yRWFjaCA9IGFyckZvckVhY2g7XG4vKipcbiAqIOiKgua1gVxuICogQHBhcmFtIGZuIOWHveaVsFxuICogQHBhcmFtIGludGVydmFsIOmXtOmalOaXtumXtO+8jOavq+enklxuICovXG5cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBpbnRlcnZhbCkge1xuICBpZiAoaW50ZXJ2YWwgPT09IHZvaWQgMCkge1xuICAgIGludGVydmFsID0gMjAwO1xuICB9XG5cbiAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuXG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICgwLCBfc2V0VGltZW91dDJbXCJkZWZhdWx0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgZm4uY2FsbC5hcHBseShmbiwgdHNsaWJfMS5fX3NwcmVhZEFycmF5KFtfdGhpc10sIGFyZ3MpKTsgLy8gdGhpcyDmiqXor63ms5XplJnor6/vvIzlhYjnlKggbnVsbFxuICAgICAgfSwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0cy50aHJvdHRsZSA9IHRocm90dGxlO1xuLyoqXG4gKiDpmLLmipZcbiAqIEBwYXJhbSBmbiDlh73mlbBcbiAqIEBwYXJhbSBkZWxheSDpl7TpmpTml7bpl7TvvIzmr6vnp5JcbiAqL1xuXG5mdW5jdGlvbiBkZWJvdW5jZShmbiwgZGVsYXkpIHtcbiAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICBkZWxheSA9IDIwMDtcbiAgfVxuXG4gIHZhciBsYXN0Rm4gPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG5cbiAgICBpZiAobGFzdEZuKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGxhc3RGbik7XG4gICAgfVxuXG4gICAgbGFzdEZuID0gKDAsIF9zZXRUaW1lb3V0MltcImRlZmF1bHRcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxhc3RGbiA9IDA7XG4gICAgICBmbi5jYWxsLmFwcGx5KGZuLCB0c2xpYl8xLl9fc3ByZWFkQXJyYXkoW190aGlzXSwgYXJncykpOyAvLyB0aGlzIOaKpeivreazlemUmeivr++8jOWFiOeUqCBudWxsXG4gICAgfSwgZGVsYXkpO1xuICB9O1xufVxuXG5leHBvcnRzLmRlYm91bmNlID0gZGVib3VuY2U7XG4vKipcbiAqIGlzRnVuY3Rpb24g5piv5ZCm5piv5Ye95pWwXG4gKiBAcGFyYW0gZm4g5Ye95pWwXG4gKi9cblxuZnVuY3Rpb24gaXNGdW5jdGlvbihmbikge1xuICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuLyoqXG4gKiDlvJXnlKjkuI7pnZ7lvJXnlKjlgLwg5rex5ou36LSd5pa55rOVXG4gKiBAcGFyYW0gZGF0YVxuICovXG5cbmZ1bmN0aW9uIGRlZXBDbG9uZShkYXRhKSB7XG4gIGlmICgoMCwgX3R5cGVvZjJbXCJkZWZhdWx0XCJdKShkYXRhKSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGRhdGEgPT0gJ2Z1bmN0aW9uJyB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgaXRlbTtcblxuICBpZiAoKDAsIF9pc0FycmF5W1wiZGVmYXVsdFwiXSkoZGF0YSkpIHtcbiAgICBpdGVtID0gW107XG4gIH1cblxuICBpZiAoISgwLCBfaXNBcnJheVtcImRlZmF1bHRcIl0pKGRhdGEpKSB7XG4gICAgaXRlbSA9IHt9O1xuICB9XG5cbiAgZm9yICh2YXIgaSBpbiBkYXRhKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBpKSkge1xuICAgICAgaXRlbVtpXSA9IGRlZXBDbG9uZShkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlbTtcbn1cblxuZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7XG4vKipcbiAqIOWwhuWPr+mBjeWOhueahOWvueixoei9rOaNouS4uuaVsOe7hFxuICogQHBhcmFtIGRhdGEg5Y+v6YGN5Y6G55qE5a+56LGhXG4gKi9cblxuZnVuY3Rpb24gdG9BcnJheShkYXRhKSB7XG4gIHJldHVybiAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoQXJyYXkucHJvdG90eXBlKS5jYWxsKGRhdGEpO1xufVxuXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuLyoqXG4gKiDllK/kuIBpZOeUn+aIkFxuICogQHBhcmFtIGxlbmd0aCDpmo/mnLrmlbDplb/luqZcbiAqL1xuXG5mdW5jdGlvbiBnZXRSYW5kb21Db2RlKCkge1xuICB2YXIgX2NvbnRleHQyO1xuXG4gIHJldHVybiAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikpLmNhbGwoX2NvbnRleHQyLCAtNSk7XG59XG5cbmV4cG9ydHMuZ2V0UmFuZG9tQ29kZSA9IGdldFJhbmRvbUNvZGU7XG4vKipcbiAqIGhleCBjb2xvciDovazmjaLmiJAgcmdiXG4gKiBAcGFyYW0gaGV4IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGhleFRvUmdiKGhleCkge1xuICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIGlmIChyZXN1bHQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb2xvcnMgPSAoMCwgX21hcFtcImRlZmF1bHRcIl0pKHJlc3VsdCkuY2FsbChyZXN1bHQsIGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuICgwLCBfcGFyc2VJbnQyW1wiZGVmYXVsdFwiXSkoaSwgMTYpO1xuICB9KTtcbiAgdmFyIHIgPSBjb2xvcnNbMV07XG4gIHZhciBnID0gY29sb3JzWzJdO1xuICB2YXIgYiA9IGNvbG9yc1szXTtcbiAgcmV0dXJuIFwicmdiKFwiICsgciArIFwiLCBcIiArIGcgKyBcIiwgXCIgKyBiICsgXCIpXCI7XG59XG5cbmV4cG9ydHMuaGV4VG9SZ2IgPSBoZXhUb1JnYjtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDluLjph49cbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkVNUFRZX1BfUkVHRVggPSBleHBvcnRzLkVNUFRZX1BfTEFTVF9SRUdFWCA9IGV4cG9ydHMuRU1QVFlfUCA9IGV4cG9ydHMudXJsUmVnZXggPSBleHBvcnRzLkVNUFRZX0ZOID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBFTVBUWV9GTigpIHt9XG5cbmV4cG9ydHMuRU1QVFlfRk4gPSBFTVBUWV9GTjsgLy/nlKjkuo7moKHpqozmmK/lkKbkuLp1cmzmoLzlvI/lrZfnrKbkuLJcblxuZXhwb3J0cy51cmxSZWdleCA9IC9eKGh0dHB8ZnRwfGh0dHBzKTpcXC9cXC9bXFx3XFwtX10rKFxcLltcXHdcXC1fXSspKyhbXFx3XFwtLixAP149JSZhbXA7Oi9+KyNdKltcXHdcXC1AP149JSZhbXA7L34rI10pPy87IC8vIOe8lui+keWZqOS4uuS6huaWueS+v+e7p+e7rei+k+WFpS/mjaLooYznrYnljp/lm6Ag5Li75Yqo55Sf5oiQ55qE56m65qCH562+XG5cbmV4cG9ydHMuRU1QVFlfUCA9ICc8cCBkYXRhLXdlLWVtcHR5LXA9XCJcIj48YnI+PC9wPic7IC8vIOeUqOS6juagoemqjGRvbeS4reacgOWQjiDnlLHnvJbovpHlmajkuLvliqjnlJ/miJDnmoTnqbrmoIfnrb7nu5PmnoRcblxuZXhwb3J0cy5FTVBUWV9QX0xBU1RfUkVHRVggPSAvPHAgZGF0YS13ZS1lbXB0eS1wPVwiXCI+PGJyXFwvPz48XFwvcD4kL2dpbTsgLy8g55So5LqO5qCh6aqMZG9t5Lit5omA5pyJIOeUsee8lui+keWZqOS4u+WKqOeUn+aIkOeahOepuuagh+etvue7k+aehFxuXG5leHBvcnRzLkVNUFRZX1BfUkVHRVggPSAvPHAgZGF0YS13ZS1lbXB0eS1wPVwiXCI+L2dpbTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHt2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICYmIGl0Lk1hdGggPT0gTWF0aCAmJiBpdDtcbn07XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5tb2R1bGUuZXhwb3J0cyA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1nbG9iYWwtdGhpcyAtLSBzYWZlXG4gIGNoZWNrKHR5cGVvZiBnbG9iYWxUaGlzID09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMpIHx8XG4gIGNoZWNrKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93KSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZikgfHxcbiAgY2hlY2sodHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYyAtLSBmYWxsYmFja1xuICAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSkoKSB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygxNTApKSlcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXMoV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSB8fCAhKE5BVElWRV9TWU1CT0wgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9PSAnc3RyaW5nJykpIHtcbiAgICBpZiAoTkFUSVZFX1NZTUJPTCAmJiBoYXMoU3ltYm9sLCBuYW1lKSkge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gU3ltYm9sW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gICAgfVxuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkuZjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTkFNRSkge1xuICB2YXIgU3ltYm9sID0gcGF0aC5TeW1ib2wgfHwgKHBhdGguU3ltYm9sID0ge30pO1xuICBpZiAoIWhhcyhTeW1ib2wsIE5BTUUpKSBkZWZpbmVQcm9wZXJ0eShTeW1ib2wsIE5BTUUsIHtcbiAgICB2YWx1ZTogd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mKE5BTUUpXG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUikge1xuICByZXR1cm4gcGF0aFtDT05TVFJVQ1RPUiArICdQcm90b3R5cGUnXTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxuLy8gRGV0ZWN0IElFOCdzIGluY29tcGxldGUgZGVmaW5lUHJvcGVydHkgaW1wbGVtZW50YXRpb25cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KVsxXSAhPSA3O1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjAzKTtcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0Lmhhc093biB8fCBmdW5jdGlvbiBoYXNPd24oaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbCh0b09iamVjdChpdCksIGtleSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyAkZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhpdCkgKyAnIGlzIG5vdCBhbiBvYmplY3QnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gIHRydWUgPyBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn1cblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5oyJ6ZKu6I+c5Y2VIENsYXNzXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMykpO1xuXG52YXIgQnRuTWVudSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoQnRuTWVudSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBCdG5NZW51KCRlbGVtLCBlZGl0b3IpIHtcbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBCdG5NZW51O1xufShNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCdG5NZW51O1xuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDkuIvmi4noj5zljZUgQ2xhc3NcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfc2V0VGltZW91dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDMpKTtcblxudmFyIERyb3BMaXN0XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCkpO1xuXG52YXIgRHJvcExpc3RNZW51ID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhEcm9wTGlzdE1lbnUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRHJvcExpc3RNZW51KCRlbGVtLCBlZGl0b3IsIGNvbmYpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzOyAvLyDlm73pmYXljJZcblxuXG4gICAgY29uZi50aXRsZSA9IGVkaXRvci5pMThuZXh0LnQoXCJtZW51cy5kcm9wTGlzdE1lbnUuXCIgKyBjb25mLnRpdGxlKTsgLy8g6Z2e5Lit5paH5qih5byP5LiLIOW4piBpY29uIOeahOS4i+aLieWIl+ihqOWxheW3plxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IGVkaXRvci5jb25maWcubGFuZyA9PT0gJ3poLUNOJyA/ICcnIDogJ3ctZS1kcm9wLWxpc3QtdGwnO1xuXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gJycgJiYgY29uZi50eXBlID09PSAnbGlzdCcpIHtcbiAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSBjb25mLmxpc3QpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciAkZWxlbSA9IGl0ZW0uJGVsZW07XG4gICAgICAgIHZhciAkY2hpbGRyZW4gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkZWxlbS5jaGlsZHJlbigpKTtcblxuICAgICAgICBpZiAoJGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSAkY2hpbGRyZW4gPT09IG51bGwgfHwgJGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkY2hpbGRyZW4uZ2V0Tm9kZU5hbWUoKTtcblxuICAgICAgICAgIGlmIChub2RlTmFtZSAmJiBub2RlTmFtZSA9PT0gJ0knKSB7XG4gICAgICAgICAgICAkZWxlbS5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSAvLyDliJ3lp4vljJYgZHJvcExpc3RcblxuXG4gICAgdmFyIGRyb3BMaXN0ID0gbmV3IERyb3BMaXN0XzFbXCJkZWZhdWx0XCJdKF90aGlzLCBjb25mKTtcbiAgICBfdGhpcy5kcm9wTGlzdCA9IGRyb3BMaXN0OyAvLyDnu5Hlrprkuovku7ZcblxuICAgICRlbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRlbGVtLmNzcygnei1pbmRleCcsIGVkaXRvci56SW5kZXguZ2V0KCdtZW51JykpOyAvLyDop6blj5EgZHJvcGxpc3Qg5oKs5rWu5LqL5Lu2XG5cbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0MiA9IGVkaXRvci50eHQuZXZlbnRIb29rcy5kcm9wTGlzdE1lbnVIb3ZlckV2ZW50cykuY2FsbChfY29udGV4dDIsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0pOyAvLyDmmL7npLpcblxuICAgICAgZHJvcExpc3Quc2hvdygpO1xuICAgIH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgJGVsZW0uY3NzKCd6LWluZGV4JywgJ2F1dG8nKTsgLy8g6ZqQ6JePXG5cbiAgICAgIGRyb3BMaXN0LmhpZGVUaW1lb3V0SWQgPSAoMCwgX3NldFRpbWVvdXQyW1wiZGVmYXVsdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICBkcm9wTGlzdC5oaWRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gRHJvcExpc3RNZW51O1xufShNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wTGlzdE1lbnU7XG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgYUZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhcmlhYmxlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFyaWFibGUgPT0gJ2Z1bmN0aW9uJyA/IHZhcmlhYmxlIDogdW5kZWZpbmVkO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZXNwYWNlLCBtZXRob2QpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gYUZ1bmN0aW9uKHBhdGhbbmFtZXNwYWNlXSkgfHwgYUZ1bmN0aW9uKGdsb2JhbFtuYW1lc3BhY2VdKVxuICAgIDogcGF0aFtuYW1lc3BhY2VdICYmIHBhdGhbbmFtZXNwYWNlXVttZXRob2RdIHx8IGdsb2JhbFtuYW1lc3BhY2VdICYmIGdsb2JhbFtuYW1lc3BhY2VdW21ldGhvZF07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblxuLy8gYFRvT2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9vYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTkpO1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTIpO1xuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEluZGV4ZWRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShpdCkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNTeW1ib2woYXJndW1lbnQpKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nJyk7XG4gIHJldHVybiBTdHJpbmcoYXJndW1lbnQpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG52YXIgSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcblxudmFyIHB1c2ggPSBbXS5wdXNoO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgZm9yRWFjaCwgbWFwLCBmaWx0ZXIsIHNvbWUsIGV2ZXJ5LCBmaW5kLCBmaW5kSW5kZXgsIGZpbHRlclJlamVjdCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBJU19GSUxURVJfUkVKRUNUID0gVFlQRSA9PSA3O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgY2FsbGJhY2tmbiwgdGhhdCwgc3BlY2lmaWNDcmVhdGUpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrZm4sIHRoYXQsIDMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChzZWxmLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlO1xuICAgIHZhciB0YXJnZXQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgfHwgSVNfRklMVEVSX1JFSkVDVCA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHZhbHVlLCByZXN1bHQ7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKSB7XG4gICAgICB2YWx1ZSA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuICAgICAgaWYgKFRZUEUpIHtcbiAgICAgICAgaWYgKElTX01BUCkgdGFyZ2V0W2luZGV4XSA9IHJlc3VsdDsgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCkgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgIC8vIHNvbWVcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWx1ZTsgICAgICAgICAgICAgLy8gZmluZFxuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHB1c2guY2FsbCh0YXJnZXQsIHZhbHVlKTsgLy8gZmlsdGVyXG4gICAgICAgIH0gZWxzZSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBmYWxzZTsgICAgICAgICAgICAgLy8gZXZlcnlcbiAgICAgICAgICBjYXNlIDc6IHB1c2guY2FsbCh0YXJnZXQsIHZhbHVlKTsgLy8gZmlsdGVyUmVqZWN0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHRhcmdldDtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mb3JlYWNoXG4gIGZvckVhY2g6IGNyZWF0ZU1ldGhvZCgwKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5tYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgbWFwOiBjcmVhdGVNZXRob2QoMSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gIGZpbHRlcjogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb21lXG4gIHNvbWU6IGNyZWF0ZU1ldGhvZCgzKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5ldmVyeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4gIGV2ZXJ5OiBjcmVhdGVNZXRob2QoNCksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiAgZmluZDogY3JlYXRlTWV0aG9kKDUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFxuICBmaW5kSW5kZXg6IGNyZWF0ZU1ldGhvZCg2KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJSZWplY3RgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hcnJheS1maWx0ZXJpbmdcbiAgZmlsdGVyUmVqZWN0OiBjcmVhdGVNZXRob2QoNylcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjk4KTtcblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gcGFuZWwgY2xhc3NcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMikpO1xuXG52YXIgX3NldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFuZWwobWVudSwgY29uZikge1xuICAgIHRoaXMubWVudSA9IG1lbnU7XG4gICAgdGhpcy5jb25mID0gY29uZjtcbiAgICB0aGlzLiRjb250YWluZXIgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdiBjbGFzcz1cInctZS1wYW5lbC1jb250YWluZXJcIj48L2Rpdj4nKTsgLy8g6ZqQ6JePIHBhbmVsXG5cbiAgICB2YXIgZWRpdG9yID0gbWVudS5lZGl0b3I7XG4gICAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmNsaWNrRXZlbnRzLnB1c2goUGFuZWwuaGlkZUN1ckFsbFBhbmVscyk7XG4gICAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRvb2xiYXJDbGlja0V2ZW50cy5wdXNoKFBhbmVsLmhpZGVDdXJBbGxQYW5lbHMpO1xuICAgIGVkaXRvci50eHQuZXZlbnRIb29rcy5kcm9wTGlzdE1lbnVIb3ZlckV2ZW50cy5wdXNoKFBhbmVsLmhpZGVDdXJBbGxQYW5lbHMpO1xuICB9XG4gIC8qKlxuICAgKiDliJvlu7rlubblsZXnpLogcGFuZWxcbiAgICovXG5cblxuICBQYW5lbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgbWVudSA9IHRoaXMubWVudTtcblxuICAgIGlmIChQYW5lbC5jcmVhdGVkTWVudXMuaGFzKG1lbnUpKSB7XG4gICAgICAvLyDliJvlu7rov4fkuoZcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29uZiA9IHRoaXMuY29uZjsgLy8gcGFuZWwg55qE5a655ZmoXG5cbiAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lcjtcbiAgICB2YXIgd2lkdGggPSBjb25mLndpZHRoIHx8IDMwMDsgLy8g6buY6K6kIDMwMHB4XG5cbiAgICB2YXIgcmVjdCA9IG1lbnUuZWRpdG9yLiR0b29sYmFyRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgbWVudVJlY3QgPSBtZW51LiRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciB0b3AgPSByZWN0LmhlaWdodCArIHJlY3QudG9wIC0gbWVudVJlY3QudG9wO1xuICAgIHZhciBsZWZ0ID0gKHJlY3Qud2lkdGggLSB3aWR0aCkgLyAyICsgcmVjdC5sZWZ0IC0gbWVudVJlY3QubGVmdDtcbiAgICB2YXIgb2Zmc2V0ID0gMzAwOyAvLyBpY29u5LiOcGFuZWzoj5zljZXot53nprvlgY/np7vph4/mmoLlrpogMzAwXG5cbiAgICBpZiAoTWF0aC5hYnMobGVmdCkgPiBvZmZzZXQpIHtcbiAgICAgIC8vIHBhbmVs6I+c5Y2V56a75bel5YW35qCPaWNvbui/h+i/nOaXtu+8jOiuqXBhbmVs6I+c5Y2V5Ye6546w5ZyoaWNvbuato+S4i+aWue+8jOWkhOeQhui+ueeVjOmAu+i+kVxuICAgICAgaWYgKG1lbnVSZWN0LmxlZnQgPCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLyAyKSB7XG4gICAgICAgIC8vIGljb27lnKjlt6bkvqdcbiAgICAgICAgbGVmdCA9IC1tZW51UmVjdC53aWR0aCAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpY29u5Zyo5Y+z5L6nXG4gICAgICAgIGxlZnQgPSAtd2lkdGggKyBtZW51UmVjdC53aWR0aCAvIDI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJGNvbnRhaW5lci5jc3MoJ3dpZHRoJywgd2lkdGggKyAncHgnKS5jc3MoJ21hcmdpbi10b3AnLCB0b3AgKyBcInB4XCIpLmNzcygnbWFyZ2luLWxlZnQnLCBsZWZ0ICsgXCJweFwiKS5jc3MoJ3otaW5kZXgnLCBtZW51LmVkaXRvci56SW5kZXguZ2V0KCdwYW5lbCcpKTsgLy8g5re75Yqg5YWz6Zet5oyJ6ZKuXG5cbiAgICB2YXIgJGNsb3NlQnRuID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxpIGNsYXNzPVwidy1lLWljb24tY2xvc2Ugdy1lLXBhbmVsLWNsb3NlXCI+PC9pPicpO1xuICAgICRjb250YWluZXIuYXBwZW5kKCRjbG9zZUJ0bik7XG4gICAgJGNsb3NlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlbW92ZSgpO1xuICAgIH0pOyAvLyDlh4blpIcgdGFicyDlrrnlmahcblxuICAgIHZhciAkdGFiVGl0bGVDb250YWluZXIgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHVsIGNsYXNzPVwidy1lLXBhbmVsLXRhYi10aXRsZVwiPjwvdWw+Jyk7XG4gICAgdmFyICR0YWJDb250ZW50Q29udGFpbmVyID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXYgY2xhc3M9XCJ3LWUtcGFuZWwtdGFiLWNvbnRlbnRcIj48L2Rpdj4nKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZCgkdGFiVGl0bGVDb250YWluZXIpLmFwcGVuZCgkdGFiQ29udGVudENvbnRhaW5lcik7IC8vIOiuvue9rumrmOW6plxuXG4gICAgdmFyIGhlaWdodCA9IGNvbmYuaGVpZ2h0OyAvLyBoZWlnaHQ6IDAg5Y2z5LiN55So6K6+572uXG5cbiAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAkdGFiQ29udGVudENvbnRhaW5lci5jc3MoJ2hlaWdodCcsIGhlaWdodCArICdweCcpLmNzcygnb3ZlcmZsb3cteScsICdhdXRvJyk7XG4gICAgfSAvLyB0YWJzXG5cblxuICAgIHZhciB0YWJzID0gY29uZi50YWJzIHx8IFtdO1xuICAgIHZhciB0YWJUaXRsZUFyciA9IFtdO1xuICAgIHZhciB0YWJDb250ZW50QXJyID0gW107XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodGFicykuY2FsbCh0YWJzLCBmdW5jdGlvbiAodGFiLCB0YWJJbmRleCkge1xuICAgICAgaWYgKCF0YWIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGl0bGUgPSB0YWIudGl0bGUgfHwgJyc7XG4gICAgICB2YXIgdHBsID0gdGFiLnRwbCB8fCAnJzsgLy8g5re75Yqg5YiwIERPTVxuXG4gICAgICB2YXIgJHRpdGxlID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8bGkgY2xhc3M9XFxcInctZS1pdGVtXFxcIj5cIiArIHRpdGxlICsgXCI8L2xpPlwiKTtcbiAgICAgICR0YWJUaXRsZUNvbnRhaW5lci5hcHBlbmQoJHRpdGxlKTtcbiAgICAgIHZhciAkY29udGVudCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRwbCk7XG4gICAgICAkdGFiQ29udGVudENvbnRhaW5lci5hcHBlbmQoJGNvbnRlbnQpOyAvLyDorrDlvZXliLDlhoXlrZhcblxuICAgICAgdGFiVGl0bGVBcnIucHVzaCgkdGl0bGUpO1xuICAgICAgdGFiQ29udGVudEFyci5wdXNoKCRjb250ZW50KTsgLy8g6K6+572uIGFjdGl2ZSDpoblcblxuICAgICAgaWYgKHRhYkluZGV4ID09PSAwKSB7XG4gICAgICAgICR0aXRsZS5kYXRhKCdhY3RpdmUnLCB0cnVlKTtcbiAgICAgICAgJHRpdGxlLmFkZENsYXNzKCd3LWUtYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkY29udGVudC5oaWRlKCk7XG4gICAgICB9IC8vIOe7keWumiB0YWIg55qE5LqL5Lu2XG5cblxuICAgICAgJHRpdGxlLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCR0aXRsZS5kYXRhKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyDpmpDol4/miYDmnInnmoQgdGFiXG5cblxuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh0YWJUaXRsZUFycikuY2FsbCh0YWJUaXRsZUFyciwgZnVuY3Rpb24gKCR0aXRsZSkge1xuICAgICAgICAgICR0aXRsZS5kYXRhKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgJHRpdGxlLnJlbW92ZUNsYXNzKCd3LWUtYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh0YWJDb250ZW50QXJyKS5jYWxsKHRhYkNvbnRlbnRBcnIsIGZ1bmN0aW9uICgkY29udGVudCkge1xuICAgICAgICAgICRjb250ZW50LmhpZGUoKTtcbiAgICAgICAgfSk7IC8vIOaYvuekuuW9k+WJjeeahCB0YWJcblxuICAgICAgICAkdGl0bGUuZGF0YSgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgICR0aXRsZS5hZGRDbGFzcygndy1lLWFjdGl2ZScpO1xuICAgICAgICAkY29udGVudC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8g57uR5a6a5YWz6Zet5LqL5Lu2XG5cbiAgICAkY29udGFpbmVyLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyDngrnlh7vml7bpmLvmraLlhpLms6FcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7IC8vIOa3u+WKoOWIsCBET01cblxuICAgIG1lbnUuJGVsZW0uYXBwZW5kKCRjb250YWluZXIpOyAvLyDnu5HlrpogY29uZiBldmVudHMg55qE5LqL5Lu277yM5Y+q5pyJ5re75Yqg5YiwIERPTSDkuYvlkI7miY3og73nu5HlrprmiJDlip9cblxuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHRhYnMpLmNhbGwodGFicywgZnVuY3Rpb24gKHRhYiwgaW5kZXgpIHtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGV2ZW50cyA9IHRhYi5ldmVudHMgfHwgW107XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShldmVudHMpLmNhbGwoZXZlbnRzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuXG4gICAgICAgIHZhciBzZWxlY3RvciA9IGV2ZW50LnNlbGVjdG9yO1xuICAgICAgICB2YXIgdHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHZhciBmbiA9IGV2ZW50LmZuIHx8IGNvbnN0XzEuRU1QVFlfRk47XG4gICAgICAgIHZhciAkY29udGVudCA9IHRhYkNvbnRlbnRBcnJbaW5kZXhdO1xuICAgICAgICB2YXIgYmluZEVudGVyID0gKF9hID0gZXZlbnQuYmluZEVudGVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcblxuICAgICAgICB2YXIgZG9uZUZuID0gZnVuY3Rpb24gZG9uZUZuKGUpIHtcbiAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmVlZFRvSGlkZTtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbNFxuICAgICAgICAgICAgICAgICAgLyp5aWVsZCovXG4gICAgICAgICAgICAgICAgICAsIGZuKGUpIC8vIOaJp+ihjOWujOS6i+S7tuS5i+WQju+8jOaYr+WQpuimgeWFs+mXrSBwYW5lbFxuICAgICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgIG5lZWRUb0hpZGUgPSBfYS5zZW50KCk7IC8vIOaJp+ihjOWujOS6i+S7tuS5i+WQju+8jOaYr+WQpuimgeWFs+mXrSBwYW5lbFxuXG4gICAgICAgICAgICAgICAgICBpZiAobmVlZFRvSGlkZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gWzJcbiAgICAgICAgICAgICAgICAgIC8qcmV0dXJuKi9cbiAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9OyAvLyDnu5nmjInpkq7nu5Hlrprnm7jlupTnmoTkuovku7ZcblxuXG4gICAgICAgICgwLCBfZmluZFtcImRlZmF1bHRcIl0pKCRjb250ZW50KS5jYWxsKCRjb250ZW50LCBzZWxlY3Rvcikub24odHlwZSwgZG9uZUZuKTsgLy8g57uR5a6aZW50ZXLplK7lhaXkuovku7ZcblxuICAgICAgICBpZiAoYmluZEVudGVyICYmIHR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAkY29udGVudC5vbigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICBkb25lRm4oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvLyBmb2N1cyDnrKzkuIDkuKogZWxlbVxuXG4gICAgdmFyICRpbnB1dHMgPSAoMCwgX2ZpbmRbXCJkZWZhdWx0XCJdKSgkY29udGFpbmVyKS5jYWxsKCRjb250YWluZXIsICdpbnB1dFt0eXBlPXRleHRdLHRleHRhcmVhJyk7XG5cbiAgICBpZiAoJGlucHV0cy5sZW5ndGgpIHtcbiAgICAgICRpbnB1dHMuZ2V0KDApLmZvY3VzKCk7XG4gICAgfSAvLyDpmpDol4/lhbbku5YgcGFuZWxcblxuXG4gICAgUGFuZWwuaGlkZUN1ckFsbFBhbmVscygpOyAvLyDorrDlvZXor6UgbWVudSDlt7Lnu4/liJvlu7rkuoYgcGFuZWxcblxuICAgIG1lbnUuc2V0UGFuZWwodGhpcyk7XG4gICAgUGFuZWwuY3JlYXRlZE1lbnVzLmFkZChtZW51KTtcbiAgfTtcbiAgLyoqXG4gICAqIOenu+mZpCBwZW5hbFxuICAgKi9cblxuXG4gIFBhbmVsLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1lbnUgPSB0aGlzLm1lbnU7XG4gICAgdmFyICRjb250YWluZXIgPSB0aGlzLiRjb250YWluZXI7XG5cbiAgICBpZiAoJGNvbnRhaW5lcikge1xuICAgICAgJGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9IC8vIOWwhuivpSBtZW51IOiusOW9leS4reenu+mZpFxuXG5cbiAgICBQYW5lbC5jcmVhdGVkTWVudXNbXCJkZWxldGVcIl0obWVudSk7XG4gIH07XG4gIC8qKlxuICAgKiDpmpDol4/lvZPliY3miYDmnInnmoQgcGFuZWxcbiAgICovXG5cblxuICBQYW5lbC5oaWRlQ3VyQWxsUGFuZWxzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfY29udGV4dDtcblxuICAgIGlmIChQYW5lbC5jcmVhdGVkTWVudXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gUGFuZWwuY3JlYXRlZE1lbnVzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAobWVudSkge1xuICAgICAgdmFyIHBhbmVsID0gbWVudS5wYW5lbDtcbiAgICAgIHBhbmVsICYmIHBhbmVsLnJlbW92ZSgpO1xuICAgIH0pO1xuICB9OyAvLyDorrDlvZXlt7Lnu4/liJvlu7rov4fnmoQgcGFuZWxNZW51XG5cblxuICBQYW5lbC5jcmVhdGVkTWVudXMgPSBuZXcgX3NldFtcImRlZmF1bHRcIl0oKTtcbiAgcmV0dXJuIFBhbmVsO1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBhbmVsO1xuXG4vKioqLyB9KSxcbi8qIDM0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IFR5cGVFcnJvcihTdHJpbmcoaXQpICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9IHJldHVybiBpdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gYFRvTGVuZ3RoYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9sZW5ndGhcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBhcmd1bWVudCA+IDAgPyBtaW4odG9JbnRlZ2VyKGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIE1vZGFsIOiPnOWNlSBDbGFzc1xuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDMpKTtcblxudmFyIFBhbmVsTWVudSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoUGFuZWxNZW51LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFBhbmVsTWVudSgkZWxlbSwgZWRpdG9yKSB7XG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpIHx8IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOe7mSBtZW51IOiuvue9riBwYW5lbFxuICAgKiBAcGFyYW0gcGFuZWwgcGFuZWwg5a6e5L6LXG4gICAqL1xuXG5cbiAgUGFuZWxNZW51LnByb3RvdHlwZS5zZXRQYW5lbCA9IGZ1bmN0aW9uIChwYW5lbCkge1xuICAgIHRoaXMucGFuZWwgPSBwYW5lbDtcbiAgfTtcblxuICByZXR1cm4gUGFuZWxNZW51O1xufShNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQYW5lbE1lbnU7XG5cbi8qKiovIH0pLFxuLyogMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRvb2x0aXAgY2xhc3NcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfYmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBUb29sdGlwID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUb29sdGlwKGVkaXRvciwgJGVsZW0sIGNvbmYpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLiR0YXJnZXRFbGVtID0gJGVsZW07XG4gICAgdGhpcy5jb25mID0gY29uZjtcbiAgICB0aGlzLl9zaG93ID0gZmFsc2U7XG4gICAgdGhpcy5faXNJbnNlcnRUZXh0Q29udGFpbmVyID0gZmFsc2U7IC8vIOWumuS5iSBjb250YWluZXJcblxuICAgIHZhciAkY29udGFpbmVyID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXY+PC9kaXY+Jyk7XG4gICAgJGNvbnRhaW5lci5hZGRDbGFzcygndy1lLXRvb2x0aXAnKTtcbiAgICB0aGlzLiRjb250YWluZXIgPSAkY29udGFpbmVyO1xuICB9XG4gIC8qKlxuICAgKiDojrflj5YgdG9vbHRpcCDlrprkvY1cbiAgICovXG5cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbkRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRjb250YWluZXIgPSB0aGlzLiRjb250YWluZXI7XG4gICAgdmFyIHRvcCA9IDA7XG4gICAgdmFyIGxlZnQgPSAwOyAvLyB0b29sdGlwIOeahOmrmOW6plxuXG4gICAgdmFyIHRvb2x0aXBIZWlnaHQgPSAyMDsgLy8g572R6aG155qEIHNjcm9sbFRvcFxuXG4gICAgdmFyIHBhZ2VTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOyAvLyDnm67moIflhYPntKDnmoQgcmVjdFxuXG4gICAgdmFyIHRhcmdldEVsZW1SZWN0ID0gdGhpcy4kdGFyZ2V0RWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8g57yW6L6R5Yy65Z+f55qEIHJlY3RcblxuICAgIHZhciB0ZXh0RWxlbVJlY3QgPSB0aGlzLmVkaXRvci4kdGV4dEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIOiOt+WPluWfuuS6jiB0ZXh0Q29udGFpbmVyRWxlbSDnmoQg5L2N572u5L+h5oGvXG5cbiAgICB2YXIgdGFyZ2V0T2Zmc2V0ID0gdGhpcy4kdGFyZ2V0RWxlbS5nZXRPZmZzZXREYXRhKCk7XG4gICAgdmFyIHRhcmdldFBhcmVudEVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0YXJnZXRPZmZzZXQucGFyZW50KTsgLy8g6I635Y+WIOe8lui+keWMuuWfn+eahOa7muWKqOadoeS/oeaBr1xuXG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5lbGVtc1swXS5zY3JvbGxUb3A7IC8vIOaYr+WQpuaPkuWFpSB0ZXh0Q29udGFpbmVyIOS4rVxuXG4gICAgdGhpcy5faXNJbnNlcnRUZXh0Q29udGFpbmVyID0gdGFyZ2V0UGFyZW50RWxlbS5lcXVhbCh0aGlzLmVkaXRvci4kdGV4dENvbnRhaW5lckVsZW0pO1xuXG4gICAgaWYgKHRoaXMuX2lzSW5zZXJ0VGV4dENvbnRhaW5lcikge1xuICAgICAgLy8g54i25a655Zmo55qE6auY5bqmXG4gICAgICB2YXIgdGFyZ2V0UGFyZW50RWxlbUhlaWdodCA9IHRhcmdldFBhcmVudEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0OyAvLyDnm7jlr7nkuo7niLblrrnlmajnmoTkvY3nva7kv6Hmga9cblxuICAgICAgdmFyIG9mZnNldFRvcCA9IHRhcmdldE9mZnNldC50b3AsXG4gICAgICAgICAgb2Zmc2V0TGVmdCA9IHRhcmdldE9mZnNldC5sZWZ0LFxuICAgICAgICAgIG9mZnNldEhlaWdodCA9IHRhcmdldE9mZnNldC5oZWlnaHQ7IC8vIOWFg+e0oOWfuuS6jueItuWuueWZqOeahCDnu53lr7l0b3Dkv6Hmga9cblxuICAgICAgdmFyIGFic29sdXRlVG9wID0gb2Zmc2V0VG9wIC0gc2Nyb2xsVG9wO1xuXG4gICAgICBpZiAoYWJzb2x1dGVUb3AgPiB0b29sdGlwSGVpZ2h0ICsgNSkge1xuICAgICAgICAvLyDor7TmmI7mqKHmnb/lhYPntKDnmoTpobbpg6jnqbrpl7TotrPlpJ9cbiAgICAgICAgdG9wID0gYWJzb2x1dGVUb3AgLSB0b29sdGlwSGVpZ2h0IC0gMTU7XG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoJ3ctZS10b29sdGlwLXVwJyk7XG4gICAgICB9IGVsc2UgaWYgKGFic29sdXRlVG9wICsgb2Zmc2V0SGVpZ2h0ICsgdG9vbHRpcEhlaWdodCA8IHRhcmdldFBhcmVudEVsZW1IZWlnaHQpIHtcbiAgICAgICAgLy8g6K+05piO5qih5p2/5YWD57Sg55qE5bqV6YOo56m66Ze06Laz5aSfXG4gICAgICAgIHRvcCA9IGFic29sdXRlVG9wICsgb2Zmc2V0SGVpZ2h0ICsgMTA7XG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoJ3ctZS10b29sdGlwLWRvd24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWFtuS7luaDheWGte+8jHRvb2x0aXAg5pS+5Zyo55uu5qCH5YWD57Sg5bem5LiK6KeSXG4gICAgICAgIHRvcCA9IChhYnNvbHV0ZVRvcCA+IDAgPyBhYnNvbHV0ZVRvcCA6IDApICsgdG9vbHRpcEhlaWdodCArIDEwO1xuICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKCd3LWUtdG9vbHRpcC1kb3duJyk7XG4gICAgICB9IC8vIOiuoeeulyBsZWZ0XG5cblxuICAgICAgaWYgKG9mZnNldExlZnQgPCAwKSB7XG4gICAgICAgIGxlZnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVmdCA9IG9mZnNldExlZnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0YXJnZXRFbGVtUmVjdC50b3AgPCB0b29sdGlwSGVpZ2h0KSB7XG4gICAgICAgIC8vIOivtOaYjuebruagh+WFg+e0oOeahOmhtumDqO+8jOWboOa7keWKqOmakOiXj+WcqOa1j+iniOWZqOS4iuaWueOAgnRvb2x0aXAg6KaB5pS+5Zyo55uu5qCH5YWD57Sg5LiL6Z2iXG4gICAgICAgIHRvcCA9IHRhcmdldEVsZW1SZWN0LmJvdHRvbSArIHBhZ2VTY3JvbGxUb3AgKyA1OyAvLyA1cHgg6Ze06LedXG5cbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcygndy1lLXRvb2x0aXAtZG93bicpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXRFbGVtUmVjdC50b3AgLSB0ZXh0RWxlbVJlY3QudG9wIDwgdG9vbHRpcEhlaWdodCkge1xuICAgICAgICAvLyDor7TmmI7nm67moIflhYPntKDnmoTpobbpg6jvvIzlm6Dmu5HliqjpmpDol4/lnKjnvJbovpHljLrln5/kuIrmlrnjgIJ0b29sdGlwIOimgeaUvuWcqOebruagh+WFg+e0oOS4i+mdolxuICAgICAgICB0b3AgPSB0YXJnZXRFbGVtUmVjdC5ib3R0b20gKyBwYWdlU2Nyb2xsVG9wICsgNTsgLy8gNXB4IOmXtOi3nVxuXG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoJ3ctZS10b29sdGlwLWRvd24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWFtuS7luaDheWGte+8jHRvb2x0aXAg5pS+5Zyo55uu5qCH5YWD57Sg5LiK5pa5XG4gICAgICAgIHRvcCA9IHRhcmdldEVsZW1SZWN0LnRvcCArIHBhZ2VTY3JvbGxUb3AgLSB0b29sdGlwSGVpZ2h0IC0gMTU7IC8vIOWHj+WOuyB0b29sYmFyIOeahOmrmOW6pu+8jOi/mOaciSAxNXB4IOmXtOi3nVxuXG4gICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoJ3ctZS10b29sdGlwLXVwJyk7XG4gICAgICB9IC8vIOiuoeeulyBsZWZ0XG5cblxuICAgICAgaWYgKHRhcmdldEVsZW1SZWN0LmxlZnQgPCAwKSB7XG4gICAgICAgIGxlZnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVmdCA9IHRhcmdldEVsZW1SZWN0LmxlZnQ7XG4gICAgICB9XG4gICAgfSAvLyDov5Tlm57nu5PmnpxcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogdG9wLFxuICAgICAgbGVmdDogbGVmdFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiDmt7vliqAgdG9vbHRpcCDoj5zljZVcbiAgICovXG5cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcHBlbmRNZW51cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNvbmYgPSB0aGlzLmNvbmY7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdGFyZ2V0RWxlbSA9IHRoaXMuJHRhcmdldEVsZW07XG4gICAgdmFyICRjb250YWluZXIgPSB0aGlzLiRjb250YWluZXI7XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoY29uZikuY2FsbChjb25mLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIC8vIOa3u+WKoOWFg+e0oFxuICAgICAgdmFyICRlbGVtID0gaXRlbS4kZWxlbTtcbiAgICAgIHZhciAkd3JhcHBlciA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ3ctZS10b29sdGlwLWl0ZW0td3JhcHBlciAnKTtcbiAgICAgICR3cmFwcGVyLmFwcGVuZCgkZWxlbSk7XG4gICAgICAkY29udGFpbmVyLmFwcGVuZCgkd3JhcHBlcik7IC8vIOe7keWumueCueWHu+S6i+S7tlxuXG4gICAgICAkZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciByZXMgPSBpdGVtLm9uQ2xpY2soZWRpdG9yLCAkdGFyZ2V0RWxlbSk7XG4gICAgICAgIGlmIChyZXMpIF90aGlzLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogdG9vbHRpcFxuICAgKi9cblxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MjtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lcjsgLy8g55Sf5oiQIGNvbnRhaW5lciDnmoTlhoXlrrlcblxuICAgIHRoaXMuYXBwZW5kTWVudXMoKTsgLy8g6K6+572u5a6a5L2NXG5cbiAgICB2YXIgX2EgPSB0aGlzLmdldFBvc2l0aW9uRGF0YSgpLFxuICAgICAgICB0b3AgPSBfYS50b3AsXG4gICAgICAgIGxlZnQgPSBfYS5sZWZ0O1xuXG4gICAgJGNvbnRhaW5lci5jc3MoJ3RvcCcsIHRvcCArIFwicHhcIik7XG4gICAgJGNvbnRhaW5lci5jc3MoJ2xlZnQnLCBsZWZ0ICsgXCJweFwiKTsgLy8g6K6+572uIHotaW5kZXhcblxuICAgICRjb250YWluZXIuY3NzKCd6LWluZGV4JywgZWRpdG9yLnpJbmRleC5nZXQoJ3Rvb2x0aXAnKSk7IC8vIOa3u+WKoOWIsCBET01cblxuICAgIGlmICh0aGlzLl9pc0luc2VydFRleHRDb250YWluZXIpIHtcbiAgICAgIHRoaXMuZWRpdG9yLiR0ZXh0Q29udGFpbmVyRWxlbS5hcHBlbmQoJGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCdib2R5JykuYXBwZW5kKCRjb250YWluZXIpO1xuICAgIH1cblxuICAgIHRoaXMuX3Nob3cgPSB0cnVlO1xuICAgIGVkaXRvci5iZWZvcmVEZXN0cm95KCgwLCBfYmluZFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gdGhpcy5yZW1vdmUpLmNhbGwoX2NvbnRleHQsIHRoaXMpKTtcbiAgICBlZGl0b3IudHh0LmV2ZW50SG9va3Mub25CbHVyRXZlbnRzLnB1c2goKDAsIF9iaW5kW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gdGhpcy5yZW1vdmUpLmNhbGwoX2NvbnRleHQyLCB0aGlzKSk7XG4gIH07XG4gIC8qKlxuICAgKiDnp7vpmaTor6UgdG9vbHRpcFxuICAgKi9cblxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5fc2hvdyA9IGZhbHNlO1xuICB9O1xuXG4gICgwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShUb29sdGlwLnByb3RvdHlwZSwgXCJpc1Nob3dcIiwge1xuICAgIC8qKlxuICAgICAqIOaYr+WQpuaYvuekulxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3c7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBUb29sdGlwO1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRvb2x0aXA7XG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0KTtcbiAgICB9O1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcbnZhciB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcbnZhciBpdGVyYXRvckNsb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXG52YXIgUmVzdWx0ID0gZnVuY3Rpb24gKHN0b3BwZWQsIHJlc3VsdCkge1xuICB0aGlzLnN0b3BwZWQgPSBzdG9wcGVkO1xuICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgdmFyIEFTX0VOVFJJRVMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuQVNfRU5UUklFUyk7XG4gIHZhciBJU19JVEVSQVRPUiA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JU19JVEVSQVRPUik7XG4gIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gIHZhciBmbiA9IGJpbmQodW5ib3VuZEZ1bmN0aW9uLCB0aGF0LCAxICsgQVNfRU5UUklFUyArIElOVEVSUlVQVEVEKTtcbiAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICBpZiAoaXRlcmF0b3IpIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpO1xuICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gIH07XG5cbiAgdmFyIGNhbGxGbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICBhbk9iamVjdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gSU5URVJSVVBURUQgPyBmbih2YWx1ZVswXSwgdmFsdWVbMV0sIHN0b3ApIDogZm4odmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICB9IHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlLCBzdG9wKSA6IGZuKHZhbHVlKTtcbiAgfTtcblxuICBpZiAoSVNfSVRFUkFUT1IpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhYmxlO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJGbiA9IGdldEl0ZXJhdG9yTWV0aG9kKGl0ZXJhYmxlKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoJ1RhcmdldCBpcyBub3QgaXRlcmFibGUnKTtcbiAgICAvLyBvcHRpbWlzYXRpb24gZm9yIGFycmF5IGl0ZXJhdG9yc1xuICAgIGlmIChpc0FycmF5SXRlcmF0b3JNZXRob2QoaXRlckZuKSkge1xuICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGNhbGxGbihpdGVyYWJsZVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIFJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xuICAgIH1cbiAgICBpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTtcbiAgfVxuXG4gIG5leHQgPSBpdGVyYXRvci5uZXh0O1xuICB3aGlsZSAoIShzdGVwID0gbmV4dC5jYWxsKGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBjYWxsRm4oc3RlcC52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdvYmplY3QnICYmIHJlc3VsdCAmJiByZXN1bHQgaW5zdGFuY2VvZiBSZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgTkFUSVZFX1dFQUtfTUFQID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBvYmplY3RIYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcbnZhciBoaWRkZW5LZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cbnZhciBPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCA9ICdPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCc7XG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xudmFyIHNldCwgZ2V0LCBoYXM7XG5cbnZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldChpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdChpdCkgfHwgKHN0YXRlID0gZ2V0KGl0KSkudHlwZSAhPT0gVFlQRSkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgIH0gcmV0dXJuIHN0YXRlO1xuICB9O1xufTtcblxuaWYgKE5BVElWRV9XRUFLX01BUCB8fCBzaGFyZWQuc3RhdGUpIHtcbiAgdmFyIHN0b3JlID0gc2hhcmVkLnN0YXRlIHx8IChzaGFyZWQuc3RhdGUgPSBuZXcgV2Vha01hcCgpKTtcbiAgdmFyIHdtZ2V0ID0gc3RvcmUuZ2V0O1xuICB2YXIgd21oYXMgPSBzdG9yZS5oYXM7XG4gIHZhciB3bXNldCA9IHN0b3JlLnNldDtcbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmICh3bWhhcy5jYWxsKHN0b3JlLCBpdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIHdtc2V0LmNhbGwoc3RvcmUsIGl0LCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21nZXQuY2FsbChzdG9yZSwgaXQpIHx8IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21oYXMuY2FsbChzdG9yZSwgaXQpO1xuICB9O1xufSBlbHNlIHtcbiAgdmFyIFNUQVRFID0gc2hhcmVkS2V5KCdzdGF0ZScpO1xuICBoaWRkZW5LZXlzW1NUQVRFXSA9IHRydWU7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAob2JqZWN0SGFzKGl0LCBTVEFURSkpIHRocm93IG5ldyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShpdCwgU1RBVEUsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBvYmplY3RIYXMoaXQsIFNUQVRFKSA/IGl0W1NUQVRFXSA6IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gb2JqZWN0SGFzKGl0LCBTVEFURSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXQsXG4gIGhhczogaGFzLFxuICBlbmZvcmNlOiBlbmZvcmNlLFxuICBnZXR0ZXJGb3I6IGdldHRlckZvclxufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpLmY7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBUQUcsIFNUQVRJQywgU0VUX01FVEhPRCkge1xuICBpZiAoaXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gU1RBVElDID8gaXQgOiBpdC5wcm90b3R5cGU7XG4gICAgaWYgKCFoYXModGFyZ2V0LCBUT19TVFJJTkdfVEFHKSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBUT19TVFJJTkdfVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgICB9XG4gICAgaWYgKFNFVF9NRVRIT0QgJiYgIVRPX1NUUklOR19UQUdfU1VQUE9SVCkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRhcmdldCwgJ3RvU3RyaW5nJywgdG9TdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTUpO1xudmFyIERPTUl0ZXJhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg5KTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdO1xuICB2YXIgQ29sbGVjdGlvblByb3RvdHlwZSA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlICYmIGNsYXNzb2YoQ29sbGVjdGlvblByb3RvdHlwZSkgIT09IFRPX1NUUklOR19UQUcpIHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgQ09MTEVDVElPTl9OQU1FKTtcbiAgfVxuICBJdGVyYXRvcnNbQ09MTEVDVElPTl9OQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjQpO1xuXG4vKioqLyB9KSxcbi8qIDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzYpO1xuXG4vKioqLyB9KSxcbi8qIDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyODApO1xuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCA9IGV4cG9ydHMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGV4cG9ydHMuaW5zZXJ0QmVmb3JlID0gZXhwb3J0cy5nZXRFbmRQb2ludCA9IGV4cG9ydHMuZ2V0U3RhcnRQb2ludCA9IGV4cG9ydHMudXBkYXRlUmFuZ2UgPSBleHBvcnRzLmZpbHRlclNlbGVjdGlvbk5vZGVzID0gdm9pZCAwO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbi8qKlxuICog6L+H5rukIOmAieaLqeeahCBub2RlIOiKgueCuVxuICogQHJldHVybnMgeyBEb21FbGVtZW50W10gfSBEb21FbGVtZW50W11cbiAqL1xuXG5cbmZ1bmN0aW9uIGZpbHRlclNlbGVjdGlvbk5vZGVzKCRub2Rlcykge1xuICB2YXIgJGxpc3RIdG1sID0gW107XG4gICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKCRub2RlcykuY2FsbCgkbm9kZXMsIGZ1bmN0aW9uICgkbm9kZSkge1xuICAgIHZhciB0YXJnZXJOYW1lID0gJG5vZGUuZ2V0Tm9kZU5hbWUoKTtcblxuICAgIGlmICh0YXJnZXJOYW1lICE9PSBfMS5MaXN0VHlwZS5PcmRlcmVkTGlzdCAmJiB0YXJnZXJOYW1lICE9PSBfMS5MaXN0VHlwZS5Vbm9yZGVyZWRMaXN0KSB7XG4gICAgICAvLyDpnZ7luo/liJdcbiAgICAgICRsaXN0SHRtbC5wdXNoKCRub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5bqP5YiXXG4gICAgICBpZiAoJG5vZGUucHJpb3IpIHtcbiAgICAgICAgJGxpc3RIdG1sLnB1c2goJG5vZGUucHJpb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyICRjaGlsZHJlbiA9ICRub2RlLmNoaWxkcmVuKCk7XG4gICAgICAgICRjaGlsZHJlbiA9PT0gbnVsbCB8fCAkY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKCRjaGlsZHJlbikuY2FsbCgkY2hpbGRyZW4sIGZ1bmN0aW9uICgkbGkpIHtcbiAgICAgICAgICAkbGlzdEh0bWwucHVzaChkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkbGkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuICRsaXN0SHRtbDtcbn1cblxuZXhwb3J0cy5maWx0ZXJTZWxlY3Rpb25Ob2RlcyA9IGZpbHRlclNlbGVjdGlvbk5vZGVzO1xuLyoqXG4gKiDmm7TmlrDpgInljLpcbiAqIEBwYXJhbSAkbm9kZVxuICovXG5cbmZ1bmN0aW9uIHVwZGF0ZVJhbmdlKGVkaXRvciwgJG5vZGUsIGNvbGxhcHNlZCkge1xuICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBsZW5ndGgg5aSn5LqOIDFcbiAgLy8g5Luj6KGo552A6L2s5o2i5piv5LiA5Liq5paH5qGj6IqC54K55aSa5q616JC9XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAoJG5vZGUubGVuZ3RoID4gMSkge1xuICAgIHJhbmdlLnNldFN0YXJ0KCRub2RlLmVsZW1zWzBdLCAwKTtcbiAgICByYW5nZS5zZXRFbmQoJG5vZGUuZWxlbXNbJG5vZGUubGVuZ3RoIC0gMV0sICRub2RlLmVsZW1zWyRub2RlLmxlbmd0aCAtIDFdLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIOW6j+WIl+iKgueCuSDmiJYg5Y2V5q616JC9XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgZWxzZSB7XG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKCRub2RlLmVsZW1zWzBdKTtcbiAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIGNvbGxhcHNlZCDkuLogdHJ1ZSDku6PooajmmK/lhYnmoIdcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgY29sbGFwc2VkICYmIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgc2VsZWN0aW9uLnNhdmVSYW5nZShyYW5nZSk7XG4gIHNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG59XG5cbmV4cG9ydHMudXBkYXRlUmFuZ2UgPSB1cGRhdGVSYW5nZTtcbi8qKlxuICog6I635Y+W6LW354K55YWD57SgXG4gKiBAcGFyYW0gJHN0YXJ0RWxlbSDlvIDlp4vluo/liJfoioLngrlcbiAqL1xuXG5mdW5jdGlvbiBnZXRTdGFydFBvaW50KCRzdGFydEVsZW0pIHtcbiAgdmFyIF9hO1xuXG4gIHJldHVybiAkc3RhcnRFbGVtLnByaW9yID8gJHN0YXJ0RWxlbS5wcmlvciAvLyDmnIkgcHJpb3Ig5Luj6KGo5LiN5piv5YWo6YCJ5bqP5YiXXG4gIDogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oKF9hID0gJHN0YXJ0RWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbXNbMF0pOyAvLyDmsqHmnInliJnku6PooajlhajpgInluo/liJdcbn1cblxuZXhwb3J0cy5nZXRTdGFydFBvaW50ID0gZ2V0U3RhcnRQb2ludDtcbi8qKlxuICog6I635Y+W57uT5p2f5YWD57SgXG4gKiBAcGFyYW0gJGVuZEVsZW0g57uT5p2f5bqP5YiX6IqC54K5XG4gKi9cblxuZnVuY3Rpb24gZ2V0RW5kUG9pbnQoJGVuZEVsZW0pIHtcbiAgdmFyIF9hO1xuXG4gIHJldHVybiAkZW5kRWxlbS5wcmlvciA/ICRlbmRFbGVtLnByaW9yIC8vIOaciSBwcmlvciDku6PooajkuI3mmK/lhajpgInluo/liJdcbiAgOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgoX2EgPSAkZW5kRWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFzdCgpLmVsZW1zWzBdKTsgLy8g5rKh5pyJ5YiZ5Luj6KGo5YWo6YCJ5bqP5YiXXG59XG5cbmV4cG9ydHMuZ2V0RW5kUG9pbnQgPSBnZXRFbmRQb2ludDtcbi8qKlxuICog5Zyo5oKo5oyH5a6a6IqC54K555qE5bey5pyJ5a2Q6IqC54K55LmL5YmN5o+S5YWl5paw55qE5a2Q6IqC54K544CCXG4gKiBAcGFyYW0geyBEb21FbGVtZW50IH0gJG5vZGUg5oyH5a6a6IqC54K5XG4gKiBAcGFyYW0geyBDb250YWluZXJGcmFnbWVudCB9IG5ld05vZGUg5o+S5YWl55qE5paw5a2Q6IqC54K5XG4gKiBAcGFyYW0geyBOb2RlIHwgbnVsbCB9IGV4aXN0aW5nTm9kZSDmjIflrprlrZDoioLngrlcbiAqL1xuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoJG5vZGUsIG5ld05vZGUsIGV4aXN0aW5nTm9kZSkge1xuICBpZiAoZXhpc3RpbmdOb2RlID09PSB2b2lkIDApIHtcbiAgICBleGlzdGluZ05vZGUgPSBudWxsO1xuICB9XG5cbiAgJG5vZGUucGFyZW50KCkuZWxlbXNbMF0uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIGV4aXN0aW5nTm9kZSk7XG59XG5cbmV4cG9ydHMuaW5zZXJ0QmVmb3JlID0gaW5zZXJ0QmVmb3JlO1xuLyoqXG4gKiDliJvlu7rmjIflrprnmoQgZWxlbWVudCDlr7nosaFcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YXJnZXQpO1xufVxuXG5leHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50O1xuLyoqXG4gKiDliJvlu7rmlofmoaPniYfmrrVcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVEb2N1bWVudEZyYWdtZW50KCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xufVxuXG5leHBvcnRzLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQgPSBjcmVhdGVEb2N1bWVudEZyYWdtZW50O1xuLyoqXG4gKiDnlJ/miJAgbGkg5qCH562+55qE5YWD57Sg77yM5bm26L+U5ZueICRmcmFnbWVudCDmlofmoaPniYfmrrVcbiAqIEBwYXJhbSB7IERvbUVsZW1lbnRbXSB9ICRub2RlcyDpnIDopoHovazmjaLmiJAgbGkg55qEIGRvbSDlhYPntKDmlbDnu4RcbiAqIEBwYXJhbSB7IENvbnRhaW5lckZyYWdtZW50IH0gJGZyYWdtZW50IOeUqOS6juWtmOWCqOeUn+aIkOWQjiBsaSDlhYPntKDnmoTmlofmoaPniYfmrrVcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50RnJhZ21lbnQoJG5vZGVzLCAkZnJhZ21lbnQsIHRhZykge1xuICBpZiAodGFnID09PSB2b2lkIDApIHtcbiAgICB0YWcgPSAnbGknO1xuICB9XG5cbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJG5vZGVzKS5jYWxsKCRub2RlcywgZnVuY3Rpb24gKCRub2RlKSB7XG4gICAgdmFyICRsaXN0ID0gY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICRsaXN0LmlubmVySFRNTCA9ICRub2RlLmh0bWwoKTtcbiAgICAkZnJhZ21lbnQuYXBwZW5kQ2hpbGQoJGxpc3QpO1xuICAgICRub2RlLnJlbW92ZSgpO1xuICB9KTtcbiAgcmV0dXJuICRmcmFnbWVudDtcbn1cblxuZXhwb3J0cy5jcmVhdGVFbGVtZW50RnJhZ21lbnQgPSBjcmVhdGVFbGVtZW50RnJhZ21lbnQ7XG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gYFJlcXVpcmVPYmplY3RDb2VyY2libGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZXF1aXJlb2JqZWN0Y29lcmNpYmxlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignbmF2aWdhdG9yJywgJ3VzZXJBZ2VudCcpIHx8ICcnO1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGludGVybmFsT2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXG4vLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Qua2V5c1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1rZXlzIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG4vKiA1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG52YXIgZGVmaW5lSXRlcmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblxudmFyIEFSUkFZX0lURVJBVE9SID0gJ0FycmF5IEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKEFSUkFZX0lURVJBVE9SKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbi8vIGBBcnJheS5wcm90b3R5cGUua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5rZXlzXG4vLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS52YWx1ZXNcbi8vIGBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuLy8gYENyZWF0ZUFycmF5SXRlcmF0b3JgIGludGVybmFsIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVhcnJheWl0ZXJhdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZUl0ZXJhdG9yKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogQVJSQVlfSVRFUkFUT1IsXG4gICAgdGFyZ2V0OiB0b0luZGV4ZWRPYmplY3QoaXRlcmF0ZWQpLCAvLyB0YXJnZXRcbiAgICBpbmRleDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgICBraW5kOiBraW5kICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtpbmRcbiAgfSk7XG4vLyBgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICB2YXIgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4Kys7XG4gIGlmICghdGFyZ2V0IHx8IGluZGV4ID49IHRhcmdldC5sZW5ndGgpIHtcbiAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHsgdmFsdWU6IGluZGV4LCBkb25lOiBmYWxzZSB9O1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHsgdmFsdWU6IHRhcmdldFtpbmRleF0sIGRvbmU6IGZhbHNlIH07XG4gIHJldHVybiB7IHZhbHVlOiBbaW5kZXgsIHRhcmdldFtpbmRleF1dLCBkb25lOiBmYWxzZSB9O1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyVcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRldW5tYXBwZWRhcmd1bWVudHNvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlbWFwcGVkYXJndW1lbnRzb2JqZWN0XG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG4vKioqLyB9KSxcbi8qIDU2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW51bWVyYWJsZSkgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgZWxzZSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGFyZ2V0LCBrZXksIHZhbHVlKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlbXB0eVxuXG5cbi8qKiovIH0pLFxuLyogNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjaGFyQXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCkuY2hhckF0O1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cbnZhciBTVFJJTkdfSVRFUkFUT1IgPSAnU3RyaW5nIEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFNUUklOR19JVEVSQVRPUik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS1AQGl0ZXJhdG9yXG5kZWZpbmVJdGVyYXRvcihTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogU1RSSU5HX0lURVJBVE9SLFxuICAgIHN0cmluZzogdG9TdHJpbmcoaXRlcmF0ZWQpLFxuICAgIGluZGV4OiAwXG4gIH0pO1xuLy8gYCVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgdmFyIHN0cmluZyA9IHN0YXRlLnN0cmluZztcbiAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXg7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IHN0cmluZy5sZW5ndGgpIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgcG9pbnQgPSBjaGFyQXQoc3RyaW5nLCBpbmRleCk7XG4gIHN0YXRlLmluZGV4ICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHsgdmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZSB9O1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXG4vLyBgSXNBcnJheWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1pc2FycmF5IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICByZXR1cm4gY2xhc3NvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc3XG4gIHJldHVybiBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3IgPSB7fTtcbiAgICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGZvbzogMSB9O1xuICAgIH07XG4gICAgcmV0dXJuIGFycmF5W01FVEhPRF9OQU1FXShCb29sZWFuKS5mb28gIT09IDE7XG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzMpO1xuXG4vKioqLyB9KSxcbi8qIDYyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkxpc3RIYW5kbGUgPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIFNlbGVjdGlvblJhbmdlRWxlbV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzODgpKTtcblxudmFyIExpc3RIYW5kbGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExpc3RIYW5kbGUob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zZWxlY3Rpb25SYW5nZUVsZW0gPSBuZXcgU2VsZWN0aW9uUmFuZ2VFbGVtXzFbXCJkZWZhdWx0XCJdKCk7XG4gIH1cblxuICByZXR1cm4gTGlzdEhhbmRsZTtcbn0oKTtcblxuZXhwb3J0cy5MaXN0SGFuZGxlID0gTGlzdEhhbmRsZTtcblxuLyoqKi8gfSksXG4vKiA2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIE5hc2hvcm4gfiBKREs4IGJ1Z1xudmFyIE5BU0hPUk5fQlVHID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmICEkcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7IDE6IDIgfSwgMSk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eWlzZW51bWVyYWJsZVxuZXhwb3J0cy5mID0gTkFTSE9STl9CVUcgPyBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIFYpO1xuICByZXR1cm4gISFkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbn0gOiAkcHJvcGVydHlJc0VudW1lcmFibGU7XG5cblxuLyoqKi8gfSksXG4vKiA2NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7XG52YXIgaXNTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxuLy8gYFRvUHJvcGVydHlLZXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b3Byb3BlcnR5a2V5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB2YXIga2V5ID0gdG9QcmltaXRpdmUoYXJndW1lbnQsICdzdHJpbmcnKTtcbiAgcmV0dXJuIGlzU3ltYm9sKGtleSkgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIFVTRV9TWU1CT0xfQVNfVUlEID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVTRV9TWU1CT0xfQVNfVUlEID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJyk7XG4gIHJldHVybiB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nICYmIE9iamVjdChpdCkgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDY2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHVzZXJBZ2VudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIERlbm8gPSBnbG9iYWwuRGVubztcbnZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucyB8fCBEZW5vICYmIERlbm8udmVyc2lvbjtcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4O1xudmFyIG1hdGNoLCB2ZXJzaW9uO1xuXG5pZiAodjgpIHtcbiAgbWF0Y2ggPSB2OC5zcGxpdCgnLicpO1xuICB2ZXJzaW9uID0gbWF0Y2hbMF0gPCA0ID8gMSA6IG1hdGNoWzBdICsgbWF0Y2hbMV07XG59IGVsc2UgaWYgKHVzZXJBZ2VudCkge1xuICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmVyc2lvbiAmJiArdmVyc2lvbjtcblxuXG4vKioqLyB9KSxcbi8qIDY3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBpZCA9IDA7XG52YXIgcG9zdGZpeCA9IE1hdGgucmFuZG9tKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnICsgU3RyaW5nKGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXkpICsgJylfJyArICgrK2lkICsgcG9zdGZpeCkudG9TdHJpbmcoMzYpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcbnZhciB1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIGtleXMgPSBzaGFyZWQoJ2tleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXlzW2tleV0gfHwgKGtleXNba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBnbG9iYWwgQWN0aXZlWE9iamVjdCAtLSBvbGQgSUUsIFdTSCAqL1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xudmFyIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcbnZhciBodG1sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xudmFyIHNoYXJlZEtleSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXG52YXIgR1QgPSAnPic7XG52YXIgTFQgPSAnPCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG52YXIgSUVfUFJPVE8gPSBzaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG5cbnZhciBFbXB0eUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG52YXIgc2NyaXB0VGFnID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgcmV0dXJuIExUICsgU0NSSVBUICsgR1QgKyBjb250ZW50ICsgTFQgKyAnLycgKyBTQ1JJUFQgKyBHVDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBBY3RpdmVYIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWCA9IGZ1bmN0aW9uIChhY3RpdmVYRG9jdW1lbnQpIHtcbiAgYWN0aXZlWERvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnJykpO1xuICBhY3RpdmVYRG9jdW1lbnQuY2xvc2UoKTtcbiAgdmFyIHRlbXAgPSBhY3RpdmVYRG9jdW1lbnQucGFyZW50V2luZG93Lk9iamVjdDtcbiAgYWN0aXZlWERvY3VtZW50ID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWtcbiAgcmV0dXJuIHRlbXA7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgdmFyIEpTID0gJ2phdmEnICsgU0NSSVBUICsgJzonO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBodG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80NzVcbiAgaWZyYW1lLnNyYyA9IFN0cmluZyhKUyk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCdkb2N1bWVudC5GPU9iamVjdCcpKTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgcmV0dXJuIGlmcmFtZURvY3VtZW50LkY7XG59O1xuXG4vLyBDaGVjayBmb3IgZG9jdW1lbnQuZG9tYWluIGFuZCBhY3RpdmUgeCBzdXBwb3J0XG4vLyBObyBuZWVkIHRvIHVzZSBhY3RpdmUgeCBhcHByb2FjaCB3aGVuIGRvY3VtZW50LmRvbWFpbiBpcyBub3Qgc2V0XG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltL2lzc3Vlcy8xNTBcbi8vIHZhcmlhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20va2l0Y2FtYnJpZGdlL2VzNS1zaGltL2NvbW1pdC80ZjczOGFjMDY2MzQ2XG4vLyBhdm9pZCBJRSBHQyBidWdcbnZhciBhY3RpdmVYRG9jdW1lbnQ7XG52YXIgTnVsbFByb3RvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGFjdGl2ZVhEb2N1bWVudCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBpZ25vcmUgKi8gfVxuICBOdWxsUHJvdG9PYmplY3QgPSB0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCdcbiAgICA/IGRvY3VtZW50LmRvbWFpbiAmJiBhY3RpdmVYRG9jdW1lbnRcbiAgICAgID8gTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpIC8vIG9sZCBJRVxuICAgICAgOiBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUoKVxuICAgIDogTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpOyAvLyBXU0hcbiAgdmFyIGxlbmd0aCA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSBkZWxldGUgTnVsbFByb3RvT2JqZWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbbGVuZ3RoXV07XG4gIHJldHVybiBOdWxsUHJvdG9PYmplY3QoKTtcbn07XG5cbmhpZGRlbktleXNbSUVfUFJPVE9dID0gdHJ1ZTtcblxuLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG4vLyBgVG9JbnRlZ2VyYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9pbnRlZ2VyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gaXNOYU4oYXJndW1lbnQgPSArYXJndW1lbnQpID8gMCA6IChhcmd1bWVudCA+IDAgPyBmbG9vciA6IGNlaWwpKGFyZ3VtZW50KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG52YXIgY2xhc3NvZlJhdyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBDT1JSRUNUX0FSR1VNRU5UUyA9IGNsYXNzb2ZSYXcoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbi8vIGdldHRpbmcgdGFnIGZyb20gRVM2KyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2Bcbm1vZHVsZS5leHBvcnRzID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUID8gY2xhc3NvZlJhdyA6IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgdGFnLCByZXN1bHQ7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mICh0YWcgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRPX1NUUklOR19UQUcpKSA9PSAnc3RyaW5nJyA/IHRhZ1xuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKHJlc3VsdCA9IGNsYXNzb2ZSYXcoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxudmFyIFByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24gKCQkcmVzb2x2ZSwgJCRyZWplY3QpIHtcbiAgICBpZiAocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn07XG5cbi8vIGBOZXdQcm9taXNlQ2FwYWJpbGl0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW5ld3Byb21pc2VjYXBhYmlsaXR5XG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICB2YXIgbWV0aG9kID0gW11bTUVUSE9EX05BTUVdO1xuICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwsbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIG1ldGhvZC5jYWxsKG51bGwsIGFyZ3VtZW50IHx8IGZ1bmN0aW9uICgpIHsgdGhyb3cgMTsgfSwgMSk7XG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGEgc3RyaW5nIG9mIGFsbCB2YWxpZCB1bmljb2RlIHdoaXRlc3BhY2VzXG5tb2R1bGUuZXhwb3J0cyA9ICdcXHUwMDA5XFx1MDAwQVxcdTAwMEJcXHUwMDBDXFx1MDAwRFxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTIwMDBcXHUyMDAxXFx1MjAwMicgK1xuICAnXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMEFcXHUyMDJGXFx1MjA1RlxcdTMwMDBcXHUyMDI4XFx1MjAyOVxcdUZFRkYnO1xuXG5cbi8qKiovIH0pLFxuLyogNzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB0b1Byb3BlcnR5S2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBwcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKHByb3BlcnR5S2V5IGluIG9iamVjdCkgZGVmaW5lUHJvcGVydHlNb2R1bGUuZihvYmplY3QsIHByb3BlcnR5S2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbcHJvcGVydHlLZXldID0gdmFsdWU7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyMCk7XG5cbi8qKiovIH0pLFxuLyogNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JbmRleGVkT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoIXByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmYuY2FsbChPLCBQKSwgT1tQXSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXG52YXIgc3BsaXQgPSAnJy5zcGxpdDtcblxuLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3Ncbm1vZHVsZS5leHBvcnRzID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyB0aHJvd3MgYW4gZXJyb3IgaW4gcmhpbm8sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9yaGluby9pc3N1ZXMvMzQ2XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgLS0gc2FmZVxuICByZXR1cm4gIU9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xufSkgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNsYXNzb2YoaXQpID09ICdTdHJpbmcnID8gc3BsaXQuY2FsbChpdCwgJycpIDogT2JqZWN0KGl0KTtcbn0gOiBPYmplY3Q7XG5cblxuLyoqKi8gfSksXG4vKiA3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eXN5bWJvbHMgLS0gcmVxdWlyZWQgZm9yIHRlc3Rpbmdcbm1vZHVsZS5leHBvcnRzID0gISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBzeW1ib2wgPSBTeW1ib2woKTtcbiAgLy8gQ2hyb21lIDM4IFN5bWJvbCBoYXMgaW5jb3JyZWN0IHRvU3RyaW5nIGNvbnZlcnNpb25cbiAgLy8gYGdldC1vd24tcHJvcGVydHktc3ltYm9sc2AgcG9seWZpbGwgc3ltYm9scyBjb252ZXJ0ZWQgdG8gb2JqZWN0IGFyZSBub3QgU3ltYm9sIGluc3RhbmNlc1xuICByZXR1cm4gIVN0cmluZyhzeW1ib2wpIHx8ICEoT2JqZWN0KHN5bWJvbCkgaW5zdGFuY2VvZiBTeW1ib2wpIHx8XG4gICAgLy8gQ2hyb21lIDM4LTQwIHN5bWJvbHMgYXJlIG5vdCBpbmhlcml0ZWQgZnJvbSBET00gY29sbGVjdGlvbnMgcHJvdG90eXBlcyB0byBpbnN0YW5jZXNcbiAgICAhU3ltYm9sLnNoYW0gJiYgVjhfVkVSU0lPTiAmJiBWOF9WRVJTSU9OIDwgNDE7XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjE2LjInLFxuICBtb2RlOiBJU19QVVJFID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDgxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHNldEdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblxudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgc2V0R2xvYmFsKFNIQVJFRCwge30pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0b3JlO1xuXG5cbi8qKiovIH0pLFxuLyogODIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gRVhJU1RTID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcbnZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuXG4vLyBgT2JqZWN0LmdldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvdHlwZSA6IG51bGw7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gLS0gc2FmZSAqL1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgYVBvc3NpYmxlUHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXG4vLyBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnNldHByb3RvdHlwZW9mXG4vLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3Qtc2V0cHJvdG90eXBlb2YgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gZnVuY3Rpb24gKCkge1xuICB2YXIgQ09SUkVDVF9TRVRURVIgPSBmYWxzZTtcbiAgdmFyIHRlc3QgPSB7fTtcbiAgdmFyIHNldHRlcjtcbiAgdHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG4gICAgc2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0O1xuICAgIHNldHRlci5jYWxsKHRlc3QsIFtdKTtcbiAgICBDT1JSRUNUX1NFVFRFUiA9IHRlc3QgaW5zdGFuY2VvZiBBcnJheTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICBhbk9iamVjdChPKTtcbiAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgIGlmIChDT1JSRUNUX1NFVFRFUikgc2V0dGVyLmNhbGwoTywgcHJvdG8pO1xuICAgIGVsc2UgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICByZXR1cm4gTztcbiAgfTtcbn0oKSA6IHVuZGVmaW5lZCk7XG5cblxuLyoqKi8gfSksXG4vKiA4NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IGluZGV4T2YsIGluY2x1ZGVzIH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuICBpbmNsdWRlczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4gIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZChmYWxzZSlcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heChpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbihpbnRlZ2VyLCBsZW5ndGgpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSBbXG4gICdjb25zdHJ1Y3RvcicsXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnXG5dO1xuXG5cbi8qKiovIH0pLFxuLyogODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIHRlc3QgPSB7fTtcblxudGVzdFtUT19TVFJJTkdfVEFHXSA9ICd6JztcblxubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmcodGVzdCkgPT09ICdbb2JqZWN0IHpdJztcblxuXG4vKioqLyB9KSxcbi8qIDg5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG5cbi8qKiovIH0pLFxuLyogOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xudmFyIGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG52YXIgSXRlcmF0b3JzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gSXRlcmF0b3JzQ29yZS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gSXRlcmF0b3JzQ29yZS5CVUdHWV9TQUZBUklfSVRFUkFUT1JTO1xudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgRU5UUklFUyA9ICdlbnRyaWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblxuICB2YXIgZ2V0SXRlcmF0aW9uTWV0aG9kID0gZnVuY3Rpb24gKEtJTkQpIHtcbiAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgaWYgKCFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIEtJTkQgaW4gSXRlcmFibGVQcm90b3R5cGUpIHJldHVybiBJdGVyYWJsZVByb3RvdHlwZVtLSU5EXTtcbiAgICBzd2l0Y2ggKEtJTkQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICBjYXNlIEVOVFJJRVM6IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcyk7IH07XG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgPSBmYWxzZTtcbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlSXRlcmF0b3IgPSBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl1cbiAgICB8fCBJdGVyYWJsZVByb3RvdHlwZVsnQEBpdGVyYXRvciddXG4gICAgfHwgREVGQVVMVCAmJiBJdGVyYWJsZVByb3RvdHlwZVtERUZBVUxUXTtcbiAgdmFyIGRlZmF1bHRJdGVyYXRvciA9ICFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIG5hdGl2ZUl0ZXJhdG9yIHx8IGdldEl0ZXJhdGlvbk1ldGhvZChERUZBVUxUKTtcbiAgdmFyIGFueU5hdGl2ZUl0ZXJhdG9yID0gTkFNRSA9PSAnQXJyYXknID8gSXRlcmFibGVQcm90b3R5cGUuZW50cmllcyB8fCBuYXRpdmVJdGVyYXRvciA6IG5hdGl2ZUl0ZXJhdG9yO1xuICB2YXIgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBtZXRob2RzLCBLRVk7XG5cbiAgLy8gZml4IG5hdGl2ZVxuICBpZiAoYW55TmF0aXZlSXRlcmF0b3IpIHtcbiAgICBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihhbnlOYXRpdmVJdGVyYXRvci5jYWxsKG5ldyBJdGVyYWJsZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoIUlTX1BVUkUgJiYgZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgc2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCB0cnVlLCB0cnVlKTtcbiAgICAgIGlmIChJU19QVVJFKSBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZpeCBBcnJheS5wcm90b3R5cGUueyB2YWx1ZXMsIEBAaXRlcmF0b3IgfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRkFVTFQgPT0gVkFMVUVTICYmIG5hdGl2ZUl0ZXJhdG9yICYmIG5hdGl2ZUl0ZXJhdG9yLm5hbWUgIT09IFZBTFVFUykge1xuICAgIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IHRydWU7XG4gICAgZGVmYXVsdEl0ZXJhdG9yID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmF0aXZlSXRlcmF0b3IuY2FsbCh0aGlzKTsgfTtcbiAgfVxuXG4gIC8vIGRlZmluZSBpdGVyYXRvclxuICBpZiAoKCFJU19QVVJFIHx8IEZPUkNFRCkgJiYgSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JdICE9PSBkZWZhdWx0SXRlcmF0b3IpIHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SLCBkZWZhdWx0SXRlcmF0b3IpO1xuICB9XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IGRlZmF1bHRJdGVyYXRvcjtcblxuICAvLyBleHBvcnQgYWRkaXRpb25hbCBtZXRob2RzXG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogZ2V0SXRlcmF0aW9uTWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyBkZWZhdWx0SXRlcmF0b3IgOiBnZXRJdGVyYXRpb25NZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiBnZXRJdGVyYXRpb25NZXRob2QoRU5UUklFUylcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoS0VZIGluIG1ldGhvZHMpIHtcbiAgICAgIGlmIChCVUdHWV9TQUZBUklfSVRFUkFUT1JTIHx8IElOQ09SUkVDVF9WQUxVRVNfTkFNRSB8fCAhKEtFWSBpbiBJdGVyYWJsZVByb3RvdHlwZSkpIHtcbiAgICAgICAgcmVkZWZpbmUoSXRlcmFibGVQcm90b3R5cGUsIEtFWSwgbWV0aG9kc1tLRVldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgJCh7IHRhcmdldDogTkFNRSwgcHJvdG86IHRydWUsIGZvcmNlZDogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgfSwgbWV0aG9kcyk7XG4gIH1cblxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0luY29ycmVjdCAnICsgKG5hbWUgPyBuYW1lICsgJyAnIDogJycpICsgJ2ludm9jYXRpb24nKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzb2YoZ2xvYmFsLnByb2Nlc3MpID09ICdwcm9jZXNzJztcblxuXG4vKioqLyB9KSxcbi8qIDkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlcnJvcjogZmFsc2UsIHZhbHVlOiBleGVjKCkgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvcjogdHJ1ZSwgdmFsdWU6IGVycm9yIH07XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiA5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57yW6L6R5ZmoIGNsYXNzXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgY29uZmlnXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI4MikpO1xuXG52YXIgc2VsZWN0aW9uXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI5NSkpO1xuXG52YXIgY29tbWFuZF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOTYpKTtcblxudmFyIGluZGV4XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI5NykpO1xuXG52YXIgaW5kZXhfMiA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzE2KSk7XG5cbnZhciBpbml0X2RvbV8xID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXyg0MzIpKTtcblxudmFyIGluaXRfc2VsZWN0aW9uXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQzMykpO1xuXG52YXIgYmluZF9ldmVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MzQpKTtcblxudmFyIGkxOG5leHRfaW5pdF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MzUpKTtcblxudmFyIHNldF9mdWxsX3NjcmVlbl8xID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXyg0MzYpKTtcblxudmFyIHNjcm9sbF90b19oZWFkXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQzOSkpO1xuXG52YXIgel9pbmRleF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NDApKTtcblxudmFyIGluZGV4XzMgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0MSkpO1xuXG52YXIgaW5kZXhfNCA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDQzKSk7XG5cbnZhciBkaXNhYmxlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1MykpO1xuXG52YXIgc2VsZWN0aW9uX2NoYW5nZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NTYpKTtcblxudmFyIHBsdWdpbnNfMSA9IHRzbGliXzEuX19pbXBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oNDU3KSk7XG5cbnZhciBCdG5NZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSk7XG5cbnZhciBEcm9wTGlzdF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpKTtcblxudmFyIERyb3BMaXN0TWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXG52YXIgUGFuZWxfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzMpKTtcblxudmFyIFBhbmVsTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNikpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgRURJVE9SX0lEID0gMTtcblxudmFyIEVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIOaehOmAoOWHveaVsFxuICAgKiBAcGFyYW0gdG9vbGJhclNlbGVjdG9yIOW3peWFt+agjyBET00gc2VsZWN0b3JcbiAgICogQHBhcmFtIHRleHRTZWxlY3RvciDmlofmnKzljLrln58gRE9NIHNlbGVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBFZGl0b3IodG9vbGJhclNlbGVjdG9yLCB0ZXh0U2VsZWN0b3IpIHtcbiAgICB0aGlzLnBsdWdpbnNGdW5jdGlvbkxpc3QgPSB7fTsgLy8g5a6e5L6L6ZSA5q+B5YmN6ZyA6KaB5omn6KGM55qE6ZKp5a2Q6ZuG5ZCIXG5cbiAgICB0aGlzLmJlZm9yZURlc3Ryb3lIb29rcyA9IFtdOyAvLyBpZO+8jOeUqOS7peWMuuWIhuWNleS4qumhtemdouS4jeWQjOeahOe8lui+keWZqOWvueixoVxuXG4gICAgdGhpcy5pZCA9IFwid2FuZ0VkaXRvci1cIiArIEVESVRPUl9JRCsrO1xuICAgIHRoaXMudG9vbGJhclNlbGVjdG9yID0gdG9vbGJhclNlbGVjdG9yO1xuICAgIHRoaXMudGV4dFNlbGVjdG9yID0gdGV4dFNlbGVjdG9yO1xuICAgIGluaXRfZG9tXzEuc2VsZWN0b3JWYWxpZGF0b3IodGhpcyk7IC8vIOWxnuaAp+eahOm7mOiupOWAvO+8jOWQjumdouWPr+iDveS8muWGjeS/ruaUuVxuICAgIC8vIOm7mOiupOmFjee9riAtIOW9k+S4gOS4qumhtemdouacieWkmuS4que8lui+keWZqOeahOaXtuWAme+8jOWboOS4uiBKUyDnmoTnibnmgKco5byV55So57G75Z6LKeS8muWvvOiHtOWkmuS4que8lui+keWZqOeahCBjb25maWcg5byV55So5piv5ZCM5LiA5Liq77yM5omA5Lul6ZyA6KaBIOa3seW6puWFi+mahiDmlq3mjonlvJXnlKhcblxuICAgIHRoaXMuY29uZmlnID0gdXRpbF8xLmRlZXBDbG9uZShjb25maWdfMVtcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuJHRvb2xiYXJFbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXY+PC9kaXY+Jyk7XG4gICAgdGhpcy4kdGV4dENvbnRhaW5lckVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdj48L2Rpdj4nKTtcbiAgICB0aGlzLiR0ZXh0RWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2PjwvZGl2PicpO1xuICAgIHRoaXMudG9vbGJhckVsZW1JZCA9ICcnO1xuICAgIHRoaXMudGV4dEVsZW1JZCA9ICcnO1xuICAgIHRoaXMuaXNGb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzQ29tcGF0aWJsZU1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBzZWxlY3Rpb25fMVtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgdGhpcy5jbWQgPSBuZXcgY29tbWFuZF8xW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgICB0aGlzLnR4dCA9IG5ldyBpbmRleF8xW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgICB0aGlzLm1lbnVzID0gbmV3IGluZGV4XzJbXCJkZWZhdWx0XCJdKHRoaXMpO1xuICAgIHRoaXMuekluZGV4ID0gbmV3IHpfaW5kZXhfMVtcImRlZmF1bHRcIl0oKTtcbiAgICB0aGlzLmNoYW5nZSA9IG5ldyBpbmRleF8zW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgICB0aGlzLmhpc3RvcnkgPSBuZXcgaW5kZXhfNFtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSA9IG5ldyBzZWxlY3Rpb25fY2hhbmdlXzFbXCJkZWZhdWx0XCJdKHRoaXMpO1xuXG4gICAgdmFyIF9hID0gZGlzYWJsZV8xW1wiZGVmYXVsdFwiXSh0aGlzKSxcbiAgICAgICAgZGlzYWJsZSA9IF9hLmRpc2FibGUsXG4gICAgICAgIGVuYWJsZSA9IF9hLmVuYWJsZTtcblxuICAgIHRoaXMuZGlzYWJsZSA9IGRpc2FibGU7XG4gICAgdGhpcy5lbmFibGUgPSBlbmFibGU7XG4gICAgdGhpcy5pc0VuYWJsZSA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIOWIneWni+WMlumAieWMulxuICAgKiBAcGFyYW0gbmV3TGluZSDmlrDlu7rkuIDooYxcbiAgICovXG5cblxuICBFZGl0b3IucHJvdG90eXBlLmluaXRTZWxlY3Rpb24gPSBmdW5jdGlvbiAobmV3TGluZSkge1xuICAgIGluaXRfc2VsZWN0aW9uXzFbXCJkZWZhdWx0XCJdKHRoaXMsIG5ld0xpbmUpO1xuICB9O1xuICAvKipcbiAgICog5Yib5bu657yW6L6R5Zmo5a6e5L6LXG4gICAqL1xuXG5cbiAgRWRpdG9yLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8g5Yid5aeL5YyWIFpJbmRleFxuICAgIHRoaXMuekluZGV4LmluaXQodGhpcyk7IC8vIOehruWumuW9k+WJjeeahOWOhuWPsuiusOW9leaooeW8j1xuXG4gICAgdGhpcy5pc0NvbXBhdGlibGVNb2RlID0gdGhpcy5jb25maWcuY29tcGF0aWJsZU1vZGUoKTsgLy8g5qCH5YeG5qih5byP5LiL77yM6YeN572u5bu26L+f5pe26Ze0XG5cbiAgICBpZiAoIXRoaXMuaXNDb21wYXRpYmxlTW9kZSkge1xuICAgICAgdGhpcy5jb25maWcub25jaGFuZ2VUaW1lb3V0ID0gMzA7XG4gICAgfSAvLyDlm73pmYXljJYg5Zug5Li66KaB5Zyo5Yib5bu66I+c5Y2V5YmN5L2/55SoIOaJgOS7peimgeacgOWFiCDliJ3lp4vljJZcblxuXG4gICAgaTE4bmV4dF9pbml0XzFbXCJkZWZhdWx0XCJdKHRoaXMpOyAvLyDliJ3lp4vljJYgRE9NXG5cbiAgICBpbml0X2RvbV8xW1wiZGVmYXVsdFwiXSh0aGlzKTsgLy8g5Yid5aeL5YyWIHRleHRcblxuICAgIHRoaXMudHh0LmluaXQoKTsgLy8g5Yid5aeL5YyW6I+c5Y2VXG5cbiAgICB0aGlzLm1lbnVzLmluaXQoKTsgLy8g5Yid5aeL5YyW5YWo5bGP5Yqf6IO9XG5cbiAgICBzZXRfZnVsbF9zY3JlZW5fMVtcImRlZmF1bHRcIl0odGhpcyk7IC8vIOWIneWni+WMlumAieWMuu+8jOWwhuWFieagh+WumuS9jeWIsOWGheWuueWwvumDqFxuXG4gICAgdGhpcy5pbml0U2VsZWN0aW9uKHRydWUpOyAvLyDnu5Hlrprkuovku7ZcblxuICAgIGJpbmRfZXZlbnRfMVtcImRlZmF1bHRcIl0odGhpcyk7IC8vIOe7keWumuebkeWQrOeahOebruagh+iKgueCuVxuXG4gICAgdGhpcy5jaGFuZ2Uub2JzZXJ2ZSgpO1xuICAgIHRoaXMuaGlzdG9yeS5vYnNlcnZlKCk7IC8vIOWIneWni+WMluaPkuS7tlxuXG4gICAgcGx1Z2luc18xW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaPkOS+m+e7meeUqOaIt+a3u+WKoOmUgOavgeWJjeeahOmSqeWtkOWHveaVsFxuICAgKiBAcGFyYW0gZm4g6ZKp5a2Q5Ye95pWwXG4gICAqL1xuXG5cbiAgRWRpdG9yLnByb3RvdHlwZS5iZWZvcmVEZXN0cm95ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgdGhpcy5iZWZvcmVEZXN0cm95SG9va3MucHVzaChmbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiDplIDmr4HlvZPliY3nvJbovpHlmajlrp7kvotcbiAgICovXG5cblxuICBFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgdmFyIF90aGlzID0gdGhpczsgLy8g6LCD55So6ZKp5a2Q5Ye95pWwXG5cblxuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gdGhpcy5iZWZvcmVEZXN0cm95SG9va3MpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMpO1xuICAgIH0pOyAvLyDplIDmr4EgRE9NIOiKgueCuVxuXG4gICAgdGhpcy4kdG9vbGJhckVsZW0ucmVtb3ZlKCk7XG4gICAgdGhpcy4kdGV4dENvbnRhaW5lckVsZW0ucmVtb3ZlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsIbnvJbovpHlmajorr7nva7kuLrlhajlsY9cbiAgICovXG5cblxuICBFZGl0b3IucHJvdG90eXBlLmZ1bGxTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0X2Z1bGxfc2NyZWVuXzEuc2V0RnVsbFNjcmVlbih0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWwhue8lui+keWZqOmAgOWHuuWFqOWxj1xuICAgKi9cblxuXG4gIEVkaXRvci5wcm90b3R5cGUudW5GdWxsU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgIHNldF9mdWxsX3NjcmVlbl8xLnNldFVuRnVsbFNjcmVlbih0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIOa7muWKqOWIsOaMh+Wumuagh+mimOmUmueCuVxuICAgKiBAcGFyYW0gaWQg5qCH6aKY6ZSa54K5aWRcbiAgICovXG5cblxuICBFZGl0b3IucHJvdG90eXBlLnNjcm9sbFRvSGVhZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIHNjcm9sbF90b19oZWFkXzFbXCJkZWZhdWx0XCJdKHRoaXMsIGlkKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiHquWumuS5iea3u+WKoOiPnOWNlVxuICAgKiBAcGFyYW0ga2V5IOiPnOWNlSBrZXlcbiAgICogQHBhcmFtIE1lbnUg6I+c5Y2V5p6E6YCg5Ye95pWwXG4gICAqL1xuXG5cbiAgRWRpdG9yLnJlZ2lzdGVyTWVudSA9IGZ1bmN0aW9uIChrZXksIE1lbnUpIHtcbiAgICBpZiAoIU1lbnUgfHwgdHlwZW9mIE1lbnUgIT09ICdmdW5jdGlvbicpIHJldHVybjtcbiAgICBFZGl0b3IuZ2xvYmFsQ3VzdG9tTWVudUNvbnN0cnVjdG9yTGlzdFtrZXldID0gTWVudTtcbiAgfTtcbiAgLyoqXG4gICAqIOiHquWumuS5iea3u+WKoOaPkuS7tlxuICAgKiBAcGFyYW0geyBzdHJpbmcgfSBuYW1lIOaPkuS7tueahOWQjeensFxuICAgKiBAcGFyYW0geyBSZWdpc3Rlck9wdGlvbnMgfSBvcHRpb25zIOaPkuS7tueahOmAiemhuVxuICAgKi9cblxuXG4gIEVkaXRvci5wcm90b3R5cGUucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucykge1xuICAgIHBsdWdpbnNfMS5yZWdpc3RlclBsdWdpbihuYW1lLCBvcHRpb25zLCB0aGlzLnBsdWdpbnNGdW5jdGlvbkxpc3QpO1xuICB9O1xuICAvKipcbiAgICog6Ieq5a6a5LmJ5re75Yqg5o+S5Lu2XG4gICAqIEBwYXJhbSB7IHN0cmluZyB9IG5hbWUg5o+S5Lu255qE5ZCN56ewXG4gICAqIEBwYXJhbSB7IFJlZ2lzdGVyT3B0aW9ucyB9IG9wdGlvbnMg5o+S5Lu255qE6YCJ6aG5XG4gICAqL1xuXG5cbiAgRWRpdG9yLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcbiAgICBwbHVnaW5zXzEucmVnaXN0ZXJQbHVnaW4obmFtZSwgb3B0aW9ucywgRWRpdG9yLmdsb2JhbFBsdWdpbnNGdW5jdGlvbkxpc3QpO1xuICB9OyAvLyDmmrTpnLIgJFxuXG5cbiAgRWRpdG9yLiQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXTtcbiAgRWRpdG9yLkJ0bk1lbnUgPSBCdG5NZW51XzFbXCJkZWZhdWx0XCJdO1xuICBFZGl0b3IuRHJvcExpc3QgPSBEcm9wTGlzdF8xW1wiZGVmYXVsdFwiXTtcbiAgRWRpdG9yLkRyb3BMaXN0TWVudSA9IERyb3BMaXN0TWVudV8xW1wiZGVmYXVsdFwiXTtcbiAgRWRpdG9yLlBhbmVsID0gUGFuZWxfMVtcImRlZmF1bHRcIl07XG4gIEVkaXRvci5QYW5lbE1lbnUgPSBQYW5lbE1lbnVfMVtcImRlZmF1bHRcIl07XG4gIEVkaXRvci5Ub29sdGlwID0gVG9vbHRpcF8xW1wiZGVmYXVsdFwiXTtcbiAgRWRpdG9yLmdsb2JhbEN1c3RvbU1lbnVDb25zdHJ1Y3Rvckxpc3QgPSB7fTtcbiAgRWRpdG9yLmdsb2JhbFBsdWdpbnNGdW5jdGlvbkxpc3QgPSB7fTtcbiAgcmV0dXJuIEVkaXRvcjtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFZGl0b3I7XG5cbi8qKiovIH0pLFxuLyogOTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTUpO1xuXG4vLyBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5LCBsZW5ndGgpIHtcbiAgcmV0dXJuIG5ldyAoYXJyYXlTcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWxBcnJheSkpKGxlbmd0aCA9PT0gMCA/IDAgOiBsZW5ndGgpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDk2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTYpO1xuXG4vKioqLyB9KSxcbi8qIDk3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcbnZhciB3aGl0ZXNwYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXG52YXIgd2hpdGVzcGFjZSA9ICdbJyArIHdoaXRlc3BhY2VzICsgJ10nO1xudmFyIGx0cmltID0gUmVnRXhwKCdeJyArIHdoaXRlc3BhY2UgKyB3aGl0ZXNwYWNlICsgJyonKTtcbnZhciBydHJpbSA9IFJlZ0V4cCh3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW0sIHRyaW1TdGFydCwgdHJpbUVuZCwgdHJpbUxlZnQsIHRyaW1SaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcykge1xuICAgIHZhciBzdHJpbmcgPSB0b1N0cmluZyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKCR0aGlzKSk7XG4gICAgaWYgKFRZUEUgJiAxKSBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShsdHJpbSwgJycpO1xuICAgIGlmIChUWVBFICYgMikgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocnRyaW0sICcnKTtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbUxlZnQsIHRyaW1TdGFydCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltc3RhcnRcbiAgc3RhcnQ6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltUmlnaHQsIHRyaW1FbmQgfWAgbWV0aG9kc1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbWVuZFxuICBlbmQ6IGNyZWF0ZU1ldGhvZCgyKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4gIHRyaW06IGNyZWF0ZU1ldGhvZCgzKVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDk4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpbnRlcm5hbE9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG52YXIgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblxudmFyIGhpZGRlbktleXMgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjE2KTtcblxuLyoqKi8gfSksXG4vKiAxMDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjcpO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9TeW1ib2wkaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX1N5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX1N5bWJvbCAmJiBvYmogIT09IF9TeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjtcbm1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuLyoqKi8gfSksXG4vKiAxMDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbmV4cG9ydHMuZiA9IHdlbGxLbm93blN5bWJvbDtcblxuXG4vKioqLyB9KSxcbi8qIDEwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIxKTtcblxuLyoqKi8gfSksXG4vKiAxMDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIE1lbnUgY2xhc3Mg54i257G7XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVudSgkZWxlbSwgZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJGVsZW0gPSAkZWxlbTtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTsgLy8g57uR5a6a6I+c5Y2V54K55Ye75LqL5Lu2XG5cbiAgICAkZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICBQYW5lbF8xW1wiZGVmYXVsdFwiXS5oaWRlQ3VyQWxsUGFuZWxzKCk7IC8vIOmakOiXj+W9k+WJjeeahOaJgOaciSBQYW5lbFxuICAgICAgLy8g6Kem5Y+R6I+c5Y2V54K55Ye755qE6ZKp5a2QXG5cbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gZWRpdG9yLnR4dC5ldmVudEhvb2tzLm1lbnVDbGlja0V2ZW50cykuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jbGlja0hhbmRsZXIoZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIOiPnOWNleeCueWHu+S6i+S7tu+8jOWtkOexu+WPr+mHjeWGmVxuICAgKiBAcGFyYW0gZSBldmVudFxuICAgKi9cblxuXG4gIE1lbnUucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7fTtcbiAgLyoqXG4gICAqIOa/gOa0u+iPnOWNle+8jOmrmOS6ruaYvuekulxuICAgKi9cblxuXG4gIE1lbnUucHJvdG90eXBlLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMuJGVsZW0uYWRkQ2xhc3MoJ3ctZS1hY3RpdmUnKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWPlua2iOa/gOa0u++8jOS4jeWGjemrmOS6ruaYvuekulxuICAgKi9cblxuXG4gIE1lbnUucHJvdG90eXBlLnVuQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuJGVsZW0ucmVtb3ZlQ2xhc3MoJ3ctZS1hY3RpdmUnKTtcbiAgfTtcblxuICAoMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoTWVudS5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwge1xuICAgIC8qKlxuICAgICAqIOaYr+WQpuWkhOS6jua/gOa0u+eKtuaAgVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE1lbnU7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWVudTtcblxuLyoqKi8gfSksXG4vKiAxMDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOWbvueJh1xuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9iaW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfaW5kZXhPZiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgdXBsb2FkX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQwKSk7XG5cbnZhciBwcm9ncmVzc18xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpKTtcblxudmFyIFVwbG9hZEltZyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVXBsb2FkSW1nKGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICB9XG4gIC8qKlxuICAgKiDlvoDnvJbovpHljLrln5/mj5LlhaXlm77niYdcbiAgICogQHBhcmFtIHNyYyDlm77niYflnLDlnYBcbiAgICovXG5cblxuICBVcGxvYWRJbWcucHJvdG90eXBlLmluc2VydEltZyA9IGZ1bmN0aW9uIChzcmMsIGFsdCwgaHJlZikge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgY29uZmlnID0gZWRpdG9yLmNvbmZpZztcbiAgICB2YXIgaTE4blByZWZpeCA9ICd2YWxpZGF0ZS4nO1xuXG4gICAgdmFyIHQgPSBmdW5jdGlvbiB0KHRleHQsIHByZWZpeCkge1xuICAgICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHByZWZpeCA9IGkxOG5QcmVmaXg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZGl0b3IuaTE4bmV4dC50KHByZWZpeCArIHRleHQpO1xuICAgIH07IC8vIOiuvue9ruWbvueJh2FsdFxuXG5cbiAgICB2YXIgYWx0VGV4dCA9IGFsdCA/IFwiYWx0PVxcXCJcIiArIGFsdCArIFwiXFxcIiBcIiA6ICcnO1xuICAgIHZhciBocmVmVGV4dCA9IGhyZWYgPyBcImRhdGEtaHJlZj1cXFwiXCIgKyBlbmNvZGVVUklDb21wb25lbnQoaHJlZikgKyBcIlxcXCIgXCIgOiAnJzsgLy8g5YWI5o+S5YWl5Zu+54mH77yM5peg6K665piv5ZCm6IO95oiQ5YqfXG5cbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBcIjxpbWcgc3JjPVxcXCJcIiArIHNyYyArIFwiXFxcIiBcIiArIGFsdFRleHQgKyBocmVmVGV4dCArIFwic3R5bGU9XFxcIm1heC13aWR0aDoxMDAlO1xcXCIgY29udGVudGVkaXRhYmxlPVxcXCJmYWxzZVxcXCIvPlwiKTsgLy8g5omn6KGM5Zue6LCD5Ye95pWwXG5cbiAgICBjb25maWcubGlua0ltZ0NhbGxiYWNrKHNyYywgYWx0LCBocmVmKTsgLy8g5Yqg6L295Zu+54mHXG5cbiAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgaW1nID0gbnVsbDtcbiAgICB9O1xuXG4gICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25maWcuY3VzdG9tQWxlcnQodCgn5o+S5YWl5Zu+54mH6ZSZ6K+vJyksICdlcnJvcicsIFwid2FuZ0VkaXRvcjogXCIgKyB0KCfmj5LlhaXlm77niYfplJnor68nKSArIFwiXFx1RkYwQ1wiICsgdCgn5Zu+54mH6ZO+5o6lJykgKyBcIiBcXFwiXCIgKyBzcmMgKyBcIlxcXCJcXHVGRjBDXCIgKyB0KCfkuIvovb3pk77mjqXlpLHotKUnKSk7XG4gICAgICBpbWcgPSBudWxsO1xuICAgIH07XG5cbiAgICBpbWcub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbWcgPSBudWxsO1xuICAgIH07XG5cbiAgICBpbWcuc3JjID0gc3JjO1xuICB9O1xuICAvKipcbiAgICog5LiK5Lyg5Zu+54mHXG4gICAqIEBwYXJhbSBmaWxlcyDmlofku7bliJfooahcbiAgICovXG5cblxuICBVcGxvYWRJbWcucHJvdG90eXBlLnVwbG9hZEltZyA9IGZ1bmN0aW9uIChmaWxlcykge1xuICAgIHZhciBfdGhpc18xID0gdGhpcztcblxuICAgIGlmICghZmlsZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaTE4bmV4dCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBpMThuUHJlZml4ID0gJ3ZhbGlkYXRlLic7XG5cbiAgICB2YXIgdCA9IGZ1bmN0aW9uIHQodGV4dCkge1xuICAgICAgcmV0dXJuIGVkaXRvci5pMThuZXh0LnQoaTE4blByZWZpeCArIHRleHQpO1xuICAgIH07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDojrflj5bphY3nva7kv6Hmga8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8g5pyN5Yqh56uv5Zyw5Z2AXG5cblxuICAgIHZhciB1cGxvYWRJbWdTZXJ2ZXIgPSBjb25maWcudXBsb2FkSW1nU2VydmVyOyAvLyBiYXNlNjQg5qC85byPXG5cbiAgICB2YXIgdXBsb2FkSW1nU2hvd0Jhc2U2NCA9IGNvbmZpZy51cGxvYWRJbWdTaG93QmFzZTY0OyAvLyDlm77niYfmnIDlpKfkvZPnp69cblxuICAgIHZhciBtYXhTaXplID0gY29uZmlnLnVwbG9hZEltZ01heFNpemU7XG4gICAgdmFyIG1heFNpemVNID0gbWF4U2l6ZSAvIDEwMjQgLyAxMDI0OyAvLyDkuIDmrKHmnIDlpJrkuIrkvKDlm77niYfmlbDph49cblxuICAgIHZhciBtYXhMZW5ndGggPSBjb25maWcudXBsb2FkSW1nTWF4TGVuZ3RoOyAvLyDoh6rlrprkuYkgZmlsZU5hbWVcblxuICAgIHZhciB1cGxvYWRGaWxlTmFtZSA9IGNvbmZpZy51cGxvYWRGaWxlTmFtZTsgLy8g6Ieq5a6a5LmJ5Y+C5pWwXG5cbiAgICB2YXIgdXBsb2FkSW1nUGFyYW1zID0gY29uZmlnLnVwbG9hZEltZ1BhcmFtczsgLy8g5Y+C5pWw5ou85o6l5YiwIHVybCDkuK1cblxuICAgIHZhciB1cGxvYWRJbWdQYXJhbXNXaXRoVXJsID0gY29uZmlnLnVwbG9hZEltZ1BhcmFtc1dpdGhVcmw7IC8vIOiHquWumuS5iSBoZWFkZXJcblxuICAgIHZhciB1cGxvYWRJbWdIZWFkZXJzID0gY29uZmlnLnVwbG9hZEltZ0hlYWRlcnM7IC8vIOmSqeWtkOWHveaVsFxuXG4gICAgdmFyIGhvb2tzID0gY29uZmlnLnVwbG9hZEltZ0hvb2tzOyAvLyDkuIrkvKDlm77niYfotoXml7bml7bpl7RcblxuICAgIHZhciB0aW1lb3V0ID0gY29uZmlnLnVwbG9hZEltZ1RpbWVvdXQ7IC8vIOi3qOWfn+W4piBjb29raWVcblxuICAgIHZhciB3aXRoQ3JlZGVudGlhbHMgPSBjb25maWcud2l0aENyZWRlbnRpYWxzOyAvLyDoh6rlrprkuYnkuIrkvKDlm77niYdcblxuICAgIHZhciBjdXN0b21VcGxvYWRJbWcgPSBjb25maWcuY3VzdG9tVXBsb2FkSW1nO1xuXG4gICAgaWYgKCFjdXN0b21VcGxvYWRJbWcpIHtcbiAgICAgIC8vIOayoeaciSBjdXN0b21VcGxvYWRJbWcg55qE5oOF5Ya15LiL77yM6ZyA6KaB5aaC5LiL5Lik5Liq6YWN572u5omN6IO957un57ut6L+b6KGM5Zu+54mH5LiK5LygXG4gICAgICBpZiAoIXVwbG9hZEltZ1NlcnZlciAmJiAhdXBsb2FkSW1nU2hvd0Jhc2U2NCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g6aqM6K+B5paH5Lu25L+h5oGvIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICB2YXIgcmVzdWx0RmlsZXMgPSBbXTtcbiAgICB2YXIgZXJySW5mb3MgPSBbXTtcbiAgICB1dGlsXzEuYXJyRm9yRWFjaChmaWxlcywgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIC8vIGNocm9tZSDkvY7niYjmnKwg57KY6LS05LiA5byg5Zu+5pe2ZmlsZXPkuLogW251bGwsIEZpbGVdXG4gICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgIHZhciBuYW1lID0gZmlsZS5uYW1lIHx8IGZpbGUudHlwZS5yZXBsYWNlKCcvJywgJy4nKTsgLy8g5YW85a655L2O54mI5pysY2hyb21lIOayoeaciW5hbWVcblxuICAgICAgdmFyIHNpemUgPSBmaWxlLnNpemU7IC8vIGNocm9tZSDkvY7niYjmnKwgbmFtZSA9PT0gdW5kZWZpbmVkXG5cbiAgICAgIGlmICghbmFtZSB8fCAhc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIOWwhnVwbG9hZEltZ0FjY2VwdOaVsOe7hOi9rOaNouS4uuato+WImeWvueixoVxuXG5cbiAgICAgIHZhciBpbWdUeXBlID0gZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdBY2NlcHQuam9pbignfCcpO1xuICAgICAgdmFyIGltZ1R5cGVSdWxlU3RyID0gXCIuKFwiICsgaW1nVHlwZSArIFwiKSRcIjtcbiAgICAgIHZhciB1cGxvYWRJbWdBY2NlcHRSdWxlID0gbmV3IFJlZ0V4cChpbWdUeXBlUnVsZVN0ciwgJ2knKTtcblxuICAgICAgaWYgKHVwbG9hZEltZ0FjY2VwdFJ1bGUudGVzdChuYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgLy8g5ZCO57yA5ZCN5LiN5ZCI5rOV77yM5LiN5piv5Zu+54mHXG4gICAgICAgIGVyckluZm9zLnB1c2goXCJcXHUzMDEwXCIgKyBuYW1lICsgXCJcXHUzMDExXCIgKyB0KCfkuI3mmK/lm77niYcnKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heFNpemUgPCBzaXplKSB7XG4gICAgICAgIC8vIOS4iuS8oOWbvueJh+i/h+Wkp1xuICAgICAgICBlcnJJbmZvcy5wdXNoKFwiXFx1MzAxMFwiICsgbmFtZSArIFwiXFx1MzAxMVwiICsgdCgn5aSn5LqOJykgKyBcIiBcIiArIG1heFNpemVNICsgXCJNXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIOmqjOivgemAmui/h+eahOWKoOWFpee7k+aenOWIl+ihqFxuXG5cbiAgICAgIHJlc3VsdEZpbGVzLnB1c2goZmlsZSk7XG4gICAgfSk7IC8vIOaKm+WHuumqjOivgeS/oeaBr1xuXG4gICAgaWYgKGVyckluZm9zLmxlbmd0aCkge1xuICAgICAgY29uZmlnLmN1c3RvbUFsZXJ0KHQoJ+WbvueJh+mqjOivgeacqumAmui/hycpICsgXCI6IFxcblwiICsgZXJySW5mb3Muam9pbignXFxuJyksICd3YXJuaW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyDlpoLmnpzov4fmu6TlkI7mlofku7bliJfooajkuLrnqbrnm7TmjqXov5Tlm55cblxuXG4gICAgaWYgKHJlc3VsdEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uZmlnLmN1c3RvbUFsZXJ0KHQoJ+S8oOWFpeeahOaWh+S7tuS4jeWQiOazlScpLCAnd2FybmluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHRGaWxlcy5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfkuIDmrKHmnIDlpJrkuIrkvKAnKSArIG1heExlbmd0aCArIHQoJ+W8oOWbvueJhycpLCAnd2FybmluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOiHquWumuS5ieS4iuS8oCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgaWYgKGN1c3RvbVVwbG9hZEltZyAmJiB0eXBlb2YgY3VzdG9tVXBsb2FkSW1nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgIGN1c3RvbVVwbG9hZEltZyhyZXN1bHRGaWxlcywgKDAsIF9iaW5kW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSB0aGlzLmluc2VydEltZykuY2FsbChfY29udGV4dCwgdGhpcykpOyAvLyDpmLvmraLku6XkuIvku6PnoIHmiafooYzvvIzph43opoHvvIHvvIHvvIFcblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOS4iuS8oOWbvueJhyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyDmt7vliqDlm77niYfmlbDmja5cblxuXG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkocmVzdWx0RmlsZXMpLmNhbGwocmVzdWx0RmlsZXMsIGZ1bmN0aW9uIChmaWxlLCBpbmRleCkge1xuICAgICAgdmFyIG5hbWUgPSB1cGxvYWRGaWxlTmFtZSB8fCBmaWxlLm5hbWU7XG5cbiAgICAgIGlmIChyZXN1bHRGaWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIOWkmuS4quaWh+S7tuaXtu+8jGZpbGVuYW1lIOS4jeiDvemHjeWkjVxuICAgICAgICBuYW1lID0gbmFtZSArIChpbmRleCArIDEpO1xuICAgICAgfVxuXG4gICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgZmlsZSk7XG4gICAgfSk7XG5cbiAgICBpZiAodXBsb2FkSW1nU2VydmVyKSB7XG4gICAgICAvLyDmt7vliqDoh6rlrprkuYnlj4LmlbBcbiAgICAgIHZhciB1cGxvYWRJbWdTZXJ2ZXJBcnIgPSB1cGxvYWRJbWdTZXJ2ZXIuc3BsaXQoJyMnKTtcbiAgICAgIHVwbG9hZEltZ1NlcnZlciA9IHVwbG9hZEltZ1NlcnZlckFyclswXTtcbiAgICAgIHZhciB1cGxvYWRJbWdTZXJ2ZXJIYXNoID0gdXBsb2FkSW1nU2VydmVyQXJyWzFdIHx8ICcnO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodXRpbF8xKS5jYWxsKHV0aWxfMSwgdXBsb2FkSW1nUGFyYW1zLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICAgICAgLy8g5Zug5L2/55So6ICF5Y+N5bqU77yM6Ieq5a6a5LmJ5Y+C5pWw5LiN6IO96buY6K6kIGVuY29kZSDvvIznlLEgdjMuMS4xIOeJiOacrOW8gOWni+azqOmHiuaOiVxuICAgICAgICAvLyB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQodmFsKVxuICAgICAgICAvLyDnrKzkuIDvvIzlsIblj4LmlbDmi7zmjqXliLAgdXJsIOS4rVxuICAgICAgICBpZiAodXBsb2FkSW1nUGFyYW1zV2l0aFVybCkge1xuICAgICAgICAgIGlmICgoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKSh1cGxvYWRJbWdTZXJ2ZXIpLmNhbGwodXBsb2FkSW1nU2VydmVyLCAnPycpID4gMCkge1xuICAgICAgICAgICAgdXBsb2FkSW1nU2VydmVyICs9ICcmJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBsb2FkSW1nU2VydmVyICs9ICc/JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGxvYWRJbWdTZXJ2ZXIgPSB1cGxvYWRJbWdTZXJ2ZXIgKyBrZXkgKyAnPScgKyB2YWw7XG4gICAgICAgIH0gLy8g56ys5LqM77yM5bCG5Y+C5pWw5re75Yqg5YiwIGZvcm1EYXRhIOS4rVxuXG5cbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXBsb2FkSW1nU2VydmVySGFzaCkge1xuICAgICAgICB1cGxvYWRJbWdTZXJ2ZXIgKz0gJyMnICsgdXBsb2FkSW1nU2VydmVySGFzaDtcbiAgICAgIH0gLy8g5byA5aeL5LiK5LygXG5cblxuICAgICAgdmFyIHhociA9IHVwbG9hZF9jb3JlXzFbXCJkZWZhdWx0XCJdKHVwbG9hZEltZ1NlcnZlciwge1xuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxuICAgICAgICBmb3JtRGF0YTogZm9ybURhdGEsXG4gICAgICAgIGhlYWRlcnM6IHVwbG9hZEltZ0hlYWRlcnMsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogISF3aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uIGJlZm9yZVNlbmQoeGhyKSB7XG4gICAgICAgICAgaWYgKGhvb2tzLmJlZm9yZSkgcmV0dXJuIGhvb2tzLmJlZm9yZSh4aHIsIGVkaXRvciwgcmVzdWx0RmlsZXMpO1xuICAgICAgICB9LFxuICAgICAgICBvblRpbWVvdXQ6IGZ1bmN0aW9uIG9uVGltZW91dCh4aHIpIHtcbiAgICAgICAgICBjb25maWcuY3VzdG9tQWxlcnQodCgn5LiK5Lyg5Zu+54mH6LaF5pe2JyksICdlcnJvcicpO1xuICAgICAgICAgIGlmIChob29rcy50aW1lb3V0KSBob29rcy50aW1lb3V0KHhociwgZWRpdG9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gb25Qcm9ncmVzcyhwZXJjZW50LCBlKSB7XG4gICAgICAgICAgdmFyIHByb2dyZXNzQmFyID0gbmV3IHByb2dyZXNzXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG5cbiAgICAgICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gZS5sb2FkZWQgLyBlLnRvdGFsO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2hvdyhwZXJjZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoeGhyKSB7XG4gICAgICAgICAgY29uZmlnLmN1c3RvbUFsZXJ0KHQoJ+S4iuS8oOWbvueJh+mUmeivrycpLCAnZXJyb3InLCB0KCfkuIrkvKDlm77niYfplJnor68nKSArIFwiXFx1RkYwQ1wiICsgdCgn5pyN5Yqh5Zmo6L+U5Zue54q25oCBJykgKyBcIjogXCIgKyB4aHIuc3RhdHVzKTtcbiAgICAgICAgICBpZiAoaG9va3MuZXJyb3IpIGhvb2tzLmVycm9yKHhociwgZWRpdG9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25GYWlsOiBmdW5jdGlvbiBvbkZhaWwoeGhyLCByZXN1bHRTdHIpIHtcbiAgICAgICAgICBjb25maWcuY3VzdG9tQWxlcnQodCgn5LiK5Lyg5Zu+54mH5aSx6LSlJyksICdlcnJvcicsIHQoJ+S4iuS8oOWbvueJh+i/lOWbnue7k+aenOmUmeivrycpICsgKFwiXFx1RkYwQ1wiICsgdCgn6L+U5Zue57uT5p6cJykgKyBcIjogXCIpICsgcmVzdWx0U3RyKTtcbiAgICAgICAgICBpZiAoaG9va3MuZmFpbCkgaG9va3MuZmFpbCh4aHIsIGVkaXRvciwgcmVzdWx0U3RyKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoeGhyLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaG9va3MuY3VzdG9tSW5zZXJ0KSB7XG4gICAgICAgICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICAgICAgICAvLyDoh6rlrprkuYnmj5LlhaXlm77niYdcbiAgICAgICAgICAgIGhvb2tzLmN1c3RvbUluc2VydCgoMCwgX2JpbmRbXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSBfdGhpc18xLmluc2VydEltZykuY2FsbChfY29udGV4dDIsIF90aGlzXzEpLCByZXN1bHQsIGVkaXRvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJubyAhPSAnMCcpIHtcbiAgICAgICAgICAgIC8vIOi/lOWbnuagvOW8j+S4jeWvue+8jOW6lOivpeS4uiB7IGVycm5vOiAwLCBkYXRhOiBbLi4uXSB9XG4gICAgICAgICAgICBjb25maWcuY3VzdG9tQWxlcnQodCgn5LiK5Lyg5Zu+54mH5aSx6LSlJyksICdlcnJvcicsIHQoJ+S4iuS8oOWbvueJh+i/lOWbnue7k+aenOmUmeivrycpICsgXCJcXHVGRjBDXCIgKyB0KCfov5Tlm57nu5PmnpwnKSArIFwiIGVycm5vPVwiICsgcmVzdWx0LmVycm5vKTtcbiAgICAgICAgICAgIGlmIChob29rcy5mYWlsKSBob29rcy5mYWlsKHhociwgZWRpdG9yLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8g5oiQ5Yqf77yM5o+S5YWl5Zu+54mHXG5cblxuICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoZGF0YSkuY2FsbChkYXRhLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBsaW5rID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBfdGhpc18xLmluc2VydEltZyhsaW5rKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzXzEuaW5zZXJ0SW1nKGxpbmsudXJsLCBsaW5rLmFsdCwgbGluay5ocmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTsgLy8g6ZKp5a2Q5Ye95pWwXG5cbiAgICAgICAgICBpZiAoaG9va3Muc3VjY2VzcykgaG9va3Muc3VjY2Vzcyh4aHIsIGVkaXRvciwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0eXBlb2YgeGhyID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyDkuIrkvKDooqvpmLvmraJcbiAgICAgICAgY29uZmlnLmN1c3RvbUFsZXJ0KHhociwgJ2Vycm9yJyk7XG4gICAgICB9IC8vIOmYu+atouS7peS4i+S7o+eggeaJp+ihjO+8jOmHjeimge+8ge+8ge+8gVxuXG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDmmL7npLogYmFzZTY0IOagvOW8jyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgaWYgKHVwbG9hZEltZ1Nob3dCYXNlNjQpIHtcbiAgICAgIHV0aWxfMS5hcnJGb3JFYWNoKGZpbGVzLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfdGhpc18xO1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMucmVzdWx0KSByZXR1cm47XG4gICAgICAgICAgdmFyIGltZ0xpbmsgPSB0aGlzLnJlc3VsdC50b1N0cmluZygpO1xuXG4gICAgICAgICAgX3RoaXMuaW5zZXJ0SW1nKGltZ0xpbmssIGltZ0xpbmspO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVcGxvYWRJbWc7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVXBsb2FkSW1nO1xuXG4vKioqLyB9KSxcbi8qIDEwNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2V2ZXJ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyNikpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX3NsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlYWxUZXh0Tm9kZSA9IGV4cG9ydHMuaXNBbGxUb2RvID0gZXhwb3J0cy5pc1RvZG8gPSBleHBvcnRzLmdldEN1cnNvck5leHROb2RlID0gdm9pZCAwO1xuLyoqXG4gKiDliKTmlq3kvKDlhaXnmoTljZXooYzpobbnuqfpgInljLrpgInlj5bmmK/kuI3mmK90b2RvXG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWvueixoVxuICovXG5cbmZ1bmN0aW9uIGlzVG9kbygkdG9wU2VsZWN0RWxlbSkge1xuICBpZiAoJHRvcFNlbGVjdEVsZW0ubGVuZ3RoKSB7XG4gICAgcmV0dXJuICR0b3BTZWxlY3RFbGVtLmF0dHIoJ2NsYXNzJykgPT09ICd3LWUtdG9kbyc7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydHMuaXNUb2RvID0gaXNUb2RvO1xuLyoqXG4gKiDliKTmlq3pgInkuK3nmoTlhoXlrrnmmK/kuI3mmK/pg73mmK90b2RvXG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWvueixoVxuICovXG5cbmZ1bmN0aW9uIGlzQWxsVG9kbyhlZGl0b3IpIHtcbiAgdmFyICR0b3BTZWxlY3RFbGVtcyA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uUmFuZ2VUb3BOb2RlcygpOyAvLyDmjpLpmaTkuLpbXeeahOaDheWGtVxuXG4gIGlmICgkdG9wU2VsZWN0RWxlbXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIHJldHVybiAoMCwgX2V2ZXJ5W1wiZGVmYXVsdFwiXSkoJHRvcFNlbGVjdEVsZW1zKS5jYWxsKCR0b3BTZWxlY3RFbGVtcywgZnVuY3Rpb24gKCR0b3BTZWxlY3RFbGVtKSB7XG4gICAgcmV0dXJuIGlzVG9kbygkdG9wU2VsZWN0RWxlbSk7XG4gIH0pO1xufVxuXG5leHBvcnRzLmlzQWxsVG9kbyA9IGlzQWxsVG9kbztcbi8qKlxuICog5qC55o2u5omA5Zyo55qE5paH5pys6IqC54K55ZKM5YWJ5qCH5Zyo5paH5pys6IqC54K555qE5L2N572u6I635Y+W5oiq5pat55qE5ZCO6IqC54K55YaF5a65XG4gKiBAcGFyYW0gbm9kZSDpobbnuqfoioLngrlcbiAqIEBwYXJhbSB0ZXh0Tm9kZSDlhYnmoIfmiYDlnKjnmoTmlofmnKzoioLngrlcbiAqIEBwYXJhbSBwb3Mg5YWJ5qCH5Zyo5paH5pys6IqC54K555qE5L2N572uXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q3Vyc29yTmV4dE5vZGUobm9kZSwgdGV4dE5vZGUsIHBvcykge1xuICB2YXIgX2NvbnRleHQ7XG5cbiAgaWYgKCFub2RlLmhhc0NoaWxkTm9kZXMoKSkgcmV0dXJuO1xuICB2YXIgbmV3Tm9kZSA9IG5vZGUuY2xvbmVOb2RlKCk7IC8vIOWIpOaWreWFieagh+aYr+WQpuWcqOacq+WwvlxuXG4gIHZhciBlbmQgPSBmYWxzZTtcblxuICBpZiAodGV4dE5vZGUubm9kZVZhbHVlID09PSAnJykge1xuICAgIGVuZCA9IHRydWU7XG4gIH1cblxuICB2YXIgZGVsQXJyID0gW107XG4gICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gbm9kZS5jaGlsZE5vZGVzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAodikge1xuICAgIC8v5YWJ5qCH5ZCO55qE5YaF5a65XG4gICAgaWYgKCFpc0NvbnRhaW5zKHYsIHRleHROb2RlKSAmJiBlbmQpIHtcbiAgICAgIG5ld05vZGUuYXBwZW5kQ2hpbGQodi5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgICBpZiAodi5ub2RlTmFtZSAhPT0gJ0JSJykge1xuICAgICAgICBkZWxBcnIucHVzaCh2KTtcbiAgICAgIH1cbiAgICB9IC8vIOWFieagh+aJgOWcqOeahOWMuuWfn1xuXG5cbiAgICBpZiAoaXNDb250YWlucyh2LCB0ZXh0Tm9kZSkpIHtcbiAgICAgIGlmICh2Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIHZhciBjaGlsZE5vZGUgPSBnZXRDdXJzb3JOZXh0Tm9kZSh2LCB0ZXh0Tm9kZSwgcG9zKTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE5vZGUudGV4dENvbnRlbnQgIT09ICcnKSBuZXdOb2RlID09PSBudWxsIHx8IG5ld05vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5ld05vZGUuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgaWYgKHRleHROb2RlLmlzRXF1YWxOb2RlKHYpKSB7XG4gICAgICAgICAgdmFyIHRleHRDb250ZW50ID0gZGVhbFRleHROb2RlKHYsIHBvcyk7XG4gICAgICAgICAgbmV3Tm9kZS50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVuZCA9IHRydWU7XG4gICAgfVxuICB9KTsgLy8g5Yig6Zmk6YCJ5Lit5ZCO5Y6f5p2l55qE6IqC54K5XG5cbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoZGVsQXJyKS5jYWxsKGRlbEFyciwgZnVuY3Rpb24gKHYpIHtcbiAgICB2YXIgbm9kZSA9IHY7XG4gICAgbm9kZS5yZW1vdmUoKTtcbiAgfSk7XG4gIHJldHVybiBuZXdOb2RlO1xufVxuXG5leHBvcnRzLmdldEN1cnNvck5leHROb2RlID0gZ2V0Q3Vyc29yTmV4dE5vZGU7XG4vKipcbiAqIOWIpOaWrW90aGVyTm9kZeaYr+WQpuWMheWQq+WcqG5vZGXkuK1cbiAqIEBwYXJhbSBub2RlIOeItuiKgueCuVxuICogQHBhcmFtIG90aGVyTm9kZSDpnIDopoHliKTmlq3mmK/kuI3mmK/ooqvljIXlkKvnmoToioLngrlcbiAqL1xuXG5mdW5jdGlvbiBpc0NvbnRhaW5zKG5vZGUsIG90aGVyTm9kZSkge1xuICAvLyDlhbzlrrlpZTEx5LitdGV4dE5vZGXkuI3mlK/mjIFjb250YWluc+aWueazlVxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgIHJldHVybiBub2RlLm5vZGVWYWx1ZSA9PT0gb3RoZXJOb2RlLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiBub2RlLmNvbnRhaW5zKG90aGVyTm9kZSk7XG59XG4vKipcbiAqIOiOt+WPluaWsOeahOaWh+acrOiKgueCuVxuICogQHBhcmFtIG5vZGUg6KaB5aSE55CG55qE5paH5pys6IqC54K5XG4gKiBAcGFyYW0gcG9zICDlhYnmoIflnKjmlofmnKzoioLngrnmiYDlnKjnmoTkvY3nva5cbiAqIEBwYXJhbSBzdGFydCDorr7nva7kuLp0cnVl5pe25L+d55WZ5byA5aeL5L2N572u5Yiw5YWJ5qCH55qE5YaF5a6577yM6K6+572u5Li6ZmFsc2Xml7bliKDljrvlvIDlp4vnmoTlhoXlrrlcbiAqL1xuXG5cbmZ1bmN0aW9uIGRlYWxUZXh0Tm9kZShub2RlLCBwb3MsIHN0YXJ0KSB7XG4gIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7XG4gICAgc3RhcnQgPSB0cnVlO1xuICB9XG5cbiAgdmFyIGNvbnRlbnQgPSBub2RlLm5vZGVWYWx1ZTtcbiAgdmFyIG9sZENvbnRlbnQgPSBjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICgwLCBfc2xpY2VbXCJkZWZhdWx0XCJdKShjb250ZW50KS5jYWxsKGNvbnRlbnQsIDAsIHBvcyk7XG4gIGNvbnRlbnQgPSBjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICgwLCBfc2xpY2VbXCJkZWZhdWx0XCJdKShjb250ZW50KS5jYWxsKGNvbnRlbnQsIHBvcyk7IC8vIHN0YXJ05Li6ZmFsc2Xml7bmm7/mjaJjb250ZW505ZKMb2xkQ29udGVudFxuXG4gIGlmICghc3RhcnQpIHtcbiAgICB2YXIgdGVtcCA9IGNvbnRlbnQ7XG4gICAgY29udGVudCA9IG9sZENvbnRlbnQ7XG4gICAgb2xkQ29udGVudCA9IHRlbXA7XG4gIH1cblxuICBub2RlLm5vZGVWYWx1ZSA9IG9sZENvbnRlbnQ7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG5leHBvcnRzLmRlYWxUZXh0Tm9kZSA9IGRlYWxUZXh0Tm9kZTtcblxuLyoqKi8gfSksXG4vKiAxMDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWPjOagiOWunueOsOaSpOmUgOaBouWkjVxuICogQGF1dGhvciBmYW5nemhpY29uZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBzdGFja18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDYpO1xuXG52YXIgQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhY2hlKG1heFNpemUpIHtcbiAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplO1xuICAgIC8qKlxuICAgICAqIOS4iuS4gOatpeaTjeS9nOaYr+WQpuS4uiDmkqTplIAv5oGi5aSNXG4gICAgICovXG5cbiAgICB0aGlzLmlzUmUgPSBmYWxzZTtcbiAgICB0aGlzLmRhdGEgPSBuZXcgc3RhY2tfMS5DZWlsU3RhY2sobWF4U2l6ZSk7XG4gICAgdGhpcy5yZXZva2VEYXRhID0gbmV3IHN0YWNrXzEuQ2VpbFN0YWNrKG1heFNpemUpO1xuICB9XG5cbiAgKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKENhY2hlLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAvKipcbiAgICAgKiDov5Tlm57lvZPliY3moIjkuK3nmoTmlbDmja7plb/luqbjgILmoLzlvI/kuLrvvJpb5q2j5bi455qE5pWw5o2u55qE5p2h5pWw77yM6KKr5pKk6ZSA55qE5pWw5o2u55qE5p2h5pWwXVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFt0aGlzLmRhdGEuc2l6ZSwgdGhpcy5yZXZva2VEYXRhLnNpemVdO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICAvKipcbiAgICog6YeN6K6+5pWw5o2u57yT5a2Y5Zmo55qE57yT5a2Y6ZW/5bqm77yI56ys5LiA5qyh5pyJ5pWI77yJXG4gICAqL1xuXG4gIENhY2hlLnByb3RvdHlwZS5yZXNldE1heFNpemUgPSBmdW5jdGlvbiAobWF4U2l6ZSkge1xuICAgIHRoaXMuZGF0YS5yZXNldE1heChtYXhTaXplKTtcbiAgICB0aGlzLnJldm9rZURhdGEucmVzZXRNYXgobWF4U2l6ZSk7XG4gIH07XG4gIC8qKlxuICAgKiDkv53lrZjmlbDmja5cbiAgICovXG5cblxuICBDYWNoZS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKHRoaXMuaXNSZSkge1xuICAgICAgdGhpcy5yZXZva2VEYXRhLmNsZWFyKCk7XG4gICAgICB0aGlzLmlzUmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuaW5zdGFjayhkYXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIOaSpOmUgFxuICAgKiBAcGFyYW0gZm4g5pKk6ZSA5pe277yM5aaC5p6c5pyJ5pWw5o2u77yM5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAqL1xuXG5cbiAgQ2FjaGUucHJvdG90eXBlLnJldm9rZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICF0aGlzLmlzUmUgJiYgKHRoaXMuaXNSZSA9IHRydWUpO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhLm91dHN0YWNrKCk7XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5yZXZva2VEYXRhLmluc3RhY2soZGF0YSk7XG4gICAgICBmbihkYXRhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIOaBouWkjVxuICAgKiBAcGFyYW0gZm4g5oGi5aSN5pe277yM5aaC5p6c5pyJ5pWw5o2u77yM5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAqL1xuXG5cbiAgQ2FjaGUucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAhdGhpcy5pc1JlICYmICh0aGlzLmlzUmUgPSB0cnVlKTtcbiAgICB2YXIgZGF0YSA9IHRoaXMucmV2b2tlRGF0YS5vdXRzdGFjaygpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuZGF0YS5pbnN0YWNrKGRhdGEpO1xuICAgICAgZm4oZGF0YSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgcmV0dXJuIENhY2hlO1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhY2hlO1xuXG4vKioqLyB9KSxcbi8qIDEwNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBOQVRJVkVfU1lNQk9MID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX1NZTUJPTFxuICAmJiAhU3ltYm9sLnNoYW1cbiAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcblxuXG4vKioqLyB9KSxcbi8qIDEwOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblxuLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aWVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDEwOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxudmFyIGlzRm9yY2VkID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiB0eXBlb2YgZGV0ZWN0aW9uID09ICdmdW5jdGlvbicgPyBmYWlscyhkZXRlY3Rpb24pXG4gICAgOiAhIWRldGVjdGlvbjtcbn07XG5cbnZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcbnZhciBOQVRJVkUgPSBpc0ZvcmNlZC5OQVRJVkUgPSAnTic7XG52YXIgUE9MWUZJTEwgPSBpc0ZvcmNlZC5QT0xZRklMTCA9ICdQJztcblxubW9kdWxlLmV4cG9ydHMgPSBpc0ZvcmNlZDtcblxuXG4vKioqLyB9KSxcbi8qIDExMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oODUpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzKGhpZGRlbktleXMsIGtleSkgJiYgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG5cblxuLyoqKi8gfSksXG4vKiAxMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b3R5cGVbSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvcikge1xuICB2YXIgcmV0dXJuTWV0aG9kID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICBpZiAocmV0dXJuTWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gYW5PYmplY3QocmV0dXJuTWV0aG9kLmNhbGwoaXRlcmF0b3IpKS52YWx1ZTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDExNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblxudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi50b1N0cmluZztcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKHR5cGVvZiBzdG9yZS5pbnNwZWN0U291cmNlICE9ICdmdW5jdGlvbicpIHtcbiAgc3RvcmUuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nLmNhbGwoaXQpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0b3JlLmluc3BlY3RTb3VyY2U7XG5cblxuLyoqKi8gfSksXG4vKiAxMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gZmFsc2U7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxuLy8gYCVJdGVyYXRvclByb3RvdHlwZSVgIG9iamVjdFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0laXRlcmF0b3Jwcm90b3R5cGUlLW9iamVjdFxudmFyIEl0ZXJhdG9yUHJvdG90eXBlLCBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUsIGFycmF5SXRlcmF0b3I7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLWFycmF5LXByb3RvdHlwZS1rZXlzIC0tIHNhZmUgKi9cbmlmIChbXS5rZXlzKSB7XG4gIGFycmF5SXRlcmF0b3IgPSBbXS5rZXlzKCk7XG4gIC8vIFNhZmFyaSA4IGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICBpZiAoISgnbmV4dCcgaW4gYXJyYXlJdGVyYXRvcikpIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSB0cnVlO1xuICBlbHNlIHtcbiAgICBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihnZXRQcm90b3R5cGVPZihhcnJheUl0ZXJhdG9yKSk7XG4gICAgaWYgKFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkgSXRlcmF0b3JQcm90b3R5cGUgPSBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cbn1cblxudmFyIE5FV19JVEVSQVRPUl9QUk9UT1RZUEUgPSBJdGVyYXRvclByb3RvdHlwZSA9PSB1bmRlZmluZWQgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgdGVzdCA9IHt9O1xuICAvLyBGRjQ0LSBsZWdhY3kgaXRlcmF0b3JzIGNhc2VcbiAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXS5jYWxsKHRlc3QpICE9PSB0ZXN0O1xufSk7XG5cbmlmIChORVdfSVRFUkFUT1JfUFJPVE9UWVBFKSBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5pZiAoKCFJU19QVVJFIHx8IE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSkge1xuICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEl0ZXJhdG9yUHJvdG90eXBlOiBJdGVyYXRvclByb3RvdHlwZSxcbiAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SU1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDExNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuUHJvbWlzZTtcblxuXG4vKioqLyB9KSxcbi8qIDExOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcmVkZWZpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzcmMsIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudW5zYWZlICYmIHRhcmdldFtrZXldKSB0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNyY1trZXldLCBvcHRpb25zKTtcbiAgfSByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDExOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGdldEJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09OU1RSVUNUT1JfTkFNRSkge1xuICB2YXIgQ29uc3RydWN0b3IgPSBnZXRCdWlsdEluKENPTlNUUlVDVE9SX05BTUUpO1xuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xuXG4gIGlmIChERVNDUklQVE9SUyAmJiBDb25zdHJ1Y3RvciAmJiAhQ29uc3RydWN0b3JbU1BFQ0lFU10pIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgU1BFQ0lFUywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgfSk7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBpdGVyYXRvcldpdGhSZXR1cm4gPSB7XG4gICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgZG9uZTogISFjYWxsZWQrKyB9O1xuICAgIH0sXG4gICAgJ3JldHVybic6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFNBRkVfQ0xPU0lORyA9IHRydWU7XG4gICAgfVxuICB9O1xuICBpdGVyYXRvcldpdGhSZXR1cm5bSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktZnJvbSwgbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhdG9yV2l0aFJldHVybiwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gIGlmICghU0tJUF9DTE9TSU5HICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIElURVJBVElPTl9TVVBQT1JUID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogSVRFUkFUSU9OX1NVUFBPUlQgPSB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleGVjKG9iamVjdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIElURVJBVElPTl9TVVBQT1JUO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDEyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xuXG4vLyBgU3BlY2llc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3BlY2llc2NvbnN0cnVjdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBkZWZhdWx0Q29uc3RydWN0b3IpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gZGVmYXVsdENvbnN0cnVjdG9yIDogYUZ1bmN0aW9uKFMpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDEyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBodG1sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcbnZhciBJU19JT1MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG52YXIgSVNfTk9ERSA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXG52YXIgc2V0ID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhciA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgY291bnRlciA9IDA7XG52YXIgcXVldWUgPSB7fTtcbnZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbnZhciBsb2NhdGlvbiwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cbnRyeSB7XG4gIC8vIERlbm8gdGhyb3dzIGEgUmVmZXJlbmNlRXJyb3Igb24gYGxvY2F0aW9uYCBhY2Nlc3Mgd2l0aG91dCBgLS1sb2NhdGlvbmAgZmxhZ1xuICBsb2NhdGlvbiA9IGdsb2JhbC5sb2NhdGlvbjtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxudmFyIHJ1biA9IGZ1bmN0aW9uIChpZCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG5cbnZhciBydW5uZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBydW4oaWQpO1xuICB9O1xufTtcblxudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJ1bihldmVudC5kYXRhKTtcbn07XG5cbnZhciBwb3N0ID0gZnVuY3Rpb24gKGlkKSB7XG4gIC8vIG9sZCBlbmdpbmVzIGhhdmUgbm90IGxvY2F0aW9uLm9yaWdpblxuICBnbG9iYWwucG9zdE1lc3NhZ2UoU3RyaW5nKGlkKSwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCk7XG59O1xuXG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldCB8fCAhY2xlYXIpIHtcbiAgc2V0ID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDE7XG4gICAgd2hpbGUgKGFyZ3VtZW50c0xlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYyAtLSBzcGVjIHJlcXVpcmVtZW50XG4gICAgICAodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSkuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhciA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChJU19OT0RFKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2socnVubmVyKGlkKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhydW5uZXIoaWQpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIC8vIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjI0XG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwgJiYgIUlTX0lPUykge1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gYmluZChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiZcbiAgICB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgICFnbG9iYWwuaW1wb3J0U2NyaXB0cyAmJlxuICAgIGxvY2F0aW9uICYmIGxvY2F0aW9uLnByb3RvY29sICE9PSAnZmlsZTonICYmXG4gICAgIWZhaWxzKHBvc3QpXG4gICkge1xuICAgIGRlZmVyID0gcG9zdDtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgc2V0VGltZW91dChydW5uZXIoaWQpLCAwKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldCxcbiAgY2xlYXI6IGNsZWFyXG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblxubW9kdWxlLmV4cG9ydHMgPSAvKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdCh1c2VyQWdlbnQpO1xuXG5cbi8qKiovIH0pLFxuLyogMTI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQywgeCkge1xuICBhbk9iamVjdChDKTtcbiAgaWYgKGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IEMpIHJldHVybiB4O1xuICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eS5mKEMpO1xuICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gIHJlc29sdmUoeCk7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDEyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjA4KTtcblxuLyoqKi8gfSksXG4vKiAxMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIEludGVybmFsTWV0YWRhdGFNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBpdGVyYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG52YXIgYW5JbnN0YW5jZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpLmY7XG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLmZvckVhY2g7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgaW50ZXJuYWxTdGF0ZUdldHRlckZvciA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FLCB3cmFwcGVyLCBjb21tb24pIHtcbiAgdmFyIElTX01BUCA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignTWFwJykgIT09IC0xO1xuICB2YXIgSVNfV0VBSyA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignV2VhaycpICE9PSAtMTtcbiAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgdmFyIE5hdGl2ZUNvbnN0cnVjdG9yID0gZ2xvYmFsW0NPTlNUUlVDVE9SX05BTUVdO1xuICB2YXIgTmF0aXZlUHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IgJiYgTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICB2YXIgZXhwb3J0ZWQgPSB7fTtcbiAgdmFyIENvbnN0cnVjdG9yO1xuXG4gIGlmICghREVTQ1JJUFRPUlMgfHwgdHlwZW9mIE5hdGl2ZUNvbnN0cnVjdG9yICE9ICdmdW5jdGlvbidcbiAgICB8fCAhKElTX1dFQUsgfHwgTmF0aXZlUHJvdG90eXBlLmZvckVhY2ggJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHsgbmV3IE5hdGl2ZUNvbnN0cnVjdG9yKCkuZW50cmllcygpLm5leHQoKTsgfSkpXG4gICkge1xuICAgIC8vIGNyZWF0ZSBjb2xsZWN0aW9uIGNvbnN0cnVjdG9yXG4gICAgQ29uc3RydWN0b3IgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgQ09OU1RSVUNUT1JfTkFNRSwgSVNfTUFQLCBBRERFUik7XG4gICAgSW50ZXJuYWxNZXRhZGF0YU1vZHVsZS5lbmFibGUoKTtcbiAgfSBlbHNlIHtcbiAgICBDb25zdHJ1Y3RvciA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcbiAgICAgIHNldEludGVybmFsU3RhdGUoYW5JbnN0YW5jZSh0YXJnZXQsIENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FKSwge1xuICAgICAgICB0eXBlOiBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICAgICBjb2xsZWN0aW9uOiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoKVxuICAgICAgfSk7XG4gICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBpdGVyYXRlKGl0ZXJhYmxlLCB0YXJnZXRbQURERVJdLCB7IHRoYXQ6IHRhcmdldCwgQVNfRU5UUklFUzogSVNfTUFQIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGdldEludGVybmFsU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKENPTlNUUlVDVE9SX05BTUUpO1xuXG4gICAgZm9yRWFjaChbJ2FkZCcsICdjbGVhcicsICdkZWxldGUnLCAnZm9yRWFjaCcsICdnZXQnLCAnaGFzJywgJ3NldCcsICdrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJ10sIGZ1bmN0aW9uIChLRVkpIHtcbiAgICAgIHZhciBJU19BRERFUiA9IEtFWSA9PSAnYWRkJyB8fCBLRVkgPT0gJ3NldCc7XG4gICAgICBpZiAoS0VZIGluIE5hdGl2ZVByb3RvdHlwZSAmJiAhKElTX1dFQUsgJiYgS0VZID09ICdjbGVhcicpKSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIEtFWSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGdldEludGVybmFsU3RhdGUodGhpcykuY29sbGVjdGlvbjtcbiAgICAgICAgICBpZiAoIUlTX0FEREVSICYmIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpKSByZXR1cm4gS0VZID09ICdnZXQnID8gdW5kZWZpbmVkIDogZmFsc2U7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbGxlY3Rpb25bS0VZXShhID09PSAwID8gMCA6IGEsIGIpO1xuICAgICAgICAgIHJldHVybiBJU19BRERFUiA/IHRoaXMgOiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgSVNfV0VBSyB8fCBkZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdzaXplJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLmNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgZXhwb3J0ZWRbQ09OU1RSVUNUT1JfTkFNRV0gPSBDb25zdHJ1Y3RvcjtcbiAgJCh7IGdsb2JhbDogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIGV4cG9ydGVkKTtcblxuICBpZiAoIUlTX1dFQUspIGNvbW1vbi5zZXRTdHJvbmcoQ29uc3RydWN0b3IsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDEyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KS5mO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWxNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG52YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG52YXIgRlJFRVpJTkcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMSk7XG5cbnZhciBSRVFVSVJFRCA9IGZhbHNlO1xudmFyIE1FVEFEQVRBID0gdWlkKCdtZXRhJyk7XG52YXIgaWQgPSAwO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWlzZXh0ZW5zaWJsZSAtLSBzYWZlXG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIHNldE1ldGFkYXRhID0gZnVuY3Rpb24gKGl0KSB7XG4gIGRlZmluZVByb3BlcnR5KGl0LCBNRVRBREFUQSwgeyB2YWx1ZToge1xuICAgIG9iamVjdElEOiAnTycgKyBpZCsrLCAvLyBvYmplY3QgSURcbiAgICB3ZWFrRGF0YToge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG5cbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgLy8gcmV0dXJuIGEgcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQURBVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGFkYXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBREFUQV0ub2JqZWN0SUQ7XG59O1xuXG52YXIgZ2V0V2Vha0RhdGEgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICBpZiAoIWhhcyhpdCwgTUVUQURBVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGFkYXRhKGl0KTtcbiAgLy8gcmV0dXJuIHRoZSBzdG9yZSBvZiB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBREFUQV0ud2Vha0RhdGE7XG59O1xuXG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpJTkcgJiYgUkVRVUlSRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBREFUQSkpIHNldE1ldGFkYXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxudmFyIGVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgbWV0YS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4gIFJFUVVJUkVEID0gdHJ1ZTtcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmY7XG4gIHZhciBzcGxpY2UgPSBbXS5zcGxpY2U7XG4gIHZhciB0ZXN0ID0ge307XG4gIHRlc3RbTUVUQURBVEFdID0gMTtcblxuICAvLyBwcmV2ZW50IGV4cG9zaW5nIG9mIG1ldGFkYXRhIGtleVxuICBpZiAoZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0KS5sZW5ndGgpIHtcbiAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSByZXN1bHQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlc3VsdFtpXSA9PT0gTUVUQURBVEEpIHtcbiAgICAgICAgICBzcGxpY2UuY2FsbChyZXN1bHQsIGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgICQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgICAgZ2V0T3duUHJvcGVydHlOYW1lczogZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsTW9kdWxlLmZcbiAgICB9KTtcbiAgfVxufTtcblxudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgZW5hYmxlOiBlbmFibGUsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWtEYXRhOiBnZXRXZWFrRGF0YSxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5oaWRkZW5LZXlzW01FVEFEQVRBXSA9IHRydWU7XG5cblxuLyoqKi8gfSksXG4vKiAxMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWRpc2FibGUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZSAqL1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCkuZjtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5TmFtZXMoaXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XSdcbiAgICA/IGdldFdpbmRvd05hbWVzKGl0KVxuICAgIDogJGdldE93blByb3BlcnR5TmFtZXModG9JbmRleGVkT2JqZWN0KGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KS5mO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xudmFyIHJlZGVmaW5lQWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBhbkluc3RhbmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG52YXIgaXRlcmF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG52YXIgc2V0U3BlY2llcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGZhc3RLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykuZmFzdEtleTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgaW50ZXJuYWxTdGF0ZUdldHRlckZvciA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgdmFyIEMgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBDT05TVFJVQ1RPUl9OQU1FKTtcbiAgICAgIHNldEludGVybmFsU3RhdGUodGhhdCwge1xuICAgICAgICB0eXBlOiBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICAgICBpbmRleDogY3JlYXRlKG51bGwpLFxuICAgICAgICBmaXJzdDogdW5kZWZpbmVkLFxuICAgICAgICBsYXN0OiB1bmRlZmluZWQsXG4gICAgICAgIHNpemU6IDBcbiAgICAgIH0pO1xuICAgICAgaWYgKCFERVNDUklQVE9SUykgdGhhdC5zaXplID0gMDtcbiAgICAgIGlmIChpdGVyYWJsZSAhPSB1bmRlZmluZWQpIGl0ZXJhdGUoaXRlcmFibGUsIHRoYXRbQURERVJdLCB7IHRoYXQ6IHRoYXQsIEFTX0VOVFJJRVM6IElTX01BUCB9KTtcbiAgICB9KTtcblxuICAgIHZhciBnZXRJbnRlcm5hbFN0YXRlID0gaW50ZXJuYWxTdGF0ZUdldHRlckZvcihDT05TVFJVQ1RPUl9OQU1FKTtcblxuICAgIHZhciBkZWZpbmUgPSBmdW5jdGlvbiAodGhhdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGF0KTtcbiAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG4gICAgICB2YXIgcHJldmlvdXMsIGluZGV4O1xuICAgICAgLy8gY2hhbmdlIGV4aXN0aW5nIGVudHJ5XG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgZW50cnkudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgZW50cnlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLmxhc3QgPSBlbnRyeSA9IHtcbiAgICAgICAgICBpbmRleDogaW5kZXggPSBmYXN0S2V5KGtleSwgdHJ1ZSksXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91cyA9IHN0YXRlLmxhc3QsXG4gICAgICAgICAgbmV4dDogdW5kZWZpbmVkLFxuICAgICAgICAgIHJlbW92ZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIGlmICghc3RhdGUuZmlyc3QpIHN0YXRlLmZpcnN0ID0gZW50cnk7XG4gICAgICAgIGlmIChwcmV2aW91cykgcHJldmlvdXMubmV4dCA9IGVudHJ5O1xuICAgICAgICBpZiAoREVTQ1JJUFRPUlMpIHN0YXRlLnNpemUrKztcbiAgICAgICAgZWxzZSB0aGF0LnNpemUrKztcbiAgICAgICAgLy8gYWRkIHRvIGluZGV4XG4gICAgICAgIGlmIChpbmRleCAhPT0gJ0YnKSBzdGF0ZS5pbmRleFtpbmRleF0gPSBlbnRyeTtcbiAgICAgIH0gcmV0dXJuIHRoYXQ7XG4gICAgfTtcblxuICAgIHZhciBnZXRFbnRyeSA9IGZ1bmN0aW9uICh0aGF0LCBrZXkpIHtcbiAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAvLyBmYXN0IGNhc2VcbiAgICAgIHZhciBpbmRleCA9IGZhc3RLZXkoa2V5KTtcbiAgICAgIHZhciBlbnRyeTtcbiAgICAgIGlmIChpbmRleCAhPT0gJ0YnKSByZXR1cm4gc3RhdGUuaW5kZXhbaW5kZXhdO1xuICAgICAgLy8gZnJvemVuIG9iamVjdCBjYXNlXG4gICAgICBmb3IgKGVudHJ5ID0gc3RhdGUuZmlyc3Q7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm5leHQpIHtcbiAgICAgICAgaWYgKGVudHJ5LmtleSA9PSBrZXkpIHJldHVybiBlbnRyeTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIHtcbiAgICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLmNsZWFyKClgIG1ldGhvZHNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5jbGVhclxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmNsZWFyXG4gICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGF0KTtcbiAgICAgICAgdmFyIGRhdGEgPSBzdGF0ZS5pbmRleDtcbiAgICAgICAgdmFyIGVudHJ5ID0gc3RhdGUuZmlyc3Q7XG4gICAgICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgICAgIGVudHJ5LnJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChlbnRyeS5wcmV2aW91cykgZW50cnkucHJldmlvdXMgPSBlbnRyeS5wcmV2aW91cy5uZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGRlbGV0ZSBkYXRhW2VudHJ5LmluZGV4XTtcbiAgICAgICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZmlyc3QgPSBzdGF0ZS5sYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoREVTQ1JJUFRPUlMpIHN0YXRlLnNpemUgPSAwO1xuICAgICAgICBlbHNlIHRoYXQuc2l6ZSA9IDA7XG4gICAgICB9LFxuICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUuZGVsZXRlKGtleSlgIG1ldGhvZHNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5kZWxldGVcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5kZWxldGVcbiAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGF0KTtcbiAgICAgICAgdmFyIGVudHJ5ID0gZ2V0RW50cnkodGhhdCwga2V5KTtcbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgdmFyIG5leHQgPSBlbnRyeS5uZXh0O1xuICAgICAgICAgIHZhciBwcmV2ID0gZW50cnkucHJldmlvdXM7XG4gICAgICAgICAgZGVsZXRlIHN0YXRlLmluZGV4W2VudHJ5LmluZGV4XTtcbiAgICAgICAgICBlbnRyeS5yZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAocHJldikgcHJldi5uZXh0ID0gbmV4dDtcbiAgICAgICAgICBpZiAobmV4dCkgbmV4dC5wcmV2aW91cyA9IHByZXY7XG4gICAgICAgICAgaWYgKHN0YXRlLmZpcnN0ID09IGVudHJ5KSBzdGF0ZS5maXJzdCA9IG5leHQ7XG4gICAgICAgICAgaWYgKHN0YXRlLmxhc3QgPT0gZW50cnkpIHN0YXRlLmxhc3QgPSBwcmV2O1xuICAgICAgICAgIGlmIChERVNDUklQVE9SUykgc3RhdGUuc2l6ZS0tO1xuICAgICAgICAgIGVsc2UgdGhhdC5zaXplLS07XG4gICAgICAgIH0gcmV0dXJuICEhZW50cnk7XG4gICAgICB9LFxuICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKWAgbWV0aG9kc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmZvcmVhY2hcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5mb3JlYWNoXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIHZhciBib3VuZEZ1bmN0aW9uID0gYmluZChjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgMyk7XG4gICAgICAgIHZhciBlbnRyeTtcbiAgICAgICAgd2hpbGUgKGVudHJ5ID0gZW50cnkgPyBlbnRyeS5uZXh0IDogc3RhdGUuZmlyc3QpIHtcbiAgICAgICAgICBib3VuZEZ1bmN0aW9uKGVudHJ5LnZhbHVlLCBlbnRyeS5rZXksIHRoaXMpO1xuICAgICAgICAgIC8vIHJldmVydCB0byB0aGUgbGFzdCBleGlzdGluZyBlbnRyeVxuICAgICAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yZW1vdmVkKSBlbnRyeSA9IGVudHJ5LnByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gYHsgTWFwLCBTZXR9LnByb3RvdHlwZS5oYXMoa2V5KWAgbWV0aG9kc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmhhc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmhhc1xuICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiAhIWdldEVudHJ5KHRoaXMsIGtleSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwgSVNfTUFQID8ge1xuICAgICAgLy8gYE1hcC5wcm90b3R5cGUuZ2V0KGtleSlgIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmdldFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoaXMsIGtleSk7XG4gICAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52YWx1ZTtcbiAgICAgIH0sXG4gICAgICAvLyBgTWFwLnByb3RvdHlwZS5zZXQoa2V5LCB2YWx1ZSlgIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLnNldFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lKHRoaXMsIGtleSA9PT0gMCA/IDAgOiBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IDoge1xuICAgICAgLy8gYFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKWAgbWV0aG9kXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuYWRkXG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lKHRoaXMsIHZhbHVlID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoREVTQ1JJUFRPUlMpIGRlZmluZVByb3BlcnR5KEMucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5zaXplO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBDO1xuICB9LFxuICBzZXRTdHJvbmc6IGZ1bmN0aW9uIChDLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVApIHtcbiAgICB2YXIgSVRFUkFUT1JfTkFNRSA9IENPTlNUUlVDVE9SX05BTUUgKyAnIEl0ZXJhdG9yJztcbiAgICB2YXIgZ2V0SW50ZXJuYWxDb2xsZWN0aW9uU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKENPTlNUUlVDVE9SX05BTUUpO1xuICAgIHZhciBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKElURVJBVE9SX05BTUUpO1xuICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLnsga2V5cywgdmFsdWVzLCBlbnRyaWVzLCBAQGl0ZXJhdG9yIH0oKWAgbWV0aG9kc1xuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5lbnRyaWVzXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmtleXNcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUudmFsdWVzXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLUBAaXRlcmF0b3JcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZW50cmllc1xuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5rZXlzXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLnZhbHVlc1xuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS1AQGl0ZXJhdG9yXG4gICAgZGVmaW5lSXRlcmF0b3IoQywgQ09OU1RSVUNUT1JfTkFNRSwgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gICAgICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICAgICAgdHlwZTogSVRFUkFUT1JfTkFNRSxcbiAgICAgICAgdGFyZ2V0OiBpdGVyYXRlZCxcbiAgICAgICAgc3RhdGU6IGdldEludGVybmFsQ29sbGVjdGlvblN0YXRlKGl0ZXJhdGVkKSxcbiAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgbGFzdDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUodGhpcyk7XG4gICAgICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gICAgICB2YXIgZW50cnkgPSBzdGF0ZS5sYXN0O1xuICAgICAgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG4gICAgICB3aGlsZSAoZW50cnkgJiYgZW50cnkucmVtb3ZlZCkgZW50cnkgPSBlbnRyeS5wcmV2aW91cztcbiAgICAgIC8vIGdldCBuZXh0IGVudHJ5XG4gICAgICBpZiAoIXN0YXRlLnRhcmdldCB8fCAhKHN0YXRlLmxhc3QgPSBlbnRyeSA9IGVudHJ5ID8gZW50cnkubmV4dCA6IHN0YXRlLnN0YXRlLmZpcnN0KSkge1xuICAgICAgICAvLyBvciBmaW5pc2ggdGhlIGl0ZXJhdGlvblxuICAgICAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgIH1cbiAgICAgIC8vIHJldHVybiBzdGVwIGJ5IGtpbmRcbiAgICAgIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHsgdmFsdWU6IGVudHJ5LmtleSwgZG9uZTogZmFsc2UgfTtcbiAgICAgIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4geyB2YWx1ZTogZW50cnkudmFsdWUsIGRvbmU6IGZhbHNlIH07XG4gICAgICByZXR1cm4geyB2YWx1ZTogW2VudHJ5LmtleSwgZW50cnkudmFsdWVdLCBkb25lOiBmYWxzZSB9O1xuICAgIH0sIElTX01BUCA/ICdlbnRyaWVzJyA6ICd2YWx1ZXMnLCAhSVNfTUFQLCB0cnVlKTtcblxuICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlW0BAc3BlY2llc11gIGFjY2Vzc29yc1xuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0LW1hcC1AQHNwZWNpZXNcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1zZXQtQEBzcGVjaWVzXG4gICAgc2V0U3BlY2llcyhDT05TVFJVQ1RPUl9OQU1FKTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDEzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKiovIH0pLFxuLyogMTMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLy8gYFN5bWJvbC5pdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG5cblxuLyoqKi8gfSksXG4vKiAxMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4Myk7XG5cbi8qKiovIH0pLFxuLyogMTMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmoLflvI/phY3nva5cbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgekluZGV4OiAxMDAwMFxufTtcblxuLyoqKi8gfSksXG4vKiAxMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOm7mOiupOW4uOmHj+mFjee9rlxuICogQGF1dGhvciB4aWFva3lvXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBmb2N1czogdHJ1ZSxcbiAgaGVpZ2h0OiAzMDAsXG4gIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5q2j5paHJyxcbiAgekluZGV4RnVsbFNjcmVlbjogMTAwMDIsXG4gIHNob3dGdWxsU2NyZWVuOiB0cnVlXG59O1xuXG4vKioqLyB9KSxcbi8qIDEzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5aSE55CG57KY6LS06YC76L6RXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRQYXN0ZUltZ3MgPSBleHBvcnRzLmdldFBhc3RlSHRtbCA9IGV4cG9ydHMuZ2V0UGFzdGVUZXh0ID0gdm9pZCAwO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgcGFyc2VfaHRtbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMDcpKTtcbi8qKlxuICog6I635Y+W57KY6LS055qE57qv5paH5pysXG4gKiBAcGFyYW0gZSBFdmVudCDlj4LmlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFBhc3RlVGV4dChlKSB7XG4gIC8vIGNvbnN0IGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSlcbiAgdmFyIGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGE7IC8vIOaaguS4jeiAg+iZkSBvcmlnaW5hbEV2ZW50IOeahOaDheWGtVxuXG4gIHZhciBwYXN0ZVRleHQgPSAnJztcblxuICBpZiAoY2xpcGJvYXJkRGF0YSA9PSBudWxsKSB7XG4gICAgcGFzdGVUZXh0ID0gd2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpO1xuICB9IGVsc2Uge1xuICAgIHBhc3RlVGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxfMS5yZXBsYWNlSHRtbFN5bWJvbChwYXN0ZVRleHQpO1xufVxuXG5leHBvcnRzLmdldFBhc3RlVGV4dCA9IGdldFBhc3RlVGV4dDtcbi8qKlxuICog6I635Y+W57KY6LS055qEIGh0bWwg5a2X56ym5LiyXG4gKiBAcGFyYW0gZSBFdmVudCDlj4LmlbBcbiAqIEBwYXJhbSBmaWx0ZXJTdHlsZSDmmK/lkKbov4fmu6Qgc3R5bGUg5qC35byPXG4gKiBAcGFyYW0gaWdub3JlSW1nIOaYr+WQpuW/veeVpSBpbWcg5qCH562+XG4gKi9cblxuZnVuY3Rpb24gZ2V0UGFzdGVIdG1sKGUsIGZpbHRlclN0eWxlLCBpZ25vcmVJbWcpIHtcbiAgaWYgKGZpbHRlclN0eWxlID09PSB2b2lkIDApIHtcbiAgICBmaWx0ZXJTdHlsZSA9IHRydWU7XG4gIH1cblxuICBpZiAoaWdub3JlSW1nID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVJbWcgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBjbGlwYm9hcmREYXRhID0gZS5jbGlwYm9hcmREYXRhOyAvLyDmmoLkuI3ogIPomZEgb3JpZ2luYWxFdmVudCDnmoTmg4XlhrVcblxuICB2YXIgcGFzdGVIdG1sID0gJyc7XG5cbiAgaWYgKGNsaXBib2FyZERhdGEpIHtcbiAgICBwYXN0ZUh0bWwgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvaHRtbCcpO1xuICB9IC8vIOaXoOazlemAmui/hyAndGV4dC9odG1sJyDmoLzlvI/ojrflj5YgaHRtbO+8jOWImeWwneivleiOt+WPliB0ZXh0XG5cblxuICBpZiAoIXBhc3RlSHRtbCkge1xuICAgIHZhciB0ZXh0ID0gZ2V0UGFzdGVUZXh0KGUpO1xuXG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gJyc7IC8vIOayoeacieaJvuWIsOS7u+S9leaWh+Wtl++8jOWImei/lOWbnlxuICAgIH1cblxuICAgIHBhc3RlSHRtbCA9IFwiPHA+XCIgKyB0ZXh0ICsgXCI8L3A+XCI7XG4gIH0gLy8g6L2s6K+RPDHvvIzlkI7pnaLot5/mlbDlrZfnmoTovazor5HmiJAgJmx0OzFcblxuXG4gIHBhc3RlSHRtbCA9IHBhc3RlSHRtbC5yZXBsYWNlKC88KFxcZCkvZ20sIGZ1bmN0aW9uIChfLCBudW0pIHtcbiAgICByZXR1cm4gJyZsdDsnICsgbnVtO1xuICB9KTsgLy8gcGRm5aSN5Yi25Y+q5Lya5pyJ5LiA5LiqbWV0Yeagh+etvu+8jHBhcnNlSHRtbOS4reeahOi/h+a7pG1ldGHmoIfnrb7kvJrlr7zoh7TlkI7pnaLlhoXlrrnkuKLlpLFcblxuICBwYXN0ZUh0bWwgPSBwYXN0ZUh0bWwucmVwbGFjZSgvPChcXC8/bWV0YS4qPyk+L2dpbSwgJycpOyAvLyDliZTpmaTlpJrkvZnnmoTmoIfnrb7jgIHlsZ7mgKdcblxuICBwYXN0ZUh0bWwgPSBwYXJzZV9odG1sXzFbXCJkZWZhdWx0XCJdKHBhc3RlSHRtbCwgZmlsdGVyU3R5bGUsIGlnbm9yZUltZyk7XG4gIHJldHVybiBwYXN0ZUh0bWw7XG59XG5cbmV4cG9ydHMuZ2V0UGFzdGVIdG1sID0gZ2V0UGFzdGVIdG1sO1xuLyoqXG4gKiDojrflj5bnspjotLTnmoTlm77niYfmlofku7ZcbiAqIEBwYXJhbSBlIEV2ZW50IOWPguaVsFxuICovXG5cbmZ1bmN0aW9uIGdldFBhc3RlSW1ncyhlKSB7XG4gIHZhciBfYTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciB0eHQgPSBnZXRQYXN0ZVRleHQoZSk7XG5cbiAgaWYgKHR4dCkge1xuICAgIC8vIOacieaWh+Wtl++8jOWwseW/veeVpeWbvueJh1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXRlbXMgPSAoX2EgPSBlLmNsaXBib2FyZERhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pdGVtcztcbiAgaWYgKCFpdGVtcykgcmV0dXJuIHJlc3VsdDtcbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodXRpbF8xKS5jYWxsKHV0aWxfMSwgaXRlbXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB2YWx1ZS50eXBlO1xuXG4gICAgaWYgKC9pbWFnZS9pLnRlc3QodHlwZSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlLmdldEFzRmlsZSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnRzLmdldFBhc3RlSW1ncyA9IGdldFBhc3RlSW1ncztcblxuLyoqKi8gfSksXG4vKiAxMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwOSk7XG5cbi8qKiovIH0pLFxuLyogMTM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuXG4vKioqLyB9KSxcbi8qIDEzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5LiL5ouJ5YiX6KGoIGNsYXNzXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF9zZXRUaW1lb3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIERyb3BMaXN0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEcm9wTGlzdChtZW51LCBjb25mKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuaGlkZVRpbWVvdXRJZCA9IDA7XG4gICAgdGhpcy5tZW51ID0gbWVudTtcbiAgICB0aGlzLmNvbmYgPSBjb25mOyAvLyDlrrnlmahcblxuICAgIHZhciAkY29udGFpbmVyID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXYgY2xhc3M9XCJ3LWUtZHJvcGxpc3RcIj48L2Rpdj4nKTsgLy8g5qCH6aKYXG5cbiAgICB2YXIgJHRpdGxlID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD5cIiArIGNvbmYudGl0bGUgKyBcIjwvcD5cIik7XG4gICAgJHRpdGxlLmFkZENsYXNzKCd3LWUtZHAtdGl0bGUnKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZCgkdGl0bGUpOyAvLyDliJfooajlkoznsbvlnotcblxuICAgIHZhciBsaXN0ID0gY29uZi5saXN0IHx8IFtdO1xuICAgIHZhciB0eXBlID0gY29uZi50eXBlIHx8ICdsaXN0JzsgLy8gaXRlbSDnmoTngrnlh7vkuovku7ZcblxuICAgIHZhciBjbGlja0hhbmRsZXIgPSBjb25mLmNsaWNrSGFuZGxlciB8fCBjb25zdF8xLkVNUFRZX0ZOOyAvLyDliqDlhaUgRE9NIOW5tue7keWumuS6i+S7tlxuXG4gICAgdmFyICRsaXN0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzx1bCBjbGFzcz1cIicgKyAodHlwZSA9PT0gJ2xpc3QnID8gJ3ctZS1saXN0JyA6ICd3LWUtYmxvY2snKSArICdcIj48L3VsPicpO1xuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxpc3QpLmNhbGwobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciAkZWxlbSA9IGl0ZW0uJGVsZW07XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtLnZhbHVlO1xuICAgICAgdmFyICRsaSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8bGkgY2xhc3M9XCJ3LWUtaXRlbVwiPjwvbGk+Jyk7XG5cbiAgICAgIGlmICgkZWxlbSkge1xuICAgICAgICAkbGkuYXBwZW5kKCRlbGVtKTtcbiAgICAgICAgJGxpc3QuYXBwZW5kKCRsaSk7XG4gICAgICAgICRsaS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNsaWNrSGFuZGxlcih2YWx1ZSk7IC8vIOmYu+atouWGkuazoVxuXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gaXRlbSDngrnlh7vkuYvlkI7vvIzpmpDol48gbGlzdFxuXG4gICAgICAgICAgX3RoaXMuaGlkZVRpbWVvdXRJZCA9ICgwLCBfc2V0VGltZW91dDJbXCJkZWZhdWx0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgICRjb250YWluZXIuYXBwZW5kKCRsaXN0KTsgLy8g57uR5a6a6ZqQ6JeP5LqL5Lu2XG5cbiAgICAkY29udGFpbmVyLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuaGlkZVRpbWVvdXRJZCA9ICgwLCBfc2V0VGltZW91dDJbXCJkZWZhdWx0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDorrDlvZXlsZ7mgKdcblxuICAgIHRoaXMuJGNvbnRhaW5lciA9ICRjb250YWluZXI7XG4gICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Nob3cgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICog5pi+56S6IERyb3BMaXN0XG4gICAqL1xuXG5cbiAgRHJvcExpc3QucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaGlkZVRpbWVvdXRJZCkge1xuICAgICAgLy8g5riF6Zmk5LmL5YmN55qE5a6a5pe26ZqQ6JePXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dElkKTtcbiAgICB9XG5cbiAgICB2YXIgbWVudSA9IHRoaXMubWVudTtcbiAgICB2YXIgJG1lbnVFTGVtID0gbWVudS4kZWxlbTtcbiAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lcjtcblxuICAgIGlmICh0aGlzLl9zaG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVuZGVyZWQpIHtcbiAgICAgIC8vIOaYvuekulxuICAgICAgJGNvbnRhaW5lci5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWKoOWFpSBET00g5LmL5YmN5YWI5a6a5L2N5L2N572uXG4gICAgICB2YXIgbWVudUhlaWdodCA9ICRtZW51RUxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgMDtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMuY29uZi53aWR0aCB8fCAxMDA7IC8vIOm7mOiupOS4uiAxMDBcblxuICAgICAgJGNvbnRhaW5lci5jc3MoJ21hcmdpbi10b3AnLCBtZW51SGVpZ2h0ICsgJ3B4JykuY3NzKCd3aWR0aCcsIHdpZHRoICsgJ3B4Jyk7IC8vIOWKoOWFpeWIsCBET01cblxuICAgICAgJG1lbnVFTGVtLmFwcGVuZCgkY29udGFpbmVyKTtcbiAgICAgIHRoaXMucmVuZGVyZWQgPSB0cnVlO1xuICAgIH0gLy8g5L+u5pS55bGe5oCnXG5cblxuICAgIHRoaXMuX3Nob3cgPSB0cnVlO1xuICB9O1xuICAvKipcbiAgICog6ZqQ6JePIERyb3BMaXN0XG4gICAqL1xuXG5cbiAgRHJvcExpc3QucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRjb250YWluZXIgPSB0aGlzLiRjb250YWluZXI7XG5cbiAgICBpZiAoIXRoaXMuX3Nob3cpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIOmakOiXj+W5tumcgOaUueWxnuaAp1xuXG5cbiAgICAkY29udGFpbmVyLmhpZGUoKTtcbiAgICB0aGlzLl9zaG93ID0gZmFsc2U7XG4gIH07XG5cbiAgKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKERyb3BMaXN0LnByb3RvdHlwZSwgXCJpc1Nob3dcIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3c7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBEcm9wTGlzdDtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wTGlzdDtcblxuLyoqKi8gfSksXG4vKiAxMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOajgOafpemAieWMuuaYr+WQpuWcqOmTvuaOpeS4re+8jOWNs+iPnOWNleaYr+WQpuW6lOivpSBhY3RpdmVcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIGlzQWN0aXZlKGVkaXRvcikge1xuICB2YXIgJHNlbGVjdGlvbkVMZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcblxuICBpZiAoISgkc2VsZWN0aW9uRUxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRUxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVMZW0ubGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgkc2VsZWN0aW9uRUxlbS5nZXROb2RlTmFtZSgpID09PSAnQScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpc0FjdGl2ZTtcblxuLyoqKi8gfSksXG4vKiAxNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOeahOaguOW/g+aWueazlVxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTAwKSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qKlxuICog5Y+R6YCBIHBvc3Qg6K+35rGC77yI55So5LqO5paH5Lu25LiK5Lyg77yJXG4gKiBAcGFyYW0gdXJsIHVybFxuICogQHBhcmFtIG9wdGlvbiDphY3nva7poblcbiAqL1xuXG5cbmZ1bmN0aW9uIHBvc3QodXJsLCBvcHRpb24pIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignUE9TVCcsIHVybCk7IC8vIOi2heaXtu+8jOm7mOiupCAxMHNcblxuICB4aHIudGltZW91dCA9IG9wdGlvbi50aW1lb3V0IHx8IDEwICogMTAwMDtcblxuICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3dhbmdFZGl0b3IgLSDor7fmsYLotoXml7YnKTtcbiAgICBvcHRpb24ub25UaW1lb3V0ICYmIG9wdGlvbi5vblRpbWVvdXQoeGhyKTtcbiAgfTsgLy8g6L+b5bqmXG5cblxuICBpZiAoeGhyLnVwbG9hZCkge1xuICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGVyY2VudCA9IGUubG9hZGVkIC8gZS50b3RhbDtcbiAgICAgIG9wdGlvbi5vblByb2dyZXNzICYmIG9wdGlvbi5vblByb2dyZXNzKHBlcmNlbnQsIGUpO1xuICAgIH07XG4gIH0gLy8g6Ieq5a6a5LmJIGhlYWRlclxuXG5cbiAgaWYgKG9wdGlvbi5oZWFkZXJzKSB7XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodXRpbF8xKS5jYWxsKHV0aWxfMSwgb3B0aW9uLmhlYWRlcnMsIGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgIH0pO1xuICB9IC8vIOi3qOWfn+S8oCBjb29raWVcblxuXG4gIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbi53aXRoQ3JlZGVudGlhbHM7IC8vIOS4iuS8oOS5i+WJjeeahOmSqeWtkOWHveaVsO+8jOWcqCB4aHIuc2VuZCgpIOS5i+WJjeaJp+ihjFxuXG4gIGlmIChvcHRpb24uYmVmb3JlU2VuZCkge1xuICAgIHZhciBiZWZvcmVSZXN1bHQgPSBvcHRpb24uYmVmb3JlU2VuZCh4aHIpO1xuXG4gICAgaWYgKGJlZm9yZVJlc3VsdCAmJiAoMCwgX3R5cGVvZjJbXCJkZWZhdWx0XCJdKShiZWZvcmVSZXN1bHQpID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGJlZm9yZVJlc3VsdC5wcmV2ZW50KSB7XG4gICAgICAgIC8vIOWmguaenOi/lOWbnueahOe7k+aenOaYryB7cHJldmVudDogdHJ1ZSwgbXNnOiAneHh4eCd9IOWImeihqOekuueUqOaIt+aUvuW8g+S4iuS8oFxuICAgICAgICByZXR1cm4gYmVmb3JlUmVzdWx0Lm1zZztcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8g5pyN5Yqh56uv6L+U5Zue5LmL5ZCOXG5cblxuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgIGlmIChzdGF0dXMgPCAyMDApIHJldHVybjsgLy8g6K+35rGC5Y+R6YCB6L+H56iL5Lit77yM5bCa5pyq6L+U5ZueXG5cbiAgICBpZiAoc3RhdHVzID49IDMwMCAmJiBzdGF0dXMgPCA0MDApIHJldHVybjsgLy8g6YeN5a6a5ZCRXG5cbiAgICBpZiAoc3RhdHVzID49IDQwMCkge1xuICAgICAgLy8gNDB4IDUweCDmiqXplJlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3dhbmdFZGl0b3IgLSBYSFIg5oql6ZSZ77yM54q25oCB56CBICcgKyBzdGF0dXMpO1xuICAgICAgaWYgKG9wdGlvbi5vbkVycm9yKSBvcHRpb24ub25FcnJvcih4aHIpOyAvLyDmnInvvIzliJnmiafooYwgb25FcnJvciDlh73mlbDljbPlj69cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RhdHVzID0gMjAwIO+8jOW+l+WIsOe7k+aenFxuXG5cbiAgICB2YXIgcmVzdWx0U3RyID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgaWYgKCgwLCBfdHlwZW9mMltcImRlZmF1bHRcIl0pKHJlc3VsdFN0cikgIT09ICdvYmplY3QnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdFN0cik7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCd3YW5nRWRpdG9yIC0g6L+U5Zue57uT5p6c5LiN5pivIEpTT04g5qC85byPJywgcmVzdWx0U3RyKTtcbiAgICAgICAgaWYgKG9wdGlvbi5vbkZhaWwpIG9wdGlvbi5vbkZhaWwoeGhyLCByZXN1bHRTdHIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdFN0cjtcbiAgICB9XG5cbiAgICBvcHRpb24ub25TdWNjZXNzKHhociwgcmVzdWx0KTtcbiAgfTsgLy8g5Y+R6YCB6K+35rGCXG5cblxuICB4aHIuc2VuZChvcHRpb24uZm9ybURhdGEgfHwgbnVsbCk7XG4gIHJldHVybiB4aHI7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcG9zdDtcblxuLyoqKi8gfSksXG4vKiAxNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOi/m+W6puadoVxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9ub3cgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzU3KSk7XG5cbnZhciBfc2V0VGltZW91dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFByb2dyZXNzKGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMuJHRleHRDb250YWluZXIgPSBlZGl0b3IuJHRleHRDb250YWluZXJFbGVtO1xuICAgIHRoaXMuJGJhciA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2IGNsYXNzPVwidy1lLXByb2dyZXNzXCI+PC9kaXY+Jyk7XG4gICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcbiAgICB0aGlzLnRpbWUgPSAwO1xuICAgIHRoaXMudGltZW91dElkID0gMDtcbiAgfVxuICAvKipcbiAgICog5pi+56S66L+b5bqm5p2hXG4gICAqIEBwYXJhbSBwcm9ncmVzcyDov5vluqbnmb7liIbmr5RcbiAgICovXG5cblxuICBQcm9ncmVzcy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChwcm9ncmVzcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIOS4jeimgemHjeaWsOaYvuekulxuXG5cbiAgICBpZiAodGhpcy5pc1Nob3cpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzU2hvdyA9IHRydWU7IC8vIOa4suafkyAkYmFyXG5cbiAgICB2YXIgJGJhciA9IHRoaXMuJGJhcjtcbiAgICB2YXIgJHRleHRDb250YWluZXIgPSB0aGlzLiR0ZXh0Q29udGFpbmVyO1xuICAgICR0ZXh0Q29udGFpbmVyLmFwcGVuZCgkYmFyKTsgLy8g5pS55Y+Y6L+b5bqm5p2h77yI6Ziy5oqW77yMMTAwbXMg5riy5p+T5LiA5qyh77yJXG5cbiAgICBpZiAoKDAsIF9ub3dbXCJkZWZhdWx0XCJdKSgpIC0gdGhpcy50aW1lID4gMTAwKSB7XG4gICAgICBpZiAocHJvZ3Jlc3MgPD0gMSkge1xuICAgICAgICAkYmFyLmNzcygnd2lkdGgnLCBwcm9ncmVzcyAqIDEwMCArICclJyk7XG4gICAgICAgIHRoaXMudGltZSA9ICgwLCBfbm93W1wiZGVmYXVsdFwiXSkoKTtcbiAgICAgIH1cbiAgICB9IC8vIDUwMG1zIOS5i+WQjumakOiXj1xuXG5cbiAgICB2YXIgdGltZW91dElkID0gdGhpcy50aW1lb3V0SWQ7XG5cbiAgICBpZiAodGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG5cbiAgICB0aGlzLnRpbWVvdXRJZCA9ICgwLCBfc2V0VGltZW91dDJbXCJkZWZhdWx0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5oaWRlKCk7XG4gICAgfSwgNTAwKTtcbiAgfTtcbiAgLyoqXG4gICAqIOmakOiXj1xuICAgKi9cblxuXG4gIFByb2dyZXNzLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkYmFyID0gdGhpcy4kYmFyO1xuICAgICRiYXIucmVtb3ZlKCk7XG4gICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcbiAgICB0aGlzLnRpbWUgPSAwO1xuICAgIHRoaXMudGltZW91dElkID0gMDtcbiAgfTtcblxuICByZXR1cm4gUHJvZ3Jlc3M7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUHJvZ3Jlc3M7XG5cbi8qKiovIH0pLFxuLyogMTQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDml6Dluo/liJfooagv5pyJ5bqP5YiX6KGoXG4gKiBAYXV0aG9yIHRvbmdoYW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5MaXN0VHlwZSA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgRHJvcExpc3RNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSk7XG5cbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBMaXN0SGFuZGxlXzEgPSB0c2xpYl8xLl9faW1wb3J0U3RhcihfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NikpO1xuLyoqXG4gKiDliJfooajnmoTnp43nsbtcbiAqL1xuXG5cbnZhciBMaXN0VHlwZTtcblxuKGZ1bmN0aW9uIChMaXN0VHlwZSkge1xuICBMaXN0VHlwZVtcIk9yZGVyZWRMaXN0XCJdID0gXCJPTFwiO1xuICBMaXN0VHlwZVtcIlVub3JkZXJlZExpc3RcIl0gPSBcIlVMXCI7XG59KShMaXN0VHlwZSA9IGV4cG9ydHMuTGlzdFR5cGUgfHwgKGV4cG9ydHMuTGlzdFR5cGUgPSB7fSkpO1xuXG52YXIgTGlzdCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoTGlzdCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBMaXN0KGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU1RThGXFx1NTIxN1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1saXN0MlxcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICB2YXIgZHJvcExpc3RDb25mID0ge1xuICAgICAgd2lkdGg6IDEzMCxcbiAgICAgIHRpdGxlOiAn5bqP5YiXJyxcbiAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgIGxpc3Q6IFt7XG4gICAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24tbGlzdDIgdy1lLWRyb3AtbGlzdC1pdGVtXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMuZHJvcExpc3RNZW51Lmxpc3Qu5peg5bqP5YiX6KGoJykgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlwiKSxcbiAgICAgICAgdmFsdWU6IExpc3RUeXBlLlVub3JkZXJlZExpc3RcbiAgICAgIH0sIHtcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1saXN0LW51bWJlcmVkIHctZS1kcm9wLWxpc3QtaXRlbVxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiArIGVkaXRvci5pMThuZXh0LnQoJ21lbnVzLmRyb3BMaXN0TWVudS5saXN0LuacieW6j+WIl+ihqCcpICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cIiksXG4gICAgICAgIHZhbHVlOiBMaXN0VHlwZS5PcmRlcmVkTGlzdFxuICAgICAgfV0sXG4gICAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcih2YWx1ZSkge1xuICAgICAgICAvLyDms6jmhI8gdGhpcyDmmK/mjIflkJHlvZPliY3nmoQgTGlzdCDlr7nosaFcbiAgICAgICAgX3RoaXMuY29tbWFuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IsIGRyb3BMaXN0Q29uZikgfHwgdGhpcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBMaXN0LnByb3RvdHlwZS5jb21tYW5kID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7IC8vIOmAieWMuuiMg+WbtOeahCBET00g5YWD57Sg5LiN5a2Y5Zyo77yM5LiN5omn6KGM5ZG95LukXG5cbiAgICBpZiAoJHNlbGVjdGlvbkVsZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOyAvLyDojrflj5bpgInljLrojIPlm7TlhoXnmoTpobbnuqcgRE9NIOWFg+e0oFxuXG4gICAgdGhpcy5oYW5kbGVTZWxlY3Rpb25SYW5nZU5vZGVzKHR5cGUpOyAvLyDmmK/lkKbmv4DmtLtcblxuICAgIHRoaXMudHJ5Q2hhbmdlQWN0aXZlKCk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUudmFsaWRhdG9yID0gZnVuY3Rpb24gKCRzdGFydEVsZW0sICRlbmRFbGVtLCAkdGV4dEVsZW0pIHtcbiAgICBpZiAoISRzdGFydEVsZW0ubGVuZ3RoIHx8ICEkZW5kRWxlbS5sZW5ndGggfHwgJHRleHRFbGVtLmVxdWFsKCRzdGFydEVsZW0pIHx8ICR0ZXh0RWxlbS5lcXVhbCgkZW5kRWxlbSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5oYW5kbGVTZWxlY3Rpb25SYW5nZU5vZGVzID0gZnVuY3Rpb24gKGxpc3RUeXBlKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uOyAvLyDojrflj5Yg5bqP5YiX5qCH562+XG5cbiAgICB2YXIgbGlzdFRhcmdldCA9IGxpc3RUeXBlLnRvTG93ZXJDYXNlKCk7IC8vIOiOt+WPluebuOWvueW6lOeahCDlhYPlsZ7oioLngrlcblxuICAgIHZhciAkc2VsZWN0aW9uRWxlbSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgdmFyICRzdGFydEVsZW0gPSBzZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnRFbGVtKCkuZ2V0Tm9kZVRvcChlZGl0b3IpO1xuICAgIHZhciAkZW5kRWxlbSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25FbmRFbGVtKCkuZ2V0Tm9kZVRvcChlZGl0b3IpOyAvLyDpqozor4HmmK/lkKbmiafooYwg5aSE55CG6YC76L6RXG5cbiAgICBpZiAoIXRoaXMudmFsaWRhdG9yKCRzdGFydEVsZW0sICRlbmRFbGVtLCBlZGl0b3IuJHRleHRFbGVtKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8g6I635Y+W6YCJ5Yy6XG5cblxuICAgIHZhciBfcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcblxuICAgIHZhciBfY29sbGFwc2VkID0gX3JhbmdlID09PSBudWxsIHx8IF9yYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JhbmdlLmNvbGxhcHNlZDsgLy8g6Ziy5q2i5YWJ5qCH55qE5pe25YCZ5Yik5pat5byC5bi4XG5cblxuICAgIGlmICghZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCgkc2VsZWN0aW9uRWxlbSkpIHtcbiAgICAgICRzZWxlY3Rpb25FbGVtID0gJHNlbGVjdGlvbkVsZW0uZ2V0Tm9kZVRvcChlZGl0b3IpO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgZWRpdG9yOiBlZGl0b3IsXG4gICAgICBsaXN0VHlwZTogbGlzdFR5cGUsXG4gICAgICBsaXN0VGFyZ2V0OiBsaXN0VGFyZ2V0LFxuICAgICAgJHNlbGVjdGlvbkVsZW06ICRzZWxlY3Rpb25FbGVtLFxuICAgICAgJHN0YXJ0RWxlbTogJHN0YXJ0RWxlbSxcbiAgICAgICRlbmRFbGVtOiAkZW5kRWxlbVxuICAgIH07XG4gICAgdmFyIGNsYXNzVHlwZTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9kyBzZWxlY3Rpb25FbGVtIOWxnuS6juW6j+WIl+WFg+e0oOeahOaXtuWAmVxuICAgIC8vIOS7o+ihqOedgOW9k+WJjemAieWMuuS4gOWumuaYr+WcqOS4gOS4quW6j+WIl+WFg+e0oOWGheeahFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGlmICh0aGlzLmlzT3JkZXJFbGVtKCRzZWxlY3Rpb25FbGVtKSkge1xuICAgICAgY2xhc3NUeXBlID0gTGlzdEhhbmRsZV8xLkNsYXNzVHlwZS5XcmFwO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9kyBzdGFydEVsZW0g5ZKMIGVuZEVsZW0g5bGe5LqO5bqP5YiX5YWD57Sg55qE5pe25YCZXG4gICAgLy8g5Luj6KGo552A5b2T5YmN6YCJ5Yy65LiA5a6a5piv5Zyo5YaN5Lik5Liq5bqP5YiX55qE5Lit6Ze0KOWMheaLrOS4pOS4quW6j+WIlylcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZWxzZSBpZiAodGhpcy5pc09yZGVyRWxlbSgkc3RhcnRFbGVtKSAmJiB0aGlzLmlzT3JkZXJFbGVtKCRlbmRFbGVtKSkge1xuICAgICAgY2xhc3NUeXBlID0gTGlzdEhhbmRsZV8xLkNsYXNzVHlwZS5Kb2luO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOmAieWMuuW8gOWni+WFg+e0oOS4uiDluo/liJcg55qE5pe25YCZXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGVsc2UgaWYgKHRoaXMuaXNPcmRlckVsZW0oJHN0YXJ0RWxlbSkpIHtcbiAgICAgIGNsYXNzVHlwZSA9IExpc3RIYW5kbGVfMS5DbGFzc1R5cGUuU3RhcnRKb2luO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOmAieWMuue7k+adn+WFg+e0oOS4uiDluo/liJcg55qE5pe25YCZXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGVsc2UgaWYgKHRoaXMuaXNPcmRlckVsZW0oJGVuZEVsZW0pKSB7XG4gICAgICBjbGFzc1R5cGUgPSBMaXN0SGFuZGxlXzEuQ2xhc3NUeXBlLkVuZEpvaW47XG4gICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8g5b2T6YCJ5Yy65LiN5piv5bqP5YiX5YaF5LiU5byA5aS05ZKM57uT5bC+5LiN5piv5bqP5YiX55qE5pe25YCZXG4gICAgLy8g55u05o6l6I635Y+W5omA5pyJ6aG257qn5q616JC954S25ZCO6L+H5rukXG4gICAgLy8g5Luj6KGo552AIOiuvue9ruW6j+WIlyDnmoTmk43kvZxcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZWxzZSB7XG4gICAgICBjbGFzc1R5cGUgPSBMaXN0SGFuZGxlXzEuQ2xhc3NUeXBlLk90aGVyO1xuICAgIH1cblxuICAgIHZhciBsaXN0SGFuZGxlQ21kID0gbmV3IExpc3RIYW5kbGVfMVtcImRlZmF1bHRcIl0oTGlzdEhhbmRsZV8xLmNyZWF0ZUxpc3RIYW5kbGUoY2xhc3NUeXBlLCBvcHRpb25zLCBfcmFuZ2UpKTsgLy8g5pu05paw6YCJ5Yy6XG5cbiAgICB1dGlsc18xLnVwZGF0ZVJhbmdlKGVkaXRvciwgbGlzdEhhbmRsZUNtZC5nZXRTZWxlY3Rpb25SYW5nZUVsZW0oKSwgISFfY29sbGFwc2VkKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaYr+WQpuaYr+W6j+WIl+WFg+e0oOiKgueCuSBVTCBhbmQgT0xcbiAgICogQHBhcmFtICRub2RlXG4gICAqL1xuXG5cbiAgTGlzdC5wcm90b3R5cGUuaXNPcmRlckVsZW0gPSBmdW5jdGlvbiAoJG5vZGUpIHtcbiAgICB2YXIgbm9kZU5hbWUgPSAkbm9kZS5nZXROb2RlTmFtZSgpO1xuXG4gICAgaWYgKG5vZGVOYW1lID09PSBMaXN0VHlwZS5PcmRlcmVkTGlzdCB8fCBub2RlTmFtZSA9PT0gTGlzdFR5cGUuVW5vcmRlcmVkTGlzdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHJldHVybiBMaXN0O1xufShEcm9wTGlzdE1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExpc3Q7XG5cbi8qKiovIH0pLFxuLyogMTQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MTApO1xuXG4vKioqLyB9KSxcbi8qIDE0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5qOA5p+l6YCJ5Yy65piv5ZCm5Zyo5Luj56CB5Lit77yM5Y2z6I+c5Y2V5piv5ZCm5bqU6K+lIGFjdGl2ZVxuICogQGF1dGhvciBsa3dcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBpc0FjdGl2ZShlZGl0b3IpIHtcbiAgdmFyICRzZWxlY3Rpb25FTGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG5cbiAgaWYgKCEoJHNlbGVjdGlvbkVMZW0gPT09IG51bGwgfHwgJHNlbGVjdGlvbkVMZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRzZWxlY3Rpb25FTGVtLmxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoJHNlbGVjdGlvbkVMZW0uZ2V0Tm9kZU5hbWUoKSA9PSAnQ09ERScgfHwgJHNlbGVjdGlvbkVMZW0uZ2V0Tm9kZU5hbWUoKSA9PSAnUFJFJyB8fCAkc2VsZWN0aW9uRUxlbS5wYXJlbnQoKS5nZXROb2RlTmFtZSgpID09ICdDT0RFJyB8fCAkc2VsZWN0aW9uRUxlbS5wYXJlbnQoKS5nZXROb2RlTmFtZSgpID09ICdQUkUnIHx8IC9obGpzLy50ZXN0KCRzZWxlY3Rpb25FTGVtLnBhcmVudCgpLmF0dHIoJ2NsYXNzJykpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaXNBY3RpdmU7XG5cbi8qKiovIH0pLFxuLyogMTQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy50b2RvID0gdm9pZCAwO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciB0b2RvID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiB0b2RvKCRvcmdpbkVsZW0pIHtcbiAgICB2YXIgX2E7XG5cbiAgICB0aGlzLnRlbXBsYXRlID0gXCI8dWwgY2xhc3M9XFxcInctZS10b2RvXFxcIj48bGk+PHNwYW4gY29udGVudGVkaXRhYmxlPVxcXCJmYWxzZVxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIj48L3NwYW4+PC9saT48L3VsPlwiO1xuICAgIHRoaXMuY2hlY2tlZCA9IGZhbHNlO1xuICAgIHRoaXMuJHRvZG8gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0aGlzLnRlbXBsYXRlKTtcbiAgICB0aGlzLiRjaGlsZCA9IChfYSA9ICRvcmdpbkVsZW0gPT09IG51bGwgfHwgJG9yZ2luRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJG9yZ2luRWxlbS5jaGlsZE5vZGVzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9uZSh0cnVlKTtcbiAgfVxuXG4gIHRvZG8ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRjaGlsZCA9IHRoaXMuJGNoaWxkO1xuICAgIHZhciAkaW5wdXRDb250YWluZXIgPSB0aGlzLmdldElucHV0Q29udGFpbmVyKCk7XG5cbiAgICBpZiAoJGNoaWxkKSB7XG4gICAgICAkY2hpbGQuaW5zZXJ0QWZ0ZXIoJGlucHV0Q29udGFpbmVyKTtcbiAgICB9XG4gIH07XG5cbiAgdG9kby5wcm90b3R5cGUuZ2V0SW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0b2RvID0gdGhpcy4kdG9kbztcbiAgICB2YXIgJGlucHV0ID0gKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoJHRvZG8pLmNhbGwoJHRvZG8sICdpbnB1dCcpO1xuICAgIHJldHVybiAkaW5wdXQ7XG4gIH07XG5cbiAgdG9kby5wcm90b3R5cGUuZ2V0SW5wdXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRpbnB1dENvbnRhaW5lciA9IHRoaXMuZ2V0SW5wdXQoKS5wYXJlbnQoKTtcbiAgICByZXR1cm4gJGlucHV0Q29udGFpbmVyO1xuICB9O1xuXG4gIHRvZG8ucHJvdG90eXBlLmdldFRvZG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHRvZG87XG4gIH07XG5cbiAgcmV0dXJuIHRvZG87XG59KCk7XG5cbmV4cG9ydHMudG9kbyA9IHRvZG87XG5cbmZ1bmN0aW9uIGNyZWF0ZVRvZG8oJG9yZ2luRWxlbSkge1xuICB2YXIgdCA9IG5ldyB0b2RvKCRvcmdpbkVsZW0pO1xuICB0LmluaXQoKTtcbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlVG9kbztcblxuLyoqKi8gfSksXG4vKiAxNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWFpeWPo+aWh+S7tlxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE2Mik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cbnZhciBpbmRleF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg5NCkpO1xuXG50c2xpYl8xLl9fZXhwb3J0U3RhcihfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1OCksIGV4cG9ydHMpOyAvLyDmo4DpqozmmK/lkKbmtY/op4jlmajnjq/looNcblxuXG50cnkge1xuICBkb2N1bWVudDtcbn0gY2F0Y2ggKGV4KSB7XG4gIHRocm93IG5ldyBFcnJvcign6K+35Zyo5rWP6KeI5Zmo546v5aKD5LiL6L+Q6KGMJyk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5kZXhfMVtcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuLyogMTQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMTQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbnZhciBPYmplY3QgPSBwYXRoLk9iamVjdDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5pZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5LnNoYW0pIGRlZmluZVByb3BlcnR5LnNoYW0gPSB0cnVlO1xuXG5cbi8qKiovIH0pLFxuLyogMTQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIG9iamVjdERlZmluZVByb3BlcnR5TW9kaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFERVNDUklQVE9SUywgc2hhbTogIURFU0NSSVBUT1JTIH0sIHtcbiAgZGVmaW5lUHJvcGVydHk6IG9iamVjdERlZmluZVByb3BlcnR5TW9kaWxlLmZcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcblxuXG4vKioqLyB9KSxcbi8qIDE1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xudmFyIG9yZGluYXJ5VG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCgndG9QcmltaXRpdmUnKTtcblxuLy8gYFRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlucHV0LCBwcmVmKSB7XG4gIGlmICghaXNPYmplY3QoaW5wdXQpIHx8IGlzU3ltYm9sKGlucHV0KSkgcmV0dXJuIGlucHV0O1xuICB2YXIgZXhvdGljVG9QcmltID0gaW5wdXRbVE9fUFJJTUlUSVZFXTtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHByZWYgPT09IHVuZGVmaW5lZCkgcHJlZiA9ICdkZWZhdWx0JztcbiAgICByZXN1bHQgPSBleG90aWNUb1ByaW0uY2FsbChpbnB1dCwgcHJlZik7XG4gICAgaWYgKCFpc09iamVjdChyZXN1bHQpIHx8IGlzU3ltYm9sKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuICB9XG4gIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnbnVtYmVyJztcbiAgcmV0dXJuIG9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIHByZWYpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuLy8gYE9yZGluYXJ5VG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKHByZWYgPT09ICdzdHJpbmcnICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGlucHV0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbCwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NSk7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307XG5cbi8qKiovIH0pLFxuLyogMTU1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi53LWUtdG9vbGJhcixcXG4udy1lLXRleHQtY29udGFpbmVyLFxcbi53LWUtbWVudS1wYW5lbCB7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICAvKuihqOaDheiPnOWNleagt+W8jyovXFxuICAvKuWIhuWJsue6v+agt+W8jyovXFxufVxcbi53LWUtdG9vbGJhciBoMSxcXG4udy1lLXRleHQtY29udGFpbmVyIGgxLFxcbi53LWUtbWVudS1wYW5lbCBoMSB7XFxuICBmb250LXNpemU6IDMycHggIWltcG9ydGFudDtcXG59XFxuLnctZS10b29sYmFyIGgyLFxcbi53LWUtdGV4dC1jb250YWluZXIgaDIsXFxuLnctZS1tZW51LXBhbmVsIGgyIHtcXG4gIGZvbnQtc2l6ZTogMjRweCAhaW1wb3J0YW50O1xcbn1cXG4udy1lLXRvb2xiYXIgaDMsXFxuLnctZS10ZXh0LWNvbnRhaW5lciBoMyxcXG4udy1lLW1lbnUtcGFuZWwgaDMge1xcbiAgZm9udC1zaXplOiAxOC43MnB4ICFpbXBvcnRhbnQ7XFxufVxcbi53LWUtdG9vbGJhciBoNCxcXG4udy1lLXRleHQtY29udGFpbmVyIGg0LFxcbi53LWUtbWVudS1wYW5lbCBoNCB7XFxuICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcXG59XFxuLnctZS10b29sYmFyIGg1LFxcbi53LWUtdGV4dC1jb250YWluZXIgaDUsXFxuLnctZS1tZW51LXBhbmVsIGg1IHtcXG4gIGZvbnQtc2l6ZTogMTMuMjhweCAhaW1wb3J0YW50O1xcbn1cXG4udy1lLXRvb2xiYXIgcCxcXG4udy1lLXRleHQtY29udGFpbmVyIHAsXFxuLnctZS1tZW51LXBhbmVsIHAge1xcbiAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XFxufVxcbi53LWUtdG9vbGJhciAuZWxlSW1nLFxcbi53LWUtdGV4dC1jb250YWluZXIgLmVsZUltZyxcXG4udy1lLW1lbnUtcGFuZWwgLmVsZUltZyB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBwYWRkaW5nOiAwIDNweDtcXG59XFxuLnctZS10b29sYmFyICosXFxuLnctZS10ZXh0LWNvbnRhaW5lciAqLFxcbi53LWUtbWVudS1wYW5lbCAqIHtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udy1lLXRvb2xiYXIgaHIsXFxuLnctZS10ZXh0LWNvbnRhaW5lciBocixcXG4udy1lLW1lbnUtcGFuZWwgaHIge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBoZWlnaHQ6IDBweDtcXG4gIGJvcmRlcjogMDtcXG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCAjY2NjO1xcbiAgbWFyZ2luOiAyMHB4IDA7XFxufVxcbi53LWUtY2xlYXItZml4OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogdGFibGU7XFxuICBjbGVhcjogYm90aDtcXG59XFxuLnctZS1kcm9wLWxpc3QtaXRlbSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDFweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDdweDtcXG4gIGNvbG9yOiAjMzMzICFpbXBvcnRhbnQ7XFxufVxcbi53LWUtZHJvcC1saXN0LXRsIHtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307XG5cbi8qKiovIH0pLFxuLyogMTU3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTkpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICd3LWUtaWNvbic7XFxuICBzcmM6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIikgZm9ybWF0KCd0cnVldHlwZScpO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG59XFxuW2NsYXNzXj1cXFwidy1lLWljb24tXFxcIl0sXFxuW2NsYXNzKj1cXFwiIHctZS1pY29uLVxcXCJdIHtcXG4gIC8qIHVzZSAhaW1wb3J0YW50IHRvIHByZXZlbnQgaXNzdWVzIHdpdGggYnJvd3NlciBleHRlbnNpb25zIHRoYXQgY2hhbmdlIGZvbnRzICovXFxuICBmb250LWZhbWlseTogJ3ctZS1pY29uJyAhaW1wb3J0YW50O1xcbiAgc3BlYWs6IG5vbmU7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC12YXJpYW50OiBub3JtYWw7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgLyogQmV0dGVyIEZvbnQgUmVuZGVyaW5nID09PT09PT09PT09ICovXFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XFxufVxcbi53LWUtaWNvbi1jbG9zZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxmMDBkXFxcIjtcXG59XFxuLnctZS1pY29uLXVwbG9hZDI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZTljNlxcXCI7XFxufVxcbi53LWUtaWNvbi10cmFzaC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGYwMTRcXFwiO1xcbn1cXG4udy1lLWljb24taGVhZGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGYxZGNcXFwiO1xcbn1cXG4udy1lLWljb24tcGVuY2lsMjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlOTA2XFxcIjtcXG59XFxuLnctZS1pY29uLXBhaW50LWJydXNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGYxZmNcXFwiO1xcbn1cXG4udy1lLWljb24taW1hZ2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZTkwZFxcXCI7XFxufVxcbi53LWUtaWNvbi1wbGF5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5MTJcXFwiO1xcbn1cXG4udy1lLWljb24tbG9jYXRpb246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZTk0N1xcXCI7XFxufVxcbi53LWUtaWNvbi11bmRvOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5NjVcXFwiO1xcbn1cXG4udy1lLWljb24tcmVkbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlOTY2XFxcIjtcXG59XFxuLnctZS1pY29uLXF1b3Rlcy1sZWZ0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5NzdcXFwiO1xcbn1cXG4udy1lLWljb24tbGlzdC1udW1iZXJlZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlOWI5XFxcIjtcXG59XFxuLnctZS1pY29uLWxpc3QyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5YmJcXFwiO1xcbn1cXG4udy1lLWljb24tbGluazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlOWNiXFxcIjtcXG59XFxuLnctZS1pY29uLWhhcHB5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5ZGZcXFwiO1xcbn1cXG4udy1lLWljb24tYm9sZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTYyXFxcIjtcXG59XFxuLnctZS1pY29uLXVuZGVybGluZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTYzXFxcIjtcXG59XFxuLnctZS1pY29uLWl0YWxpYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTY0XFxcIjtcXG59XFxuLnctZS1pY29uLXN0cmlrZXRocm91Z2g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWE2NVxcXCI7XFxufVxcbi53LWUtaWNvbi10YWJsZTI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWE3MVxcXCI7XFxufVxcbi53LWUtaWNvbi1wYXJhZ3JhcGgtbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTc3XFxcIjtcXG59XFxuLnctZS1pY29uLXBhcmFncmFwaC1jZW50ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWE3OFxcXCI7XFxufVxcbi53LWUtaWNvbi1wYXJhZ3JhcGgtcmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWE3OVxcXCI7XFxufVxcbi53LWUtaWNvbi1wYXJhZ3JhcGgtanVzdGlmeTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTdhXFxcIjtcXG59XFxuLnctZS1pY29uLXRlcm1pbmFsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGYxMjBcXFwiO1xcbn1cXG4udy1lLWljb24tcGFnZS1icmVhazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTY4XFxcIjtcXG59XFxuLnctZS1pY29uLWNhbmNlbC1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWEwZFxcXCI7XFxufVxcbi53LWUtaWNvbi1mb250OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGVhNWNcXFwiO1xcbn1cXG4udy1lLWljb24tdGV4dC1oZWlnaDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTVmXFxcIjtcXG59XFxuLnctZS1pY29uLXBhaW50LWZvcm1hdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlOTBjXFxcIjtcXG59XFxuLnctZS1pY29uLWluZGVudC1pbmNyZWFzZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTdiXFxcIjtcXG59XFxuLnctZS1pY29uLWluZGVudC1kZWNyZWFzZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTdjXFxcIjtcXG59XFxuLnctZS1pY29uLXJvdy1oZWlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZTliZVxcXCI7XFxufVxcbi53LWUtaWNvbi1mdWxsc2NyZWVuX2V4aXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZTkwMFxcXCI7XFxufVxcbi53LWUtaWNvbi1mdWxsc2NyZWVuOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXGU5MDFcXFwiO1xcbn1cXG4udy1lLWljb24tc3BsaXQtbGluZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxlYTBiXFxcIjtcXG59XFxuLnctZS1pY29uLWNoZWNrYm94LWNoZWNrZWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcZWE1MlxcXCI7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcblxuLyoqKi8gfSksXG4vKiAxNTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTpmb250L3dvZmY7YmFzZTY0LGQwOUdSZ0FCQUFBQUFCc2tBQXNBQUFBQUd0Z0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCUFV5OHlBQUFCQ0FBQUFHQUFBQUJnRHhJUEZXTnRZWEFBQUFGb0FBQUJIQUFBQVJ6Mm1mQWdaMkZ6Y0FBQUFvUUFBQUFJQUFBQUNBQUFBQkJuYkhsbUFBQUNqQUFBRlh3QUFCVjhJSDcrbUdobFlXUUFBQmdJQUFBQU5nQUFBRFliNmd1bWFHaGxZUUFBR0VBQUFBQWtBQUFBSkFrakJXbG9iWFI0QUFBWVpBQUFBS1FBQUFDa21ZY0VibXh2WTJFQUFCa0lBQUFBVkFBQUFGUmVBbUtZYldGNGNBQUFHVndBQUFBZ0FBQUFJQUEwQUxadVlXMWxBQUFaZkFBQUFZWUFBQUdHbVVvSiszQnZjM1FBQUJzRUFBQUFJQUFBQUNBQUF3QUFBQU1EN3dHUUFBVUFBQUtaQXN3QUFBQ1BBcGtDekFBQUFlc0FNd0VKQUFBQUFBQUFBQUFBQUFBQUFBQUFBUkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBOGZ3RHdQL0FBRUFEd0FCQUFBQUFBUUFBQUFBQUFBQUFBQUFBSUFBQUFBQUFBd0FBQUFNQUFBQWNBQUVBQXdBQUFCd0FBd0FCQUFBQUhBQUVBUUFBQUFBOEFDQUFCQUFjQUFFQUlPa0I2UWJwRGVrUzZVZnBadWwzNmJucHUrbSs2Y2JweStuZjZndnFEZXBTNmx6cVgrcGw2bkhxZlBBTjhCVHhJUEhjOGZ6Ly9mLy9BQUFBQUFBZzZRRHBCdWtNNlJMcFIrbGw2WGZwdWVtNzZiN3B4dW5MNmQvcUMrb042bExxWE9wZjZtTHFjZXAzOEEzd0ZQRWc4ZHp4L1AvOS8vOEFBZi9qRndRWEFCYjdGdmNXd3hhbUZwWVdWUlpVRmxJV1N4WkhGalFXQ1JZSUZjUVZ1eFc1RmJjVnJCV25FQmNRRVE4R0Rrc09MQUFEQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVFBQi8vOEFEd0FCQUFBQUFBQUFBQUFBQWdBQU56a0JBQUFBQUFFQUFBQUFBQUFBQUFBQ0FBQTNPUUVBQUFBQUFRQUFBQUFBQUFBQUFBSUFBRGM1QVFBQUFBQUVBRUVBQVFPL0EzOEFCUUFMQUJFQUZ3QUFBVE1WSVJFekF4RWhGU01WQVRVekVTRTFFVFVoRVNNMUF2L0Evc0orZmdFK3dQNENmdjdDQVQ1K0FyOStBVDc4Z2dFK2ZzQUN2c0Qrd243K0FuNyt3c0FBQUFBQUJBQkJBQUVEdndOL0FBVUFDd0FSQUJjQUFBRWhFU00xSXhNMU14RWhOUUVSSVJVakZSRVZNeFVoRVFLQkFUNSt3TUIrL3NMOXdBRSt3TUQrd2dOLy9zTEEvWDdBL3NKK0FjSUJQbjdBL3Y3QWZnRStBQUFBQUFJQUFQL0FCQUFEd0FBRUFCTUFBQUUzQVNjQkF5NEJKeE0zQVNNQkF5VUJOUUVIQVlDQUFjQkEva0NmRnpzeVk0QUJnTUQrZ01BQ2dBR0Evb0JPQVVCQUFjQkEva0QrblRJN0Z3RVJUZ0dBL29EOWdNQUJnTUQrZ0lBQUFnQUEvOEFFQUFPQUFDa0FMUUFBQVJFak5UUW1JeUVpQmgwQkZCWXpJVEkyUFFFekVTRVZJeUlHRlJFVUZqc0JNalkxRVRRbUt3RTFBU0UxSVFRQXdDWWEvVUFhSmlZYUFzQWFKb0Q5d0NBTkV4TU5nQTBURXcwZ0FVRDlRQUxBQVlBQmdFQWFKaVlhd0JvbUpocEEvd0NBRXczK3dBMFRFdzBCUUEwVFFBR0FRQUFBQkFBQUFBQUVBQU9BQUJBQUlRQXRBRFFBQUFFNEFURVJPQUV4SVRnQk1SRTRBVEVoTlNFaUJoVVJGQll6SVRJMk5SRTBKaU1IRkFZaklpWTFORFl6TWhZVElUVVRBVE0zQThEOGdBT0EvSUFhSmlZYUE0QWFKaVlhZ0Rnb0tEZzRLQ2c0UVAwQTRBRUFRT0FEUVAwQUF3QkFKaHI5QUJvbUpob0RBQm9tNENnNE9DZ29PRGo5dUlBQmdQN0F3QUFBQWdBQUFFQUVBQU5BQURnQVBBQUFBU1luTGdFbkppTWlCdzRCQndZSEJnY09BUWNHRlJRWEhnRVhGaGNXRng0QkZ4WXpNamMrQVRjMk56WTNQZ0UzTmpVMEp5NEJKeVluQVJFTkFRUFZOamc1ZGp3OVB6ODlQSFk1T0RZTEJ3Z0xBd01EQXdzSUJ3czJPRGwyUEQwL1B6MDhkams0TmdzSENBc0RBd01EQ3dnSEMvMnJBVUQrd0FNZ0NBWUdDQUlDQWdJSUJnWUlLU29xV1MwdUx5OHVMVmtxS2lrSUJnWUlBZ0lDQWdnR0JnZ3BLaXBaTFM0dkx5NHRXU29xS2YzZ0FZREF3QUFBQUFBQ0FNRC93QU5BQThBQUd3QW5BQUFCSWdjT0FRY0dGUlFYSGdFWEZqRXdOejRCTnpZMU5DY3VBU2NtQXlJbU5UUTJNeklXRlJRR0FnQkNPenBYR1JreU1uZ3lNakl5ZURJeUdSbFhPanRDVUhCd1VGQndjQVBBR1JsWE9qdENlSDE5ekVGQlFVSE1mWDE0UWpzNlZ4a1ovZ0J3VUZCd2NGQlFjQUFBQVFBQUFBQUVBQU9BQUNzQUFBRWlCdzRCQndZSEp4RWhKejRCTXpJWEhnRVhGaFVVQnc0QkJ3WUhGelkzUGdFM05qVTBKeTRCSnlZakFnQTFNakpjS1NramxnR0FrRFdMVUZCRlJta2VIZ2tKSWhnWUhsVW9JQ0F0REF3b0tJdGVYV29EZ0FvTEp4c2NJNWIrZ0pBMFBCNGVhVVpGVUNzb0tVa2dJUnBnSXlzcllqWTJPV3BkWG9zb0tBQUJBQUFBQUFRQUE0QUFLZ0FBRXhRWEhnRVhGaGMzSmljdUFTY21OVFEzUGdFM05qTXlGaGNISVJFSEppY3VBU2NtSXlJSERnRUhCZ0FNREMwZ0lDaFZIaGdZSWdrSkhoNXBSa1ZRVUlzMWtBR0FsaU1wS1Z3eU1qVnFYVjZMS0NnQmdEazJObUlyS3lOZ0dpRWdTU2tvSzFCRlJta2VIancwa0FHQWxpTWNHeWNMQ2lnb2kxNWRBQUFBQUFJQUFBQkFCQUVEQUFBbUFFMEFBQk15Rng0QkZ4WVZGQWNPQVFjR0l5SW5MZ0VuSmpVbk5EYytBVGMyTXhVaUJnY09BUWMrQVNFeUZ4NEJGeFlWRkFjT0FRY0dJeUluTGdFbkpqVW5ORGMrQVRjMk14VWlCZ2NPQVFjK0FlRXVLU2s5RVJJU0VUMHBLUzR1S1NrOUVSSUJJeU42VWxGZFFIVXRDUkFIQ0JJQ1NTNHBLVDBSRWhJUlBTa3BMaTRwS1QwUkVnRWpJM3BTVVYxQWRTMEpFQWNJRWdJQUVoRTlLU2t1TGlrcFBSRVNFaEU5S1NrdUlGMVJVbm9qSTRBd0xnZ1RDZ0lCRWhFOUtTa3VMaWtwUFJFU0VoRTlLU2t1SUYxUlVub2pJNEF3TGdnVENnSUJBQUFHQUVEL3dBUUFBOEFBQXdBSEFBc0FFUUFkQUNrQUFDVWhGU0VSSVJVaEVTRVZJU2NSSXpVak5STVZNeFVqTlRjMUl6VXpGUlVSSXpVek5TTTFNelVqTlFHQUFvRDlnQUtBL1lBQ2dQMkF3RUJBUUlEQWdJREF3SUNBZ0lDQWdBSUFnQUlBZ01EL0FNQkEvZkl5UUpJOE1rQ1M3djdBUUVCQVFFQUFCZ0FBLzhBRUFBUEFBQU1BQndBTEFCY0FJd0F2QUFBQklSVWhFU0VWSVJFaEZTRUJORFl6TWhZVkZBWWpJaVlSTkRZek1oWVZGQVlqSWlZUk5EWXpNaFlWRkFZaklpWUJnQUtBL1lBQ2dQMkFBb0Q5Z1A2QVN6VTFTMHMxTlV0TE5UVkxTelUxUzBzMU5VdExOVFZMQTRDQS93Q0Evd0NBQTBBMVMwczFOVXRML3JVMVMwczFOVXRML3JVMVMwczFOVXRMQUFVQUFBQkFCV0FEQUFBREFBY0FDd0FPQUJFQUFCTWhGU0VWSVJVaEZTRVZJUUVYTnpVbkJ3QURnUHlBQTREOGdBT0EvSUFENE1EQXdNQURBTUJBd0VEQUFVREF3RURBd0FBQUFBQURBQUFBQUFRQUE2QUFBd0FOQUJRQUFEY2hGU0VsRlNFMUV5RVZJVFVoSlFrQkl4RWpFUUFFQVB3QUJBRDhBSUFCQUFFQUFRRDlZQUVnQVNEZ2dFQkF3RUJBQVFDQWdNQUJJUDdnL3dBQkFBQUFBQUFDQUI3L3pBUGlBN1FBTXdCa0FBQUJJaVluSmljbU5EYzJQd0UrQVRNeUZoY1dGeFlVQndZUEFRWWlKeVkwUHdFMk5DY3VBU01pQmc4QkJoUVhGaFFIRGdFakF5SW1KeVluSmpRM05qOEJOaklYRmhRUEFRWVVGeDRCTXpJMlB3RTJOQ2NtTkRjMk1oY1dGeFlVQndZUEFRNEJJd0c0Q2hNSUl4SVNFaElqd0NOWk1URlpJeU1TRWhJU0kxZ1BMQThQRDFncEtSUXpIQnd6Rk1BcEtROFBDQk1LdURGWkl5TVNFaElTSTFnUExBOFBEMWdwS1JRekhCd3pGTUFwS1E4UER5c1FJeElTRWhJandDTlpNUUZFQ0Fja0xTMWVMUzBrd0NJbEpTSWtMUzFlTFMwa1Z4QVFEeXNQV0NsMEtSUVZGUlRBS1hRcER5c1FCd2oraUNVaUpDMHRYaTB0SkZjUUVBOHJEMWdwZENrVUZSVVV3Q2wwS1E4ckVBOFBKQzB0WGkwdEpNQWlKUUFBQUFBRkFBRC93QVFBQThBQUd3QTNBRk1BWHdCckFBQUZNamMrQVRjMk5UUW5MZ0VuSmlNaUJ3NEJCd1lWRkJjZUFSY1dFeklYSGdFWEZoVVVCdzRCQndZaklpY3VBU2NtTlRRM1BnRTNOaE15Tno0Qk56WTNCZ2NPQVFjR0l5SW5MZ0VuSmljV0Z4NEJGeFluTkRZek1oWVZGQVlqSWlZbE5EWXpNaFlWRkFZaklpWUNBR3BkWG9zb0tDZ29pMTVkYW1wZFhvc29LQ2dvaTE1ZGFsWk1USEVnSVNFZ2NVeE1WbFpNVEhFZ0lTRWdjVXhNVmlzcktsRW1KaU1GSEJ0V09EYy9QemM0VmhzY0JTTW1KbEVxSzlVbEd4c2xKUnNiSlFHQUpSc2JKU1ViR3lWQUtDaUxYbDFxYWwxZWl5Z29LQ2lMWGwxcWFsMWVpeWdvQTZBaElIRk1URlpXVEV4eElDRWhJSEZNVEZaV1RFeHhJQ0grQ1FZR0ZSQVFGRU02T2xZWUdSa1lWam82UXhRUUVCVUdCdmNvT0Rnb0tEZzRLQ2c0T0Nnb09EZ0FBQUVBQUFGQUJBQUNRQUFQQUFBVEZSUVdNeUV5TmowQk5DWWpJU0lHQUJNTkE4QU5FeE1OL0VBTkV3SWd3QTBURXczQURSTVRBQUFBQXdBQS84QUVBQVBBQUJzQU53QkRBQUFCSWdjT0FRY0dGUlFYSGdFWEZqTXlOejRCTnpZMU5DY3VBU2NtQXlJbkxnRW5KalUwTno0Qk56WXpNaGNlQVJjV0ZSUUhEZ0VIQmhNSEp3Y1hCeGMzRnpjbk53SUFhbDFlaXlnb0tDaUxYbDFxYWwxZWl5Z29LQ2lMWGwxcVZreE1jU0FoSVNCeFRFeFdWa3hNY1NBaElTQnhURXhLb0tCZ29LQmdvS0Jnb0tBRHdDZ29pMTVkYW1wZFhvc29LQ2dvaTE1ZGFtcGRYb3NvS1B4Z0lTQnhURXhXVmt4TWNTQWhJU0J4VEV4V1ZreE1jU0FoQXFDZ29HQ2dvR0Nnb0dDZ29BQUNBQUQvd0FRQUE4QUFEd0FWQUFBQklTSUdGUkVVRmpNaE1qWTFFVFFtQVNjM0Z3RVhBNEQ5QURWTFN6VURBRFZMUy80TDdWcVRBVE5hQThCTE5mMEFOVXRMTlFNQU5Vdjg1ZTVha2dFeVdnQUFBQUFCQUdYL3dBT2JBOEFBS1FBQUFTSW1JeUlIRGdFSEJoVVVGak11QVRVME5qY3dCd1lDQndZSEZTRVRNemNqTng0Qk16STJOdzRCQXlCRWFFWnhVMVJ0R2h0SlNBWU5aVW9RRUVzOFBGa0JQV3pHTE5jMExWVW1MbEFZSFQwRHNCQWVIV0UrUDBGTk93c21ONWx2QTMxKy9zV1BrQ01aQWdDQTlna1BOMnNKQndBQUFBQUNBQUFBQUFRQUE0QUFDUUFYQUFBbE13Y25NeEVqTnhjakpSRW5JeEV6RlNFMU14RWpCeEVEZ0lDZ29JQ0FvS0NBL3dCQXdJRCtnSURBUU1EQXdBSUF3TURBL3dDQS9VQkFRQUxBZ0FFQUFBTUF3QUFBQTBBRGdBQVdBQjhBS0FBQUFUNEJOVFFuTGdFbkppTWhFU0V5Tno0Qk56WTFOQ1lCTXpJV0ZSUUdLd0VUSXhFek1oWVZGQVlDeEJ3Z0ZCUkdMaTgxL3NBQmdEVXZMa1lVRkVUK2hHVXFQRHdwWnArZm55dytQZ0hiSWxRdk5TOHVSaFFVL0lBVUZFWXVMelZHZEFGR1N6VTFTLzZBQVFCTE5UVkxBQUFBQUFJQXdBQUFBMEFEZ0FBZkFDTUFBQUV6RVJRSERnRUhCaU1pSnk0Qkp5WTFFVE1SRkJZWEhnRXpNalkzUGdFMUFTRVZJUUxBZ0JrWlZ6bzdRa0k3T2xjWkdZQWJHQnhKS0NoSkhCZ2IvZ0FDZ1AyQUE0RCtZRHcwTlU0V0Z4Y1dUalUwUEFHZy9tQWVPQmNZR3hzWUZ6Z2UvcUNBQUFBQUFBRUFnQUFBQTRBRGdBQUxBQUFCRlNNQk14VWhOVE1CSXpVRGdJRCt3SUQrUUlBQlFJQURnRUQ5QUVCQUF3QkFBQUVBQUFBQUJBQURnQUE5QUFBQkZTTWVBUlVVQmdjT0FTTWlKaWN1QVRVekZCWXpNalkxTkNZaklUVWhMZ0VuTGdFMU5EWTNQZ0V6TWhZWEhnRVZJelFtSXlJR0ZSUVdNeklXRndRQTZ4VVdOVEFzY1Q0K2NTd3dOWUJ5VGs1eWNrNytBQUVzQWdRQk1EVTFNQ3h4UGo1eExEQTFnSEpPVG5KeVRqdHVLd0hBUUIxQklqVmlKQ0VrSkNFa1lqVTBURXcwTkV4QUFRTUJKR0kxTldJa0lTUWtJU1JpTlRSTVREUTBUQ0VmQUFBQUNnQUFBQUFFQUFPQUFBTUFCd0FMQUE4QUV3QVhBQnNBSHdBakFDY0FBQk1SSVJFQk5TRVZIUUVoTlFFVklUVWpGU0UxRVNFVklTVWhGU0VSTlNFVkFTRVZJU0UxSVJVQUJBRDlnQUVBL3dBQkFQOEFRUDhBQVFEL0FBS0FBUUQvQUFFQS9JQUJBUDhBQW9BQkFBT0EvSUFEZ1AzQXdNQkF3TUFDQU1EQXdNRC9BTURBd0FFQXdNRCt3TURBd0FBQUJRQUFBQUFFQUFPQUFBTUFCd0FMQUE4QUV3QUFFeUVWSVJVaEZTRVJJUlVoRVNFVklSRWhGU0VBQkFEOEFBS0EvWUFDZ1AyQUJBRDhBQVFBL0FBRGdJQkFnUDhBZ0FGQWdQOEFnQUFBQUFBRkFBQUFBQVFBQTRBQUF3QUhBQXNBRHdBVEFBQVRJUlVoRnlFVklSRWhGU0VESVJVaEVTRVZJUUFFQVB3QXdBS0EvWUFDZ1AyQXdBUUEvQUFFQVB3QUE0Q0FRSUQvQUlBQlFJRC9BSUFBQUFVQUFBQUFCQUFEZ0FBREFBY0FDd0FQQUJNQUFCTWhGU0VGSVJVaEVTRVZJUUVoRlNFUklSVWhBQVFBL0FBQmdBS0EvWUFDZ1AyQS9vQUVBUHdBQkFEOEFBT0FnRUNBL3dDQUFVQ0Evd0NBQUFBQUFBVUFBQUFBQkFBRGdBQURBQWNBQ3dBUEFCTUFBQk1oRlNFVklSVWhGU0VWSVJVaEZTRVZJUlVoQUFRQS9BQUVBUHdBQkFEOEFBUUEvQUFFQVB3QUE0Q0FRSUJBZ0VDQVFJQUFBQUFHQUFBQUFBUUFBNEFBQXdBSEFBc0FEd0FUQUJZQUFCTWhGU0VGSVJVaEZTRVZJUlVoRlNFRklSVWhHUUVGQUFRQS9BQUJnQUtBL1lBQ2dQMkFBb0Q5Z1A2QUJBRDhBQUVBQTRDQVFJQkFnRUNBUUlBQkFBR0F3QUFBQUFZQUFBQUFCQUFEZ0FBREFBY0FDd0FQQUJNQUZnQUFFeUVWSVFVaEZTRVZJUlVoRlNFVklRVWhGU0VCRVNVQUJBRDhBQUdBQW9EOWdBS0EvWUFDZ1AyQS9vQUVBUHdBQVFEL0FBT0FnRUNBUUlCQWdFQ0FBb0QrZ01BQUFRQS9BRDhDNWdMbUFDd0FBQ1VVRHdFR0l5SXZBUWNHSXlJdkFTWTFORDhCSnlZMU5EOEJOak15SHdFM05qTXlId0VXRlJRUEFSY1dGUUxtRUU0UUZ4Y1FxS2dRRnhZUVRoQVFxS2dRRUU0UUZoY1FxS2dRRnhjUVRoQVFxS2dRd3hZUVRoQVFxS2dRRUU0UUZoY1FxS2dRRnhjUVRoQVFxS2dRRUU0UUZ4Y1FxS2dRRndBQUFBWUFBQUFBQXlVRGJnQVVBQ2dBUEFCTkFGVUFnZ0FBQVJFVUJ3WXJBU0luSmpVUk5EYzJPd0V5RnhZVk14RVVCd1lyQVNJbkpqVVJORGMyT3dFeUZ4WVhFUlFIQmlzQklpY21OUkUwTnpZN0FUSVhGaE1SSVJFVUZ4WVhGak1oTWpjMk56WTFBU0VuSmljakJnY0ZGUlFIQmlzQkVSUUhCaU1oSWljbU5SRWpJaWNtUFFFME56WTdBVGMyTnpZN0FUSVhGaDhCTXpJWEZoVUJKUVlGQ0NRSUJRWUdCUWdrQ0FVR2tnVUZDQ1VJQlFVRkJRZ2xDQVVGa2dVRkNDVUlCUVVGQlFnbENBVUZTZjRBQkFRRkJBSUIyd0lFQkFRRS9vQUJBQnNFQnJVR0JBSDNCZ1VJTnhvYkp2NGxKaHNiTndnRkJRVUZDTEVvQ0JjV0Y3Y1hGaFlKS0xBSUJRWUNFdjYzQ0FVRkJRVUlBVWtJQlFZR0JRait0d2dGQlFVRkNBRkpDQVVHQmdVSS9yY0lCUVVGQlFnQlNRZ0ZCZ1lGL2xzQ0hmM2pEUXNLQlFVRkJRb0xEUUptUXdVQ0FnVlZKQWdHQmYzak1DSWpJU0l2QWlBRkJnZ2tDQVVGWUJVUER3OFBGV0FGQlFnQUFnQUhBRWtEdHdLdkFCb0FMZ0FBQ1FFR0l5SXZBU1kxTkQ4Qkp5WTFORDhCTmpNeUZ3RVdGUlFIQVJVVUJ3WWpJU0luSmowQk5EYzJNeUV5RnhZQlR2NzJCZ2NJQlIwR0J1SGhCZ1lkQlFnSEJnRUtCZ1lDYVFVRkNQM2JDQVVGQlFVSUFpVUlCUVVCaGY3MkJnWWNCZ2dIQnVEaEJnY0hCaDBGQmY3MUJRZ0hCdjc3SlFnRkJRVUZDQ1VJQlFVRkJRQUFBQUVBSXdBQUE5MERiZ0N6QUFBbElpY21JeUlIQmlNaUp5WTFORGMyTnpZM05qYzJQUUUwSnlZaklTSUhCaDBCRkJjV0Z4WXpGaGNXRlJRSEJpTWlKeVlqSWdjR0l5SW5KalUwTnpZM05qYzJOelk5QVJFME5UUTFOQ2MwSnlZbkppY21KeVluSmlNaUp5WTFORGMyTXpJWEZqTXlOell6TWhjV0ZSUUhCaU1HQndZSEJoMEJGQmNXTXlFeU56WTlBVFFuSmljbUp5WTFORGMyTXpJWEZqTXlOell6TWhjV0ZSUUhCZ2NpQndZSEJoVVJGQmNXRnhZWE1oY1dGUlFIQmlNRHdSa3pNaG9aTWpNWkRRZ0hDUW9OREJFUUNoSUJCeFgrZmhZSEFSVUpFaE1PRGd3TEJ3Y09HelUxR2hneE1SZ05Cd2NKQ1FzTUVBOEpFZ0VDQVFJREJBUUZDQklSRFEwS0N3Y0hEaG8xTlJvWU1ERVlEZ2NIQ1FvTURSQVFDQlFCQnc4QmtBNEhBUlFLRnhjUERnY0hEaGt6TWhrWk1URVpEZ2NIQ2dvTkRSQVJDQlFVQ1JFUkRnMEtDd2NIRGdBQ0FnSUNEQXNQRVFrSkFRRURBd1VNUk9BTUJRTURCUXpVVVEwR0FRSUJDQWdTRHd3TkFnSUNBZ3dNRGhFSUNRRUNBd01GRFVVaEFkQUNEUTBJQ0E0T0Nnb0xDd2NIQXdZQkFRZ0lFZzhNRFFJQ0FnSU5EQThSQ0FnQkFnRUdERkMyREFjQkFRY010bEFNQmdFQkJnY1dEd3dOQWdJQ0FnME1EeEVJQ0FFQkFnWU5ULzNtUkF3R0FnSUJDUWdSRHd3TkFBQUNBQUQvdHdQL0E3Y0FFd0E1QUFBQk1oY1dGUlFIQWdjR0l5SW5KalUwTndFMk13RVdGeFlmQVJZSEJpTWlKeVluSmljbU5SWVhGaGNXRnhZek1qYzJOelkzTmpjMk56WTNBNXNvSGg0YXZrdzNSVWcwTkRVQmJTRXAvZmdYSmljdkFRSk1USHRITmpZaElSQVJCQk1VRUJBU0VRa1hDQThTRXhVVkhSMGVIaWtEdHhzYUtDUXovcGxHTkRVMFNVa3dBVXNmL2JFckh4OE5LSHBOVEJvYkxpODZPa1FERHc0TEN3b0tGaVViR2hFUkNnc0VCQUlBQVFBQUFBQUFBSVd3YW9GZkR6ejFBQXNFQUFBQUFBRGJ0ZU9aQUFBQUFOdTE0NWtBQVArM0JXQUR3QUFBQUFnQUFnQUFBQUFBQUFBQkFBQUR3UC9BQUFBRmdBQUEvLzhGWUFBQkFBQUFBQUFBQUFBQUFBQUFBQUFBS1FRQUFBQUFBQUFBQUFBQUFBSUFBQUFFQUFCQkJBQUFRUVFBQUFBRUFBQUFCQUFBQUFRQUFBQUVBQURBQkFBQUFBUUFBQUFFQUFBQUJBQUFRQVFBQUFBRmdBQUFCQUFBQUFRQUFCNEVBQUFBQkFBQUFBUUFBQUFFQUFBQUJBQUFaUVFBQUFBRUFBREFCQUFBd0FRQUFJQUVBQUFBQkFBQUFBUUFBQUFFQUFBQUJBQUFBQVFBQUFBRUFBQUFCQUFBQUFNbEFEOERKUUFBQTc0QUJ3UUFBQ01EL3dBQUFBQUFBQUFLQUJRQUhnQktBSFlBcEFEbUFTNEJrZ0hRQWhZQ1hBTFFBdzREV0FOK0E2Z0VQZ1RlQlBvRlpBV09CZEFGK0FZNkJuWUdqZ2JtQnk0SFZnZCtCNmdIemdmOENDb0liZ2ttQ1hBS1lncStBQUVBQUFBcEFMUUFDZ0FBQUFBQUFnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU9BSzRBQVFBQUFBQUFBUUFIQUFBQUFRQUFBQUFBQWdBSEFHQUFBUUFBQUFBQUF3QUhBRFlBQVFBQUFBQUFCQUFIQUhVQUFRQUFBQUFBQlFBTEFCVUFBUUFBQUFBQUJnQUhBRXNBQVFBQUFBQUFDZ0FhQUlvQUF3QUJCQWtBQVFBT0FBY0FBd0FCQkFrQUFnQU9BR2NBQXdBQkJBa0FBd0FPQUQwQUF3QUJCQWtBQkFBT0FId0FBd0FCQkFrQUJRQVdBQ0FBQXdBQkJBa0FCZ0FPQUZJQUF3QUJCQWtBQ2dBMEFLUnBZMjl0YjI5dUFHa0FZd0J2QUcwQWJ3QnZBRzVXWlhKemFXOXVJREV1TUFCV0FHVUFjZ0J6QUdrQWJ3QnVBQ0FBTVFBdUFEQnBZMjl0YjI5dUFHa0FZd0J2QUcwQWJ3QnZBRzVwWTI5dGIyOXVBR2tBWXdCdkFHMEFid0J2QUc1U1pXZDFiR0Z5QUZJQVpRQm5BSFVBYkFCaEFISnBZMjl0YjI5dUFHa0FZd0J2QUcwQWJ3QnZBRzVHYjI1MElHZGxibVZ5WVhSbFpDQmllU0JKWTI5TmIyOXVMZ0JHQUc4QWJnQjBBQ0FBWndCbEFHNEFaUUJ5QUdFQWRBQmxBR1FBSUFCaUFIa0FJQUJKQUdNQWJ3Qk5BRzhBYndCdUFDNEFBQUFEQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVwiKTtcblxuLyoqKi8gfSksXG4vKiAxNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307XG5cbi8qKiovIH0pLFxuLyogMTYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi53LWUtdG9vbGJhciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZzogMCA2cHg7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAvKiDljZXkuKroj5zljZUgKi9cXG59XFxuLnctZS10b29sYmFyIC53LWUtbWVudSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDQwcHg7XFxuICBoZWlnaHQ6IDQwcHg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi53LWUtdG9vbGJhciAudy1lLW1lbnUgaSB7XFxuICBjb2xvcjogIzk5OTtcXG59XFxuLnctZS10b29sYmFyIC53LWUtbWVudTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjZGNkY2O1xcbn1cXG4udy1lLXRvb2xiYXIgLnctZS1tZW51OmhvdmVyIGkge1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbi53LWUtdG9vbGJhciAudy1lLWFjdGl2ZSBpIHtcXG4gIGNvbG9yOiAjMWU4OGU1O1xcbn1cXG4udy1lLXRvb2xiYXIgLnctZS1hY3RpdmU6aG92ZXIgaSB7XFxuICBjb2xvcjogIzFlODhlNTtcXG59XFxuLnctZS1tZW51LXRvb2x0aXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGNvbG9yOiAjZjFmMWYxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjc1KTtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwYWRkaW5nOiA0cHggNXB4IDZweDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLnctZS1tZW51LXRvb2x0aXAtdXA6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XFxuICBib3JkZXI6IDVweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApO1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjczKTtcXG59XFxuLnctZS1tZW51LXRvb2x0aXAtZG93bjo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDEwMCU7XFxuICBsZWZ0OiA1MCU7XFxuICBtYXJnaW4tbGVmdDogLTVweDtcXG4gIGJvcmRlcjogNXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMCk7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzMpO1xcbn1cXG4udy1lLW1lbnUtdG9vbHRpcC1pdGVtLXdyYXBwZXIge1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbWFyZ2luOiAwIDVweDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDE2MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYXBpID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTtcblxuLyoqKi8gfSksXG4vKiAxNjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLnctZS10ZXh0LWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi53LWUtdGV4dC1jb250YWluZXIgLnctZS1wcm9ncmVzcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWU4OGU1O1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIGhlaWdodDogMXB4O1xcbn1cXG4udy1lLXRleHQtY29udGFpbmVyIC5wbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI0Q0RDRENDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGZvbnQtc2l6ZTogMTFwdDtcXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xcbiAgbGVmdDogMTBweDtcXG4gIHRvcDogMTBweDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB6LWluZGV4OiAtMTtcXG59XFxuLnctZS10ZXh0IHtcXG4gIHBhZGRpbmc6IDAgMTBweDtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxufVxcbi53LWUtdGV4dCBwLFxcbi53LWUtdGV4dCBoMSxcXG4udy1lLXRleHQgaDIsXFxuLnctZS10ZXh0IGgzLFxcbi53LWUtdGV4dCBoNCxcXG4udy1lLXRleHQgaDUsXFxuLnctZS10ZXh0IHRhYmxlLFxcbi53LWUtdGV4dCBwcmUge1xcbiAgbWFyZ2luOiAxMHB4IDA7XFxuICBsaW5lLWhlaWdodDogMS41O1xcbn1cXG4udy1lLXRleHQgdWwsXFxuLnctZS10ZXh0IG9sIHtcXG4gIG1hcmdpbjogMTBweCAwIDEwcHggMjBweDtcXG59XFxuLnctZS10ZXh0IGJsb2NrcXVvdGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICNkMGU1ZjI7XFxuICBwYWRkaW5nOiA1cHggMTBweDtcXG4gIG1hcmdpbjogMTBweCAwO1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIGZvbnQtc2l6ZTogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxufVxcbi53LWUtdGV4dCBjb2RlIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBwYWRkaW5nOiAzcHggNXB4O1xcbiAgbWFyZ2luOiAwIDNweDtcXG59XFxuLnctZS10ZXh0IHByZSBjb2RlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udy1lLXRleHQgdGFibGUge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7XFxufVxcbi53LWUtdGV4dCB0YWJsZSB0ZCxcXG4udy1lLXRleHQgdGFibGUgdGgge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjY2NjO1xcbiAgcGFkZGluZzogM3B4IDVweDtcXG4gIG1pbi1oZWlnaHQ6IDMwcHg7XFxufVxcbi53LWUtdGV4dCB0YWJsZSB0aCB7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2NjYztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxufVxcbi53LWUtdGV4dDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udy1lLXRleHQgaW1nIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnctZS10ZXh0IGltZzpob3ZlciB7XFxuICBib3gtc2hhZG93OiAwIDAgNXB4ICMzMzM7XFxufVxcbi53LWUtdGV4dCAudy1lLXRvZG8ge1xcbiAgbWFyZ2luOiAwIDAgMCAyMHB4O1xcbn1cXG4udy1lLXRleHQgLnctZS10b2RvIGxpIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuLnctZS10ZXh0IC53LWUtdG9kbyBsaSBzcGFuOm50aC1jaGlsZCgxKSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBsZWZ0OiAtMThweDtcXG59XFxuLnctZS10ZXh0IC53LWUtdG9kbyBsaSBzcGFuOm50aC1jaGlsZCgxKSBpbnB1dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBtYXJnaW4tcmlnaHQ6IDNweDtcXG59XFxuLnctZS10ZXh0IC53LWUtdG9kbyBsaSBzcGFuOm50aC1jaGlsZCgxKSBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XFxuICB0b3A6IDUwJTtcXG4gIG1hcmdpbi10b3A6IC02cHg7XFxufVxcbi53LWUtdG9vbHRpcCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgY29sb3I6ICNmMWYxZjE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzUpO1xcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIHBhZGRpbmc6IDRweCA1cHggNnB4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4udy1lLXRvb2x0aXAtdXA6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XFxuICBib3JkZXI6IDVweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApO1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjczKTtcXG59XFxuLnctZS10b29sdGlwLWRvd246OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XFxuICBib3JkZXI6IDVweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApO1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjczKTtcXG59XFxuLnctZS10b29sdGlwLWl0ZW0td3JhcHBlciB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBtYXJnaW46IDAgNXB4O1xcbn1cXG4udy1lLXRvb2x0aXAtaXRlbS13cmFwcGVyOmhvdmVyIHtcXG4gIGNvbG9yOiAjY2NjO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307XG5cbi8qKiovIH0pLFxuLyogMTY1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiA1MCU7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgYm9yZGVyLXRvcDogMDtcXG4gIGJveC1zaGFkb3c6IDFweCAxcHggMnB4ICNjY2M7XFxuICBjb2xvcjogIzMzMztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgLyog5Li6IGVtb3Rpb24gcGFuZWwg5a6a5Yi255qE5qC35byPICovXFxuICAvKiDkuIrkvKDlm77niYfjgIHkuIrkvKDop4bpopHnmoQgcGFuZWwg5a6a5Yi25qC35byPICovXFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLWNsb3NlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgbWFyZ2luOiAycHggNXB4IDAgMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGNvbG9yOiAjOTk5O1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC1jbG9zZTpob3ZlciB7XFxuICBjb2xvcjogIzMzMztcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtcGFuZWwtdGFiLXRpdGxlIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbWFyZ2luOiAycHggMTBweCAwIDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YxZjFmMTtcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtcGFuZWwtdGFiLXRpdGxlIC53LWUtaXRlbSB7XFxuICBwYWRkaW5nOiAzcHggNXB4O1xcbiAgY29sb3I6ICM5OTk7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBtYXJnaW46IDAgM3B4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAxcHg7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi10aXRsZSAudy1lLWFjdGl2ZSB7XFxuICBjb2xvcjogIzMzMztcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtcGFuZWwtdGFiLWNvbnRlbnQge1xcbiAgcGFkZGluZzogMTBweCAxNXB4IDEwcHggMTVweDtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIC8qIOi+k+WFpeahhueahOagt+W8jyAqL1xcbiAgLyog5oyJ6ZKu55qE5qC35byPICovXFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IGlucHV0OmZvY3VzLFxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IHRleHRhcmVhOmZvY3VzLFxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IGJ1dHRvbjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC10YWItY29udGVudCB0ZXh0YXJlYSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC10YWItY29udGVudCB0ZXh0YXJlYTpmb2N1cyB7XFxuICBib3JkZXItY29sb3I6ICMxZTg4ZTU7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IGlucHV0W3R5cGU9dGV4dF0ge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBjb2xvcjogIzMzMztcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IGlucHV0W3R5cGU9dGV4dF0uc21hbGwge1xcbiAgd2lkdGg6IDMwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IGlucHV0W3R5cGU9dGV4dF0uYmxvY2sge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMTBweCAwO1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC10YWItY29udGVudCBpbnB1dFt0eXBlPXRleHRdOmZvY3VzIHtcXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMWU4OGU1O1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC10YWItY29udGVudCAudy1lLWJ1dHRvbi1jb250YWluZXIgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGNvbG9yOiAjMWU4OGU1O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogNXB4IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS1wYW5lbC10YWItY29udGVudCAudy1lLWJ1dHRvbi1jb250YWluZXIgYnV0dG9uLmxlZnQge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IC53LWUtYnV0dG9uLWNvbnRhaW5lciBidXR0b24ucmlnaHQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IC53LWUtYnV0dG9uLWNvbnRhaW5lciBidXR0b24uZ3JheSB7XFxuICBjb2xvcjogIzk5OTtcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtcGFuZWwtdGFiLWNvbnRlbnQgLnctZS1idXR0b24tY29udGFpbmVyIGJ1dHRvbi5yZWQge1xcbiAgY29sb3I6ICNjMjRmNGE7XFxufVxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXBhbmVsLXRhYi1jb250ZW50IC53LWUtYnV0dG9uLWNvbnRhaW5lciBidXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtcGFuZWwtdGFiLWNvbnRlbnQgLnctZS1idXR0b24tY29udGFpbmVyOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogdGFibGU7XFxuICBjbGVhcjogYm90aDtcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtZW1vdGljb24tY29udGFpbmVyIC53LWUtaXRlbSB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBwYWRkaW5nOiAwIDNweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLnctZS1tZW51IC53LWUtcGFuZWwtY29udGFpbmVyIC53LWUtdXAtaW1nLWNvbnRhaW5lcixcXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS11cC12aWRlby1jb250YWluZXIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS11cC1pbWctY29udGFpbmVyIC53LWUtdXAtYnRuLFxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXVwLXZpZGVvLWNvbnRhaW5lciAudy1lLXVwLWJ0biB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjb2xvcjogIzk5OTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogNjBweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG4udy1lLW1lbnUgLnctZS1wYW5lbC1jb250YWluZXIgLnctZS11cC1pbWctY29udGFpbmVyIC53LWUtdXAtYnRuOmhvdmVyLFxcbi53LWUtbWVudSAudy1lLXBhbmVsLWNvbnRhaW5lciAudy1lLXVwLXZpZGVvLWNvbnRhaW5lciAudy1lLXVwLWJ0bjpob3ZlciB7XFxuICBjb2xvcjogIzMzMztcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDE2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYXBpID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTtcblxuLyoqKi8gfSksXG4vKiAxNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3Qge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjY2NjO1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2NjYztcXG59XFxuLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3QgLnctZS1kcC10aXRsZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogIzk5OTtcXG4gIGxpbmUtaGVpZ2h0OiAyO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMWYxZjE7XFxuICBmb250LXNpemU6IDEzcHg7XFxufVxcbi53LWUtdG9vbGJhciAudy1lLWRyb3BsaXN0IHVsLnctZS1saXN0IHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBsaW5lLWhlaWdodDogMTtcXG59XFxuLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3QgdWwudy1lLWxpc3QgbGkudy1lLWl0ZW0ge1xcbiAgY29sb3I6ICMzMzM7XFxuICBwYWRkaW5nOiA1cHggMDtcXG59XFxuLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3QgdWwudy1lLWxpc3QgbGkudy1lLWl0ZW06aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcXG59XFxuLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3QgdWwudy1lLWJsb2NrIHtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgcGFkZGluZzogNXB4O1xcbn1cXG4udy1lLXRvb2xiYXIgLnctZS1kcm9wbGlzdCB1bC53LWUtYmxvY2sgbGkudy1lLWl0ZW0ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcGFkZGluZzogM3B4IDVweDtcXG59XFxuLnctZS10b29sYmFyIC53LWUtZHJvcGxpc3QgdWwudy1lLWJsb2NrIGxpLnctZS1pdGVtOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIHBvbHlmaWxsIOOAkOazqOaEj++8jGpzIOivreazleeahOWFvOWuue+8jOmDvemAmui/hyBiYWJlbCB0cmFuc2Zvcm0gcnVudGltZSDmlK/mjIHjgJFcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSkpO1xuXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IGZ1bmN0aW9uIChzKSB7XG4gICAgdmFyIG1hdGNoZXMgPSB0aGlzLm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgICB2YXIgaSA9IG1hdGNoZXMubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKG1hdGNoZXMuaXRlbShpKSA9PT0gdGhpcykgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGkgPiAtMTtcbiAgfTtcbn0gLy8g5pyJ55qE56ys5LiJ5pa55bqT6ZyA6KaB5Y6f55SfIFByb21pc2Ug77yM6ICMIElFMTEg5Y+I5rKh5pyJ5Y6f55SfIFByb21pc2Ug77yM5bCx5oql6ZSZXG5cblxuaWYgKCFfcHJvbWlzZVtcImRlZmF1bHRcIl0pIHtcbiAgd2luZG93LlByb21pc2UgPSBfcHJvbWlzZVtcImRlZmF1bHRcIl07XG59XG5cbi8qKiovIH0pLFxuLyogMTY5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG4vKioqLyB9KSxcbi8qIDE3MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMTcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcbl9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE4NSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5Qcm9taXNlO1xuXG5cbi8qKiovIH0pLFxuLyogMTcyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xudmFyIGl0ZXJhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXG52YXIgJEFnZ3JlZ2F0ZUVycm9yID0gZnVuY3Rpb24gQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBtZXNzYWdlKSB7XG4gIHZhciB0aGF0ID0gdGhpcztcbiAgaWYgKCEodGhhdCBpbnN0YW5jZW9mICRBZ2dyZWdhdGVFcnJvcikpIHJldHVybiBuZXcgJEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSk7XG4gIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL2Vycm9yLW1lc3NhZ2UgLS0gZXhwZWN0ZWRcbiAgICB0aGF0ID0gc2V0UHJvdG90eXBlT2YobmV3IEVycm9yKHVuZGVmaW5lZCksIGdldFByb3RvdHlwZU9mKHRoYXQpKTtcbiAgfVxuICBpZiAobWVzc2FnZSAhPT0gdW5kZWZpbmVkKSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGhhdCwgJ21lc3NhZ2UnLCB0b1N0cmluZyhtZXNzYWdlKSk7XG4gIHZhciBlcnJvcnNBcnJheSA9IFtdO1xuICBpdGVyYXRlKGVycm9ycywgZXJyb3JzQXJyYXkucHVzaCwgeyB0aGF0OiBlcnJvcnNBcnJheSB9KTtcbiAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRoYXQsICdlcnJvcnMnLCBlcnJvcnNBcnJheSk7XG4gIHJldHVybiB0aGF0O1xufTtcblxuJEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSA9IGNyZWF0ZShFcnJvci5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcig1LCAkQWdncmVnYXRlRXJyb3IpLFxuICBtZXNzYWdlOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoNSwgJycpLFxuICBuYW1lOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoNSwgJ0FnZ3JlZ2F0ZUVycm9yJylcbn0pO1xuXG4vLyBgQWdncmVnYXRlRXJyb3JgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFnZ3JlZ2F0ZS1lcnJvci1jb25zdHJ1Y3RvclxuJCh7IGdsb2JhbDogdHJ1ZSB9LCB7XG4gIEFnZ3JlZ2F0ZUVycm9yOiAkQWdncmVnYXRlRXJyb3Jcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgRi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBudWxsO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IEYoKSkgIT09IEYucHJvdG90eXBlO1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpICYmIGl0ICE9PSBudWxsKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3Qgc2V0IFwiICsgU3RyaW5nKGl0KSArICcgYXMgYSBwcm90b3R5cGUnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBvYmplY3RLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIFByb3BlcnRpZXNba2V5XSk7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBpbnNwZWN0U291cmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChpbnNwZWN0U291cmNlKFdlYWtNYXApKTtcblxuXG4vKioqLyB9KSxcbi8qIDE3NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSXRlcmF0b3JDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgSXRlcmF0b3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvckNvbnN0cnVjdG9yLCBUT19TVFJJTkdfVEFHLCBmYWxzZSwgdHJ1ZSk7XG4gIEl0ZXJhdG9yc1tUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXM7XG4gIHJldHVybiBJdGVyYXRvckNvbnN0cnVjdG9yO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE3OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IHt9LnRvU3RyaW5nIDogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG52YXIgTmF0aXZlUHJvbWlzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcbnZhciByZWRlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xudmFyIHJlZGVmaW5lQWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xudmFyIHNldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcbnZhciBzZXRTcGVjaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG52YXIgYW5JbnN0YW5jZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xudmFyIGluc3BlY3RTb3VyY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG52YXIgaXRlcmF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xudmFyIGNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG52YXIgdGFzayA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKS5zZXQ7XG52YXIgbWljcm90YXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xudmFyIHByb21pc2VSZXNvbHZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO1xudmFyIGhvc3RSZXBvcnRFcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcbnZhciBwZXJmb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xudmFyIGlzRm9yY2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgSVNfQlJPV1NFUiA9IF9fd2VicGFja19yZXF1aXJlX18oMTg0KTtcbnZhciBJU19OT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG52YXIgVjhfVkVSU0lPTiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFBST01JU0UpO1xudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlICYmIE5hdGl2ZVByb21pc2UucHJvdG90eXBlO1xudmFyIFByb21pc2VDb25zdHJ1Y3RvciA9IE5hdGl2ZVByb21pc2U7XG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZVByb3RvdHlwZTtcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG52YXIgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHk7XG52YXIgRElTUEFUQ0hfRVZFTlQgPSAhIShkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFdmVudCAmJiBnbG9iYWwuZGlzcGF0Y2hFdmVudCk7XG52YXIgTkFUSVZFX1JFSkVDVElPTl9FVkVOVCA9IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJztcbnZhciBVTkhBTkRMRURfUkVKRUNUSU9OID0gJ3VuaGFuZGxlZHJlamVjdGlvbic7XG52YXIgUkVKRUNUSU9OX0hBTkRMRUQgPSAncmVqZWN0aW9uaGFuZGxlZCc7XG52YXIgUEVORElORyA9IDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG52YXIgSEFORExFRCA9IDE7XG52YXIgVU5IQU5ETEVEID0gMjtcbnZhciBTVUJDTEFTU0lORyA9IGZhbHNlO1xudmFyIEludGVybmFsLCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgUHJvbWlzZVdyYXBwZXIsIG5hdGl2ZVRoZW47XG5cbnZhciBGT1JDRUQgPSBpc0ZvcmNlZChQUk9NSVNFLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSA9IGluc3BlY3RTb3VyY2UoUHJvbWlzZUNvbnN0cnVjdG9yKTtcbiAgdmFyIEdMT0JBTF9DT1JFX0pTX1BST01JU0UgPSBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSAhPT0gU3RyaW5nKFByb21pc2VDb25zdHJ1Y3Rvcik7XG4gIC8vIFY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG4gIC8vIFdlIGNhbid0IGRldGVjdCBpdCBzeW5jaHJvbm91c2x5LCBzbyBqdXN0IGNoZWNrIHZlcnNpb25zXG4gIGlmICghR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiBWOF9WRVJTSU9OID09PSA2NikgcmV0dXJuIHRydWU7XG4gIC8vIFdlIG5lZWQgUHJvbWlzZSNmaW5hbGx5IGluIHRoZSBwdXJlIHZlcnNpb24gZm9yIHByZXZlbnRpbmcgcHJvdG90eXBlIHBvbGx1dGlvblxuICBpZiAoSVNfUFVSRSAmJiAhUHJvbWlzZUNvbnN0cnVjdG9yUHJvdG90eXBlWydmaW5hbGx5J10pIHJldHVybiB0cnVlO1xuICAvLyBXZSBjYW4ndCB1c2UgQEBzcGVjaWVzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxuICBpZiAoVjhfVkVSU0lPTiA+PSA1MSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UpKSByZXR1cm4gZmFsc2U7XG4gIC8vIERldGVjdCBjb3JyZWN0bmVzcyBvZiBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2VDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKDEpOyB9KTtcbiAgdmFyIEZha2VQcm9taXNlID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICBleGVjKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbiAgfTtcbiAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9O1xuICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IEZha2VQcm9taXNlO1xuICBTVUJDTEFTU0lORyA9IHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIGlmICghU1VCQ0xBU1NJTkcpIHJldHVybiB0cnVlO1xuICAvLyBVbmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gIHJldHVybiAhR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiBJU19CUk9XU0VSICYmICFOQVRJVkVfUkVKRUNUSU9OX0VWRU5UO1xufSk7XG5cbnZhciBJTkNPUlJFQ1RfSVRFUkFUSU9OID0gRk9SQ0VEIHx8ICFjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gIFByb21pc2VDb25zdHJ1Y3Rvci5hbGwoaXRlcmFibGUpWydjYXRjaCddKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG59KTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG5cbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoc3RhdGUsIGlzUmVqZWN0KSB7XG4gIGlmIChzdGF0ZS5ub3RpZmllZCkgcmV0dXJuO1xuICBzdGF0ZS5ub3RpZmllZCA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHN0YXRlLnJlYWN0aW9ucztcbiAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB2YXIgb2sgPSBzdGF0ZS5zdGF0ZSA9PSBGVUxGSUxMRUQ7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFyIHJlYWN0aW9uID0gY2hhaW5baW5kZXgrK107XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZWplY3Rpb24gPT09IFVOSEFORExFRCkgb25IYW5kbGVVbmhhbmRsZWQoc3RhdGUpO1xuICAgICAgICAgICAgc3RhdGUucmVqZWN0aW9uID0gSEFORExFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHRydWUpIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTsgLy8gY2FuIHRocm93XG4gICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICAgIGV4aXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2UpIHtcbiAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZS5yZWFjdGlvbnMgPSBbXTtcbiAgICBzdGF0ZS5ub3RpZmllZCA9IGZhbHNlO1xuICAgIGlmIChpc1JlamVjdCAmJiAhc3RhdGUucmVqZWN0aW9uKSBvblVuaGFuZGxlZChzdGF0ZSk7XG4gIH0pO1xufTtcblxudmFyIGRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgcHJvbWlzZSwgcmVhc29uKSB7XG4gIHZhciBldmVudCwgaGFuZGxlcjtcbiAgaWYgKERJU1BBVENIX0VWRU5UKSB7XG4gICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldmVudC5wcm9taXNlID0gcHJvbWlzZTtcbiAgICBldmVudC5yZWFzb24gPSByZWFzb247XG4gICAgZXZlbnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0gZWxzZSBldmVudCA9IHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiByZWFzb24gfTtcbiAgaWYgKCFOQVRJVkVfUkVKRUNUSU9OX0VWRU5UICYmIChoYW5kbGVyID0gZ2xvYmFsWydvbicgKyBuYW1lXSkpIGhhbmRsZXIoZXZlbnQpO1xuICBlbHNlIGlmIChuYW1lID09PSBVTkhBTkRMRURfUkVKRUNUSU9OKSBob3N0UmVwb3J0RXJyb3JzKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCByZWFzb24pO1xufTtcblxudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHN0YXRlLmZhY2FkZTtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB2YXIgSVNfVU5IQU5ETEVEID0gaXNVbmhhbmRsZWQoc3RhdGUpO1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKElTX1VOSEFORExFRCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChJU19OT0RFKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFVOSEFORExFRF9SRUpFQ1RJT04sIHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHN0YXRlLnJlamVjdGlvbiA9IElTX05PREUgfHwgaXNVbmhhbmRsZWQoc3RhdGUpID8gVU5IQU5ETEVEIDogSEFORExFRDtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHRocm93IHJlc3VsdC52YWx1ZTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5yZWplY3Rpb24gIT09IEhBTkRMRUQgJiYgIXN0YXRlLnBhcmVudDtcbn07XG5cbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBzdGF0ZS5mYWNhZGU7XG4gICAgaWYgKElTX05PREUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFJFSkVDVElPTl9IQU5ETEVELCBwcm9taXNlLCBzdGF0ZS52YWx1ZSk7XG4gIH0pO1xufTtcblxudmFyIGJpbmQgPSBmdW5jdGlvbiAoZm4sIHN0YXRlLCB1bndyYXApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGZuKHN0YXRlLCB2YWx1ZSwgdW53cmFwKTtcbiAgfTtcbn07XG5cbnZhciBpbnRlcm5hbFJlamVjdCA9IGZ1bmN0aW9uIChzdGF0ZSwgdmFsdWUsIHVud3JhcCkge1xuICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgaWYgKHVud3JhcCkgc3RhdGUgPSB1bndyYXA7XG4gIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gIHN0YXRlLnN0YXRlID0gUkVKRUNURUQ7XG4gIG5vdGlmeShzdGF0ZSwgdHJ1ZSk7XG59O1xuXG52YXIgaW50ZXJuYWxSZXNvbHZlID0gZnVuY3Rpb24gKHN0YXRlLCB2YWx1ZSwgdW53cmFwKSB7XG4gIGlmIChzdGF0ZS5kb25lKSByZXR1cm47XG4gIHN0YXRlLmRvbmUgPSB0cnVlO1xuICBpZiAodW53cmFwKSBzdGF0ZSA9IHVud3JhcDtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhdGUuZmFjYWRlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgdmFyIHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKTtcbiAgICBpZiAodGhlbikge1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7IGRvbmU6IGZhbHNlIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLFxuICAgICAgICAgICAgYmluZChpbnRlcm5hbFJlc29sdmUsIHdyYXBwZXIsIHN0YXRlKSxcbiAgICAgICAgICAgIGJpbmQoaW50ZXJuYWxSZWplY3QsIHdyYXBwZXIsIHN0YXRlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaW50ZXJuYWxSZWplY3Qod3JhcHBlciwgZXJyb3IsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICBzdGF0ZS5zdGF0ZSA9IEZVTEZJTExFRDtcbiAgICAgIG5vdGlmeShzdGF0ZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpbnRlcm5hbFJlamVjdCh7IGRvbmU6IGZhbHNlIH0sIGVycm9yLCBzdGF0ZSk7XG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZiAoRk9SQ0VEKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gIFByb21pc2VDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsIFByb21pc2VDb25zdHJ1Y3RvciwgUFJPTUlTRSk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGJpbmQoaW50ZXJuYWxSZXNvbHZlLCBzdGF0ZSksIGJpbmQoaW50ZXJuYWxSZWplY3QsIHN0YXRlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGludGVybmFsUmVqZWN0KHN0YXRlLCBlcnJvcik7XG4gICAgfVxuICB9O1xuICBQcm9taXNlQ29uc3RydWN0b3JQcm90b3R5cGUgPSBQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICAgIHR5cGU6IFBST01JU0UsXG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIG5vdGlmaWVkOiBmYWxzZSxcbiAgICAgIHBhcmVudDogZmFsc2UsXG4gICAgICByZWFjdGlvbnM6IFtdLFxuICAgICAgcmVqZWN0aW9uOiBmYWxzZSxcbiAgICAgIHN0YXRlOiBQRU5ESU5HLFxuICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZWRlZmluZUFsbChQcm9taXNlQ29uc3RydWN0b3JQcm90b3R5cGUsIHtcbiAgICAvLyBgUHJvbWlzZS5wcm90b3R5cGUudGhlbmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS50aGVuXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUodGhpcyk7XG4gICAgICB2YXIgcmVhY3Rpb24gPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgUHJvbWlzZUNvbnN0cnVjdG9yKSk7XG4gICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IElTX05PREUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLnBhcmVudCA9IHRydWU7XG4gICAgICBzdGF0ZS5yZWFjdGlvbnMucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAoc3RhdGUuc3RhdGUgIT0gUEVORElORykgbm90aWZ5KHN0YXRlLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIGBQcm9taXNlLnByb3RvdHlwZS5jYXRjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS5jYXRjaFxuICAgICdjYXRjaCc6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHByb21pc2UpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gYmluZChpbnRlcm5hbFJlc29sdmUsIHN0YXRlKTtcbiAgICB0aGlzLnJlamVjdCA9IGJpbmQoaW50ZXJuYWxSZWplY3QsIHN0YXRlKTtcbiAgfTtcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yIHx8IEMgPT09IFByb21pc2VXcmFwcGVyXG4gICAgICA/IG5ldyBPd25Qcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gIH07XG5cbiAgaWYgKCFJU19QVVJFICYmIHR5cGVvZiBOYXRpdmVQcm9taXNlID09ICdmdW5jdGlvbicgJiYgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIG5hdGl2ZVRoZW4gPSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLnRoZW47XG5cbiAgICBpZiAoIVNVQkNMQVNTSU5HKSB7XG4gICAgICAvLyBtYWtlIGBQcm9taXNlI3RoZW5gIHJldHVybiBhIHBvbHlmaWxsZWQgYFByb21pc2VgIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgICByZWRlZmluZShOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAndGhlbicsIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgbmF0aXZlVGhlbi5jYWxsKHRoYXQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY0MFxuICAgICAgfSwgeyB1bnNhZmU6IHRydWUgfSk7XG5cbiAgICAgIC8vIG1ha2VzIHN1cmUgdGhhdCBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzIGBQcm9taXNlI2NhdGNoYCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbiAgICAgIHJlZGVmaW5lKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICdjYXRjaCcsIFByb21pc2VDb25zdHJ1Y3RvclByb3RvdHlwZVsnY2F0Y2gnXSwgeyB1bnNhZmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBgLmNvbnN0cnVjdG9yID09PSBQcm9taXNlYCB3b3JrIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuICAgIC8vIG1ha2UgYGluc3RhbmNlb2YgUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgc2V0UHJvdG90eXBlT2YoTmF0aXZlUHJvbWlzZVByb3RvdHlwZSwgUHJvbWlzZUNvbnN0cnVjdG9yUHJvdG90eXBlKTtcbiAgICB9XG4gIH1cbn1cblxuJCh7IGdsb2JhbDogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICBQcm9taXNlOiBQcm9taXNlQ29uc3RydWN0b3Jcbn0pO1xuXG5zZXRUb1N0cmluZ1RhZyhQcm9taXNlQ29uc3RydWN0b3IsIFBST01JU0UsIGZhbHNlLCB0cnVlKTtcbnNldFNwZWNpZXMoUFJPTUlTRSk7XG5cblByb21pc2VXcmFwcGVyID0gZ2V0QnVpbHRJbihQUk9NSVNFKTtcblxuLy8gc3RhdGljc1xuJCh7IHRhcmdldDogUFJPTUlTRSwgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAvLyBgUHJvbWlzZS5yZWplY3RgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVqZWN0XG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpIHtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpO1xuICAgIGNhcGFiaWxpdHkucmVqZWN0LmNhbGwodW5kZWZpbmVkLCByKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuJCh7IHRhcmdldDogUFJPTUlTRSwgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJU19QVVJFIHx8IEZPUkNFRCB9LCB7XG4gIC8vIGBQcm9taXNlLnJlc29sdmVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVzb2x2ZVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoSVNfUFVSRSAmJiB0aGlzID09PSBQcm9taXNlV3JhcHBlciA/IFByb21pc2VDb25zdHJ1Y3RvciA6IHRoaXMsIHgpO1xuICB9XG59KTtcblxuJCh7IHRhcmdldDogUFJPTUlTRSwgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJTkNPUlJFQ1RfSVRFUkFUSU9OIH0sIHtcbiAgLy8gYFByb21pc2UuYWxsYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFsbFxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHByb21pc2VSZXNvbHZlID0gYUZ1bmN0aW9uKEMucmVzb2x2ZSk7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGl0ZXJhdGUoaXRlcmFibGUsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNvdW50ZXIrKztcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgICRwcm9taXNlUmVzb2x2ZS5jYWxsKEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gYFByb21pc2UucmFjZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5yYWNlXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwcm9taXNlUmVzb2x2ZSA9IGFGdW5jdGlvbihDLnJlc29sdmUpO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgJHByb21pc2VSZXNvbHZlLmNhbGwoQywgcHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDE4MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KS5mO1xudmFyIG1hY3JvdGFzayA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKS5zZXQ7XG52YXIgSVNfSU9TID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xudmFyIElTX0lPU19QRUJCTEUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSk7XG52YXIgSVNfV0VCT1NfV0VCS0lUID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODIpO1xudmFyIElTX05PREUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxudmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuLy8gTm9kZS5qcyAxMSBzaG93cyBFeHBlcmltZW50YWxXYXJuaW5nIG9uIGdldHRpbmcgYHF1ZXVlTWljcm90YXNrYFxudmFyIHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWwsICdxdWV1ZU1pY3JvdGFzaycpO1xudmFyIHF1ZXVlTWljcm90YXNrID0gcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yICYmIHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvci52YWx1ZTtcblxudmFyIGZsdXNoLCBoZWFkLCBsYXN0LCBub3RpZnksIHRvZ2dsZSwgbm9kZSwgcHJvbWlzZSwgdGhlbjtcblxuLy8gbW9kZXJuIGVuZ2luZXMgaGF2ZSBxdWV1ZU1pY3JvdGFzayBtZXRob2RcbmlmICghcXVldWVNaWNyb3Rhc2spIHtcbiAgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYgKElTX05PREUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaGVhZCkgbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyAtIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMzlcbiAgLy8gYWxzbyBleGNlcHQgV2ViT1MgV2Via2l0IGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84OThcbiAgaWYgKCFJU19JT1MgJiYgIUlTX05PREUgJiYgIUlTX1dFQk9TX1dFQktJVCAmJiBNdXRhdGlvbk9ic2VydmVyICYmIGRvY3VtZW50KSB7XG4gICAgdG9nZ2xlID0gdHJ1ZTtcbiAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoIUlTX0lPU19QRUJCTEUgJiYgUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICAvLyBQcm9taXNlLnJlc29sdmUgd2l0aG91dCBhbiBhcmd1bWVudCB0aHJvd3MgYW4gZXJyb3IgaW4gTEcgV2ViT1MgMlxuICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAvLyB3b3JrYXJvdW5kIG9mIFdlYktpdCB+IGlPUyBTYWZhcmkgMTAuMSBidWdcbiAgICBwcm9taXNlLmNvbnN0cnVjdG9yID0gUHJvbWlzZTtcbiAgICB0aGVuID0gcHJvbWlzZS50aGVuO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoZW4uY2FsbChwcm9taXNlLCBmbHVzaCk7XG4gICAgfTtcbiAgLy8gTm9kZS5qcyB3aXRob3V0IHByb21pc2VzXG4gIH0gZWxzZSBpZiAoSVNfTk9ERSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVldWVNaWNyb3Rhc2sgfHwgZnVuY3Rpb24gKGZuKSB7XG4gIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcbiAgaWYgKCFoZWFkKSB7XG4gICAgaGVhZCA9IHRhc2s7XG4gICAgbm90aWZ5KCk7XG4gIH0gbGFzdCA9IHRhc2s7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTgxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCh1c2VyQWdlbnQpICYmIGdsb2JhbC5QZWJibGUgIT09IHVuZGVmaW5lZDtcblxuXG4vKioqLyB9KSxcbi8qIDE4MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdXNlckFnZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cbm1vZHVsZS5leHBvcnRzID0gL3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdCh1c2VyQWdlbnQpO1xuXG5cbi8qKiovIH0pLFxuLyogMTgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGU7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAxODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnO1xuXG5cbi8qKiovIH0pLFxuLyogMTg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcbnZhciBwZXJmb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgaXRlcmF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG4vLyBgUHJvbWlzZS5hbGxTZXR0bGVkYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5hbGxzZXR0bGVkXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUgfSwge1xuICBhbGxTZXR0bGVkOiBmdW5jdGlvbiBhbGxTZXR0bGVkKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZihDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByb21pc2VSZXNvbHZlID0gYUZ1bmN0aW9uKEMucmVzb2x2ZSk7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGl0ZXJhdGUoaXRlcmFibGUsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNvdW50ZXIrKztcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIHByb21pc2VSZXNvbHZlLmNhbGwoQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogZXJyb3IgfTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAxODYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcbnZhciBwZXJmb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgaXRlcmF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG52YXIgUFJPTUlTRV9BTllfRVJST1IgPSAnTm8gb25lIHByb21pc2UgcmVzb2x2ZWQnO1xuXG4vLyBgUHJvbWlzZS5hbnlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFueVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlIH0sIHtcbiAgYW55OiBmdW5jdGlvbiBhbnkoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZVJlc29sdmUgPSBhRnVuY3Rpb24oQy5yZXNvbHZlKTtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgdmFyIGFscmVhZHlSZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeVJlamVjdGVkID0gZmFsc2U7XG4gICAgICAgIGVycm9ycy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBwcm9taXNlUmVzb2x2ZS5jYWxsKEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlSZWplY3RlZCB8fCBhbHJlYWR5UmVzb2x2ZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5UmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeVJlamVjdGVkIHx8IGFscmVhZHlSZXNvbHZlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3JzW2luZGV4XSA9IGVycm9yO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlamVjdChuZXcgKGdldEJ1aWx0SW4oJ0FnZ3JlZ2F0ZUVycm9yJykpKGVycm9ycywgUFJPTUlTRV9BTllfRVJST1IpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlamVjdChuZXcgKGdldEJ1aWx0SW4oJ0FnZ3JlZ2F0ZUVycm9yJykpKGVycm9ycywgUFJPTUlTRV9BTllfRVJST1IpKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDE4NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcbnZhciBOYXRpdmVQcm9taXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcbnZhciByZWRlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG4vLyBTYWZhcmkgYnVnIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDA4MjlcbnZhciBOT05fR0VORVJJQyA9ICEhTmF0aXZlUHJvbWlzZSAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIE5hdGl2ZVByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10uY2FsbCh7IHRoZW46IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xufSk7XG5cbi8vIGBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUuZmluYWxseVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBwcm90bzogdHJ1ZSwgcmVhbDogdHJ1ZSwgZm9yY2VkOiBOT05fR0VORVJJQyB9LCB7XG4gICdmaW5hbGx5JzogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGdldEJ1aWx0SW4oJ1Byb21pc2UnKSk7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2Ygb25GaW5hbGx5ID09ICdmdW5jdGlvbic7XG4gICAgcmV0dXJuIHRoaXMudGhlbihcbiAgICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICB9IDogb25GaW5hbGx5LFxuICAgICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IGU7IH0pO1xuICAgICAgfSA6IG9uRmluYWxseVxuICAgICk7XG4gIH1cbn0pO1xuXG4vLyBtYWtlcyBzdXJlIHRoYXQgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJcyBgUHJvbWlzZSNmaW5hbGx5YCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmICghSVNfUFVSRSAmJiB0eXBlb2YgTmF0aXZlUHJvbWlzZSA9PSAnZnVuY3Rpb24nKSB7XG4gIHZhciBtZXRob2QgPSBnZXRCdWlsdEluKCdQcm9taXNlJykucHJvdG90eXBlWydmaW5hbGx5J107XG4gIGlmIChOYXRpdmVQcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddICE9PSBtZXRob2QpIHtcbiAgICByZWRlZmluZShOYXRpdmVQcm9taXNlLnByb3RvdHlwZSwgJ2ZpbmFsbHknLCBtZXRob2QsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiAxODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdGAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChDT05WRVJUX1RPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBwb3MpIHtcbiAgICB2YXIgUyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICB2YXIgcG9zaXRpb24gPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgc2l6ZSA9IFMubGVuZ3RoO1xuICAgIHZhciBmaXJzdCwgc2Vjb25kO1xuICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc2l6ZSkgcmV0dXJuIENPTlZFUlRfVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgZmlyc3QgPSBTLmNoYXJDb2RlQXQocG9zaXRpb24pO1xuICAgIHJldHVybiBmaXJzdCA8IDB4RDgwMCB8fCBmaXJzdCA+IDB4REJGRiB8fCBwb3NpdGlvbiArIDEgPT09IHNpemVcbiAgICAgIHx8IChzZWNvbmQgPSBTLmNoYXJDb2RlQXQocG9zaXRpb24gKyAxKSkgPCAweERDMDAgfHwgc2Vjb25kID4gMHhERkZGXG4gICAgICAgID8gQ09OVkVSVF9UT19TVFJJTkcgPyBTLmNoYXJBdChwb3NpdGlvbikgOiBmaXJzdFxuICAgICAgICA6IENPTlZFUlRfVE9fU1RSSU5HID8gUy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyAyKSA6IChmaXJzdCAtIDB4RDgwMCA8PCAxMCkgKyAoc2Vjb25kIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuY29kZXBvaW50YXRcbiAgY29kZUF0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5hdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRoaWFzYnluZW5zL1N0cmluZy5wcm90b3R5cGUuYXRcbiAgY2hhckF0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxODkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gaXRlcmFibGUgRE9NIGNvbGxlY3Rpb25zXG4vLyBmbGFnIC0gYGl0ZXJhYmxlYCBpbnRlcmZhY2UgLSAnZW50cmllcycsICdrZXlzJywgJ3ZhbHVlcycsICdmb3JFYWNoJyBtZXRob2RzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IDAsXG4gIENTU1N0eWxlRGVjbGFyYXRpb246IDAsXG4gIENTU1ZhbHVlTGlzdDogMCxcbiAgQ2xpZW50UmVjdExpc3Q6IDAsXG4gIERPTVJlY3RMaXN0OiAwLFxuICBET01TdHJpbmdMaXN0OiAwLFxuICBET01Ub2tlbkxpc3Q6IDEsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiAwLFxuICBGaWxlTGlzdDogMCxcbiAgSFRNTEFsbENvbGxlY3Rpb246IDAsXG4gIEhUTUxDb2xsZWN0aW9uOiAwLFxuICBIVE1MRm9ybUVsZW1lbnQ6IDAsXG4gIEhUTUxTZWxlY3RFbGVtZW50OiAwLFxuICBNZWRpYUxpc3Q6IDAsXG4gIE1pbWVUeXBlQXJyYXk6IDAsXG4gIE5hbWVkTm9kZU1hcDogMCxcbiAgTm9kZUxpc3Q6IDEsXG4gIFBhaW50UmVxdWVzdExpc3Q6IDAsXG4gIFBsdWdpbjogMCxcbiAgUGx1Z2luQXJyYXk6IDAsXG4gIFNWR0xlbmd0aExpc3Q6IDAsXG4gIFNWR051bWJlckxpc3Q6IDAsXG4gIFNWR1BhdGhTZWdMaXN0OiAwLFxuICBTVkdQb2ludExpc3Q6IDAsXG4gIFNWR1N0cmluZ0xpc3Q6IDAsXG4gIFNWR1RyYW5zZm9ybUxpc3Q6IDAsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IDAsXG4gIFN0eWxlU2hlZXRMaXN0OiAwLFxuICBUZXh0VHJhY2tDdWVMaXN0OiAwLFxuICBUZXh0VHJhY2tMaXN0OiAwLFxuICBUb3VjaExpc3Q6IDBcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbnZhciBET01JdGVyYWJsZXMgPSB7XG4gIERPTVRva2VuTGlzdDogdHJ1ZSxcbiAgTm9kZUxpc3Q6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5mb3JFYWNoO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpdCBpbnN0YW5jZW9mIEFycmF5ICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZm9yRWFjaClcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgICB8fCBET01JdGVyYWJsZXMuaGFzT3duUHJvcGVydHkoY2xhc3NvZihpdCkpID8gZm9yRWFjaCA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxOTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAxOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygxOTMpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5mb3JFYWNoO1xuXG5cbi8qKiovIH0pLFxuLyogMTkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTk0KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBbXS5mb3JFYWNoICE9IGZvckVhY2ggfSwge1xuICBmb3JFYWNoOiBmb3JFYWNoXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDE5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICRmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkuZm9yRWFjaDtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnZm9yRWFjaCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxubW9kdWxlLmV4cG9ydHMgPSAhU1RSSUNUX01FVEhPRCA/IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG59IDogW10uZm9yRWFjaDtcblxuXG4vKioqLyB9KSxcbi8qIDE5NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxuLy8gYSBwYXJ0IG9mIGBBcnJheVNwZWNpZXNDcmVhdGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXkpIHtcbiAgdmFyIEM7XG4gIGlmIChpc0FycmF5KG9yaWdpbmFsQXJyYXkpKSB7XG4gICAgQyA9IG9yaWdpbmFsQXJyYXkuY29uc3RydWN0b3I7XG4gICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIEMgPT0gJ2Z1bmN0aW9uJyAmJiAoQyA9PT0gQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGVsc2UgaWYgKGlzT2JqZWN0KEMpKSB7XG4gICAgICBDID0gQ1tTUEVDSUVTXTtcbiAgICAgIGlmIChDID09PSBudWxsKSBDID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSByZXR1cm4gQyA9PT0gdW5kZWZpbmVkID8gQXJyYXkgOiBDO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE5NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDE5NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE5OCk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguQXJyYXkuaXNBcnJheTtcblxuXG4vKioqLyB9KSxcbi8qIDE5OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXG4vLyBgQXJyYXkuaXNBcnJheWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmlzYXJyYXlcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHN0YXQ6IHRydWUgfSwge1xuICBpc0FycmF5OiBpc0FycmF5XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDE5OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDIwMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDEpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5tYXA7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgQXJyYXkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5tYXApID8gbWFwIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIwMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIwMik7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLm1hcDtcblxuXG4vKioqLyB9KSxcbi8qIDIwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICRtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKS5tYXA7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG52YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ21hcCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbi8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIG1hcDogZnVuY3Rpb24gbWFwKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRtYXAodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDIwMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDIwNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdHJpbSA9IF9fd2VicGFja19yZXF1aXJlX18oMjA1KTtcblxudmFyIFN0cmluZ1Byb3RvdHlwZSA9IFN0cmluZy5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC50cmltO1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnc3RyaW5nJyB8fCBpdCA9PT0gU3RyaW5nUHJvdG90eXBlXG4gICAgfHwgKGl0IGluc3RhbmNlb2YgU3RyaW5nICYmIG93biA9PT0gU3RyaW5nUHJvdG90eXBlLnRyaW0pID8gdHJpbSA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyMDYpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnU3RyaW5nJykudHJpbTtcblxuXG4vKioqLyB9KSxcbi8qIDIwNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICR0cmltID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NykudHJpbTtcbnZhciBmb3JjZWRTdHJpbmdUcmltTWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogZm9yY2VkU3RyaW5nVHJpbU1ldGhvZCgndHJpbScpIH0sIHtcbiAgdHJpbTogZnVuY3Rpb24gdHJpbSgpIHtcbiAgICByZXR1cm4gJHRyaW0odGhpcyk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIHdoaXRlc3BhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cbnZhciBub24gPSAnXFx1MjAwQlxcdTAwODVcXHUxODBFJztcblxuLy8gY2hlY2sgdGhhdCBhIG1ldGhvZCB3b3JrcyB3aXRoIHRoZSBjb3JyZWN0IGxpc3Rcbi8vIG9mIHdoaXRlc3BhY2VzIGFuZCBoYXMgYSBjb3JyZWN0IG5hbWVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIHJldHVybiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhd2hpdGVzcGFjZXNbTUVUSE9EX05BTUVdKCkgfHwgbm9uW01FVEhPRF9OQU1FXSgpICE9IG5vbiB8fCB3aGl0ZXNwYWNlc1tNRVRIT0RfTkFNRV0ubmFtZSAhPT0gTUVUSE9EX05BTUU7XG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIwOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyMTApO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5NYXA7XG5cblxuLyoqKi8gfSksXG4vKiAyMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb2xsZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpO1xudmFyIGNvbGxlY3Rpb25TdHJvbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cbi8vIGBNYXBgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC1vYmplY3RzXG5tb2R1bGUuZXhwb3J0cyA9IGNvbGxlY3Rpb24oJ01hcCcsIGZ1bmN0aW9uIChpbml0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBNYXAoKSB7IHJldHVybiBpbml0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpOyB9O1xufSwgY29sbGVjdGlvblN0cm9uZyk7XG5cblxuLyoqKi8gfSksXG4vKiAyMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUsIGVzL25vLW9iamVjdC1wcmV2ZW50ZXh0ZW5zaW9ucyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpbmRleE9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTQpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5pbmRleE9mO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpdCBpbnN0YW5jZW9mIEFycmF5ICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuaW5kZXhPZikgPyBpbmRleE9mIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIxNSk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmluZGV4T2Y7XG5cblxuLyoqKi8gfSksXG4vKiAyMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLWFycmF5LXByb3RvdHlwZS1pbmRleG9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgJGluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KS5pbmRleE9mO1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcblxudmFyIG5hdGl2ZUluZGV4T2YgPSBbXS5pbmRleE9mO1xuXG52YXIgTkVHQVRJVkVfWkVSTyA9ICEhbmF0aXZlSW5kZXhPZiAmJiAxIC8gWzFdLmluZGV4T2YoMSwgLTApIDwgMDtcbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnaW5kZXhPZicpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogTkVHQVRJVkVfWkVSTyB8fCAhU1RSSUNUX01FVEhPRCB9LCB7XG4gIGluZGV4T2Y6IGZ1bmN0aW9uIGluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCA9IDAgKi8pIHtcbiAgICByZXR1cm4gTkVHQVRJVkVfWkVST1xuICAgICAgLy8gY29udmVydCAtMCB0byArMFxuICAgICAgPyBuYXRpdmVJbmRleE9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgMFxuICAgICAgOiAkaW5kZXhPZih0aGlzLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxNyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzcGxpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxOCk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LnNwbGljZTtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXQgaW5zdGFuY2VvZiBBcnJheSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLnNwbGljZSkgPyBzcGxpY2UgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjE5KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5Jykuc3BsaWNlO1xuXG5cbi8qKiovIH0pLFxuLyogMjE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG52YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ3NwbGljZScpO1xuXG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDB4MUZGRkZGRkZGRkZGRkY7XG52YXIgTUFYSU1VTV9BTExPV0VEX0xFTkdUSF9FWENFRURFRCA9ICdNYXhpbXVtIGFsbG93ZWQgbGVuZ3RoIGV4Y2VlZGVkJztcblxuLy8gYEFycmF5LnByb3RvdHlwZS5zcGxpY2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc3BsaWNlXG4vLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAc3BlY2llc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQgfSwge1xuICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQgLyogLCAuLi5pdGVtcyAqLykge1xuICAgIHZhciBPID0gdG9PYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbiA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgYWN0dWFsU3RhcnQgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbik7XG4gICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGluc2VydENvdW50LCBhY3R1YWxEZWxldGVDb3VudCwgQSwgaywgZnJvbSwgdG87XG4gICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA9PT0gMCkge1xuICAgICAgaW5zZXJ0Q291bnQgPSBhY3R1YWxEZWxldGVDb3VudCA9IDA7XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHNMZW5ndGggPT09IDEpIHtcbiAgICAgIGluc2VydENvdW50ID0gMDtcbiAgICAgIGFjdHVhbERlbGV0ZUNvdW50ID0gbGVuIC0gYWN0dWFsU3RhcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2VydENvdW50ID0gYXJndW1lbnRzTGVuZ3RoIC0gMjtcbiAgICAgIGFjdHVhbERlbGV0ZUNvdW50ID0gbWluKG1heCh0b0ludGVnZXIoZGVsZXRlQ291bnQpLCAwKSwgbGVuIC0gYWN0dWFsU3RhcnQpO1xuICAgIH1cbiAgICBpZiAobGVuICsgaW5zZXJ0Q291bnQgLSBhY3R1YWxEZWxldGVDb3VudCA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcihNQVhJTVVNX0FMTE9XRURfTEVOR1RIX0VYQ0VFREVEKTtcbiAgICB9XG4gICAgQSA9IGFycmF5U3BlY2llc0NyZWF0ZShPLCBhY3R1YWxEZWxldGVDb3VudCk7XG4gICAgZm9yIChrID0gMDsgayA8IGFjdHVhbERlbGV0ZUNvdW50OyBrKyspIHtcbiAgICAgIGZyb20gPSBhY3R1YWxTdGFydCArIGs7XG4gICAgICBpZiAoZnJvbSBpbiBPKSBjcmVhdGVQcm9wZXJ0eShBLCBrLCBPW2Zyb21dKTtcbiAgICB9XG4gICAgQS5sZW5ndGggPSBhY3R1YWxEZWxldGVDb3VudDtcbiAgICBpZiAoaW5zZXJ0Q291bnQgPCBhY3R1YWxEZWxldGVDb3VudCkge1xuICAgICAgZm9yIChrID0gYWN0dWFsU3RhcnQ7IGsgPCBsZW4gLSBhY3R1YWxEZWxldGVDb3VudDsgaysrKSB7XG4gICAgICAgIGZyb20gPSBrICsgYWN0dWFsRGVsZXRlQ291bnQ7XG4gICAgICAgIHRvID0gayArIGluc2VydENvdW50O1xuICAgICAgICBpZiAoZnJvbSBpbiBPKSBPW3RvXSA9IE9bZnJvbV07XG4gICAgICAgIGVsc2UgZGVsZXRlIE9bdG9dO1xuICAgICAgfVxuICAgICAgZm9yIChrID0gbGVuOyBrID4gbGVuIC0gYWN0dWFsRGVsZXRlQ291bnQgKyBpbnNlcnRDb3VudDsgay0tKSBkZWxldGUgT1trIC0gMV07XG4gICAgfSBlbHNlIGlmIChpbnNlcnRDb3VudCA+IGFjdHVhbERlbGV0ZUNvdW50KSB7XG4gICAgICBmb3IgKGsgPSBsZW4gLSBhY3R1YWxEZWxldGVDb3VudDsgayA+IGFjdHVhbFN0YXJ0OyBrLS0pIHtcbiAgICAgICAgZnJvbSA9IGsgKyBhY3R1YWxEZWxldGVDb3VudCAtIDE7XG4gICAgICAgIHRvID0gayArIGluc2VydENvdW50IC0gMTtcbiAgICAgICAgaWYgKGZyb20gaW4gTykgT1t0b10gPSBPW2Zyb21dO1xuICAgICAgICBlbHNlIGRlbGV0ZSBPW3RvXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChrID0gMDsgayA8IGluc2VydENvdW50OyBrKyspIHtcbiAgICAgIE9bayArIGFjdHVhbFN0YXJ0XSA9IGFyZ3VtZW50c1trICsgMl07XG4gICAgfVxuICAgIE8ubGVuZ3RoID0gbGVuIC0gYWN0dWFsRGVsZXRlQ291bnQgKyBpbnNlcnRDb3VudDtcbiAgICByZXR1cm4gQTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjIyKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZmlsdGVyO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpdCBpbnN0YW5jZW9mIEFycmF5ICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZmlsdGVyKSA/IGZpbHRlciA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyMjMpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5maWx0ZXI7XG5cblxuLyoqKi8gfSksXG4vKiAyMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciAkZmlsdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkuZmlsdGVyO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblxudmFyIEhBU19TUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdmaWx0ZXInKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4vLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAc3BlY2llc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQgfSwge1xuICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgIHJldHVybiAkZmlsdGVyKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjI1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFycmF5SW5jbHVkZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNik7XG52YXIgc3RyaW5nSW5jbHVkZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyOCk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBTdHJpbmdQcm90b3R5cGUgPSBTdHJpbmcucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuaW5jbHVkZXM7XG4gIGlmIChpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgQXJyYXkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5pbmNsdWRlcykpIHJldHVybiBhcnJheUluY2x1ZGVzO1xuICBpZiAodHlwZW9mIGl0ID09PSAnc3RyaW5nJyB8fCBpdCA9PT0gU3RyaW5nUHJvdG90eXBlIHx8IChpdCBpbnN0YW5jZW9mIFN0cmluZyAmJiBvd24gPT09IFN0cmluZ1Byb3RvdHlwZS5pbmNsdWRlcykpIHtcbiAgICByZXR1cm4gc3RyaW5nSW5jbHVkZXM7XG4gIH0gcmV0dXJuIG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyMjcpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5pbmNsdWRlcztcblxuXG4vKioqLyB9KSxcbi8qIDIyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICRpbmNsdWRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpLmluY2x1ZGVzO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUgfSwge1xuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWwgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG4gICAgcmV0dXJuICRpbmNsdWRlcyh0aGlzLCBlbCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuYWRkVG9VbnNjb3BhYmxlcygnaW5jbHVkZXMnKTtcblxuXG4vKioqLyB9KSxcbi8qIDIyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIyOSk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdTdHJpbmcnKS5pbmNsdWRlcztcblxuXG4vKioqLyB9KSxcbi8qIDIyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIG5vdEFSZWdFeHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMCk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgY29ycmVjdElzUmVnRXhwTG9naWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1xuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFjb3JyZWN0SXNSZWdFeHBMb2dpYygnaW5jbHVkZXMnKSB9LCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhzZWFyY2hTdHJpbmcgLyogLCBwb3NpdGlvbiA9IDAgKi8pIHtcbiAgICByZXR1cm4gISF+dG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKSlcbiAgICAgIC5pbmRleE9mKHRvU3RyaW5nKG5vdEFSZWdFeHAoc2VhcmNoU3RyaW5nKSksIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUmVnRXhwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXNSZWdFeHAoaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO1xuICB9IHJldHVybiBpdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBNQVRDSCA9IHdlbGxLbm93blN5bWJvbCgnbWF0Y2gnKTtcblxuLy8gYElzUmVnRXhwYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNyZWdleHBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBpc1JlZ0V4cDtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiAoKGlzUmVnRXhwID0gaXRbTUFUQ0hdKSAhPT0gdW5kZWZpbmVkID8gISFpc1JlZ0V4cCA6IGNsYXNzb2YoaXQpID09ICdSZWdFeHAnKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBNQVRDSCA9IHdlbGxLbm93blN5bWJvbCgnbWF0Y2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgdmFyIHJlZ2V4cCA9IC8uLztcbiAgdHJ5IHtcbiAgICAnLy4vJ1tNRVRIT0RfTkFNRV0ocmVnZXhwKTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlZ2V4cFtNQVRDSF0gPSBmYWxzZTtcbiAgICAgIHJldHVybiAnLy4vJ1tNRVRIT0RfTkFNRV0ocmVnZXhwKTtcbiAgICB9IGNhdGNoIChlcnJvcjIpIHsgLyogZW1wdHkgKi8gfVxuICB9IHJldHVybiBmYWxzZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjM0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNSk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LmJpbmQ7XG4gIHJldHVybiBpdCA9PT0gRnVuY3Rpb25Qcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgb3duID09PSBGdW5jdGlvblByb3RvdHlwZS5iaW5kKSA/IGJpbmQgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjM1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjM2KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0Z1bmN0aW9uJykuYmluZDtcblxuXG4vKioqLyB9KSxcbi8qIDIzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjM3KTtcblxuLy8gYEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiQoeyB0YXJnZXQ6ICdGdW5jdGlvbicsIHByb3RvOiB0cnVlIH0sIHtcbiAgYmluZDogYmluZFxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG52YXIgc2xpY2UgPSBbXS5zbGljZTtcbnZhciBmYWN0b3JpZXMgPSB7fTtcblxudmFyIGNvbnN0cnVjdCA9IGZ1bmN0aW9uIChDLCBhcmdzTGVuZ3RoLCBhcmdzKSB7XG4gIGlmICghKGFyZ3NMZW5ndGggaW4gZmFjdG9yaWVzKSkge1xuICAgIGZvciAodmFyIGxpc3QgPSBbXSwgaSA9IDA7IGkgPCBhcmdzTGVuZ3RoOyBpKyspIGxpc3RbaV0gPSAnYVsnICsgaSArICddJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMgLS0gd2UgaGF2ZSBubyBwcm9wZXIgYWx0ZXJuYXRpdmVzLCBJRTgtIG9ubHlcbiAgICBmYWN0b3JpZXNbYXJnc0xlbmd0aF0gPSBGdW5jdGlvbignQyxhJywgJ3JldHVybiBuZXcgQygnICsgbGlzdC5qb2luKCcsJykgKyAnKScpO1xuICB9IHJldHVybiBmYWN0b3JpZXNbYXJnc0xlbmd0aF0oQywgYXJncyk7XG59O1xuXG4vLyBgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYmluZFxubW9kdWxlLmV4cG9ydHMgPSBGdW5jdGlvbi5iaW5kIHx8IGZ1bmN0aW9uIGJpbmQodGhhdCAvKiAsIC4uLmFyZ3MgKi8pIHtcbiAgdmFyIGZuID0gYUZ1bmN0aW9uKHRoaXMpO1xuICB2YXIgcGFydEFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBib3VuZEZ1bmN0aW9uID0gZnVuY3Rpb24gYm91bmQoLyogYXJncy4uLiAqLykge1xuICAgIHZhciBhcmdzID0gcGFydEFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBib3VuZEZ1bmN0aW9uID8gY29uc3RydWN0KGZuLCBhcmdzLmxlbmd0aCwgYXJncykgOiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfTtcbiAgaWYgKGlzT2JqZWN0KGZuLnByb3RvdHlwZSkpIGJvdW5kRnVuY3Rpb24ucHJvdG90eXBlID0gZm4ucHJvdG90eXBlO1xuICByZXR1cm4gYm91bmRGdW5jdGlvbjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOSk7XG5cbi8qKiovIH0pLFxuLyogMjM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2MSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2Mik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2Myk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2NCk7XG4vLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuX193ZWJwYWNrX3JlcXVpcmVfXygyNjUpO1xuLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbl9fd2VicGFja19yZXF1aXJlX18oMjY2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQxKTtcbl9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDI0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI0Mik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQzKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ0KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ1KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ2KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ3KTtcbl9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ4KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjQ5KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjUwKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjUxKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjUyKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjUzKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU0KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU1KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU2KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU3KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU4KTtcbl9fd2VicGFja19yZXF1aXJlX18oMjU5KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5TeW1ib2w7XG5cblxuLyoqKi8gfSksXG4vKiAyNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIFY4X1ZFUlNJT04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblxudmFyIElTX0NPTkNBVF9TUFJFQURBQkxFID0gd2VsbEtub3duU3ltYm9sKCdpc0NvbmNhdFNwcmVhZGFibGUnKTtcbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gMHgxRkZGRkZGRkZGRkZGRjtcbnZhciBNQVhJTVVNX0FMTE9XRURfSU5ERVhfRVhDRUVERUQgPSAnTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkJztcblxuLy8gV2UgY2FuJ3QgdXNlIHRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4vLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxudmFyIElTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgPSBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnJheSA9IFtdO1xuICBhcnJheVtJU19DT05DQVRfU1BSRUFEQUJMRV0gPSBmYWxzZTtcbiAgcmV0dXJuIGFycmF5LmNvbmNhdCgpWzBdICE9PSBhcnJheTtcbn0pO1xuXG52YXIgU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnY29uY2F0Jyk7XG5cbnZhciBpc0NvbmNhdFNwcmVhZGFibGUgPSBmdW5jdGlvbiAoTykge1xuICBpZiAoIWlzT2JqZWN0KE8pKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzcHJlYWRhYmxlID0gT1tJU19DT05DQVRfU1BSRUFEQUJMRV07XG4gIHJldHVybiBzcHJlYWRhYmxlICE9PSB1bmRlZmluZWQgPyAhIXNwcmVhZGFibGUgOiBpc0FycmF5KE8pO1xufTtcblxudmFyIEZPUkNFRCA9ICFJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUIHx8ICFTUEVDSUVTX1NVUFBPUlQ7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuY29uY2F0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmNvbmNhdFxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQGlzQ29uY2F0U3ByZWFkYWJsZSBhbmQgQEBzcGVjaWVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdChhcmcpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICAgIHZhciBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuICAgIHZhciBuID0gMDtcbiAgICB2YXIgaSwgaywgbGVuZ3RoLCBsZW4sIEU7XG4gICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgRSA9IGkgPT09IC0xID8gTyA6IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChpc0NvbmNhdFNwcmVhZGFibGUoRSkpIHtcbiAgICAgICAgbGVuID0gdG9MZW5ndGgoRS5sZW5ndGgpO1xuICAgICAgICBpZiAobiArIGxlbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHRocm93IFR5cGVFcnJvcihNQVhJTVVNX0FMTE9XRURfSU5ERVhfRVhDRUVERUQpO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkoQSwgbiwgRVtrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobiA+PSBNQVhfU0FGRV9JTlRFR0VSKSB0aHJvdyBUeXBlRXJyb3IoTUFYSU1VTV9BTExPV0VEX0lOREVYX0VYQ0VFREVEKTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkoQSwgbisrLCBFKTtcbiAgICAgIH1cbiAgICB9XG4gICAgQS5sZW5ndGggPSBuO1xuICAgIHJldHVybiBBO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDI0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGlzU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xudmFyIHRvUHJvcGVydHlLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcbnZhciAkdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcbnZhciBuYXRpdmVPYmplY3RDcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcbnZhciBvYmplY3RLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG52YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG52YXIgc2hhcmVkS2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKTtcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcbnZhciAkZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLmZvckVhY2g7XG5cbnZhciBISURERU4gPSBzaGFyZWRLZXkoJ2hpZGRlbicpO1xudmFyIFNZTUJPTCA9ICdTeW1ib2wnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCgndG9QcmltaXRpdmUnKTtcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFNZTUJPTCk7XG52YXIgT2JqZWN0UHJvdG90eXBlID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJHN0cmluZ2lmeSA9IGdldEJ1aWx0SW4oJ0pTT04nLCAnc3RyaW5naWZ5Jyk7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG52YXIgbmF0aXZlRGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwuZjtcbnZhciBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmY7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvdHlwZVN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzdHJpbmctdG8tc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeScpO1xudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgVVNFX1NFVFRFUiA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RDcmVhdGUobmF0aXZlRGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkodGhpcywgJ2EnLCB7IHZhbHVlOiA3IH0pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24gKE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgdmFyIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0UHJvdG90eXBlLCBQKTtcbiAgaWYgKE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpIGRlbGV0ZSBPYmplY3RQcm90b3R5cGVbUF07XG4gIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciAmJiBPICE9PSBPYmplY3RQcm90b3R5cGUpIHtcbiAgICBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90b3R5cGUsIFAsIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpO1xuICB9XG59IDogbmF0aXZlRGVmaW5lUHJvcGVydHk7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHRhZywgZGVzY3JpcHRpb24pIHtcbiAgdmFyIHN5bWJvbCA9IEFsbFN5bWJvbHNbdGFnXSA9IG5hdGl2ZU9iamVjdENyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzZXRJbnRlcm5hbFN0YXRlKHN5bWJvbCwge1xuICAgIHR5cGU6IFNZTUJPTCxcbiAgICB0YWc6IHRhZyxcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cbiAgfSk7XG4gIGlmICghREVTQ1JJUFRPUlMpIHN5bWJvbC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICByZXR1cm4gc3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgaWYgKE8gPT09IE9iamVjdFByb3RvdHlwZSkgJGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFAsIEF0dHJpYnV0ZXMpO1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleSA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICBpZiAoIUF0dHJpYnV0ZXMuZW51bWVyYWJsZSkge1xuICAgICAgaWYgKCFoYXMoTywgSElEREVOKSkgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgSElEREVOLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwge30pKTtcbiAgICAgIE9bSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhPLCBISURERU4pICYmIE9bSElEREVOXVtrZXldKSBPW0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgQXR0cmlidXRlcyA9IG5hdGl2ZU9iamVjdENyZWF0ZShBdHRyaWJ1dGVzLCB7IGVudW1lcmFibGU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCBmYWxzZSkgfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzY3JpcHRvcihPLCBrZXksIEF0dHJpYnV0ZXMpO1xuICB9IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBrZXksIEF0dHJpYnV0ZXMpO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIgcHJvcGVydGllcyA9IHRvSW5kZXhlZE9iamVjdChQcm9wZXJ0aWVzKTtcbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKHByb3BlcnRpZXMpLmNvbmNhdCgkZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BlcnRpZXMpKTtcbiAgJGZvckVhY2goa2V5cywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghREVTQ1JJUFRPUlMgfHwgJHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocHJvcGVydGllcywga2V5KSkgJGRlZmluZVByb3BlcnR5KE8sIGtleSwgcHJvcGVydGllc1trZXldKTtcbiAgfSk7XG4gIHJldHVybiBPO1xufTtcblxudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gbmF0aXZlT2JqZWN0Q3JlYXRlKE8pIDogJGRlZmluZVByb3BlcnRpZXMobmF0aXZlT2JqZWN0Q3JlYXRlKE8pLCBQcm9wZXJ0aWVzKTtcbn07XG5cbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gIHZhciBQID0gdG9Qcm9wZXJ0eUtleShWKTtcbiAgdmFyIGVudW1lcmFibGUgPSBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHRoaXMsIFApO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlICYmIGhhcyhBbGxTeW1ib2xzLCBQKSAmJiAhaGFzKE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFApKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlbnVtZXJhYmxlIHx8ICFoYXModGhpcywgUCkgfHwgIWhhcyhBbGxTeW1ib2xzLCBQKSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1bUF0gPyBlbnVtZXJhYmxlIDogdHJ1ZTtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgdmFyIGl0ID0gdG9JbmRleGVkT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90b3R5cGUgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBkZXNjcmlwdG9yID0gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xuICBpZiAoZGVzY3JpcHRvciAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSB7XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdChPKSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgJGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoaGlkZGVuS2V5cywga2V5KSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhPKSB7XG4gIHZhciBJU19PQkpFQ1RfUFJPVE9UWVBFID0gTyA9PT0gT2JqZWN0UHJvdG90eXBlO1xuICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKElTX09CSkVDVF9QUk9UT1RZUEUgPyBPYmplY3RQcm90b3R5cGVTeW1ib2xzIDogdG9JbmRleGVkT2JqZWN0KE8pKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICAkZm9yRWFjaChuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSAmJiAoIUlTX09CSkVDVF9QUk9UT1RZUEUgfHwgaGFzKE9iamVjdFByb3RvdHlwZSwga2V5KSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIGBTeW1ib2xgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC1jb25zdHJ1Y3RvclxuaWYgKCFOQVRJVkVfU1lNQk9MKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHZhciBkZXNjcmlwdGlvbiA9ICFhcmd1bWVudHMubGVuZ3RoIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogJHRvU3RyaW5nKGFyZ3VtZW50c1swXSk7XG4gICAgdmFyIHRhZyA9IHVpZChkZXNjcmlwdGlvbik7XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSkgc2V0dGVyLmNhbGwoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjcmlwdG9yKHRoaXMsIHRhZywgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgVVNFX1NFVFRFUikgc2V0U3ltYm9sRGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUsIHRhZywgeyBjb25maWd1cmFibGU6IHRydWUsIHNldDogc2V0dGVyIH0pO1xuICAgIHJldHVybiB3cmFwKHRhZywgZGVzY3JpcHRpb24pO1xuICB9O1xuXG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykudGFnO1xuICB9KTtcblxuICByZWRlZmluZSgkU3ltYm9sLCAnd2l0aG91dFNldHRlcicsIGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB3cmFwKHVpZChkZXNjcmlwdGlvbiksIGRlc2NyaXB0aW9uKTtcbiAgfSk7XG5cbiAgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgZGVmaW5lUHJvcGVydHlNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3ZWxsS25vd25TeW1ib2wobmFtZSksIG5hbWUpO1xuICB9O1xuXG4gIGlmIChERVNDUklQVE9SUykge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLVN5bWJvbC1kZXNjcmlwdGlvblxuICAgIG5hdGl2ZURlZmluZVByb3BlcnR5KCRTeW1ib2xbUFJPVE9UWVBFXSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykuZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFJU19QVVJFKSB7XG4gICAgICByZWRlZmluZShPYmplY3RQcm90b3R5cGUsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgeyB1bnNhZmU6IHRydWUgfSk7XG4gICAgfVxuICB9XG59XG5cbiQoeyBnbG9iYWw6IHRydWUsIHdyYXA6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgU3ltYm9sOiAkU3ltYm9sXG59KTtcblxuJGZvckVhY2gob2JqZWN0S2V5cyhXZWxsS25vd25TeW1ib2xzU3RvcmUpLCBmdW5jdGlvbiAobmFtZSkge1xuICBkZWZpbmVXZWxsS25vd25TeW1ib2wobmFtZSk7XG59KTtcblxuJCh7IHRhcmdldDogU1lNQk9MLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgLy8gYFN5bWJvbC5mb3JgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5mb3JcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc3RyaW5nID0gJHRvU3RyaW5nKGtleSk7XG4gICAgaWYgKGhhcyhTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5LCBzdHJpbmcpKSByZXR1cm4gU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddO1xuICAgIHZhciBzeW1ib2wgPSAkU3ltYm9sKHN0cmluZyk7XG4gICAgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddID0gc3ltYm9sO1xuICAgIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnlbc3ltYm9sXSA9IHN0cmluZztcbiAgICByZXR1cm4gc3ltYm9sO1xuICB9LFxuICAvLyBgU3ltYm9sLmtleUZvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmtleWZvclxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCcpO1xuICAgIGlmIChoYXMoU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSwgc3ltKSkgcmV0dXJuIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnlbc3ltXTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IFVTRV9TRVRURVIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IGZhbHNlOyB9XG59KTtcblxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIC8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcbn0pO1xuXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCB9LCB7XG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlzeW1ib2xzXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIENocm9tZSAzOCBhbmQgMzkgYE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNgIGZhaWxzIG9uIHByaW1pdGl2ZXNcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTM0NDNcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IGZhaWxzKGZ1bmN0aW9uICgpIHsgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmYoMSk7IH0pIH0sIHtcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmYodG9PYmplY3QoaXQpKTtcbiAgfVxufSk7XG5cbi8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kIGJlaGF2aW9yIHdpdGggc3ltYm9sc1xuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnN0cmluZ2lmeVxuaWYgKCRzdHJpbmdpZnkpIHtcbiAgdmFyIEZPUkNFRF9KU09OX1NUUklOR0lGWSA9ICFOQVRJVkVfU1lNQk9MIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3ltYm9sID0gJFN5bWJvbCgpO1xuICAgIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gICAgcmV0dXJuICRzdHJpbmdpZnkoW3N5bWJvbF0pICE9ICdbbnVsbF0nXG4gICAgICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgICAgIHx8ICRzdHJpbmdpZnkoeyBhOiBzeW1ib2wgfSkgIT0gJ3t9J1xuICAgICAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgICAgIHx8ICRzdHJpbmdpZnkoT2JqZWN0KHN5bWJvbCkpICE9ICd7fSc7XG4gIH0pO1xuXG4gICQoeyB0YXJnZXQ6ICdKU09OJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRURfSlNPTl9TVFJJTkdJRlkgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgICAgdmFyIGFyZ3MgPSBbaXRdO1xuICAgICAgdmFyIGluZGV4ID0gMTtcbiAgICAgIHZhciAkcmVwbGFjZXI7XG4gICAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGluZGV4KSBhcmdzLnB1c2goYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICAgICRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgICAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mICRyZXBsYWNlciA9PSAnZnVuY3Rpb24nKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICAgIHJldHVybiAkc3RyaW5naWZ5LmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvcHJpbWl0aXZlXG5pZiAoISRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdKSB7XG4gIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xufVxuLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11gIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZ1xuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgU1lNQk9MKTtcblxuaGlkZGVuS2V5c1tISURERU5dID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcbi8qIDI0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wuYXN5bmNJdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmFzeW5jaXRlcmF0b3JcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnYXN5bmNJdGVyYXRvcicpO1xuXG5cbi8qKiovIH0pLFxuLyogMjQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGVtcHR5XG5cblxuLyoqKi8gfSksXG4vKiAyNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLmhhc0luc3RhbmNlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuaGFzaW5zdGFuY2VcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnaGFzSW5zdGFuY2UnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuaXNjb25jYXRzcHJlYWRhYmxlXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2lzQ29uY2F0U3ByZWFkYWJsZScpO1xuXG5cbi8qKiovIH0pLFxuLyogMjQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLy8gYFN5bWJvbC5tYXRjaGAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLm1hdGNoXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21hdGNoJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLm1hdGNoQWxsYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wubWF0Y2hhbGxcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnbWF0Y2hBbGwnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wucmVwbGFjZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnJlcGxhY2VcbmRlZmluZVdlbGxLbm93blN5bWJvbCgncmVwbGFjZScpO1xuXG5cbi8qKiovIH0pLFxuLyogMjUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLy8gYFN5bWJvbC5zZWFyY2hgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zZWFyY2hcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnc2VhcmNoJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLnNwZWNpZXNgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zcGVjaWVzXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wuc3BsaXRgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zcGxpdFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdzcGxpdCcpO1xuXG5cbi8qKiovIH0pLFxuLyogMjU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLy8gYFN5bWJvbC50b1ByaW1pdGl2ZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvcHJpbWl0aXZlXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wudG9zdHJpbmd0YWdcbmRlZmluZVdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wudW5zY29wYWJsZXNgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC51bnNjb3BhYmxlc1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xuXG5cbi8qKiovIH0pLFxuLyogMjU3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cbi8vIEpTT05bQEB0b1N0cmluZ1RhZ10gcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqLyB9KSxcbi8qIDI1OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlbXB0eVxuXG5cbi8qKiovIH0pLFxuLyogMjU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGVtcHR5XG5cblxuLyoqKi8gfSksXG4vKiAyNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLmFzeW5jRGlzcG9zZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXVzaW5nLXN0YXRlbWVudFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdhc3luY0Rpc3Bvc2UnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI2MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wuZGlzcG9zZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXVzaW5nLXN0YXRlbWVudFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdkaXNwb3NlJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLm1hdGNoZXJgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wYXR0ZXJuLW1hdGNoaW5nXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21hdGNoZXInKTtcblxuXG4vKioqLyB9KSxcbi8qIDI2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbi8vIGBTeW1ib2wubWV0YWRhdGFgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1kZWNvcmF0b3JzXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21ldGFkYXRhJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLm9ic2VydmFibGVgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ29ic2VydmFibGUnKTtcblxuXG4vKioqLyB9KSxcbi8qIDI2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBUT0RPOiByZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vLyBgU3ltYm9sLnBhdHRlcm5NYXRjaGAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXBhdHRlcm4tbWF0Y2hpbmdcbmRlZmluZVdlbGxLbm93blN5bWJvbCgncGF0dGVybk1hdGNoJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdyZXBsYWNlQWxsJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2OCk7XG5cbi8qKiovIH0pLFxuLyogMjY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2OSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjY5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcbl9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xudmFyIFdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gV3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKiovIH0pLFxuLyogMjcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzIpO1xuXG4vKioqLyB9KSxcbi8qIDI3MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDI3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI3NCk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGgucGFyc2VJbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIHBhcnNlSW50SW1wbGVtZW50YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3NSk7XG5cbi8vIGBwYXJzZUludGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXBhcnNlaW50LXN0cmluZy1yYWRpeFxuJCh7IGdsb2JhbDogdHJ1ZSwgZm9yY2VkOiBwYXJzZUludCAhPSBwYXJzZUludEltcGxlbWVudGF0aW9uIH0sIHtcbiAgcGFyc2VJbnQ6IHBhcnNlSW50SW1wbGVtZW50YXRpb25cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgdHJpbSA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpLnRyaW07XG52YXIgd2hpdGVzcGFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblxudmFyICRwYXJzZUludCA9IGdsb2JhbC5wYXJzZUludDtcbnZhciBoZXggPSAvXlsrLV0/MFtYeF0vO1xudmFyIEZPUkNFRCA9ICRwYXJzZUludCh3aGl0ZXNwYWNlcyArICcwOCcpICE9PSA4IHx8ICRwYXJzZUludCh3aGl0ZXNwYWNlcyArICcweDE2JykgIT09IDIyO1xuXG4vLyBgcGFyc2VJbnRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wYXJzZWludC1zdHJpbmctcmFkaXhcbm1vZHVsZS5leHBvcnRzID0gRk9SQ0VEID8gZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCkge1xuICB2YXIgUyA9IHRyaW0odG9TdHJpbmcoc3RyaW5nKSk7XG4gIHJldHVybiAkcGFyc2VJbnQoUywgKHJhZGl4ID4+PiAwKSB8fCAoaGV4LnRlc3QoUykgPyAxNiA6IDEwKSk7XG59IDogJHBhcnNlSW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjc2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Nyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjc3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzbGljZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjc4KTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuc2xpY2U7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgQXJyYXkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5zbGljZSkgPyBzbGljZSA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyNzkpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5zbGljZTtcblxuXG4vKioqLyB9KSxcbi8qIDI3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xudmFyIHRvTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblxudmFyIEhBU19TUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdzbGljZScpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyIG5hdGl2ZVNsaWNlID0gW10uc2xpY2U7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuc2xpY2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc2xpY2Vcbi8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBFUzMgc3RyaW5ncyBhbmQgRE9NIG9iamVjdHNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUIH0sIHtcbiAgc2xpY2U6IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCh0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICAgIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgdmFyIENvbnN0cnVjdG9yLCByZXN1bHQsIG47XG4gICAgaWYgKGlzQXJyYXkoTykpIHtcbiAgICAgIENvbnN0cnVjdG9yID0gTy5jb25zdHJ1Y3RvcjtcbiAgICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIENvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgKENvbnN0cnVjdG9yID09PSBBcnJheSB8fCBpc0FycmF5KENvbnN0cnVjdG9yLnByb3RvdHlwZSkpKSB7XG4gICAgICAgIENvbnN0cnVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcltTUEVDSUVTXTtcbiAgICAgICAgaWYgKENvbnN0cnVjdG9yID09PSBudWxsKSBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gQXJyYXkgfHwgQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmF0aXZlU2xpY2UuY2FsbChPLCBrLCBmaW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgKENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQgPyBBcnJheSA6IENvbnN0cnVjdG9yKShtYXgoZmluIC0gaywgMCkpO1xuICAgIGZvciAobiA9IDA7IGsgPCBmaW47IGsrKywgbisrKSBpZiAoayBpbiBPKSBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIG4sIE9ba10pO1xuICAgIHJlc3VsdC5sZW5ndGggPSBuO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjgxKTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5zZXRUaW1lb3V0O1xuXG5cbi8qKiovIH0pLFxuLyogMjgxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHVzZXJBZ2VudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXG52YXIgc2xpY2UgPSBbXS5zbGljZTtcbnZhciBNU0lFID0gL01TSUUgLlxcLi8udGVzdCh1c2VyQWdlbnQpOyAvLyA8LSBkaXJ0eSBpZTktIGNoZWNrXG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHNjaGVkdWxlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQgLyogLCAuLi5hcmd1bWVudHMgKi8pIHtcbiAgICB2YXIgYm91bmRBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgdmFyIGFyZ3MgPSBib3VuZEFyZ3MgPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHNjaGVkdWxlcihib3VuZEFyZ3MgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMgLS0gc3BlYyByZXF1aXJlbWVudFxuICAgICAgKHR5cGVvZiBoYW5kbGVyID09ICdmdW5jdGlvbicgPyBoYW5kbGVyIDogRnVuY3Rpb24oaGFuZGxlcikpLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gOiBoYW5kbGVyLCB0aW1lb3V0KTtcbiAgfTtcbn07XG5cbi8vIGllOS0gc2V0VGltZW91dCAmIHNldEludGVydmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3RpbWVycy1hbmQtdXNlci1wcm9tcHRzLmh0bWwjdGltZXJzXG4kKHsgZ2xvYmFsOiB0cnVlLCBiaW5kOiB0cnVlLCBmb3JjZWQ6IE1TSUUgfSwge1xuICAvLyBgc2V0VGltZW91dGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3RpbWVycy1hbmQtdXNlci1wcm9tcHRzLmh0bWwjZG9tLXNldHRpbWVvdXRcbiAgc2V0VGltZW91dDogd3JhcChnbG9iYWwuc2V0VGltZW91dCksXG4gIC8vIGBzZXRJbnRlcnZhbGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3RpbWVycy1hbmQtdXNlci1wcm9tcHRzLmh0bWwjZG9tLXNldGludGVydmFsXG4gIHNldEludGVydmFsOiB3cmFwKGdsb2JhbC5zZXRJbnRlcnZhbClcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDnvJbovpHlmajphY3nva5cbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfYXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBtZW51c18xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyODcpKTtcblxudmFyIGV2ZW50c18xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyODgpKTtcblxudmFyIHN0eWxlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMykpO1xuXG52YXIgcGFzdGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjg5KSk7XG5cbnZhciBjbWRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjkwKSk7XG5cbnZhciBpbWFnZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOTEpKTtcblxudmFyIHRleHRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTM0KSk7XG5cbnZhciBsYW5nXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI5MikpO1xuXG52YXIgaGlzdG9yeV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOTMpKTtcblxudmFyIHZpZGVvXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI5NCkpOyAvLyDlkIjlubbmiYDmnInnmoTphY3nva7kv6Hmga9cblxuXG52YXIgZGVmYXVsdENvbmZpZyA9ICgwLCBfYXNzaWduW1wiZGVmYXVsdFwiXSkoe30sIG1lbnVzXzFbXCJkZWZhdWx0XCJdLCBldmVudHNfMVtcImRlZmF1bHRcIl0sIHN0eWxlXzFbXCJkZWZhdWx0XCJdLCBjbWRfMVtcImRlZmF1bHRcIl0sIHBhc3RlXzFbXCJkZWZhdWx0XCJdLCBpbWFnZV8xW1wiZGVmYXVsdFwiXSwgdGV4dF8xW1wiZGVmYXVsdFwiXSwgbGFuZ18xW1wiZGVmYXVsdFwiXSwgaGlzdG9yeV8xW1wiZGVmYXVsdFwiXSwgdmlkZW9fMVtcImRlZmF1bHRcIl0sIC8v6ZO+5o6l5qCh6aqM55qE6YWN572u5Ye95pWwXG57XG4gIGxpbmtDaGVjazogZnVuY3Rpb24gbGlua0NoZWNrKHRleHQsIGxpbmspIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlZmF1bHRDb25maWc7XG5cbi8qKiovIH0pLFxuLyogMjgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjg0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjg1KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5PYmplY3QuYXNzaWduO1xuXG5cbi8qKiovIH0pLFxuLyogMjg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4Nik7XG5cbi8vIGBPYmplY3QuYXNzaWduYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmFzc2lnblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1hc3NpZ24gLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IE9iamVjdC5hc3NpZ24gIT09IGFzc2lnbiB9LCB7XG4gIGFzc2lnbjogYXNzaWduXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDI4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBvYmplY3RLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzApO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBJbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHNhZmVcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuLy8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gc2hvdWxkIGhhdmUgY29ycmVjdCBvcmRlciBvZiBvcGVyYXRpb25zIChFZGdlIGJ1ZylcbiAgaWYgKERFU0NSSVBUT1JTICYmICRhc3NpZ24oeyBiOiAxIH0sICRhc3NpZ24oZGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYicsIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCB7IGI6IDIgfSkpLmIgIT09IDEpIHJldHVybiB0cnVlO1xuICAvLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1ZylcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLXN5bWJvbCAtLSBzYWZlXG4gIHZhciBzeW1ib2wgPSBTeW1ib2woKTtcbiAgdmFyIGFscGhhYmV0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtzeW1ib2xdID0gNztcbiAgYWxwaGFiZXQuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGNocikgeyBCW2Nocl0gPSBjaHI7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbc3ltYm9sXSAhPSA3IHx8IG9iamVjdEtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IGFscGhhYmV0O1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbiAgd2hpbGUgKGFyZ3VtZW50c0xlbmd0aCA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJbmRleGVkT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBvYmplY3RLZXlzKFMpLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpIDogb2JqZWN0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMgfHwgcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG4gICAgfVxuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuLyoqKi8gfSksXG4vKiAyODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOiPnOWNlemFjee9rlxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8q6KGo5oOF6I+c5Y2V5pWw5o2u57uT5p6E57G75Z6LRU5EKi9cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIG1lbnVzOiBbJ2hlYWQnLCAnYm9sZCcsICdmb250U2l6ZScsIC8vICdjdXN0b21Gb250U2l6ZScsXG4gICdmb250TmFtZScsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZVRocm91Z2gnLCAnaW5kZW50JywgJ2xpbmVIZWlnaHQnLCAnZm9yZUNvbG9yJywgJ2JhY2tDb2xvcicsICdsaW5rJywgJ2xpc3QnLCAndG9kbycsICdqdXN0aWZ5JywgJ3F1b3RlJywgJ2Vtb3RpY29uJywgJ2ltYWdlJywgJ3ZpZGVvJywgJ3RhYmxlJywgJ2NvZGUnLCAnc3BsaXRMaW5lJywgJ3VuZG8nLCAncmVkbyddLFxuICBmb250TmFtZXM6IFsn6buR5L2TJywgJ+S7v+WuiycsICfmpbfkvZMnLCAn5qCH5qW35L2TJywgJ+WNjuaWh+S7v+WuiycsICfljY7mlofmpbfkvZMnLCAn5a6L5L2TJywgJ+W+rui9r+mbhem7kScsICdBcmlhbCcsICdUYWhvbWEnLCAnVmVyZGFuYScsICdUaW1lcyBOZXcgUm9tYW4nLCAnQ291cmllciBOZXcnXSxcbiAgLy8gIGZvbnROYW1lczogW3sgbmFtZTogJ+Wui+S9kycsIHZhbHVlOiAn5a6L5L2TJyB9XSxcbiAgZm9udFNpemVzOiB7XG4gICAgJ3gtc21hbGwnOiB7XG4gICAgICBuYW1lOiAnMTBweCcsXG4gICAgICB2YWx1ZTogJzEnXG4gICAgfSxcbiAgICBzbWFsbDoge1xuICAgICAgbmFtZTogJzEzcHgnLFxuICAgICAgdmFsdWU6ICcyJ1xuICAgIH0sXG4gICAgbm9ybWFsOiB7XG4gICAgICBuYW1lOiAnMTZweCcsXG4gICAgICB2YWx1ZTogJzMnXG4gICAgfSxcbiAgICBsYXJnZToge1xuICAgICAgbmFtZTogJzE4cHgnLFxuICAgICAgdmFsdWU6ICc0J1xuICAgIH0sXG4gICAgJ3gtbGFyZ2UnOiB7XG4gICAgICBuYW1lOiAnMjRweCcsXG4gICAgICB2YWx1ZTogJzUnXG4gICAgfSxcbiAgICAneHgtbGFyZ2UnOiB7XG4gICAgICBuYW1lOiAnMzJweCcsXG4gICAgICB2YWx1ZTogJzYnXG4gICAgfSxcbiAgICAneHh4LWxhcmdlJzoge1xuICAgICAgbmFtZTogJzQ4cHgnLFxuICAgICAgdmFsdWU6ICc3J1xuICAgIH1cbiAgfSxcbiAgLy8gY3VzdG9tRm9udFNpemU6IFsgLy8g6K+l6I+c5Y2V5pqC5pe25LiN55SoIC0g546L56aP5pyLIDIwMjAwOTI0XG4gIC8vICAgICB7IHZhbHVlOiAnOXB4JywgdGV4dDogJzknIH0sXG4gIC8vICAgICB7IHZhbHVlOiAnMTBweCcsIHRleHQ6ICcxMCcgfSxcbiAgLy8gICAgIHsgdmFsdWU6ICcxMnB4JywgdGV4dDogJzEyJyB9LFxuICAvLyAgICAgeyB2YWx1ZTogJzE0cHgnLCB0ZXh0OiAnMTQnIH0sXG4gIC8vICAgICB7IHZhbHVlOiAnMTZweCcsIHRleHQ6ICcxNicgfSxcbiAgLy8gICAgIHsgdmFsdWU6ICcyMHB4JywgdGV4dDogJzIwJyB9LFxuICAvLyAgICAgeyB2YWx1ZTogJzQycHgnLCB0ZXh0OiAnNDInIH0sXG4gIC8vICAgICB7IHZhbHVlOiAnNzJweCcsIHRleHQ6ICc3MicgfSxcbiAgLy8gXSxcbiAgY29sb3JzOiBbJyMwMDAwMDAnLCAnI2ZmZmZmZicsICcjZWVlY2UwJywgJyMxYzQ4N2YnLCAnIzRkODBiZicsICcjYzI0ZjRhJywgJyM4YmFhNGEnLCAnIzdiNWJhMScsICcjNDZhY2M4JywgJyNmOTk2M2InXSxcbiAgLy/mj5LlhaXku6PnoIHor63oqIDphY3nva5cbiAgbGFuZ3VhZ2VUeXBlOiBbJ0Jhc2gnLCAnQycsICdDIycsICdDKysnLCAnQ1NTJywgJ0phdmEnLCAnSmF2YVNjcmlwdCcsICdKU09OJywgJ1R5cGVTY3JpcHQnLCAnUGxhaW4gdGV4dCcsICdIdG1sJywgJ1hNTCcsICdTUUwnLCAnR28nLCAnS290bGluJywgJ0x1YScsICdNYXJrZG93bicsICdQSFAnLCAnUHl0aG9uJywgJ1NoZWxsIFNlc3Npb24nLCAnUnVieSddLFxuICBsYW5ndWFnZVRhYjogJ+OAgOOAgOOAgOOAgCcsXG5cbiAgLyoqXG4gICAqIOihqOaDhemFjee9ruiPnOWNlVxuICAgKiDlpoLmnpzkuLplbW9qaeihqOaDheebtOaOpeS9nOS4uuWFg+e0oOaPkuWFpVxuICAgKiBlbW90aWNvbjpBcnJheTxFbW90aW9uc1R5cGU+XG4gICAqL1xuICBlbW90aW9uczogW3tcbiAgICAvLyB0YWIg55qE5qCH6aKYXG4gICAgdGl0bGU6ICfooajmg4UnLFxuICAgIC8vIHR5cGUgLT4gJ2Vtb2ppJyAvICdpbWFnZSdcbiAgICB0eXBlOiAnZW1vamknLFxuICAgIC8vIGNvbnRlbnQgLT4g5pWw57uEXG4gICAgY29udGVudDogJ/CfmIAg8J+YgyDwn5iEIPCfmIEg8J+YhiDwn5iFIPCfmIIg8J+koyDwn5iKIPCfmIcg8J+ZgiDwn5mDIPCfmIkg8J+YjCDwn5iNIPCfmJgg8J+YlyDwn5iZIPCfmJog8J+YiyDwn5ibIPCfmJ0g8J+YnCDwn6STIPCfmI4g8J+YjyDwn5iSIPCfmJ4g8J+YlCDwn5ifIPCfmJUg8J+ZgSDwn5ijIPCfmJYg8J+YqyDwn5ipIPCfmKIg8J+YrSDwn5ikIPCfmKAg8J+YoSDwn5izIPCfmLEg8J+YqCDwn6SXIPCfpJQg8J+YtiDwn5iRIPCfmKwg8J+ZhCDwn5ivIPCfmLQg8J+YtyDwn6SRIPCfmIgg8J+koSDwn5KpIPCfkbsg8J+SgCDwn5GAIPCfkaMnLnNwbGl0KC9cXHMvKVxuICB9LCB7XG4gICAgLy8gdGFiIOeahOagh+mimFxuICAgIHRpdGxlOiAn5omL5Yq/JyxcbiAgICAvLyB0eXBlIC0+ICdlbW9qaScgLyAnaW1hZ2UnXG4gICAgdHlwZTogJ2Vtb2ppJyxcbiAgICAvLyBjb250ZW50IC0+IOaVsOe7hFxuICAgIGNvbnRlbnQ6ICfwn5GQIPCfmYwg8J+RjyDwn6SdIPCfkY0g8J+RjiDwn5GKIOKciiDwn6SbIPCfpJwg8J+kniDinIzvuI8g8J+kmCDwn5GMIPCfkYgg8J+RiSDwn5GGIPCfkYcg4pid77iPIOKciyDwn6SaIPCflpAg8J+WliDwn5GLIPCfpJkg8J+SqiDwn5aVIOKcje+4jyDwn5mPJy5zcGxpdCgvXFxzLylcbiAgfV0sXG4gIGxpbmVIZWlnaHRzOiBbJzEnLCAnMS4xNScsICcxLjYnLCAnMicsICcyLjUnLCAnMyddLFxuICB1bmRvTGltaXQ6IDIwLFxuICBpbmRlbnRhdGlvbjogJzJlbScsXG4gIHNob3dNZW51VG9vbHRpcHM6IHRydWUsXG4gIC8vIOiPnOWNleagj3Rvb2x0aXDkuLrkuIrmoIfov5jmmK/kuIvmoIdcbiAgbWVudVRvb2x0aXBQb3NpdGlvbjogJ3VwJ1xufTtcblxuLyoqKi8gfSksXG4vKiAyODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS6i+S7tumFjee9rlxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyoqXG4gKiDmj5DnpLrkv6Hmga9cbiAqIEBwYXJhbSBhbGVydEluZm8gYWxlcnQgaW5mb1xuICogQHBhcmFtIGFsZXJ0VHlwZSDplJnor6/mj5DnpLrnsbvlnotcbiAqIEBwYXJhbSBkZWJ1Z0luZm8gZGVidWcgaW5mb1xuICovXG5cblxuZnVuY3Rpb24gY3VzdG9tQWxlcnQoYWxlcnRJbmZvLCBhbGVydFR5cGUsIGRlYnVnSW5mbykge1xuICB3aW5kb3cuYWxlcnQoYWxlcnRJbmZvKTtcblxuICBpZiAoZGVidWdJbmZvKSB7XG4gICAgY29uc29sZS5lcnJvcignd2FuZ0VkaXRvcjogJyArIGRlYnVnSW5mbyk7XG4gIH1cbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIG9uY2hhbmdlVGltZW91dDogMjAwLFxuICBvbmNoYW5nZTogbnVsbCxcbiAgb25mb2N1czogY29uc3RfMS5FTVBUWV9GTixcbiAgb25ibHVyOiBjb25zdF8xLkVNUFRZX0ZOLFxuICBvbkNhdGFsb2dDaGFuZ2U6IG51bGwsXG4gIGN1c3RvbUFsZXJ0OiBjdXN0b21BbGVydFxufTtcblxuLyoqKi8gfSksXG4vKiAyODkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOeymOi0tO+8jOmFjee9ruaWh+S7tlxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICAvLyDnspjotLTov4fmu6TmoLflvI/vvIzpu5jorqTlvIDlkK9cbiAgcGFzdGVGaWx0ZXJTdHlsZTogdHJ1ZSxcbiAgLy8g57KY6LS05YaF5a655pe277yM5b+955Wl5Zu+54mH44CC6buY6K6k5YWz6ZetXG4gIHBhc3RlSWdub3JlSW1nOiBmYWxzZSxcbiAgLy8g5a+557KY6LS055qE5paH5a2X6L+b6KGM6Ieq5a6a5LmJ5aSE55CG77yM6L+U5Zue5aSE55CG5ZCO55qE57uT5p6c44CC57yW6L6R5Zmo5Lya5bCG5aSE55CG5ZCO55qE57uT5p6c57KY6LS05Yiw57yW6L6R5Yy65Z+f5Lit44CCXG4gIC8vIElFIOaaguaXtuS4jeaUr+aMgVxuICBwYXN0ZVRleHRIYW5kbGU6IGZ1bmN0aW9uIHBhc3RlVGV4dEhhbmRsZShjb250ZW50KSB7XG4gICAgLy8gY29udGVudCDljbPnspjotLTov4fmnaXnmoTlhoXlrrnvvIhodG1sIOaIliDnuq/mlofmnKzvvInvvIzlj6/ov5vooYzoh6rlrprkuYnlpITnkIbnhLblkI7ov5Tlm55cbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxufTtcblxuLyoqKi8gfSksXG4vKiAyOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWRveS7pOmFjee9rumhuVxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBzdHlsZVdpdGhDU1M6IGZhbHNlIC8vIOm7mOiupCBmYWxzZVxuXG59O1xuXG4vKioqLyB9KSxcbi8qIDI5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Zu+54mH55u45YWz55qE6YWN572uXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICAvLyDnvZHnu5zlm77niYfmoKHpqoznmoTphY3nva7lh73mlbBcbiAgbGlua0ltZ0NoZWNrOiBmdW5jdGlvbiBsaW5rSW1nQ2hlY2soc3JjLCBhbHQsIGhyZWYpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgLy8g5pi+56S64oCc5o+S5YWl572R57uc5Zu+54mH4oCdXG4gIHNob3dMaW5rSW1nOiB0cnVlLFxuICAvLyDmmL7npLrigJzmj5LlhaXlm77niYdhbHTigJ1cbiAgc2hvd0xpbmtJbWdBbHQ6IHRydWUsXG4gIC8vIOaYvuekuuKAnOaPkuWFpeWbvueJh2hyZWbigJ1cbiAgc2hvd0xpbmtJbWdIcmVmOiB0cnVlLFxuICAvLyDmj5LlhaXlm77niYfmiJDlip/kuYvlkI7nmoTlm57osIPlh73mlbBcbiAgbGlua0ltZ0NhbGxiYWNrOiBjb25zdF8xLkVNUFRZX0ZOLFxuICAvLyBhY2NlcHRcbiAgdXBsb2FkSW1nQWNjZXB0OiBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnYm1wJ10sXG4gIC8vIOacjeWKoeerr+WcsOWdgFxuICB1cGxvYWRJbWdTZXJ2ZXI6ICcnLFxuICAvLyDkvb/nlKggYmFzZTY0IOWtmOWCqOWbvueJh1xuICB1cGxvYWRJbWdTaG93QmFzZTY0OiBmYWxzZSxcbiAgLy8g5LiK5Lyg5Zu+54mH55qE5pyA5aSn5L2T56ev77yM6buY6K6kIDVNXG4gIHVwbG9hZEltZ01heFNpemU6IDUgKiAxMDI0ICogMTAyNCxcbiAgLy8g5LiA5qyh5pyA5aSa5LiK5Lyg5aSa5bCR5Liq5Zu+54mHXG4gIHVwbG9hZEltZ01heExlbmd0aDogMTAwLFxuICAvLyDoh6rlrprkuYnkuIrkvKDlm77niYfnmoTlkI3np7BcbiAgdXBsb2FkRmlsZU5hbWU6ICcnLFxuICAvLyDkuIrkvKDlm77niYfoh6rlrprkuYnlj4LmlbBcbiAgdXBsb2FkSW1nUGFyYW1zOiB7fSxcbiAgLy8g6Ieq5a6a5LmJ5Y+C5pWw5ou85o6l5YiwIHVybCDkuK1cbiAgdXBsb2FkSW1nUGFyYW1zV2l0aFVybDogZmFsc2UsXG4gIC8vIOS4iuS8oOWbvueJh+iHquWumuS5iSBoZWFkZXJcbiAgdXBsb2FkSW1nSGVhZGVyczoge30sXG4gIC8vIOmSqeWtkOWHveaVsFxuICB1cGxvYWRJbWdIb29rczoge30sXG4gIC8vIOS4iuS8oOWbvueJh+i2heaXtuaXtumXtCBtc1xuICB1cGxvYWRJbWdUaW1lb3V0OiAxMCAqIDEwMDAsXG4gIC8vIOi3qOWfn+W4piBjb29raWVcbiAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgLy8g6Ieq5a6a5LmJ5LiK5LygXG4gIGN1c3RvbVVwbG9hZEltZzogbnVsbCxcbiAgLy8g5LuO5aqS5L2T5bqT5LiK5LygXG4gIHVwbG9hZEltZ0Zyb21NZWRpYTogbnVsbFxufTtcblxuLyoqKi8gfSksXG4vKiAyOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBsYW5nOiAnemgtQ04nLFxuICBsYW5ndWFnZXM6IHtcbiAgICAnemgtQ04nOiB7XG4gICAgICB3YW5nRWRpdG9yOiB7XG4gICAgICAgIOmHjee9rjogJ+mHjee9ricsXG4gICAgICAgIOaPkuWFpTogJ+aPkuWFpScsXG4gICAgICAgIOm7mOiupDogJ+m7mOiupCcsXG4gICAgICAgIOWIm+W7ujogJ+WIm+W7uicsXG4gICAgICAgIOS/ruaUuTogJ+S/ruaUuScsXG4gICAgICAgIOWmgjogJ+WmgicsXG4gICAgICAgIOivt+i+k+WFpeato+aWhzogJ+ivt+i+k+WFpeato+aWhycsXG4gICAgICAgIG1lbnVzOiB7XG4gICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgIOagh+mimDogJ+agh+mimCcsXG4gICAgICAgICAgICDliqDnspc6ICfliqDnspcnLFxuICAgICAgICAgICAg5a2X5Y+3OiAn5a2X5Y+3JyxcbiAgICAgICAgICAgIOWtl+S9kzogJ+Wtl+S9kycsXG4gICAgICAgICAgICDmlpzkvZM6ICfmlpzkvZMnLFxuICAgICAgICAgICAg5LiL5YiS57q/OiAn5LiL5YiS57q/JyxcbiAgICAgICAgICAgIOWIoOmZpOe6vzogJ+WIoOmZpOe6vycsXG4gICAgICAgICAgICDnvKnov5s6ICfnvKnov5snLFxuICAgICAgICAgICAg6KGM6auYOiAn6KGM6auYJyxcbiAgICAgICAgICAgIOaWh+Wtl+minOiJsjogJ+aWh+Wtl+minOiJsicsXG4gICAgICAgICAgICDog4zmma/oibI6ICfog4zmma/oibInLFxuICAgICAgICAgICAg6ZO+5o6lOiAn6ZO+5o6lJyxcbiAgICAgICAgICAgIOW6j+WIlzogJ+W6j+WIlycsXG4gICAgICAgICAgICDlr7npvZA6ICflr7npvZAnLFxuICAgICAgICAgICAg5byV55SoOiAn5byV55SoJyxcbiAgICAgICAgICAgIOihqOaDhTogJ+ihqOaDhScsXG4gICAgICAgICAgICDlm77niYc6ICflm77niYcnLFxuICAgICAgICAgICAg6KeG6aKROiAn6KeG6aKRJyxcbiAgICAgICAgICAgIOihqOagvDogJ+ihqOagvCcsXG4gICAgICAgICAgICDku6PnoIE6ICfku6PnoIEnLFxuICAgICAgICAgICAg5YiG5Ymy57q/OiAn5YiG5Ymy57q/JyxcbiAgICAgICAgICAgIOaBouWkjTogJ+aBouWkjScsXG4gICAgICAgICAgICDmkqTplIA6ICfmkqTplIAnLFxuICAgICAgICAgICAg5YWo5bGPOiAn5YWo5bGPJyxcbiAgICAgICAgICAgIOWPlua2iOWFqOWxjzogJ+WPlua2iOWFqOWxjycsXG4gICAgICAgICAgICDlvoXlip7kuovpobk6ICflvoXlip7kuovpobknXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkcm9wTGlzdE1lbnU6IHtcbiAgICAgICAgICAgIOiuvue9ruagh+mimDogJ+iuvue9ruagh+mimCcsXG4gICAgICAgICAgICDog4zmma/popzoibI6ICfog4zmma/popzoibInLFxuICAgICAgICAgICAg5paH5a2X6aKc6ImyOiAn5paH5a2X6aKc6ImyJyxcbiAgICAgICAgICAgIOiuvue9ruWtl+WPtzogJ+iuvue9ruWtl+WPtycsXG4gICAgICAgICAgICDorr7nva7lrZfkvZM6ICforr7nva7lrZfkvZMnLFxuICAgICAgICAgICAg6K6+572u57yp6L+bOiAn6K6+572u57yp6L+bJyxcbiAgICAgICAgICAgIOWvuem9kOaWueW8jzogJ+Wvuem9kOaWueW8jycsXG4gICAgICAgICAgICDorr7nva7ooYzpq5g6ICforr7nva7ooYzpq5gnLFxuICAgICAgICAgICAg5bqP5YiXOiAn5bqP5YiXJyxcbiAgICAgICAgICAgIGhlYWQ6IHtcbiAgICAgICAgICAgICAg5q2j5paHOiAn5q2j5paHJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGVudDoge1xuICAgICAgICAgICAgICDlop7liqDnvKnov5s6ICflop7liqDnvKnov5snLFxuICAgICAgICAgICAgICDlh4/lsJHnvKnov5s6ICflh4/lsJHnvKnov5snXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAganVzdGlmeToge1xuICAgICAgICAgICAgICDpnaDlt6Y6ICfpnaDlt6YnLFxuICAgICAgICAgICAgICDlsYXkuK06ICflsYXkuK0nLFxuICAgICAgICAgICAgICDpnaDlj7M6ICfpnaDlj7MnLFxuICAgICAgICAgICAgICDkuKTnq686ICfkuKTnq68nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgICDml6Dluo/liJfooag6ICfml6Dluo/liJfooagnLFxuICAgICAgICAgICAgICDmnInluo/liJfooag6ICfmnInluo/liJfooagnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYW5lbE1lbnVzOiB7XG4gICAgICAgICAgICBlbW90aWNvbjoge1xuICAgICAgICAgICAgICDpu5jorqQ6ICfpu5jorqQnLFxuICAgICAgICAgICAgICDmlrDmtao6ICfmlrDmtaonLFxuICAgICAgICAgICAgICBlbW9qaTogJ2Vtb2ppJyxcbiAgICAgICAgICAgICAg5omL5Yq/OiAn5omL5Yq/J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgIOS4iuS8oOWbvueJhzogJ+S4iuS8oOWbvueJhycsXG4gICAgICAgICAgICAgIOe9kee7nOWbvueJhzogJ+e9kee7nOWbvueJhycsXG4gICAgICAgICAgICAgIOWbvueJh+WcsOWdgDogJ+WbvueJh+WcsOWdgCcsXG4gICAgICAgICAgICAgIOWbvueJh+aWh+Wtl+ivtOaYjjogJ+WbvueJh+aWh+Wtl+ivtOaYjicsXG4gICAgICAgICAgICAgIOi3s+i9rOmTvuaOpTogJ+i3s+i9rOmTvuaOpSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICAgIOmTvuaOpTogJ+mTvuaOpScsXG4gICAgICAgICAgICAgIOmTvuaOpeaWh+WtlzogJ+mTvuaOpeaWh+WtlycsXG4gICAgICAgICAgICAgIOWPlua2iOmTvuaOpTogJ+WPlua2iOmTvuaOpScsXG4gICAgICAgICAgICAgIOafpeeci+mTvuaOpTogJ+afpeeci+mTvuaOpSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICDmj5LlhaXop4bpopE6ICfmj5LlhaXop4bpopEnLFxuICAgICAgICAgICAgICDkuIrkvKDop4bpopE6ICfkuIrkvKDop4bpopEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFibGU6IHtcbiAgICAgICAgICAgICAg6KGMOiAn6KGMJyxcbiAgICAgICAgICAgICAg5YiXOiAn5YiXJyxcbiAgICAgICAgICAgICAg55qEOiAn55qEJyxcbiAgICAgICAgICAgICAg6KGo5qC8OiAn6KGo5qC8JyxcbiAgICAgICAgICAgICAg5re75Yqg6KGMOiAn5re75Yqg6KGMJyxcbiAgICAgICAgICAgICAg5Yig6Zmk6KGMOiAn5Yig6Zmk6KGMJyxcbiAgICAgICAgICAgICAg5re75Yqg5YiXOiAn5re75Yqg5YiXJyxcbiAgICAgICAgICAgICAg5Yig6Zmk5YiXOiAn5Yig6Zmk5YiXJyxcbiAgICAgICAgICAgICAg6K6+572u6KGo5aS0OiAn6K6+572u6KGo5aS0JyxcbiAgICAgICAgICAgICAg5Y+W5raI6KGo5aS0OiAn5Y+W5raI6KGo5aS0JyxcbiAgICAgICAgICAgICAg5o+S5YWl6KGo5qC8OiAn5o+S5YWl6KGo5qC8JyxcbiAgICAgICAgICAgICAg5Yig6Zmk6KGo5qC8OiAn5Yig6Zmk6KGo5qC8J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvZGU6IHtcbiAgICAgICAgICAgICAg5Yig6Zmk5Luj56CBOiAn5Yig6Zmk5Luj56CBJyxcbiAgICAgICAgICAgICAg5L+u5pS55Luj56CBOiAn5L+u5pS55Luj56CBJyxcbiAgICAgICAgICAgICAg5o+S5YWl5Luj56CBOiAn5o+S5YWl5Luj56CBJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICDlvKDlm77niYc6ICflvKDlm77niYcnLFxuICAgICAgICAgIOWkp+S6jjogJ+Wkp+S6jicsXG4gICAgICAgICAg5Zu+54mH6ZO+5o6lOiAn5Zu+54mH6ZO+5o6lJyxcbiAgICAgICAgICDkuI3mmK/lm77niYc6ICfkuI3mmK/lm77niYcnLFxuICAgICAgICAgIOi/lOWbnue7k+aenDogJ+i/lOWbnue7k+aenCcsXG4gICAgICAgICAg5LiK5Lyg5Zu+54mH6LaF5pe2OiAn5LiK5Lyg5Zu+54mH6LaF5pe2JyxcbiAgICAgICAgICDkuIrkvKDlm77niYfplJnor686ICfkuIrkvKDlm77niYfplJnor68nLFxuICAgICAgICAgIOS4iuS8oOWbvueJh+Wksei0pTogJ+S4iuS8oOWbvueJh+Wksei0pScsXG4gICAgICAgICAg5o+S5YWl5Zu+54mH6ZSZ6K+vOiAn5o+S5YWl5Zu+54mH6ZSZ6K+vJyxcbiAgICAgICAgICDkuIDmrKHmnIDlpJrkuIrkvKA6ICfkuIDmrKHmnIDlpJrkuIrkvKAnLFxuICAgICAgICAgIOS4i+i9vemTvuaOpeWksei0pTogJ+S4i+i9vemTvuaOpeWksei0pScsXG4gICAgICAgICAg5Zu+54mH6aqM6K+B5pyq6YCa6L+HOiAn5Zu+54mH6aqM6K+B5pyq6YCa6L+HJyxcbiAgICAgICAgICDmnI3liqHlmajov5Tlm57nirbmgIE6ICfmnI3liqHlmajov5Tlm57nirbmgIEnLFxuICAgICAgICAgIOS4iuS8oOWbvueJh+i/lOWbnue7k+aenOmUmeivrzogJ+S4iuS8oOWbvueJh+i/lOWbnue7k+aenOmUmeivrycsXG4gICAgICAgICAg6K+35pu/5o2i5Li65pSv5oyB55qE5Zu+54mH57G75Z6LOiAn6K+35pu/5o2i5Li65pSv5oyB55qE5Zu+54mH57G75Z6LJyxcbiAgICAgICAgICDmgqjmj5LlhaXnmoTnvZHnu5zlm77niYfml6Dms5Xor4bliKs6ICfmgqjmj5LlhaXnmoTnvZHnu5zlm77niYfml6Dms5Xor4bliKsnLFxuICAgICAgICAgIOaCqOWImuaJjeaPkuWFpeeahOWbvueJh+mTvuaOpeacqumAmui/h+e8lui+keWZqOagoemqjDogJ+aCqOWImuaJjeaPkuWFpeeahOWbvueJh+mTvuaOpeacqumAmui/h+e8lui+keWZqOagoemqjCcsXG4gICAgICAgICAg5o+S5YWl6KeG6aKR6ZSZ6K+vOiAn5o+S5YWl6KeG6aKR6ZSZ6K+vJyxcbiAgICAgICAgICDop4bpopHpk77mjqU6ICfop4bpopHpk77mjqUnLFxuICAgICAgICAgIOS4jeaYr+inhumikTogJ+S4jeaYr+inhumikScsXG4gICAgICAgICAg6KeG6aKR6aqM6K+B5pyq6YCa6L+HOiAn6KeG6aKR6aqM6K+B5pyq6YCa6L+HJyxcbiAgICAgICAgICDkuKrop4bpopE6ICfkuKrop4bpopEnLFxuICAgICAgICAgIOS4iuS8oOinhumikei2heaXtjogJ+S4iuS8oOinhumikei2heaXticsXG4gICAgICAgICAg5LiK5Lyg6KeG6aKR6ZSZ6K+vOiAn5LiK5Lyg6KeG6aKR6ZSZ6K+vJyxcbiAgICAgICAgICDkuIrkvKDop4bpopHlpLHotKU6ICfkuIrkvKDop4bpopHlpLHotKUnLFxuICAgICAgICAgIOS4iuS8oOinhumikei/lOWbnue7k+aenOmUmeivrzogJ+S4iuS8oOinhumikei/lOWbnue7k+aenOmUmeivrydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZW46IHtcbiAgICAgIHdhbmdFZGl0b3I6IHtcbiAgICAgICAg6YeN572uOiAncmVzZXQnLFxuICAgICAgICDmj5LlhaU6ICdpbnNlcnQnLFxuICAgICAgICDpu5jorqQ6ICdkZWZhdWx0JyxcbiAgICAgICAg5Yib5bu6OiAnY3JlYXRlJyxcbiAgICAgICAg5L+u5pS5OiAnZWRpdCcsXG4gICAgICAgIOWmgjogJ2xpa2UnLFxuICAgICAgICDor7fovpPlhaXmraPmloc6ICdwbGVhc2UgZW50ZXIgdGhlIHRleHQnLFxuICAgICAgICBtZW51czoge1xuICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICDmoIfpopg6ICdoZWFkJyxcbiAgICAgICAgICAgIOWKoOeylzogJ2JvbGQnLFxuICAgICAgICAgICAg5a2X5Y+3OiAnZm9udCBzaXplJyxcbiAgICAgICAgICAgIOWtl+S9kzogJ2ZvbnQgZmFtaWx5JyxcbiAgICAgICAgICAgIOaWnOS9kzogJ2l0YWxpYycsXG4gICAgICAgICAgICDkuIvliJLnur86ICd1bmRlcmxpbmUnLFxuICAgICAgICAgICAg5Yig6Zmk57q/OiAnc3RyaWtldGhyb3VnaCcsXG4gICAgICAgICAgICDnvKnov5s6ICdpbmRlbnQnLFxuICAgICAgICAgICAg6KGM6auYOiAnbGluZSBoZWloZ3QnLFxuICAgICAgICAgICAg5paH5a2X6aKc6ImyOiAnZm9udCBjb2xvcicsXG4gICAgICAgICAgICDog4zmma/oibI6ICdiYWNrZ3JvdW5kJyxcbiAgICAgICAgICAgIOmTvuaOpTogJ2xpbmsnLFxuICAgICAgICAgICAg5bqP5YiXOiAnbnVtYmVyZWQgbGlzdCcsXG4gICAgICAgICAgICDlr7npvZA6ICdhbGlnbicsXG4gICAgICAgICAgICDlvJXnlKg6ICdxdW90ZScsXG4gICAgICAgICAgICDooajmg4U6ICdlbW90aWNvbnMnLFxuICAgICAgICAgICAg5Zu+54mHOiAnaW1hZ2UnLFxuICAgICAgICAgICAg6KeG6aKROiAnbWVkaWEnLFxuICAgICAgICAgICAg6KGo5qC8OiAndGFibGUnLFxuICAgICAgICAgICAg5Luj56CBOiAnY29kZScsXG4gICAgICAgICAgICDliIblibLnur86ICdzcGxpdCBsaW5lJyxcbiAgICAgICAgICAgIOaBouWkjTogJ3VuZG8nLFxuICAgICAgICAgICAg5pKk6ZSAOiAncmVkbycsXG4gICAgICAgICAgICDlhajlsY86ICdmdWxsc2NyZWVuJyxcbiAgICAgICAgICAgIOWPlua2iOWFqOWxjzogJ2NhbmNlbCBmdWxsc2NyZWVuJyxcbiAgICAgICAgICAgIOW+heWKnuS6i+mhuTogJ3RvZG8nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkcm9wTGlzdE1lbnU6IHtcbiAgICAgICAgICAgIOiuvue9ruagh+mimDogJ3RpdGxlJyxcbiAgICAgICAgICAgIOiDjOaZr+minOiJsjogJ2JhY2tncm91bmQnLFxuICAgICAgICAgICAg5paH5a2X6aKc6ImyOiAnZm9udCBjb2xvcicsXG4gICAgICAgICAgICDorr7nva7lrZflj7c6ICdmb250IHNpemUnLFxuICAgICAgICAgICAg6K6+572u5a2X5L2TOiAnZm9udCBmYW1pbHknLFxuICAgICAgICAgICAg6K6+572u57yp6L+bOiAnaW5kZW50JyxcbiAgICAgICAgICAgIOWvuem9kOaWueW8jzogJ2FsaWduJyxcbiAgICAgICAgICAgIOiuvue9ruihjOmrmDogJ2xpbmUgaGVpaGd0JyxcbiAgICAgICAgICAgIOW6j+WIlzogJ2xpc3QnLFxuICAgICAgICAgICAgaGVhZDoge1xuICAgICAgICAgICAgICDmraPmloc6ICd0ZXh0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGVudDoge1xuICAgICAgICAgICAgICDlop7liqDnvKnov5s6ICdpbmRlbnQnLFxuICAgICAgICAgICAgICDlh4/lsJHnvKnov5s6ICdvdXRkZW50J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGp1c3RpZnk6IHtcbiAgICAgICAgICAgICAg6Z2g5bemOiAnbGVmdCcsXG4gICAgICAgICAgICAgIOWxheS4rTogJ2NlbnRlcicsXG4gICAgICAgICAgICAgIOmdoOWPszogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAg5Lik56uvOiAnanVzdGlmeSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaXN0OiB7XG4gICAgICAgICAgICAgIOaXoOW6j+WIl+ihqDogJ3Vub3JkZXJlZCcsXG4gICAgICAgICAgICAgIOacieW6j+WIl+ihqDogJ29yZGVyZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYW5lbE1lbnVzOiB7XG4gICAgICAgICAgICBlbW90aWNvbjoge1xuICAgICAgICAgICAgICDooajmg4U6ICdlbW9qaScsXG4gICAgICAgICAgICAgIOaJi+WKvzogJ2dlc3R1cmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAg5LiK5Lyg5Zu+54mHOiAndXBsb2FkIGltYWdlJyxcbiAgICAgICAgICAgICAg572R57uc5Zu+54mHOiAnbmV0d29yayBpbWFnZScsXG4gICAgICAgICAgICAgIOWbvueJh+WcsOWdgDogJ2ltYWdlIGxpbmsnLFxuICAgICAgICAgICAgICDlm77niYfmloflrZfor7TmmI46ICdpbWFnZSBhbHQnLFxuICAgICAgICAgICAgICDot7Povazpk77mjqU6ICdoeXBlcmxpbmsnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazoge1xuICAgICAgICAgICAgICDpk77mjqU6ICdsaW5rJyxcbiAgICAgICAgICAgICAg6ZO+5o6l5paH5a2XOiAnbGluayB0ZXh0JyxcbiAgICAgICAgICAgICAg5Y+W5raI6ZO+5o6lOiAndW5saW5rJyxcbiAgICAgICAgICAgICAg5p+l55yL6ZO+5o6lOiAndmlldyBsaW5rcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICDmj5LlhaXop4bpopE6ICdpbnNlcnQgdmlkZW8nLFxuICAgICAgICAgICAgICDkuIrkvKDop4bpopE6ICd1cGxvYWQgbG9jYWwgdmlkZW8nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFibGU6IHtcbiAgICAgICAgICAgICAg6KGMOiAncm93cycsXG4gICAgICAgICAgICAgIOWIlzogJ2NvbHVtbnMnLFxuICAgICAgICAgICAgICDnmoQ6ICcgJyxcbiAgICAgICAgICAgICAg6KGo5qC8OiAndGFibGUnLFxuICAgICAgICAgICAgICDmt7vliqDooYw6ICdpbnNlcnQgcm93JyxcbiAgICAgICAgICAgICAg5Yig6Zmk6KGMOiAnZGVsZXRlIHJvdycsXG4gICAgICAgICAgICAgIOa3u+WKoOWIlzogJ2luc2VydCBjb2x1bW4nLFxuICAgICAgICAgICAgICDliKDpmaTliJc6ICdkZWxldGUgY29sdW1uJyxcbiAgICAgICAgICAgICAg6K6+572u6KGo5aS0OiAnc2V0IGhlYWRlcicsXG4gICAgICAgICAgICAgIOWPlua2iOihqOWktDogJ2NhbmNlbCBoZWFkZXInLFxuICAgICAgICAgICAgICDmj5LlhaXooajmoLw6ICdpbnNlcnQgdGFibGUnLFxuICAgICAgICAgICAgICDliKDpmaTooajmoLw6ICdkZWxldGUgdGFibGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29kZToge1xuICAgICAgICAgICAgICDliKDpmaTku6PnoIE6ICdkZWxldGUgY29kZScsXG4gICAgICAgICAgICAgIOS/ruaUueS7o+eggTogJ2VkaXQgY29kZScsXG4gICAgICAgICAgICAgIOaPkuWFpeS7o+eggTogJ2luc2VydCBjb2RlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICDlvKDlm77niYc6ICdpbWFnZXMnLFxuICAgICAgICAgIOWkp+S6jjogJ2dyZWF0ZXIgdGhhbicsXG4gICAgICAgICAg5Zu+54mH6ZO+5o6lOiAnaW1hZ2UgbGluaycsXG4gICAgICAgICAg5LiN5piv5Zu+54mHOiAnaXMgbm90IGltYWdlJyxcbiAgICAgICAgICDov5Tlm57nu5Pmnpw6ICdyZXR1cm4gcmVzdWx0cycsXG4gICAgICAgICAg5LiK5Lyg5Zu+54mH6LaF5pe2OiAndXBsb2FkIGltYWdlIHRpbWVvdXQnLFxuICAgICAgICAgIOS4iuS8oOWbvueJh+mUmeivrzogJ3VwbG9hZCBpbWFnZSBlcnJvcicsXG4gICAgICAgICAg5LiK5Lyg5Zu+54mH5aSx6LSlOiAndXBsb2FkIGltYWdlIGZhaWxlZCcsXG4gICAgICAgICAg5o+S5YWl5Zu+54mH6ZSZ6K+vOiAnaW5zZXJ0IGltYWdlIGVycm9yJyxcbiAgICAgICAgICDkuIDmrKHmnIDlpJrkuIrkvKA6ICdvbmNlIG1vc3QgYXQgdXBsb2FkJyxcbiAgICAgICAgICDkuIvovb3pk77mjqXlpLHotKU6ICdkb3dubG9hZCBsaW5rIGZhaWxlZCcsXG4gICAgICAgICAg5Zu+54mH6aqM6K+B5pyq6YCa6L+HOiAnaW1hZ2UgdmFsaWRhdGUgZmFpbGVkJyxcbiAgICAgICAgICDmnI3liqHlmajov5Tlm57nirbmgIE6ICdzZXJ2ZXIgcmV0dXJuIHN0YXR1cycsXG4gICAgICAgICAg5LiK5Lyg5Zu+54mH6L+U5Zue57uT5p6c6ZSZ6K+vOiAndXBsb2FkIGltYWdlIHJldHVybiByZXN1bHRzIGVycm9yJyxcbiAgICAgICAgICDor7fmm7/mjaLkuLrmlK/mjIHnmoTlm77niYfnsbvlnos6ICdwbGVhc2UgcmVwbGFjZSB3aXRoIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUnLFxuICAgICAgICAgIOaCqOaPkuWFpeeahOe9kee7nOWbvueJh+aXoOazleivhuWIqzogJ3RoZSBuZXR3b3JrIHBpY3R1cmUgeW91IGluc2VydGVkIGlzIG5vdCByZWNvZ25pemVkJyxcbiAgICAgICAgICDmgqjliJrmiY3mj5LlhaXnmoTlm77niYfpk77mjqXmnKrpgJrov4fnvJbovpHlmajmoKHpqow6ICd0aGUgaW1hZ2UgbGluayB5b3UganVzdCBpbnNlcnRlZCBkaWQgbm90IHBhc3MgdGhlIGVkaXRvciB2ZXJpZmljYXRpb24nLFxuICAgICAgICAgIOaPkuWFpeinhumikemUmeivrzogJ2luc2VydCB2aWRlbyBlcnJvcicsXG4gICAgICAgICAg6KeG6aKR6ZO+5o6lOiAndmlkZW8gbGluaycsXG4gICAgICAgICAg5LiN5piv6KeG6aKROiAnaXMgbm90IHZpZGVvJyxcbiAgICAgICAgICDop4bpopHpqozor4HmnKrpgJrov4c6ICd2aWRlbyB2YWxpZGF0ZSBmYWlsZWQnLFxuICAgICAgICAgIOS4quinhumikTogJ3ZpZGVvcycsXG4gICAgICAgICAg5LiK5Lyg6KeG6aKR6LaF5pe2OiAndXBsb2FkIHZpZGVvIHRpbWVvdXQnLFxuICAgICAgICAgIOS4iuS8oOinhumikemUmeivrzogJ3VwbG9hZCB2aWRlbyBlcnJvcicsXG4gICAgICAgICAg5LiK5Lyg6KeG6aKR5aSx6LSlOiAndXBsb2FkIHZpZGVvIGZhaWxlZCcsXG4gICAgICAgICAg5LiK5Lyg6KeG6aKR6L+U5Zue57uT5p6c6ZSZ6K+vOiAndXBsb2FkIHZpZGVvIHJldHVybiByZXN1bHRzIGVycm9yJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKioqLyB9KSxcbi8qIDI5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Y6G5Y+y6K6w5b2VIC0g5pWw5o2u57yT5a2Y55qE5qih5byPXG4gKiBAYXV0aG9yIGZhbmd6aGljb25nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKipcbiAqIOaYr+WQpuS4uuWFvOWuueaooeW8j+OAgui/lOWbniB0cnVlIOihqOekuuW9k+WJjeS9v+eUqOWFvOWuue+8iOWGheWuueWkh+S7ve+8ieaooeW8j++8jOWQpuWImeS9v+eUqOagh+WHhu+8iOW3ruW8guWkh+S7ve+8ieaooeW8j1xuICovXG5cblxuZnVuY3Rpb24gY29tcGF0aWJsZU1vZGUoKSB7XG4gIGlmICh1dGlsXzEuVUEuaXNJRSgpIHx8IHV0aWxfMS5VQS5pc09sZEVkZ2UpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIGNvbXBhdGlibGVNb2RlOiBjb21wYXRpYmxlTW9kZSxcbiAgaGlzdG9yeU1heFNpemU6IDMwXG59O1xuXG4vKioqLyB9KSxcbi8qIDI5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6KeG6aKR55u45YWz55qE6YWN572uXG4gKiBAYXV0aG9yIGh1dGlhbmhhb1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIC8vIOaPkuWFpee9kee7nOinhumikeWJjeeahOWbnuiwg+WHveaVsFxuICBvbmxpbmVWaWRlb0NoZWNrOiBmdW5jdGlvbiBvbmxpbmVWaWRlb0NoZWNrKHZpZGVvKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIC8vIOaPkuWFpee9kee7nOinhumikeaIkOWKn+S5i+WQjueahOWbnuiwg+WHveaVsFxuICBvbmxpbmVWaWRlb0NhbGxiYWNrOiBjb25zdF8xLkVNUFRZX0ZOLFxuICAvLyDmmL7npLrigJzmj5LlhaXop4bpopHigJ1cbiAgc2hvd0xpbmtWaWRlbzogdHJ1ZSxcbiAgLy8gYWNjZXB0XG4gIHVwbG9hZFZpZGVvQWNjZXB0OiBbJ21wNCddLFxuICAvLyDmnI3liqHnq6/lnLDlnYBcbiAgdXBsb2FkVmlkZW9TZXJ2ZXI6ICcnLFxuICAvLyDkuIrkvKDop4bpopHnmoTmnIDlpKfkvZPnp6/vvIzpu5jorqQgMTAyNE1cbiAgdXBsb2FkVmlkZW9NYXhTaXplOiAxICogMTAyNCAqIDEwMjQgKiAxMDI0LFxuICAvLyDkuIDmrKHmnIDlpJrkuIrkvKDlpJrlsJHkuKrop4bpopFcbiAgLy8gdXBsb2FkVmlkZW9NYXhMZW5ndGg6IDIsXG4gIC8vIOiHquWumuS5ieS4iuS8oOinhumikeeahOWQjeensFxuICB1cGxvYWRWaWRlb05hbWU6ICcnLFxuICAvLyDkuIrkvKDop4bpopHoh6rlrprkuYnlj4LmlbBcbiAgdXBsb2FkVmlkZW9QYXJhbXM6IHt9LFxuICAvLyDoh6rlrprkuYnlj4LmlbDmi7zmjqXliLAgdXJsIOS4rVxuICB1cGxvYWRWaWRlb1BhcmFtc1dpdGhVcmw6IGZhbHNlLFxuICAvLyDkuIrkvKDop4bpopHoh6rlrprkuYkgaGVhZGVyXG4gIHVwbG9hZFZpZGVvSGVhZGVyczoge30sXG4gIC8vIOmSqeWtkOWHveaVsFxuICB1cGxvYWRWaWRlb0hvb2tzOiB7fSxcbiAgLy8g5LiK5Lyg6KeG6aKR6LaF5pe25pe26Ze0IG1zIOm7mOiupDLkuKrlsI/ml7ZcbiAgdXBsb2FkVmlkZW9UaW1lb3V0OiAxMDAwICogNjAgKiA2MCAqIDIsXG4gIC8vIOi3qOWfn+W4piBjb29raWVcbiAgd2l0aFZpZGVvQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAvLyDoh6rlrprkuYnkuIrkvKBcbiAgY3VzdG9tVXBsb2FkVmlkZW86IG51bGwsXG4gIC8vIOiHquWumuS5ieaPkuWFpeinhumikVxuICBjdXN0b21JbnNlcnRWaWRlbzogbnVsbFxufTtcblxuLyoqKi8gfSksXG4vKiAyOTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qKlxuICogQGRlc2NyaXB0aW9uIHNlbGVjdGlvbiByYW5nZSBBUElcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIFNlbGVjdGlvbkFuZFJhbmdlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWxlY3Rpb25BbmRSYW5nZShlZGl0b3IpIHtcbiAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSBudWxsO1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICB9XG4gIC8qKlxuICAgKiDojrflj5blvZPliY0gcmFuZ2VcbiAgICovXG5cblxuICBTZWxlY3Rpb25BbmRSYW5nZS5wcm90b3R5cGUuZ2V0UmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5nZTtcbiAgfTtcbiAgLyoqXG4gICAqIOS/neWtmOmAieWMuuiMg+WbtFxuICAgKiBAcGFyYW0gX3JhbmdlIOmAieWMuuiMg+WbtFxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5zYXZlUmFuZ2UgPSBmdW5jdGlvbiAoX3JhbmdlKSB7XG4gICAgaWYgKF9yYW5nZSkge1xuICAgICAgLy8g5L+d5a2Y5bey5pyJ6YCJ5Yy6XG4gICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSBfcmFuZ2U7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyDojrflj5blvZPliY3nmoTpgInljLpcblxuXG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblxuICAgIGlmIChzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOyAvLyDojrflj5bpgInljLrojIPlm7TnmoQgRE9NIOWFg+e0oFxuXG4gICAgdmFyICRjb250YWluZXJFbGVtID0gdGhpcy5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKHJhbmdlKTtcblxuICAgIGlmICghKCRjb250YWluZXJFbGVtID09PSBudWxsIHx8ICRjb250YWluZXJFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkY29udGFpbmVyRWxlbS5sZW5ndGgpKSB7XG4gICAgICAvLyDlvZMg6YCJ5Yy66IyD5Zu05YaF5rKh5pyJIERPTeWFg+e0oCDliJnmipvlh7pcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoJGNvbnRhaW5lckVsZW0uYXR0cignY29udGVudGVkaXRhYmxlJykgPT09ICdmYWxzZScgfHwgJGNvbnRhaW5lckVsZW0ucGFyZW50VW50aWwoJ1tjb250ZW50ZWRpdGFibGU9ZmFsc2VdJykpIHtcbiAgICAgIC8vIOi/memHjOWkp+S9k+aEj+S5ieS4iuWwseaYr+S4quS/nemZqVxuICAgICAgLy8g56Gu5L+dIOe8lui+keWMuuWfnyDnmoQgY29udGVudGVkaXRhYmxl5bGe5oCnIOeahOWAvOS4uiB0cnVlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtO1xuXG4gICAgaWYgKCR0ZXh0RWxlbS5pc0NvbnRhaW4oJGNvbnRhaW5lckVsZW0pKSB7XG4gICAgICBpZiAoJHRleHRFbGVtLmVsZW1zWzBdID09PSAkY29udGFpbmVyRWxlbS5lbGVtc1swXSkge1xuICAgICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgICAgaWYgKCgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gJHRleHRFbGVtLmh0bWwoKSkuY2FsbChfY29udGV4dCkgPT09IGNvbnN0XzEuRU1QVFlfUCkge1xuICAgICAgICAgIHZhciAkY2hpbGRyZW4gPSAkdGV4dEVsZW0uY2hpbGRyZW4oKTtcbiAgICAgICAgICB2YXIgJGxhc3QgPSAkY2hpbGRyZW4gPT09IG51bGwgfHwgJGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkY2hpbGRyZW4ubGFzdCgpO1xuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGxhc3QsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9IC8vIOaYr+e8lui+keWGheWuueS5i+WGheeahFxuXG5cbiAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHJhbmdlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOaKmOWPoOmAieWMuuiMg+WbtFxuICAgKiBAcGFyYW0gdG9TdGFydCB0cnVlIOW8gOWni+S9jee9ru+8jGZhbHNlIOe7k+adn+S9jee9rlxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5jb2xsYXBzZVJhbmdlID0gZnVuY3Rpb24gKHRvU3RhcnQpIHtcbiAgICBpZiAodG9TdGFydCA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1N0YXJ0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHJhbmdlID0gdGhpcy5fY3VycmVudFJhbmdlO1xuXG4gICAgaWYgKHJhbmdlKSB7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0b1N0YXJ0KTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5bpgInljLrojIPlm7TlhoXnmoTmloflrZdcbiAgICovXG5cblxuICBTZWxlY3Rpb25BbmRSYW5nZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmFuZ2UgPSB0aGlzLl9jdXJyZW50UmFuZ2U7XG5cbiAgICBpZiAocmFuZ2UpIHtcbiAgICAgIHJldHVybiByYW5nZS50b1N0cmluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog6I635Y+W6YCJ5Yy66IyD5Zu055qEIERPTSDlhYPntKBcbiAgICogQHBhcmFtIHJhbmdlIOmAieWMuuiMg+WbtFxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgdmFyIHI7XG4gICAgciA9IHJhbmdlIHx8IHRoaXMuX2N1cnJlbnRSYW5nZTtcbiAgICB2YXIgZWxlbTtcblxuICAgIGlmIChyKSB7XG4gICAgICBlbGVtID0gci5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICAgIHJldHVybiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlbGVtLm5vZGVUeXBlID09PSAxID8gZWxlbSA6IGVsZW0ucGFyZW50Tm9kZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog6YCJ5Yy66IyD5Zu05byA5aeL55qEIERPTSDlhYPntKBcbiAgICogQHBhcmFtIHJhbmdlIOmAieWMuuiMg+WbtFxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25TdGFydEVsZW0gPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICB2YXIgcjtcbiAgICByID0gcmFuZ2UgfHwgdGhpcy5fY3VycmVudFJhbmdlO1xuICAgIHZhciBlbGVtO1xuXG4gICAgaWYgKHIpIHtcbiAgICAgIGVsZW0gPSByLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgcmV0dXJuIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGVsZW0ubm9kZVR5cGUgPT09IDEgPyBlbGVtIDogZWxlbS5wYXJlbnROb2RlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDpgInljLrojIPlm7Tnu5PmnZ/nmoQgRE9NIOWFg+e0oFxuICAgKiBAcGFyYW0gcmFuZ2Ug6YCJ5Yy66IyD5Zu0XG4gICAqL1xuXG5cbiAgU2VsZWN0aW9uQW5kUmFuZ2UucHJvdG90eXBlLmdldFNlbGVjdGlvbkVuZEVsZW0gPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICB2YXIgcjtcbiAgICByID0gcmFuZ2UgfHwgdGhpcy5fY3VycmVudFJhbmdlO1xuICAgIHZhciBlbGVtO1xuXG4gICAgaWYgKHIpIHtcbiAgICAgIGVsZW0gPSByLmVuZENvbnRhaW5lcjtcbiAgICAgIHJldHVybiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlbGVtLm5vZGVUeXBlID09PSAxID8gZWxlbSA6IGVsZW0ucGFyZW50Tm9kZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog6YCJ5Yy65piv5ZCm5Li656m677yI5rKh5pyJ6YCJ5oup5paH5a2X77yJXG4gICAqL1xuXG5cbiAgU2VsZWN0aW9uQW5kUmFuZ2UucHJvdG90eXBlLmlzU2VsZWN0aW9uRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJhbmdlID0gdGhpcy5fY3VycmVudFJhbmdlO1xuXG4gICAgaWYgKHJhbmdlICYmIHJhbmdlLnN0YXJ0Q29udGFpbmVyKSB7XG4gICAgICBpZiAocmFuZ2Uuc3RhcnRDb250YWluZXIgPT09IHJhbmdlLmVuZENvbnRhaW5lcikge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRPZmZzZXQgPT09IHJhbmdlLmVuZE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICAvKipcbiAgICog5oGi5aSN6YCJ5Yy66IyD5Zu0XG4gICAqL1xuXG5cbiAgU2VsZWN0aW9uQW5kUmFuZ2UucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICB2YXIgciA9IHRoaXMuX2N1cnJlbnRSYW5nZTtcblxuICAgIGlmIChzZWxlY3Rpb24gJiYgcikge1xuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHIpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWIm+W7uuS4gOS4quepuueZve+8iOWNsyAmIzgyMDMg5a2X56ym77yJ6YCJ5Yy6XG4gICAqL1xuXG5cbiAgU2VsZWN0aW9uQW5kUmFuZ2UucHJvdG90eXBlLmNyZWF0ZUVtcHR5UmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICB2YXIgJGVsZW07XG5cbiAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAvLyDlvZPliY3ml6AgcmFuZ2VcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNTZWxlY3Rpb25FbXB0eSgpKSB7XG4gICAgICAvLyDlvZPliY3pgInljLrlv4XpobvmsqHmnInlhoXlrrnmiY3lj6/ku6XvvIzmnInlhoXlrrnlsLHnm7TmjqUgcmV0dXJuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOebruWJjeWPquaUr+aMgSB3ZWJraXQg5YaF5qC4XG4gICAgICBpZiAodXRpbF8xLlVBLmlzV2Via2l0KCkpIHtcbiAgICAgICAgLy8g5o+S5YWlICYjODIwM1xuICAgICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCAnJiM4MjAzOycpOyAvLyDkv67mlLkgb2Zmc2V0IOS9jee9rlxuXG4gICAgICAgIHJhbmdlLnNldEVuZChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCArIDEpOyAvLyDlrZjlgqhcblxuICAgICAgICB0aGlzLnNhdmVSYW5nZShyYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8c3Ryb25nPiYjODIwMzs8L3N0cm9uZz4nKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRFbGVtJywgJGVsZW0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJhbmdlQnlFbGVtKCRlbGVtLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleCkgey8vIOmDqOWIhuaDheWGteS4i+S8muaKpemUme+8jOWFvOWuueS4gOS4i1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOmHjeaWsOiuvue9rumAieWMulxuICAgKiBAcGFyYW0gc3RhcnREb20g6YCJ5Yy65byA5aeL55qE5YWD57SgXG4gICAqIEBwYXJhbSBlbmREb20g6YCJ5Yy657uT5p2f55qE5YWD57SgXG4gICAqL1xuXG5cbiAgU2VsZWN0aW9uQW5kUmFuZ2UucHJvdG90eXBlLmNyZWF0ZVJhbmdlQnlFbGVtcyA9IGZ1bmN0aW9uIChzdGFydERvbSwgZW5kRG9tKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgOiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsgLy/muIXpmaTmiYDmnInnmoTpgInljLpcblxuICAgIHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0RG9tLCAwKTsgLy8g6K6+572u5aSa6KGM5qCH562+5LmL5ZCO77yM56ys5LqM5Liq5Y+C5pWw5Lya6KKraOagh+etvuWGheeahGLjgIFmb2505qCH562+562J5b2x5ZONcmFuZ2XojIPlm7TnmoTpgInlj5ZcblxuICAgIHJhbmdlLnNldEVuZChlbmREb20sIGVuZERvbS5jaGlsZE5vZGVzLmxlbmd0aCB8fCAxKTsgLy8g5L+d5a2Y6K6+572u5aW955qE6YCJ5Yy6XG5cbiAgICB0aGlzLnNhdmVSYW5nZShyYW5nZSk7IC8v5oGi5aSN6YCJ5Yy6XG5cbiAgICB0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgfTtcbiAgLyoqXG4gICAqIOagueaNriBET00g5YWD57Sg6K6+572u6YCJ5Yy6XG4gICAqIEBwYXJhbSAkZWxlbSBET00g5YWD57SgXG4gICAqIEBwYXJhbSB0b1N0YXJ0IHRydWUg5byA5aeL5L2N572u77yMZmFsc2Ug57uT5p2f5L2N572uXG4gICAqIEBwYXJhbSBpc0NvbnRlbnQg5piv5ZCm6YCJ5LitICRlbGVtIOeahOWGheWuuVxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5jcmVhdGVSYW5nZUJ5RWxlbSA9IGZ1bmN0aW9uICgkZWxlbSwgdG9TdGFydCwgaXNDb250ZW50KSB7XG4gICAgaWYgKCEkZWxlbS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbSA9ICRlbGVtLmVsZW1zWzBdO1xuICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgICBpZiAoaXNDb250ZW50KSB7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWmguaenOeUqOaIt+ayoeacieS8oOWFpSBpc0NvbnRlbnQg5Y+C5pWw77yM6YKj5bCx6buY6K6k5Li6IGZhbHNlXG4gICAgICByYW5nZS5zZWxlY3ROb2RlKGVsZW0pO1xuICAgIH1cblxuICAgIGlmICh0b1N0YXJ0ICE9IG51bGwpIHtcbiAgICAgIC8vIOS8oOWFpeS6hiB0b1N0YXJ0IOWPguaVsO+8jOaKmOWPoOmAieWMuuOAguWmguaenOayoeS8oOWFpSB0b1N0YXJ0IOWPguaVsO+8jOWImeW/veeVpei/meS4gOatpVxuICAgICAgcmFuZ2UuY29sbGFwc2UodG9TdGFydCk7XG5cbiAgICAgIGlmICghdG9TdGFydCkge1xuICAgICAgICB0aGlzLnNhdmVSYW5nZShyYW5nZSk7XG4gICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yKGVsZW0pO1xuICAgICAgfVxuICAgIH0gLy8g5a2Y5YKoIHJhbmdlXG5cblxuICAgIHRoaXMuc2F2ZVJhbmdlKHJhbmdlKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPliDlvZPliY0g6YCJ5Y+W6IyD5Zu055qEIOmhtue6pyjmrrXokL0pIOWFg+e0oFxuICAgKiBAcGFyYW0gJGVkaXRvclxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSwgX2I7IC8vIOa4heepuu+8jOmYsuatouWPoOWKoOWFg+e0oFxuXG5cbiAgICB2YXIgJG5vZGVMaXN0O1xuICAgIHZhciAkc3RhcnRFbGVtID0gKF9hID0gdGhpcy5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE5vZGVUb3AodGhpcy5lZGl0b3IpO1xuICAgIHZhciAkZW5kRWxlbSA9IChfYiA9IHRoaXMuZ2V0U2VsZWN0aW9uRW5kRWxlbSgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0Tm9kZVRvcCh0aGlzLmVkaXRvcik7XG4gICAgJG5vZGVMaXN0ID0gdGhpcy5yZWNvcmRTZWxlY3Rpb25Ob2Rlcyhkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkc3RhcnRFbGVtKSwgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJGVuZEVsZW0pKTtcbiAgICByZXR1cm4gJG5vZGVMaXN0O1xuICB9O1xuICAvKipcbiAgICog56e75Yqo5YWJ5qCH5L2N572uLOm7mOiupOaDheWGteS4i+WcqOWwvumDqFxuICAgKiDmnInkuIDkuKrnibnmrormg4XlhrXmmK9maXJlZm945LiL55qE5paH5pys6IqC54K55Lya6Ieq5Yqo6KGl5YWF5LiA5LiqYnLlhYPntKDvvIzkvJrlr7zoh7Toh6rliqjmjaLooYxcbiAgICog5omA5Lul6buY6K6k5oOF5Ya15LiL5ZyoZmlyZWZveOS4i+eahOaWh+acrOiKgueCueS8muiHquWKqOenu+WKqOWIsGJy5YmN6Z2iXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSDlhYPntKDoioLngrlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uIOWFieagh+eahOS9jee9rlxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gKG5vZGUsIHBvc2l0aW9uKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpOyAvL+WvueaWh+acrOiKgueCueeJueauiuWkhOeQhlxuXG4gICAgdmFyIGxlbiA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyAoX2EgPSBub2RlLm5vZGVWYWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG5cbiAgICBpZiAoKHV0aWxfMS5VQS5pc0ZpcmVmb3ggfHwgdXRpbF8xLlVBLmlzSUUoKSkgJiYgbGVuICE9PSAwKSB7XG4gICAgICAvLyBmaXJlZm945LiL5Zyo6IqC54K55Li65paH5pys6IqC54K55ZKM6IqC54K55pyA5ZCO5LiA5Liq5YWD57Sg5Li65paH5pys6IqC54K555qE5oOF5Ya15LiLXG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyB8fCBub2RlLmNoaWxkTm9kZXNbbGVuIC0gMV0ubm9kZU5hbWUgPT09ICdCUicpIHtcbiAgICAgICAgbGVuID0gbGVuIC0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcG9zID0gcG9zaXRpb24gIT09IG51bGwgJiYgcG9zaXRpb24gIT09IHZvaWQgMCA/IHBvc2l0aW9uIDogbGVuO1xuXG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub2RlKSB7XG4gICAgICByYW5nZS5zZXRTdGFydChub2RlLCBwb3MpO1xuICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHBvcyk7XG4gICAgICB0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blhYnmoIflnKjlvZPliY3pgInljLrnmoTkvY3nva5cbiAgICovXG5cblxuICBTZWxlY3Rpb25BbmRSYW5nZS5wcm90b3R5cGUuZ2V0Q3Vyc29yUG9zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQ7XG4gIH07XG4gIC8qKlxuICAgKiDmuIXpmaTlvZPliY3pgInljLrnmoRSYW5nZSxub3RpY2U65LiN5b2x5ZON5bey5L+d5a2Y55qEUmFuZ2VcbiAgICovXG5cblxuICBTZWxlY3Rpb25BbmRSYW5nZS5wcm90b3R5cGUuY2xlYXJXaW5kb3dTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOiusOW9leiKgueCuSAtIOS7jumAieWMuuW8gOWni+iKgueCueW8gOWniyDkuIDnm7TliLDljLnphY3liLDpgInljLrnu5PmnZ/oioLngrnkuLrmraJcbiAgICogQHBhcmFtICRub2RlIOiKgueCuVxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5yZWNvcmRTZWxlY3Rpb25Ob2RlcyA9IGZ1bmN0aW9uICgkbm9kZSwgJGVuZEVsZW0pIHtcbiAgICB2YXIgJGxpc3QgPSBbXTtcbiAgICB2YXIgaXNFbmQgPSB0cnVlO1xuICAgIC8qKlxuICAgIEBhdXRob3I6bHdcbiAgICBAZGVzY3JpcHRpb24g6Kej5YazY3RybCth5YWo6YCJ5oql6ZSZ55qEYnVnICRlbGVtLmdldE5vZGVOYW1lKCnlj6/og73kvJrop6blj5EkZWxlbVswXeacquWumuS5iVxuICAgICoqL1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciAkTk9ERSA9ICRub2RlO1xuICAgICAgdmFyICR0ZXh0RWxlbSA9IHRoaXMuZWRpdG9yLiR0ZXh0RWxlbTsgLy8gJE5PREXlhYPntKDkuLrnqbrml7bkuI3pnIDopoHov5vooYzlvqrnjq9cblxuICAgICAgd2hpbGUgKGlzRW5kKSB7XG4gICAgICAgIHZhciAkZWxlbSA9ICROT0RFID09PSBudWxsIHx8ICROT0RFID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkTk9ERS5nZXROb2RlVG9wKHRoaXMuZWRpdG9yKTtcbiAgICAgICAgaWYgKCRlbGVtLmdldE5vZGVOYW1lKCkgPT09ICdCT0RZJykgaXNFbmQgPSBmYWxzZTsgLy8g5YWc5bqVXG5cbiAgICAgICAgaWYgKCRlbGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkbGlzdC5wdXNoKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCROT0RFKSk7IC8vIOS4pOS4qui+ueeVjOaDheWGte+8mlxuICAgICAgICAgIC8vIDEuIOW9k+WJjeWFg+e0oOWwseaYr+aIkeS7rOimgeaJvueahOacq+WwvuWFg+e0oFxuICAgICAgICAgIC8vIDIuIOW9k+WJjeWFg+e0oOW3sue7j+aYr+e8lui+keWMuumhtue6p+WFg+e0oO+8iOWQpuWImeS8muaJvuWIsOe8lui+keWMuueahOWFhOW8n+iKgueCue+8jOavlOWmgnBsYWNlaG9sZGVy5YWD57Sg77yJXG5cbiAgICAgICAgICBpZiAoKCRlbmRFbGVtID09PSBudWxsIHx8ICRlbmRFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkZW5kRWxlbS5lcXVhbCgkZWxlbSkpIHx8ICR0ZXh0RWxlbS5lcXVhbCgkZWxlbSkpIHtcbiAgICAgICAgICAgIGlzRW5kID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICROT0RFID0gJGVsZW0uZ2V0TmV4dFNpYmxpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpc0VuZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAkbGlzdDtcbiAgfTtcbiAgLyoqXG4gICAqIOWwhuW9k+WJjSByYW5nZSDorr7nva7liLAgbm9kZSDlhYPntKDlubbliJ3lp4vljJbkvY3nva5cbiAgICog6Kej5Yaz57yW6L6R5Zmo5YaF5a655Li656m65pe277yM6I+c5Y2V5LiN55Sf5pWI55qE6Zeu6aKYXG4gICAqIEBwYXJhbSBub2RlIOWFg+e0oOiKgueCuVxuICAgKi9cblxuXG4gIFNlbGVjdGlvbkFuZFJhbmdlLnByb3RvdHlwZS5zZXRSYW5nZVRvRWxlbSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xuICAgIHJhbmdlID09PSBudWxsIHx8IHJhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYW5nZS5zZXRTdGFydChub2RlLCAwKTtcbiAgICByYW5nZSA9PT0gbnVsbCB8fCByYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZ2Uuc2V0RW5kKG5vZGUsIDApO1xuICB9O1xuXG4gIHJldHVybiBTZWxlY3Rpb25BbmRSYW5nZTtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Rpb25BbmRSYW5nZTtcblxuLyoqKi8gfSksXG4vKiAyOTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWwgeijhSBkb2N1bWVudC5leGVjQ29tbWFuZFxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29tbWFuZChlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgfVxuICAvKipcbiAgICog5omn6KGM5a+M5paH5pys5pON5L2c55qE5ZG95LukXG4gICAqIEBwYXJhbSBuYW1lIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlXG4gICAqL1xuXG5cbiAgQ29tbWFuZC5wcm90b3R5cGVbXCJkb1wiXSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcblxuICAgIGlmIChlZGl0b3IuY29uZmlnLnN0eWxlV2l0aENTUykge1xuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3N0eWxlV2l0aENTUycsIGZhbHNlLCAndHJ1ZScpO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uOyAvLyDlpoLmnpzml6DpgInljLrvvIzlv73nlaVcblxuICAgIGlmICghc2VsZWN0aW9uLmdldFJhbmdlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIOaBouWkjemAieWPllxuXG5cbiAgICBzZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpOyAvLyDmiafooYxcblxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnaW5zZXJ0SFRNTCc6XG4gICAgICAgIHRoaXMuaW5zZXJ0SFRNTCh2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpbnNlcnRFbGVtJzpcbiAgICAgICAgdGhpcy5pbnNlcnRFbGVtKHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIOm7mOiupCBjb21tYW5kXG4gICAgICAgIHRoaXMuZXhlY0NvbW1hbmQobmFtZSwgdmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICB9IC8vIOS/ruaUueiPnOWNleeKtuaAgVxuXG5cbiAgICBlZGl0b3IubWVudXMuY2hhbmdlQWN0aXZlKCk7IC8vIOacgOWQju+8jOaBouWkjemAieWPluS/neivgeWFieagh+WcqOWOn+adpeeahOS9jee9rumXqueDgVxuXG4gICAgc2VsZWN0aW9uLnNhdmVSYW5nZSgpO1xuICAgIHNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gIH07XG4gIC8qKlxuICAgKiDmj5LlhaUgaHRtbFxuICAgKiBAcGFyYW0gaHRtbCBodG1sIOWtl+espuS4slxuICAgKi9cblxuXG4gIENvbW1hbmQucHJvdG90eXBlLmluc2VydEhUTUwgPSBmdW5jdGlvbiAoaHRtbCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgaWYgKHJhbmdlID09IG51bGwpIHJldHVybjtcblxuICAgIGlmICh0aGlzLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgnaW5zZXJ0SFRNTCcpKSB7XG4gICAgICAvLyBXM0NcbiAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCBodG1sKTtcbiAgICB9IGVsc2UgaWYgKHJhbmdlLmluc2VydE5vZGUpIHtcbiAgICAgIC8vIElFXG4gICAgICByYW5nZS5kZWxldGVDb250ZW50cygpO1xuXG4gICAgICBpZiAoZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oaHRtbCkuZWxlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICByYW5nZS5pbnNlcnROb2RlKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGh0bWwpLmVsZW1zWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBuZXdOb2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcbiAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShuZXdOb2RlKTtcbiAgICAgIH1cblxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jb2xsYXBzZVJhbmdlKCk7XG4gICAgfSAvLyBlbHNlIGlmIChyYW5nZS5wYXN0ZUhUTUwpIHtcbiAgICAvLyAgICAgLy8gSUUgPD0gMTBcbiAgICAvLyAgICAgcmFuZ2UucGFzdGVIVE1MKGh0bWwpXG4gICAgLy8gfVxuXG4gIH07XG4gIC8qKlxuICAgKiDmj5LlhaUgRE9NIOWFg+e0oFxuICAgKiBAcGFyYW0gJGVsZW0gRE9NIOWFg+e0oFxuICAgKi9cblxuXG4gIENvbW1hbmQucHJvdG90eXBlLmluc2VydEVsZW0gPSBmdW5jdGlvbiAoJGVsZW0pIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgIGlmIChyYW5nZSA9PSBudWxsKSByZXR1cm47XG5cbiAgICBpZiAocmFuZ2UuaW5zZXJ0Tm9kZSkge1xuICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcbiAgICAgIHJhbmdlLmluc2VydE5vZGUoJGVsZW0uZWxlbXNbMF0pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOaJp+ihjCBkb2N1bWVudC5leGVjQ29tbWFuZFxuICAgKiBAcGFyYW0gbmFtZSBuYW1lXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIENvbW1hbmQucHJvdG90eXBlLmV4ZWNDb21tYW5kID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQobmFtZSwgZmFsc2UsIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaJp+ihjCBkb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZVxuICAgKiBAcGFyYW0gbmFtZSBuYW1lXG4gICAqL1xuXG5cbiAgQ29tbWFuZC5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShuYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaJp+ihjCBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZVxuICAgKiBAcGFyYW0gbmFtZSBuYW1lXG4gICAqL1xuXG5cbiAgQ29tbWFuZC5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShuYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaJp+ihjCBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWRcbiAgICogQHBhcmFtIG5hbWUgbmFtZVxuICAgKi9cblxuXG4gIENvbW1hbmQucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChuYW1lKTtcbiAgfTtcblxuICByZXR1cm4gQ29tbWFuZDtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb21tYW5kO1xuXG4vKioqLyB9KSxcbi8qIDI5NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57yW6L6R5Yy65Z+f77yM5YWl5Y+j5paH5Lu2XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZpbmQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzIpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbnZhciBfaW5kZXhPZiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpO1xuXG52YXIgX3NldFRpbWVvdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIGluZGV4XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMikpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGdldENoaWxkcmVuSlNPTl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMTQpKTtcblxudmFyIGdldEh0bWxCeU5vZGVMaXN0XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNSkpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUZXh0KGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMuZXZlbnRIb29rcyA9IHtcbiAgICAgIG9uQmx1ckV2ZW50czogW10sXG4gICAgICBjaGFuZ2VFdmVudHM6IFtdLFxuICAgICAgZHJvcEV2ZW50czogW10sXG4gICAgICBjbGlja0V2ZW50czogW10sXG4gICAgICBrZXlkb3duRXZlbnRzOiBbXSxcbiAgICAgIGtleXVwRXZlbnRzOiBbXSxcbiAgICAgIHRhYlVwRXZlbnRzOiBbXSxcbiAgICAgIHRhYkRvd25FdmVudHM6IFtdLFxuICAgICAgZW50ZXJVcEV2ZW50czogW10sXG4gICAgICBlbnRlckRvd25FdmVudHM6IFtdLFxuICAgICAgZGVsZXRlVXBFdmVudHM6IFtdLFxuICAgICAgZGVsZXRlRG93bkV2ZW50czogW10sXG4gICAgICBwYXN0ZUV2ZW50czogW10sXG4gICAgICBsaW5rQ2xpY2tFdmVudHM6IFtdLFxuICAgICAgY29kZUNsaWNrRXZlbnRzOiBbXSxcbiAgICAgIHRleHRTY3JvbGxFdmVudHM6IFtdLFxuICAgICAgdG9vbGJhckNsaWNrRXZlbnRzOiBbXSxcbiAgICAgIGltZ0NsaWNrRXZlbnRzOiBbXSxcbiAgICAgIGltZ0RyYWdCYXJNb3VzZURvd25FdmVudHM6IFtdLFxuICAgICAgdGFibGVDbGlja0V2ZW50czogW10sXG4gICAgICBtZW51Q2xpY2tFdmVudHM6IFtdLFxuICAgICAgZHJvcExpc3RNZW51SG92ZXJFdmVudHM6IFtdLFxuICAgICAgc3BsaXRMaW5lRXZlbnRzOiBbXSxcbiAgICAgIHZpZGVvQ2xpY2tFdmVudHM6IFtdXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICog5Yid5aeL5YyWXG4gICAqL1xuXG5cbiAgVGV4dC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDlrp7ml7bkv53lrZjpgInlj5bojIPlm7RcbiAgICB0aGlzLl9zYXZlUmFuZ2UoKTsgLy8g57uR5a6a5LqL5Lu2XG5cblxuICAgIHRoaXMuX2JpbmRFdmVudEhvb2tzKCk7IC8vIOWIneWni+WMliB0ZXh0IOS6i+S7tumSqeWtkOWHveaVsFxuXG5cbiAgICBpbmRleF8xW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWIh+aNonBsYWNlaG9sZGVyXG4gICAqL1xuXG5cbiAgVGV4dC5wcm90b3R5cGUudG9nZ2xlUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgdmFyIGh0bWwgPSB0aGlzLmh0bWwoKTtcbiAgICB2YXIgJHBsYWNlaG9sZGVyID0gKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSB0aGlzLmVkaXRvci4kdGV4dENvbnRhaW5lckVsZW0pLmNhbGwoX2NvbnRleHQsICcucGxhY2Vob2xkZXInKTtcbiAgICAkcGxhY2Vob2xkZXIuaGlkZSgpO1xuICAgIGlmICh0aGlzLmVkaXRvci5pc0NvbXBvc2luZykgcmV0dXJuO1xuICAgIGlmICghaHRtbCB8fCBodG1sID09PSAnICcpICRwbGFjZWhvbGRlci5zaG93KCk7XG4gIH07XG4gIC8qKlxuICAgKiDmuIXnqbrlhoXlrrlcbiAgICovXG5cblxuICBUZXh0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmh0bWwoY29uc3RfMS5FTVBUWV9QKTtcbiAgfTtcbiAgLyoqXG4gICAqIOiuvue9ri/ojrflj5YgaHRtbFxuICAgKiBAcGFyYW0gdmFsIGh0bWwg5a2X56ym5LiyXG4gICAqL1xuXG5cbiAgVGV4dC5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07IC8vIOayoeaciSB2YWwg77yM5YiZ5piv6I635Y+WIGh0bWxcblxuICAgIGlmICh2YWwgPT0gbnVsbCkge1xuICAgICAgdmFyIGh0bWxfMSA9ICR0ZXh0RWxlbS5odG1sKCk7IC8vIOacqumAieS4reS7u+S9leWGheWuueeahOaXtuWAmeeCueWHu+KAnOWKoOeyl+KAneaIluiAheKAnOaWnOS9k+KAneetieaMiemSru+8jOWwseW+l+mcgOimgeS4gOS4quepuueahOWNoOS9jeespiAmIzgyMDMg77yM6L+Z6YeM5pu/5o2i5o6JXG5cbiAgICAgIGh0bWxfMSA9IGh0bWxfMS5yZXBsYWNlKC9cXHUyMDBiL2dtLCAnJyk7IC8vIOWOu+aOieepuuihjFxuXG4gICAgICBodG1sXzEgPSBodG1sXzEucmVwbGFjZSgvPHA+PFxcL3A+L2dpbSwgJycpOyAvLyDljrvmjonmnIDlkI7nmoQg56m65qCH562+XG5cbiAgICAgIGh0bWxfMSA9IGh0bWxfMS5yZXBsYWNlKGNvbnN0XzEuRU1QVFlfUF9MQVNUX1JFR0VYLCAnJyk7IC8vIOS4uuS6humBv+WFjeeUqOaIt+WcqOacgOWQjueUn+aIkOeahEVNUFRZX1DmoIfnrb7kuK3nvJbovpHmlbDmja4sIOacgOWQjuS6p+eUn+WkmuS9meagh+etviwg5Y676Zmk5omA5pyJcOagh+etvuS4iueahGRhdGEtd2UtZW1wdHktcOWxnuaAp1xuXG4gICAgICBodG1sXzEgPSBodG1sXzEucmVwbGFjZShjb25zdF8xLkVNUFRZX1BfUkVHRVgsICc8cD4nKTtcbiAgICAgIC8qKlxuICAgICAgICog6L+Z6YeM55qE5Luj56CB5Li65LqG5aSE55CG54Gr54uQ5aSa5L2Z55qE56m66KGM5qCH562+LOS9huaYr+W8uuWItuWIoOmZpOepuuihjOagh+etvuS8muW4puadpeWFtuS7lumXrumimFxuICAgICAgICogaHRtbCgp5pa55rOV6L+U5Zue55qE55qE5YC8LEVNUFRZX1DkuK1wcuS8muiiq+WIoOmZpCzlj6rnlZnkuIs8cD4s54K55LiN6L+b5Y67LOS7juiAjOS6p+eUn+Weg+WcvuaVsOaNrlxuICAgICAgICog55uu5YmN5Zyo5pyr5L2N5pyJ5aSa5Liq56m66KGM55qE5oOF5Ya15LiL5omn6KGM5pKk6ZSA6YeN5YGa5pON5L2cLOS8muS6p+eUn+S4gOenjeS4jeiusOW9leacq+WwvuepuuihjOeahOmUmeiniVxuICAgICAgICog5pqC5pe25rOo6YeKLCDnrYnlvoXov5vkuIDmraXnmoTlhbzlrrnlpITnkIZcbiAgICAgICAqL1xuICAgICAgLy8gaHRtbCA9IGh0bWwucmVwbGFjZSgvPjxicj4oPyE8KS9naSwgJz4nKSAvLyDov4fmu6QgPHA+PGJyPuWGheWuuTwvcD4g5Lit55qEYnJcbiAgICAgIC8vIGh0bWwgPSBodG1sLnJlcGxhY2UoLyg/IT4pPGJyPjwvZ2ksICc8JykgLy8g6L+H5rukIDxwPuWGheWuuTxicj48L3A+IOS4reeahGJyXG5cbiAgICAgIC8qKlxuICAgICAgICogcHJl5qCH562+5qC85byP5YyWXG4gICAgICAgKiBodG1sKCnmlrnms5XnkIborrrkuIrlupTlvZPovpPlh7rnuq/lh4DnmoTku6PnoIHmlofmnKws5L2G5piv5a+55LqO5piv5ZCm6Kej5p6QaHRtbOagh+etvui/mOayoeacieiJr+WlveeahOWIpOaWrVxuICAgICAgICog5aaC5p6c5Y676ZmkaGxqc+eahOagh+etvizlnKjop6PmnpDnirbmgIHkuIvlm57mmL4s5Lya6YCg5oiQ5pi+56S66ZSZ6K+v5bm25LiU5peg5rOV5YaN6YCa6L+HaGxqc+aWueazlea4suafk1xuICAgICAgICog5pqC5LiU5YW25byD55SoXG4gICAgICAgKi9cbiAgICAgIC8vIGh0bWwgPSBmb3JtYXRDb2RlSHRtbChlZGl0b3IsIGh0bWwpXG4gICAgICAvLyDlsIbmsqHmnInoh6rpl63lkoznmoTmoIfnrb7ov4fmu6TkuLroh6rpl63lkoxcblxuICAgICAgdmFyIHNlbGZDbG9zZUh0bWxzID0gaHRtbF8xLm1hdGNoKC88KGltZ3xicnxocnxpbnB1dClbXj5dKj4vZ2kpO1xuXG4gICAgICBpZiAoc2VsZkNsb3NlSHRtbHMgIT09IG51bGwpIHtcbiAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoc2VsZkNsb3NlSHRtbHMpLmNhbGwoc2VsZkNsb3NlSHRtbHMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgaWYgKCFpdGVtLm1hdGNoKC9cXC8+LykpIHtcbiAgICAgICAgICAgIGh0bWxfMSA9IGh0bWxfMS5yZXBsYWNlKGl0ZW0sIGl0ZW0uc3Vic3RyaW5nKDAsIGl0ZW0ubGVuZ3RoIC0gMSkgKyAnLz4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaHRtbF8xO1xuICAgIH0gLy8g5pyJIHZhbCDvvIzliJnmmK/orr7nva4gaHRtbFxuXG5cbiAgICB2YWwgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKSh2YWwpLmNhbGwodmFsKTtcblxuICAgIGlmICh2YWwgPT09ICcnKSB7XG4gICAgICB2YWwgPSBjb25zdF8xLkVNUFRZX1A7XG4gICAgfVxuXG4gICAgaWYgKCgwLCBfaW5kZXhPZltcImRlZmF1bHRcIl0pKHZhbCkuY2FsbCh2YWwsICc8JykgIT09IDApIHtcbiAgICAgIC8vIOWGheWuueeUqCBwIOagh+etvuWMheijuVxuICAgICAgdmFsID0gXCI8cD5cIiArIHZhbCArIFwiPC9wPlwiO1xuICAgIH1cblxuICAgICR0ZXh0RWxlbS5odG1sKHZhbCk7IC8vIOWIneWni+WMlumAieWMuu+8jOWwhuWFieagh+WumuS9jeWIsOWGheWuueWwvumDqFxuXG4gICAgZWRpdG9yLmluaXRTZWxlY3Rpb24oKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWwhmpzb27orr7nva7miJBodG1s6Iez57yW6L6R5ZmoXG4gICAqIEBwYXJhbSBub2RlTGlzdCBqc29u5qC85byPXG4gICAqL1xuXG5cbiAgVGV4dC5wcm90b3R5cGUuc2V0SlNPTiA9IGZ1bmN0aW9uIChub2RlTGlzdCkge1xuICAgIHZhciBodG1sID0gZ2V0SHRtbEJ5Tm9kZUxpc3RfMVtcImRlZmF1bHRcIl0obm9kZUxpc3QpLmNoaWxkcmVuKCk7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtOyAvLyDmsqHmnInojrflj5bliLDlhYPntKDnmoTmg4XlhrVcblxuICAgIGlmICghaHRtbCkgcmV0dXJuOyAvLyDmm7/mjaLmlofmnKzoioLngrnkuIvlhajpg6jlrZDoioLngrlcblxuICAgICR0ZXh0RWxlbS5yZXBsYWNlQ2hpbGRBbGwoaHRtbCk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5YganNvbiDmoLzlvI/nmoTmlbDmja5cbiAgICovXG5cblxuICBUZXh0LnByb3RvdHlwZS5nZXRKU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgJHRleHRFbGVtID0gZWRpdG9yLiR0ZXh0RWxlbTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5KU09OXzFbXCJkZWZhdWx0XCJdKCR0ZXh0RWxlbSk7XG4gIH07XG5cbiAgVGV4dC5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07IC8vIOayoeaciSB2YWwg77yM5piv6I635Y+WIHRleHRcblxuICAgIGlmICh2YWwgPT0gbnVsbCkge1xuICAgICAgdmFyIHRleHQgPSAkdGV4dEVsZW0udGV4dCgpOyAvLyDmnKrpgInkuK3ku7vkvZXlhoXlrrnnmoTml7blgJnngrnlh7vigJzliqDnspfigJ3miJbogIXigJzmlpzkvZPigJ3nrYnmjInpkq7vvIzlsLHlvpfpnIDopoHkuIDkuKrnqbrnmoTljaDkvY3nrKYgJiM4MjAzIO+8jOi/memHjOabv+aNouaOiVxuXG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHUyMDBiL2dtLCAnJyk7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9IC8vIOaciSB2YWwg77yM5YiZ5piv6K6+572uIHRleHRcblxuXG4gICAgJHRleHRFbGVtLnRleHQoXCI8cD5cIiArIHZhbCArIFwiPC9wPlwiKTsgLy8g5Yid5aeL5YyW6YCJ5Yy677yM5bCG5YWJ5qCH5a6a5L2N5Yiw5YaF5a655bC+6YOoXG5cbiAgICBlZGl0b3IuaW5pdFNlbGVjdGlvbigpO1xuICB9O1xuICAvKipcbiAgICog6L+95YqgIGh0bWwg5YaF5a65XG4gICAqIEBwYXJhbSBodG1sIGh0bWwg5a2X56ym5LiyXG4gICAqL1xuXG5cbiAgVGV4dC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkoaHRtbCkuY2FsbChodG1sLCAnPCcpICE9PSAwKSB7XG4gICAgICAvLyDmma7pgJrlrZfnrKbkuLLvvIznlKggPHA+IOWMheijuVxuICAgICAgaHRtbCA9IFwiPHA+XCIgKyBodG1sICsgXCI8L3A+XCI7XG4gICAgfVxuXG4gICAgdGhpcy5odG1sKHRoaXMuaHRtbCgpICsgaHRtbCk7IC8vIOWIneWni+WMlumAieWMuu+8jOWwhuWFieagh+WumuS9jeWIsOWGheWuueWwvumDqFxuXG4gICAgZWRpdG9yLmluaXRTZWxlY3Rpb24oKTtcbiAgfTtcbiAgLyoqXG4gICAqIOavj+S4gOatpeaTjeS9nO+8jOmDveWunuaXtuS/neWtmOmAieWMuuiMg+WbtFxuICAgKi9cblxuXG4gIFRleHQucHJvdG90eXBlLl9zYXZlUmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtO1xuICAgIHZhciAkZG9jdW1lbnQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShkb2N1bWVudCk7IC8vIOS/neWtmOW9k+WJjeeahOmAieWMulxuXG4gICAgZnVuY3Rpb24gc2F2ZVJhbmdlKCkge1xuICAgICAgLy8g6ZqP5pe25L+d5a2Y6YCJ5Yy6XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNhdmVSYW5nZSgpOyAvLyDmm7TmlrDmjInpkq4gYWN0aXZlIOeKtuaAgVxuXG4gICAgICBlZGl0b3IubWVudXMuY2hhbmdlQWN0aXZlKCk7XG4gICAgfSAvLyDmjInplK7lkI7kv53lrZhcblxuXG4gICAgJHRleHRFbGVtLm9uKCdrZXl1cCcsIHNhdmVSYW5nZSk7IC8vIOeCueWHu+WQjuS/neWtmO+8jOS4uuS6humBv+WFjeiiq+WkmuasoeaJp+ihjOiAjOWvvOiHtOmAoOaIkOa1qui0ue+8jOi/memHjOWvuSBjbGljayDkvb/nlKjkuIDmrKHmgKfnu5HlrppcblxuICAgIGZ1bmN0aW9uIG9uY2VDbGlja1NhdmVSYW5nZSgpIHtcbiAgICAgIHNhdmVSYW5nZSgpO1xuICAgICAgJHRleHRFbGVtLm9mZignY2xpY2snLCBvbmNlQ2xpY2tTYXZlUmFuZ2UpO1xuICAgIH1cblxuICAgICR0ZXh0RWxlbS5vbignY2xpY2snLCBvbmNlQ2xpY2tTYXZlUmFuZ2UpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICAgIC8vIOWcqOe8lui+keWZqOWMuuWfn+S5i+WkluWujOaIkOaKrOi1t++8jOS/neWtmOatpOaXtue8lui+keWMuuWGheeahOaWsOmAieWMuu+8jOWPlua2iOatpOaXtum8oOagh+aKrOi1t+S6i+S7tlxuICAgICAgc2F2ZVJhbmdlKCk7XG4gICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdGVuTW91c2VMZWF2ZSgpIHtcbiAgICAgIC8vIOW9k+m8oOagh+enu+WKqOWIsOWklumdou+8jOimgeebkeWQrOm8oOagh+aKrOi1t+aTjeS9nFxuICAgICAgJGRvY3VtZW50Lm9uKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7IC8vIOmmluasoeenu+WHuuaXtuWNs+aOpeinpmxlYXZl55uR5ZCs77yM6Ziy5q2i55So5oi35LiN5pat56e75YWl56e75Ye65aSa5qyh5rOo5YaMaGFuZGxlTW91c2VVcFxuXG4gICAgICAkdGV4dEVsZW0ub2ZmKCdtb3VzZWxlYXZlJywgbGlzdGVuTW91c2VMZWF2ZSk7XG4gICAgfVxuXG4gICAgJHRleHRFbGVtLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBtb3VzZWRvd24g54q25oCB5LiL77yM6KaB5Z2a5ZCs6byg5qCH5ruR5Yqo5Yiw57yW6L6R5Yy65Z+f5aSW6Z2iXG4gICAgICAkdGV4dEVsZW0ub24oJ21vdXNlbGVhdmUnLCBsaXN0ZW5Nb3VzZUxlYXZlKTtcbiAgICB9KTtcbiAgICAkdGV4dEVsZW0ub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8g6K6w5b6X56e76ZmkJHRleHRFbGVt55qEbW91c2VsZWF2ZeS6i+S7tiwg6YG/5YWN5YaF5a2Y5rOE6ZyyXG4gICAgICAkdGV4dEVsZW0ub2ZmKCdtb3VzZWxlYXZlJywgbGlzdGVuTW91c2VMZWF2ZSk7IC8vIGZpeO+8mumBv+WFjeW9k+mAieS4reS4gOauteaWh+Wtl+S5i+WQju+8jOWGjeasoeeCueWHu+aWh+Wtl+S4remXtOS9jee9ruaXoOazleabtOaWsHNlbGVjdGlvbumXrumimOOAgmlzc3VlIzMwOTZcblxuICAgICAgKDAsIF9zZXRUaW1lb3V0MltcImRlZmF1bHRcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2UgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgc2F2ZVJhbmdlKCk7XG4gICAgICB9LCAwKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOe7keWumuS6i+S7tu+8jOS6i+S7tuS8muinpuWPkemSqeWtkOWHveaVsFxuICAgKi9cblxuXG4gIFRleHQucHJvdG90eXBlLl9iaW5kRXZlbnRIb29rcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07XG4gICAgdmFyIGV2ZW50SG9va3MgPSB0aGlzLmV2ZW50SG9va3M7IC8vIGNsaWNrIGhvb2tzXG5cbiAgICAkdGV4dEVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjbGlja0V2ZW50cyA9IGV2ZW50SG9va3MuY2xpY2tFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShjbGlja0V2ZW50cykuY2FsbChjbGlja0V2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBlbnRlciDplK4gdXAg5pe255qEIGhvb2tzXG5cbiAgICAkdGV4dEVsZW0ub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzKSByZXR1cm47XG4gICAgICB2YXIgZW50ZXJVcEV2ZW50cyA9IGV2ZW50SG9va3MuZW50ZXJVcEV2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGVudGVyVXBFdmVudHMpLmNhbGwoZW50ZXJVcEV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDplK7nm5ggdXAg5pe255qEIGhvb2tzXG5cbiAgICAkdGV4dEVsZW0ub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBrZXl1cEV2ZW50cyA9IGV2ZW50SG9va3Mua2V5dXBFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShrZXl1cEV2ZW50cykuY2FsbChrZXl1cEV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDplK7nm5ggZG93biDml7bnmoQgaG9va3NcblxuICAgICR0ZXh0RWxlbS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIga2V5ZG93bkV2ZW50cyA9IGV2ZW50SG9va3Mua2V5ZG93bkV2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGtleWRvd25FdmVudHMpLmNhbGwoa2V5ZG93bkV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBkZWxldGUg6ZSuIHVwIOaXtiBob29rc1xuXG4gICAgJHRleHRFbGVtLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlICE9PSA4ICYmIGUua2V5Q29kZSAhPT0gNDYpIHJldHVybjtcbiAgICAgIHZhciBkZWxldGVVcEV2ZW50cyA9IGV2ZW50SG9va3MuZGVsZXRlVXBFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShkZWxldGVVcEV2ZW50cykuY2FsbChkZWxldGVVcEV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBkZWxldGUg6ZSuIGRvd24g5pe2IGhvb2tzXG5cbiAgICAkdGV4dEVsZW0ub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSAhPT0gOCAmJiBlLmtleUNvZGUgIT09IDQ2KSByZXR1cm47XG4gICAgICB2YXIgZGVsZXRlRG93bkV2ZW50cyA9IGV2ZW50SG9va3MuZGVsZXRlRG93bkV2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGRlbGV0ZURvd25FdmVudHMpLmNhbGwoZGVsZXRlRG93bkV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDnspjotLRcblxuICAgICR0ZXh0RWxlbS5vbigncGFzdGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHV0aWxfMS5VQS5pc0lFKCkpIHJldHVybjsgLy8gSUUg5LiN5pSv5oyBXG4gICAgICAvLyDpmLvmraLpu5jorqTooYzkuLrvvIzkvb/nlKggZXhlY0NvbW1hbmQg55qE57KY6LS05ZG95LukXG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBwYXN0ZUV2ZW50cyA9IGV2ZW50SG9va3MucGFzdGVFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShwYXN0ZUV2ZW50cykuY2FsbChwYXN0ZUV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDmkqTplIAv5oGi5aSNIOW/q+aNt+mUrlxuXG4gICAgJHRleHRFbGVtLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICggLy8g57yW6L6R5Zmo5aSE5LqO6IGa54Sm54q25oCB5LiL77yI5aSa57yW6L6R5Zmo5a6e5L6L77yJIHx8IOW9k+WJjeWkhOS6juWFvOWuueaooeW8j++8iOWFvOWuueaooeW8j+aSpOmUgC/mgaLlpI3lkI7kuI3ogZrnhKbvvIzmiYDku6Xnm7TmjqXov4fvvIzkvYbkvJrpgKDmiJDlpJrnvJbovpHlmajlkIzml7bmkqTplIAv5oGi5aSN77yJXG4gICAgICAoZWRpdG9yLmlzRm9jdXMgfHwgZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUpICYmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleUNvZGUgPT09IDkwKSB7XG4gICAgICAgIC8vIOWPlua2iOm7mOiupOihjOS4ulxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIOaJp+ihjOS6i+S7tlxuXG4gICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgLy8g5oGi5aSNXG4gICAgICAgICAgZWRpdG9yLmhpc3RvcnkucmVzdG9yZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOaSpOmUgFxuICAgICAgICAgIGVkaXRvci5oaXN0b3J5LnJldm9rZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHRhYiB1cFxuXG4gICAgJHRleHRFbGVtLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlICE9PSA5KSByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFiVXBFdmVudHMgPSBldmVudEhvb2tzLnRhYlVwRXZlbnRzO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodGFiVXBFdmVudHMpLmNhbGwodGFiVXBFdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oZSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gdGFiIGRvd25cblxuICAgICR0ZXh0RWxlbS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlICE9PSA5KSByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFiRG93bkV2ZW50cyA9IGV2ZW50SG9va3MudGFiRG93bkV2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHRhYkRvd25FdmVudHMpLmNhbGwodGFiRG93bkV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDmlofmnKznvJbovpHljLrln58g5rua5Yqo5pe26Kem5Y+RXG5cbiAgICAkdGV4dEVsZW0ub24oJ3Njcm9sbCcsIC8vIOS9v+eUqOiKgua1gVxuICAgIHV0aWxfMS50aHJvdHRsZShmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRleHRTY3JvbGxFdmVudHMgPSBldmVudEhvb2tzLnRleHRTY3JvbGxFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh0ZXh0U2Nyb2xsRXZlbnRzKS5jYWxsKHRleHRTY3JvbGxFdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oZSk7XG4gICAgICB9KTtcbiAgICB9LCAxMDApKTsgLy8g5ouW5ou955u45YWz55qE5LqL5Lu2XG5cbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgICAvLyDnpoHnlKggZG9jdW1lbnQg5ouW5ou95LqL5Lu2XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9uKCdkcmFnbGVhdmUnLCBwcmV2ZW50RGVmYXVsdCkub24oJ2Ryb3AnLCBwcmV2ZW50RGVmYXVsdCkub24oJ2RyYWdlbnRlcicsIHByZXZlbnREZWZhdWx0KS5vbignZHJhZ292ZXInLCBwcmV2ZW50RGVmYXVsdCk7IC8vIOWFqOWxgOS6i+S7tuWcqOe8lui+keWZqOWunuS+i+mUgOavgeeahOaXtuWAmei/m+ihjOino+e7kVxuXG4gICAgZWRpdG9yLmJlZm9yZURlc3Ryb3koZnVuY3Rpb24gKCkge1xuICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9mZignZHJhZ2xlYXZlJywgcHJldmVudERlZmF1bHQpLm9mZignZHJvcCcsIHByZXZlbnREZWZhdWx0KS5vZmYoJ2RyYWdlbnRlcicsIHByZXZlbnREZWZhdWx0KS5vZmYoJ2RyYWdvdmVyJywgcHJldmVudERlZmF1bHQpO1xuICAgIH0pO1xuICAgICR0ZXh0RWxlbS5vbignZHJvcCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZXZlbnRzID0gZXZlbnRIb29rcy5kcm9wRXZlbnRzO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoZXZlbnRzKS5jYWxsKGV2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbihlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBsaW5rIGNsaWNrXG5cbiAgICAkdGV4dEVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIOWtmOWCqOmTvuaOpeWFg+e0oFxuICAgICAgdmFyICRsaW5rID0gbnVsbDtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHZhciAkdGFyZ2V0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odGFyZ2V0KTtcblxuICAgICAgaWYgKCR0YXJnZXQuZ2V0Tm9kZU5hbWUoKSA9PT0gJ0EnKSB7XG4gICAgICAgIC8vIOW9k+WJjeeCueWHu+eahOWwseaYr+S4gOS4qumTvuaOpVxuICAgICAgICAkbGluayA9ICR0YXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlkKbliJnvvIzlkJHniLboioLngrnkuK3lr7vmib7pk77mjqVcbiAgICAgICAgdmFyICRwYXJlbnQgPSAkdGFyZ2V0LnBhcmVudFVudGlsKCdhJyk7XG5cbiAgICAgICAgaWYgKCRwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIOaJvuWIsOS6hlxuICAgICAgICAgICRsaW5rID0gJHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoISRsaW5rKSByZXR1cm47IC8vIOayoeacieeCueWHu+mTvuaOpe+8jOWImei/lOWbnlxuXG4gICAgICB2YXIgbGlua0NsaWNrRXZlbnRzID0gZXZlbnRIb29rcy5saW5rQ2xpY2tFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShsaW5rQ2xpY2tFdmVudHMpLmNhbGwobGlua0NsaWNrRXZlbnRzLCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCRsaW5rKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBpbWcgY2xpY2tcblxuICAgICR0ZXh0RWxlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8g5a2Y5YKo5Zu+54mH5YWD57SgXG4gICAgICB2YXIgJGltZyA9IG51bGw7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7IC8v5aSE55CG5Zu+54mH54K55Ye7IOWOu+mZpOaOiWVtb2pp5Zu+54mH55qE5oOF5Ya1XG5cbiAgICAgIGlmICgkdGFyZ2V0LmdldE5vZGVOYW1lKCkgPT09ICdJTUcnICYmICEkdGFyZ2V0LmVsZW1zWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS1lbW9qaScpKSB7XG4gICAgICAgIC8vIOW9k+WJjeeCueWHu+eahOWwseaYr2ltZ1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAkaW1nID0gJHRhcmdldDtcbiAgICAgIH1cblxuICAgICAgaWYgKCEkaW1nKSByZXR1cm47IC8vIOayoeacieeCueWHu+WbvueJh++8jOWImei/lOWbnlxuXG4gICAgICB2YXIgaW1nQ2xpY2tFdmVudHMgPSBldmVudEhvb2tzLmltZ0NsaWNrRXZlbnRzO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoaW1nQ2xpY2tFdmVudHMpLmNhbGwoaW1nQ2xpY2tFdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oJGltZyk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gY29kZSBjbGlja1xuXG4gICAgJHRleHRFbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyDlrZjlgqjku6PnoIHlhYPntKBcbiAgICAgIHZhciAkY29kZSA9IG51bGw7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7XG5cbiAgICAgIGlmICgkdGFyZ2V0LmdldE5vZGVOYW1lKCkgPT09ICdQUkUnKSB7XG4gICAgICAgIC8vIOW9k+WJjeeCueWHu+eahOWwseaYr+S4gOS4qumTvuaOpVxuICAgICAgICAkY29kZSA9ICR0YXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlkKbliJnvvIzlkJHniLboioLngrnkuK3lr7vmib7pk77mjqVcbiAgICAgICAgdmFyICRwYXJlbnQgPSAkdGFyZ2V0LnBhcmVudFVudGlsKCdwcmUnKTtcblxuICAgICAgICBpZiAoJHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIOaJvuWIsOS6hlxuICAgICAgICAgICRjb2RlID0gJHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoISRjb2RlKSByZXR1cm47XG4gICAgICB2YXIgY29kZUNsaWNrRXZlbnRzID0gZXZlbnRIb29rcy5jb2RlQ2xpY2tFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShjb2RlQ2xpY2tFdmVudHMpLmNhbGwoY29kZUNsaWNrRXZlbnRzLCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCRjb2RlKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBzcGxpdExpbmUgY2xpY2tcblxuICAgICR0ZXh0RWxlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8g5a2Y5YKo5YiG5Ymy57q/5YWD57SgXG4gICAgICB2YXIgJHNwbGl0TGluZSA9IG51bGw7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7IC8vIOWIpOaWreW9k+WJjeeCueWHu+WFg+e0oFxuXG4gICAgICBpZiAoJHRhcmdldC5nZXROb2RlTmFtZSgpID09PSAnSFInKSB7XG4gICAgICAgICRzcGxpdExpbmUgPSAkdGFyZ2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHRhcmdldCA9PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoISRzcGxpdExpbmUpIHJldHVybjsgLy8g5rKh5pyJ54K55Ye75YiG5Ymy57q/77yM5YiZ6L+U5ZueXG4gICAgICAvLyDorr7nva7jgIHmgaLlpI3pgInljLpcblxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkc3BsaXRMaW5lKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICAgdmFyIHNwbGl0TGluZUNsaWNrRXZlbnRzID0gZXZlbnRIb29rcy5zcGxpdExpbmVFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShzcGxpdExpbmVDbGlja0V2ZW50cykuY2FsbChzcGxpdExpbmVDbGlja0V2ZW50cywgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigkc3BsaXRMaW5lKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyDoj5zljZXmoI/ooqvngrnlh7tcblxuICAgIGVkaXRvci4kdG9vbGJhckVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0b29sYmFyQ2xpY2tFdmVudHMgPSBldmVudEhvb2tzLnRvb2xiYXJDbGlja0V2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHRvb2xiYXJDbGlja0V2ZW50cykuY2FsbCh0b29sYmFyQ2xpY2tFdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oZSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy9tb3VzZWRvd27kuovku7ZcblxuICAgIGVkaXRvci4kdGV4dENvbnRhaW5lckVsZW0ub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7XG5cbiAgICAgIGlmICgkdGFyZ2V0Lmhhc0NsYXNzKCd3LWUtaW1nLWRyYWctcmInKSkge1xuICAgICAgICAvLyDngrnlh7vnmoTlhYPntKDvvIzmmK/lm77niYfmi5bmi73osIPmlbTlpKflsI/nmoQgYmFyXG4gICAgICAgIHZhciBpbWdEcmFnQmFyTW91c2VEb3duRXZlbnRzID0gZXZlbnRIb29rcy5pbWdEcmFnQmFyTW91c2VEb3duRXZlbnRzO1xuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShpbWdEcmFnQmFyTW91c2VEb3duRXZlbnRzKS5jYWxsKGltZ0RyYWdCYXJNb3VzZURvd25FdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTsgLy90YWJsZSBjbGlja1xuXG4gICAgJHRleHRFbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyDlrZjlgqjlhYPntKBcbiAgICAgIHZhciAkZG9tID0gbnVsbDtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsgLy/ojrflj5bmnIDnpZbniLblhYPntKBcblxuICAgICAgJGRvbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCkucGFyZW50VW50aWxFZGl0b3IoJ1RBQkxFJywgZWRpdG9yLCB0YXJnZXQpOyAvLyDmsqHmnIl0YWJsZeiMg+WbtOWGhe+8jOWImei/lOWbnlxuXG4gICAgICBpZiAoISRkb20pIHJldHVybjtcbiAgICAgIHZhciB0YWJsZUNsaWNrRXZlbnRzID0gZXZlbnRIb29rcy50YWJsZUNsaWNrRXZlbnRzO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkodGFibGVDbGlja0V2ZW50cykuY2FsbCh0YWJsZUNsaWNrRXZlbnRzLCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCRkb20sIGUpO1xuICAgICAgfSk7XG4gICAgfSk7IC8vIGVudGVyIOmUriBkb3duXG5cbiAgICAkdGV4dEVsZW0ub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMTMpIHJldHVybjtcbiAgICAgIHZhciBlbnRlckRvd25FdmVudHMgPSBldmVudEhvb2tzLmVudGVyRG93bkV2ZW50cztcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGVudGVyRG93bkV2ZW50cykuY2FsbChlbnRlckRvd25FdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oZSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8g6KeG6aKRIGNsaWNrXG5cbiAgICAkdGV4dEVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIOWtmOWCqOinhumikVxuICAgICAgdmFyICR2aWRlbyA9IG51bGw7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7IC8v5aSE55CG6KeG6aKR54K55Ye7IOeugOWNleeahHZpZGVvIOagh+etvlxuXG4gICAgICBpZiAoJHRhcmdldC5nZXROb2RlTmFtZSgpID09PSAnVklERU8nKSB7XG4gICAgICAgIC8vIOW9k+WJjeeCueWHu+eahOWwseaYr+inhumikVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAkdmlkZW8gPSAkdGFyZ2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAoISR2aWRlbykgcmV0dXJuOyAvLyDmsqHmnInngrnlh7vop4bpopHvvIzliJnov5Tlm55cblxuICAgICAgdmFyIHZpZGVvQ2xpY2tFdmVudHMgPSBldmVudEhvb2tzLnZpZGVvQ2xpY2tFdmVudHM7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh2aWRlb0NsaWNrRXZlbnRzKS5jYWxsKHZpZGVvQ2xpY2tFdmVudHMsIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oJHZpZGVvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBUZXh0O1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRleHQ7XG5cbi8qKiovIH0pLFxuLyogMjk4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5OSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjk5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5maW5kO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpdCBpbnN0YW5jZW9mIEFycmF5ICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZmluZCkgPyBmaW5kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDMwMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMwMSk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmZpbmQ7XG5cblxuLyoqKi8gfSksXG4vKiAzMDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciAkZmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLmZpbmQ7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXG52YXIgRklORCA9ICdmaW5kJztcbnZhciBTS0lQU19IT0xFUyA9IHRydWU7XG5cbi8vIFNob3VsZG4ndCBza2lwIGhvbGVzXG5pZiAoRklORCBpbiBbXSkgQXJyYXkoMSlbRklORF0oZnVuY3Rpb24gKCkgeyBTS0lQU19IT0xFUyA9IGZhbHNlOyB9KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5maW5kYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IFNLSVBTX0hPTEVTIH0sIHtcbiAgZmluZDogZnVuY3Rpb24gZmluZChjYWxsYmFja2ZuIC8qICwgdGhhdCA9IHVuZGVmaW5lZCAqLykge1xuICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5hZGRUb1Vuc2NvcGFibGVzKEZJTkQpO1xuXG5cbi8qKiovIH0pLFxuLyogMzAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUZXh0IOS6i+S7tumSqeWtkOWHveaVsOOAglRleHQg5YWs5YWx55qE77yM5LiN5piv5p+Q5Liq6I+c5Y2V54us5pyJ55qEXG4gKiBAd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGVudGVyX3RvX2NyZWF0ZV9wXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMykpO1xuXG52YXIgZGVsX3RvX2tlZXBfcF8xID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygzMDQpKTtcblxudmFyIHRhYl90b19zcGFjZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMDUpKTtcblxudmFyIHBhc3RlX3RleHRfaHRtbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMDYpKTtcblxudmFyIGltZ19jbGlja19hY3RpdmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzEzKSk7XG4vKipcbiAqIOWIneWni+WMliB0ZXh0IOS6i+S7tumSqeWtkOWHveaVsFxuICogQHBhcmFtIHRleHQgdGV4dCDlrp7kvotcbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRUZXh0SG9va3ModGV4dCkge1xuICB2YXIgZWRpdG9yID0gdGV4dC5lZGl0b3I7XG4gIHZhciBldmVudEhvb2tzID0gdGV4dC5ldmVudEhvb2tzOyAvLyDlm57ovabml7bvvIzkv53or4HnlJ/miJDnmoTmmK8gPHA+IOagh+etvlxuXG4gIGVudGVyX3RvX2NyZWF0ZV9wXzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgZXZlbnRIb29rcy5lbnRlclVwRXZlbnRzLCBldmVudEhvb2tzLmVudGVyRG93bkV2ZW50cyk7IC8vIOWIoOmZpOaXtu+8jOS/neeVmSBFTVBUWV9QXG5cbiAgZGVsX3RvX2tlZXBfcF8xW1wiZGVmYXVsdFwiXShlZGl0b3IsIGV2ZW50SG9va3MuZGVsZXRlVXBFdmVudHMsIGV2ZW50SG9va3MuZGVsZXRlRG93bkV2ZW50cyk7IC8vIOWJquWIh+aXtiwg5L+d55WZcFxuXG4gIGRlbF90b19rZWVwX3BfMS5jdXRUb0tlZXBQKGVkaXRvciwgZXZlbnRIb29rcy5rZXl1cEV2ZW50cyk7IC8vIHRhYiDovazmjaLkuLrnqbrmoLxcblxuICB0YWJfdG9fc3BhY2VfMVtcImRlZmF1bHRcIl0oZWRpdG9yLCBldmVudEhvb2tzLnRhYkRvd25FdmVudHMpOyAvLyDnspjotLQgdGV4dCBodG1sXG5cbiAgcGFzdGVfdGV4dF9odG1sXzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgZXZlbnRIb29rcy5wYXN0ZUV2ZW50cyk7IC8vIGltZyBjbGljayBhY3RpdmVcblxuICBpbWdfY2xpY2tfYWN0aXZlXzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgZXZlbnRIb29rcy5pbWdDbGlja0V2ZW50cyk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5pdFRleHRIb29rcztcblxuLyoqKi8gfSksXG4vKiAzMDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWbnui9puaXtu+8jOS/neivgeeUn+aIkOeahOaYryA8cD4g5qCH562+XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG4vKipcbiAqIOWbnui9puaXtu+8jOS/neivgeeUn+aIkOeahOaYryA8cD4g5qCH562+XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICogQHBhcmFtIGVudGVyVXBFdmVudHMgZW50ZXIg6ZSuIHVwIOaXtueahCBob29rc1xuICogQHBhcmFtIGVudGVyRG93bkV2ZW50cyBlbnRlciDplK4gZG93biDml7bnmoQgaG9va3NcbiAqL1xuXG5cbmZ1bmN0aW9uIGVudGVyVG9DcmVhdGVQKGVkaXRvciwgZW50ZXJVcEV2ZW50cywgZW50ZXJEb3duRXZlbnRzKSB7XG4gIGZ1bmN0aW9uIGluc2VydEVtcHR5UCgkc2VsZWN0aW9uRWxlbSkge1xuICAgIHZhciBfY29udGV4dDtcblxuICAgIHZhciAkcCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgJHAuaW5zZXJ0QmVmb3JlKCRzZWxlY3Rpb25FbGVtKTtcblxuICAgIGlmICgoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9ICRzZWxlY3Rpb25FbGVtLmh0bWwoKSkuY2FsbChfY29udGV4dCwgJzxpbWcnKSA+PSAwKSB7XG4gICAgICAvLyDmnInlm77niYfnmoTlm57ovabplK7lvLnotbfml7ZcbiAgICAgICRwLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJHAsIHRydWUsIHRydWUpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICRzZWxlY3Rpb25FbGVtLnJlbW92ZSgpO1xuICB9IC8vIGVudGVyIHVwIOaXtlxuXG5cbiAgZnVuY3Rpb24gZm4oKSB7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgdmFyICRwYXJlbnRFbGVtID0gJHNlbGVjdGlvbkVsZW0ucGFyZW50KCk7XG5cbiAgICBpZiAoJHBhcmVudEVsZW0uaHRtbCgpID09PSAnPGNvZGU+PGJyPjwvY29kZT4nKSB7XG4gICAgICAvLyDlm57ovabkuYvliY3lhYnmoIfmiYDlnKjkuIDkuKogPHA+PGNvZGU+Li4uLi48L2NvZGU+PC9wPiDvvIzlv73nhLblm57ovabnlJ/miJDkuIDkuKrnqbrnmoQgPHA+PGNvZGU+PGJyPjwvY29kZT48L3A+XG4gICAgICAvLyDogIzkuJTnu6fnu63lm57ovabot7PkuI3lh7rljrvvvIzlm6DmraTlj6rog73nibnmrorlpITnkIZcbiAgICAgIGluc2VydEVtcHR5UCgkcGFyZW50RWxlbSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtLmdldE5vZGVOYW1lKCkgPT09ICdGT05UJyAmJiAkc2VsZWN0aW9uRWxlbS50ZXh0KCkgPT09ICcnICYmICRzZWxlY3Rpb25FbGVtLmF0dHIoJ2ZhY2UnKSA9PT0gJ21vbm9zcGFjZScpIHtcbiAgICAgIC8vIOihjOWGhWNvZGXlm57ovabml7bkvJrkuqfnlJ/kuIDkuKo8Zm9udCBmYWNlPVwibW9ub3NwYWNlXCI+PGJyPjwvZm9udD7vvIzlr7zoh7TmoLflvI/pl67pophcbiAgICAgIGluc2VydEVtcHR5UCgkcGFyZW50RWxlbSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEkcGFyZW50RWxlbS5lcXVhbCgkdGV4dEVsZW0pKSB7XG4gICAgICAvLyDkuI3mmK/pobbnuqfmoIfnrb5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbm9kZU5hbWUgPSAkc2VsZWN0aW9uRWxlbS5nZXROb2RlTmFtZSgpO1xuXG4gICAgaWYgKG5vZGVOYW1lID09PSAnUCcgJiYgJHNlbGVjdGlvbkVsZW0uYXR0cignZGF0YS13ZS1lbXB0eS1wJykgPT09IG51bGwpIHtcbiAgICAgIC8vIOW9k+WJjeeahOagh+etvuaYryBQIOS4lOS4jeS4uiBlZGl0b3Ig55Sf5oiQ55qE56m655m95Y2g5L2NIHAg5qCH562+77yM5LiN55So5YGa5aSE55CGXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtLnRleHQoKSkge1xuICAgICAgLy8g5pyJ5YaF5a6577yM5LiN5YGa5aSE55CGXG4gICAgICByZXR1cm47XG4gICAgfSAvLyDmj5LlhaUgPHA+IO+8jOW5tuWwhumAieWPluWumuS9jeWIsCA8cD7vvIzliKDpmaTlvZPliY3moIfnrb5cblxuXG4gICAgaW5zZXJ0RW1wdHlQKCRzZWxlY3Rpb25FbGVtKTtcbiAgfVxuXG4gIGVudGVyVXBFdmVudHMucHVzaChmbik7IC8vIGVudGVyIGRvd24g5pe2XG5cbiAgZnVuY3Rpb24gY3JlYXRlUFdoZW5FbnRlclRleHQoZSkge1xuICAgIHZhciBfYTsgLy8gc2VsZWN0aW9u5Lit55qEcmFuZ2XnvJPlrZjov5jmnInpl67popgs5pu05paw5LiN5Y+K5pe2LOatpOWkhOaJi+WKqOabtOaWsHJhbmdlLOWkhOeQhmVudGVy55qEYnVnXG5cblxuICAgIGVkaXRvci5zZWxlY3Rpb24uc2F2ZVJhbmdlKChfYSA9IGdldFNlbGVjdGlvbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UmFuZ2VBdCgwKSk7XG4gICAgdmFyICRzZWxlY3RFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG5cbiAgICBpZiAoJHNlbGVjdEVsZW0uaWQgPT09IGVkaXRvci50ZXh0RWxlbUlkKSB7XG4gICAgICAvLyDlm57ovabml7bvvIzpu5jorqTliJvlu7rkuoYgdGV4dCDmoIfnrb7vvIjmsqHmnIkgcCDmoIfnrb7ljIXoo7nvvInvvIzniLblhYPntKDnm7TmjqXlsLHmmK8gJHRleHRFbGVtXG4gICAgICAvLyDkvovlpoLvvIzlhYnmoIfmlL7lnKggdGFibGUg5pyA5ZCO5L6n77yM5Zue6L2m5pe277yM6buY6K6k5bCx5piv6L+Z5Liq5oOF5Ya1XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCAnPHA+PGJyPjwvcD4nKTtcbiAgICB9XG4gIH1cblxuICBlbnRlckRvd25FdmVudHMucHVzaChjcmVhdGVQV2hlbkVudGVyVGV4dCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZW50ZXJUb0NyZWF0ZVA7XG5cbi8qKiovIH0pLFxuLyogMzA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDliKDpmaTml7bkv53nlZkgRU1QVFlfUFxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbnZhciBfaW5jbHVkZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDYpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3V0VG9LZWVwUCA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG4vKipcbiAqIOWIoOmZpOaXtuS/neeVmSBFTVBUWV9QXG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICogQHBhcmFtIGRlbGV0ZVVwRXZlbnRzIGRlbGV0ZSDplK4gdXAg5pe255qEIGhvb2tzXG4gKiBAcGFyYW0gZGVsZXRlRG93bkV2ZW50cyBkZWxldGUg5bu6IGRvd24g5pe255qEIGhvb2tzXG4gKi9cblxuXG5mdW5jdGlvbiBkZWxldGVUb0tlZXBQKGVkaXRvciwgZGVsZXRlVXBFdmVudHMsIGRlbGV0ZURvd25FdmVudHMpIHtcbiAgZnVuY3Rpb24gdXBGbigpIHtcbiAgICB2YXIgJHRleHRFbGVtID0gZWRpdG9yLiR0ZXh0RWxlbTtcbiAgICB2YXIgaHRtbCA9IGVkaXRvci4kdGV4dEVsZW0uaHRtbCgpO1xuICAgIHZhciB0ZXh0ID0gZWRpdG9yLiR0ZXh0RWxlbS50ZXh0KCk7XG4gICAgdmFyIHR4dEh0bWwgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShodG1sKS5jYWxsKGh0bWwpO1xuICAgIC8qKlxuICAgICAgQGRlc2NyaXB0aW9uXG4gICAgICAgIOWmguaenOe8lui+keWMuua4heepuueahOeKtuaAgeS4i++8jOWNleWNleaPkuWFpeS4gOW8oOWbvueJh++8jOWIoOmZpOWbvueJh+WQju+8jOS8muWtmOWcqOepuueahOaDheWGte+8mic8cCBkYXRhLXdlLWVtcHR5LXA9XCJcIj48L3A+J1xuICAgICAgICDpnIDopoHljIXlkKvov5nnp43ovrnnlYzmg4XlhrVcbiAgICAqKi9cblxuICAgIHZhciBlbXB0eVRhZ3MgPSBbJzxwPjxicj48L3A+JywgJzxicj4nLCAnPHAgZGF0YS13ZS1lbXB0eS1wPVwiXCI+PC9wPicsIGNvbnN0XzEuRU1QVFlfUF07IC8vIOe8lui+keWZqOS4reeahOWtl+espuaYr1wiXCLmiJbnqbrnmb3vvIzor7TmmI7lhoXlrrnkuLrnqbpcblxuICAgIGlmICgvXlxccyokLy50ZXN0KHRleHQpICYmICghdHh0SHRtbCB8fCAoMCwgX2luY2x1ZGVzW1wiZGVmYXVsdFwiXSkoZW1wdHlUYWdzKS5jYWxsKGVtcHR5VGFncywgdHh0SHRtbCkpKSB7XG4gICAgICAvLyDlhoXlrrnnqbrkuoZcbiAgICAgICR0ZXh0RWxlbS5odG1sKGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlQnlFbGVtKCR0ZXh0RWxlbSwgZmFsc2UsIHRydWUpO1xuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7IC8vIOiuvue9ruaKmOWPoOWQjueahOWFieagh+S9jee9ru+8jOWcqGZpcmVib3jnrYnmtY/op4jlmajkuItcbiAgICAgIC8vIOWFieagh+iuvue9ruWcqGVuZOS9jee9ruS8muiHquWKqOaNouihjFxuXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoJHRleHRFbGVtLmdldE5vZGUoKSwgMCk7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlVXBFdmVudHMucHVzaCh1cEZuKTtcblxuICBmdW5jdGlvbiBkb3duRm4oZSkge1xuICAgIHZhciBfY29udGV4dDtcblxuICAgIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtO1xuICAgIHZhciB0eHRIdG1sID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSAkdGV4dEVsZW0uaHRtbCgpLnRvTG93ZXJDYXNlKCkpLmNhbGwoX2NvbnRleHQpO1xuXG4gICAgaWYgKHR4dEh0bWwgPT09IGNvbnN0XzEuRU1QVFlfUCkge1xuICAgICAgLy8g5pyA5ZCO5Ymp5LiL5LiA5Liq56m66KGM77yM5bCx5LiN5YaN5Yig6Zmk5LqGXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlRG93bkV2ZW50cy5wdXNoKGRvd25Gbik7XG59XG4vKipcbiAqIOWJquWIh+aXtuS/neeVmSBFTVBUWV9QXG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICogQHBhcmFtIGN1dEV2ZW50cyBrZXlkb3duIGhvb2tzXG4gKi9cblxuXG5mdW5jdGlvbiBjdXRUb0tlZXBQKGVkaXRvciwgY3V0RXZlbnRzKSB7XG4gIGZ1bmN0aW9uIHVwRm4oZSkge1xuICAgIHZhciBfY29udGV4dDI7XG5cbiAgICBpZiAoZS5rZXlDb2RlICE9PSA4OCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtO1xuICAgIHZhciB0eHRIdG1sID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gJHRleHRFbGVtLmh0bWwoKS50b0xvd2VyQ2FzZSgpKS5jYWxsKF9jb250ZXh0Mik7IC8vIGZpcmVmb3gg5pe255SoIHR4dEh0bWwgPT09ICc8YnI+JyDliKTmlq3vvIzlhbbku5bnlKggIXR4dEh0bWwg5Yik5patXG5cbiAgICBpZiAoIXR4dEh0bWwgfHwgdHh0SHRtbCA9PT0gJzxicj4nKSB7XG4gICAgICAvLyDlhoXlrrnnqbrkuoZcbiAgICAgIHZhciAkcCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgICAkdGV4dEVsZW0uaHRtbCgnICcpOyAvLyDkuIDlrpropoHlhYjmuIXnqbrvvIzlkKbliJnlnKggZmlyZWZveCDkuIvmnInpl67pophcblxuICAgICAgJHRleHRFbGVtLmFwcGVuZCgkcCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlQnlFbGVtKCRwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTsgLy8g6K6+572u5oqY5Y+g5ZCO55qE5YWJ5qCH5L2N572u77yM5ZyoZmlyZWJveOetiea1j+iniOWZqOS4i1xuICAgICAgLy8g5YWJ5qCH6K6+572u5ZyoZW5k5L2N572u5Lya6Ieq5Yqo5o2i6KGMXG5cbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvcigkcC5nZXROb2RlKCksIDApO1xuICAgIH1cbiAgfVxuXG4gIGN1dEV2ZW50cy5wdXNoKHVwRm4pO1xufVxuXG5leHBvcnRzLmN1dFRvS2VlcFAgPSBjdXRUb0tlZXBQO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkZWxldGVUb0tlZXBQO1xuXG4vKioqLyB9KSxcbi8qIDMwNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57yW6L6R5Yy65Z+fIHRhYiDnmoTnibnmrorlpITnkIZcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vKipcbiAqIOe8lui+keWMuuWfnyB0YWIg55qE54m55q6K5aSE55CG77yM6L2s5o2i5Li656m65qC8XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICogQHBhcmFtIHRhYkRvd25FdmVudHMgdGFiIGRvd24g5LqL5Lu26ZKp5a2QXG4gKi9cblxuZnVuY3Rpb24gdGFiSGFuZGxlcihlZGl0b3IsIHRhYkRvd25FdmVudHMpIHtcbiAgLy8g5a6a5LmJ5Ye95pWwXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIGlmICghZWRpdG9yLmNtZC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoJ2luc2VydEhUTUwnKSkge1xuICAgICAgLy8g5b+F6aG75Y6f55Sf5pSv5oyBIGluc2VydEhUTUwg5ZG95LukXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG5cbiAgICBpZiAoISRzZWxlY3Rpb25FbGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnRFbGVtID0gJHNlbGVjdGlvbkVsZW0ucGFyZW50KCk7XG4gICAgdmFyIHNlbGVjdGlvbk5vZGVOYW1lID0gJHNlbGVjdGlvbkVsZW0uZ2V0Tm9kZU5hbWUoKTtcbiAgICB2YXIgcGFyZW50Tm9kZU5hbWUgPSAkcGFyZW50RWxlbS5nZXROb2RlTmFtZSgpO1xuXG4gICAgaWYgKHNlbGVjdGlvbk5vZGVOYW1lID09ICdDT0RFJyB8fCBwYXJlbnROb2RlTmFtZSA9PT0gJ0NPREUnIHx8IHBhcmVudE5vZGVOYW1lID09PSAnUFJFJyB8fCAvaGxqcy8udGVzdChwYXJlbnROb2RlTmFtZSkpIHtcbiAgICAgIC8vIDxwcmU+PGNvZGU+IOmHjOmdolxuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgZWRpdG9yLmNvbmZpZy5sYW5ndWFnZVRhYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOaZrumAmuaWh+Wtl1xuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpO1xuICAgIH1cbiAgfSAvLyDkv53nlZnlh73mlbBcblxuXG4gIHRhYkRvd25FdmVudHMucHVzaChmbik7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdGFiSGFuZGxlcjtcblxuLyoqKi8gfSksXG4vKiAzMDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOeymOi0tCB0ZXh0IGh0bWxcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfdHJpbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgcGFzdGVfZXZlbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblxudmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qKlxuICog5qC85byP5YyWaHRtbFxuICogQHBhcmFtIHZhbCDnspjotLTnmoRodG1sXG4gKiBAYXV0aG9yIEdhdmluXG4gKiBAZGVzY3JpcHRpb25cbiAgICDmoLzlvI/ljJZodG1s77yM6ZyA6KaB54m55Yir5rOo5oSPXG4gICAg5Yqf6IO977yaXG4gICAgICAgIDEuIOWwhmh0bWxUZXh05Lit55qEZGl277yM6YO95pu/5o2i5oiQcOagh+etvlxuICAgICAgICAyLiDlsIblpITnkIblkI7nmoRodG1sVGV4dOaooeaLn+WFiOaPkuWFpeWIsOecn+WunmRvbeS4re+8jOWkhOeQhlDmiKrmlq3pl67popjjgIJcblxuICAgIOazqOaEj+eCue+8mlxuICAgICAgICDnlLHkuo5Q5LiN6IO95bWM5aWXcO+8jOS8muWvvOiHtOagh+etvuaIquaWre+8jOS7juiAjOWwhjxwPjxwPnh4PC9wPjwvcD7ov5nmoLfkuIDkuKrnu5PmnoTmj5LlhaXliLDpobXpnaLml7bvvIzkvJrlh7rnjrDlvojlpJrpl67popjvvIzljIXmi6zlhYnmoIfkvY3nva7pl67popjvvIzpobXpnaLlh63nqbrlpJrlvojlpJrlhYPntKDnmoTpl67popjjgIJcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEh0bWwoaHRtbFRleHQpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIHZhciBwYXN0ZSA9ICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gaHRtbFRleHQucmVwbGFjZSgvPGRpdj4vZ2ltLCAnPHA+JykgLy8gZGl2IOWFqOmDqOabv+aNouS4uiBwIOagh+etvlxuICAucmVwbGFjZSgvPFxcL2Rpdj4vZ2ltLCAnPC9wPicpKS5jYWxsKF9jb250ZXh0KTsgLy8g5Y676ZmkJydcbiAgLy8g5qih5ouf5o+S5YWl5Yiw55yf5a6eZG9t5LitXG5cbiAgdmFyIHRlbXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVtcENvbnRhaW5lci5pbm5lckhUTUwgPSBwYXN0ZTtcbiAgcmV0dXJuIHRlbXBDb250YWluZXIuaW5uZXJIVE1MLnJlcGxhY2UoLzxwPjxcXC9wPi9naW0sICcnKTsgLy8g5bCG6KKr5oiq5pat55qEcO+8jOmDveabv+aNouaOiVxufVxuLyoqXG4gKiDmoLzlvI/ljJZodG1sXG4gKiBAcGFyYW0gdmFsIOeymOi0tOeahGh0bWxcbiAqIEBhdXRob3IgbGl1d2VpXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JtYXRDb2RlKHZhbCkge1xuICB2YXIgcGFzdGVUZXh0ID0gdmFsLnJlcGxhY2UoLzxicj58PGJyXFwvPi9nbSwgJ1xcbicpLnJlcGxhY2UoLzxbXj5dKz4vZ20sICcnKTtcbiAgcmV0dXJuIHBhc3RlVGV4dDtcbn1cbi8qKlxuICog5Yik5pataHRtbOaYr+WQpuS9v+eUqFDmoIfnrb7ljIXoo7lcbiAqIEBwYXJhbSBodG1sIOeymOi0tOeahGh0bWxcbiAqIEBhdXRob3IgbHVvY2hhb1xuICovXG5cblxuZnVuY3Rpb24gaXNQYXJhZ3JhcGhIdG1sKGh0bWwpIHtcbiAgdmFyIF9hO1xuXG4gIGlmIChodG1sID09PSAnJykgcmV0dXJuIGZhbHNlO1xuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xuICByZXR1cm4gKChfYSA9IGNvbnRhaW5lci5maXJzdENoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm9kZU5hbWUpID09PSAnUCc7XG59XG4vKipcbiAqIOWIpOaWreW9k+WJjemAieWMuuaYr+WQpuaYr+epuuauteiQvVxuICogQHBhcmFtIHRvcEVsZW0g6YCJ5Yy66aG25bGC5YWD57SgXG4gKiBAYXV0aG9yIGx1b2NoYW9cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzRW1wdHlQYXJhZ3JhcGgodG9wRWxlbSkge1xuICBpZiAoISh0b3BFbGVtID09PSBudWxsIHx8IHRvcEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvcEVsZW0ubGVuZ3RoKSkgcmV0dXJuIGZhbHNlO1xuICB2YXIgZG9tID0gdG9wRWxlbS5lbGVtc1swXTtcbiAgcmV0dXJuIGRvbS5ub2RlTmFtZSA9PT0gJ1AnICYmIGRvbS5pbm5lckhUTUwgPT09ICc8YnI+Jztcbn1cbi8qKlxuICog57KY6LS05paH5pys5ZKMIGh0bWxcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a+56LGhXG4gKiBAcGFyYW0gcGFzdGVFdmVudHMg57KY6LS05LqL5Lu25YiX6KGoXG4gKi9cblxuXG5mdW5jdGlvbiBwYXN0ZVRleHRIdG1sKGVkaXRvciwgcGFzdGVFdmVudHMpIHtcbiAgZnVuY3Rpb24gZm4oZSkge1xuICAgIC8vIOiOt+WPlumFjee9rlxuICAgIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnO1xuICAgIHZhciBwYXN0ZUZpbHRlclN0eWxlID0gY29uZmlnLnBhc3RlRmlsdGVyU3R5bGU7XG4gICAgdmFyIHBhc3RlSWdub3JlSW1nID0gY29uZmlnLnBhc3RlSWdub3JlSW1nO1xuICAgIHZhciBwYXN0ZVRleHRIYW5kbGUgPSBjb25maWcucGFzdGVUZXh0SGFuZGxlOyAvLyDojrflj5bnspjotLTnmoTmloflrZdcblxuICAgIHZhciBwYXN0ZUh0bWwgPSBwYXN0ZV9ldmVudF8xLmdldFBhc3RlSHRtbChlLCBwYXN0ZUZpbHRlclN0eWxlLCBwYXN0ZUlnbm9yZUltZyk7XG4gICAgdmFyIHBhc3RlVGV4dCA9IHBhc3RlX2V2ZW50XzEuZ2V0UGFzdGVUZXh0KGUpO1xuICAgIHBhc3RlVGV4dCA9IHBhc3RlVGV4dC5yZXBsYWNlKC9cXG4vZ20sICc8YnI+Jyk7IC8vIOW9k+WJjemAieWMuuaJgOWcqOeahCBET00g6IqC54K5XG5cbiAgICB2YXIgJHNlbGVjdGlvbkVsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcblxuICAgIGlmICghJHNlbGVjdGlvbkVsZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbm9kZU5hbWUgPSAkc2VsZWN0aW9uRWxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVsZW0uZ2V0Tm9kZU5hbWUoKTtcbiAgICB2YXIgJHRvcEVsZW0gPSAkc2VsZWN0aW9uRWxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVsZW0uZ2V0Tm9kZVRvcChlZGl0b3IpOyAvLyDlvZPliY3oioLngrnpobbnuqflj6/og73msqHmnIlcblxuICAgIHZhciB0b3BOb2RlTmFtZSA9ICcnO1xuXG4gICAgaWYgKCR0b3BFbGVtLmVsZW1zWzBdKSB7XG4gICAgICB0b3BOb2RlTmFtZSA9ICR0b3BFbGVtID09PSBudWxsIHx8ICR0b3BFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkdG9wRWxlbS5nZXROb2RlTmFtZSgpO1xuICAgIH0gLy8gY29kZSDkuK3lj6rog73nspjotLTnuq/mlofmnKxcblxuXG4gICAgaWYgKG5vZGVOYW1lID09PSAnQ09ERScgfHwgdG9wTm9kZU5hbWUgPT09ICdQUkUnKSB7XG4gICAgICBpZiAocGFzdGVUZXh0SGFuZGxlICYmIHV0aWxfMS5pc0Z1bmN0aW9uKHBhc3RlVGV4dEhhbmRsZSkpIHtcbiAgICAgICAgLy8g55So5oi36Ieq5a6a5LmJ6L+H5ruk5aSE55CG57KY6LS05YaF5a65XG4gICAgICAgIHBhc3RlVGV4dCA9ICcnICsgKHBhc3RlVGV4dEhhbmRsZShwYXN0ZVRleHQpIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgZm9ybWF0Q29kZShwYXN0ZVRleHQpKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIOWmguaenOeUqOaIt+W8gOWQr+mXreeymOi0tOagt+W8j+azqOmHiuWImeWwhuWkjeWItui/m+adpeS4unVybOeahOebtOaOpei9rOS4uumTvuaOpSDlkKbliJnkuI3ovazmjaJcbiAgICAvLyAg5Zyo576k5Lit5pyJ55So5oi35o+Q5Yiw5YWz6Zet5qC35byP57KY6LS05aSN5Yi255qE5paH5a2X6L+b5p2l5ZCO6ZO+5o6l55u05o6l6L2s5Li65paH5a2X5LqG77yM5LiN56ym5ZCI6aKE5pyf77yM6L+Z6YeM5LyY5YyW5LiLXG5cblxuICAgIGlmIChjb25zdF8xLnVybFJlZ2V4LnRlc3QocGFzdGVUZXh0KSAmJiBwYXN0ZUZpbHRlclN0eWxlKSB7XG4gICAgICAvL+W9k+WkjeWItueahOWGheWuueS4uumTvuaOpeaXtu+8jOS5n+W6lOivpeWIpOaWreeUqOaIt+aYr+WQpuWumuS5ieS6huWkhOeQhueymOi0tOeahOS6i+S7tlxuICAgICAgaWYgKHBhc3RlVGV4dEhhbmRsZSAmJiB1dGlsXzEuaXNGdW5jdGlvbihwYXN0ZVRleHRIYW5kbGUpKSB7XG4gICAgICAgIC8vIOeUqOaIt+iHquWumuS5iei/h+a7pOWkhOeQhueymOi0tOWGheWuuVxuICAgICAgICBwYXN0ZVRleHQgPSAnJyArIChwYXN0ZVRleHRIYW5kbGUocGFzdGVUZXh0KSB8fCAnJyk7IC8vIGh0bWxcbiAgICAgIH1cblxuICAgICAgdmFyIGluc2VydFVybCA9IGNvbnN0XzEudXJsUmVnZXguZXhlYyhwYXN0ZVRleHQpWzBdO1xuICAgICAgdmFyIG90aGVyVGV4dCA9IHBhc3RlVGV4dC5yZXBsYWNlKGNvbnN0XzEudXJsUmVnZXgsICcnKTtcbiAgICAgIHJldHVybiBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBcIjxhIGhyZWY9XFxcIlwiICsgaW5zZXJ0VXJsICsgXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cIiArIGluc2VydFVybCArIFwiPC9hPlwiICsgb3RoZXJUZXh0KTsgLy8gaHRtbFxuICAgIH0gLy8gdGFibGUg5Lit77yIdGTjgIF0aO+8ie+8jOW+heW8gOWPkeOAguOAguOAglxuXG5cbiAgICBpZiAoIXBhc3RlSHRtbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBmaXJlZm94IOS4re+8jOiOt+WPlueahCBwYXN0ZUh0bWwg5Y+v6IO95piv5rKh5pyJIDx1bD4g5YyF6KO555qEIDxsaT5cbiAgICAgIC8vIOWboOatpOaJp+ihjCBpbnNlcnRIVE1MIOS8muaKpemUmVxuICAgICAgaWYgKHBhc3RlVGV4dEhhbmRsZSAmJiB1dGlsXzEuaXNGdW5jdGlvbihwYXN0ZVRleHRIYW5kbGUpKSB7XG4gICAgICAgIC8vIOeUqOaIt+iHquWumuS5iei/h+a7pOWkhOeQhueymOi0tOWGheWuuVxuICAgICAgICBwYXN0ZUh0bWwgPSAnJyArIChwYXN0ZVRleHRIYW5kbGUocGFzdGVIdG1sKSB8fCAnJyk7IC8vIGh0bWxcbiAgICAgIH0gLy8g57KY6LS055qEaHRtbOeahOaYr+WQpuaYr2Nzc+eahHN0eWxl5qC35byPXG5cblxuICAgICAgdmFyIGlzQ3NzU3R5bGUgPSAvW1xcLlxcI1xcQF0/XFx3K1sgXStcXHtbXn1dKlxcfS8udGVzdChwYXN0ZUh0bWwpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAvLyDnu4/ov4flpITnkIblkI7ov5jmmK/ljIXlkKvmmrTpnLLnmoRjc3PmoLflvI/liJnnm7TmjqXmj5LlhaXlroPnmoR0ZXh0XG5cbiAgICAgIGlmIChpc0Nzc1N0eWxlICYmIHBhc3RlRmlsdGVyU3R5bGUpIHtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgXCJcIiArIGZvcm1hdEh0bWwocGFzdGVUZXh0KSk7IC8vIHRleHRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBodG1sID0gZm9ybWF0SHRtbChwYXN0ZUh0bWwpOyAvLyDlpoLmnpzmmK/mrrXokL3vvIzkuLrkuoblhbzlrrkgZmlyZWZveCDlkowgY2hyb21l5beu5byC77yM6Ieq5a6a5LmJ5o+S5YWlXG5cbiAgICAgICAgaWYgKGlzUGFyYWdyYXBoSHRtbChodG1sKSkge1xuICAgICAgICAgIHZhciAkdGV4dEVsID0gZWRpdG9yLiR0ZXh0RWxlbTtcbiAgICAgICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBodG1sKTsgLy8g5YWo6YCJ55qE5oOF5Ya15LiL6KaG55uW5Y6f5pyJ5YaF5a65XG5cbiAgICAgICAgICBpZiAoJHRleHRFbC5lcXVhbCgkc2VsZWN0aW9uRWxlbSkpIHtcbiAgICAgICAgICAgIC8vIOabtOaWsOmAieWMulxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSAvLyDlpoLmnpzpgInljLrmmK/nqbrmrrXokL3vvIznp7vpmaTnqbrmrrXokL1cblxuXG4gICAgICAgICAgaWYgKGlzRW1wdHlQYXJhZ3JhcGgoJHRvcEVsZW0pKSB7XG4gICAgICAgICAgICAkdG9wRWxlbS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5aaC5p6c55So5oi35LuO55m+5bqm562J572R56uZ54K55Ye75aSN5Yi25b6X5Yiw55qE5Zu+54mH5piv5LiA5LiyaW1n5qCH562+5LiU5b6Fc3Jj55qEaHR0cOWcsOWdgFxuICAgICAgICAgIC8vIOingSBodHRwczovL2dpdGh1Yi5jb20vd2FuZ2VkaXRvci10ZWFtL3dhbmdFZGl0b3IvaXNzdWVzLzMxMTlcbiAgICAgICAgICAvLyDlpoLmnpzmmK/otbDnlKjmiLflrprkuYnnmoTlm77niYfkuIrkvKDpgLvovpFcbiAgICAgICAgICB2YXIgaXNIYXNPbmx5SW1nRWxlUmVnID0gL148aW1nIFtePl0qc3JjPVsnXCJdKFteJ1wiXSspW14+XSo+JC9nO1xuXG4gICAgICAgICAgaWYgKCFpc0hhc09ubHlJbWdFbGVSZWcudGVzdChodG1sKSkge1xuICAgICAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgaHRtbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIOatpOaXtuS9v+eUqCBwYXN0ZVRleHQg5p2l5YW85a655LiA5LiLXG4gICAgICBpZiAocGFzdGVUZXh0SGFuZGxlICYmIHV0aWxfMS5pc0Z1bmN0aW9uKHBhc3RlVGV4dEhhbmRsZSkpIHtcbiAgICAgICAgLy8g55So5oi36Ieq5a6a5LmJ6L+H5ruk5aSE55CG57KY6LS05YaF5a65XG4gICAgICAgIHBhc3RlVGV4dCA9ICcnICsgKHBhc3RlVGV4dEhhbmRsZShwYXN0ZVRleHQpIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgXCJcIiArIGZvcm1hdEh0bWwocGFzdGVUZXh0KSk7IC8vIHRleHRcbiAgICB9XG4gIH1cblxuICBwYXN0ZUV2ZW50cy5wdXNoKGZuKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwYXN0ZVRleHRIdG1sO1xuXG4vKioqLyB9KSxcbi8qIDMwNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5bCG57KY6LS055qEIGh0bWwg5a2X56ym5Liy77yM6L2s5o2i5Li65q2j56Gu44CB566A5rSB55qEIGh0bWwg5Luj56CB44CC5YmU6Zmk5LiN5b+F6KaB55qE5qCH562+5ZKM5bGe5oCn44CCXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX3RyaW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTYpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF9pbmNsdWRlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB0YWdzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwOCk7XG5cbnZhciBzaW1wbGVodG1scGFyc2VyX2pzXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMikpO1xuLyoqXG4gKiDov4fmu6Tmjonnqbogc3BhblxuICogQHBhcmFtIGh0bWwgaHRtbFxuICovXG5cblxuZnVuY3Rpb24gZmlsdGVyRW1wdHlTcGFuKGh0bWwpIHtcbiAgdmFyIHJlZ0ZvclJlcGxhY2UgPSAvPHNwYW4+Lio/PFxcL3NwYW4+L2dpO1xuICB2YXIgcmVnRm9yTWF0Y2ggPSAvPHNwYW4+KC4qPyk8XFwvc3Bhbj4vO1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKHJlZ0ZvclJlcGxhY2UsIGZ1bmN0aW9uIChzKSB7XG4gICAgLy8gcyDmmK/ljZXkuKogc3BhbiDvvIzlpoIgPHNwYW4+5paH5a2XPC9zcGFuPlxuICAgIHZhciByZXN1bHQgPSBzLm1hdGNoKHJlZ0Zvck1hdGNoKTtcbiAgICBpZiAocmVzdWx0ID09IG51bGwpIHJldHVybiAnJztcbiAgICByZXR1cm4gcmVzdWx0WzFdO1xuICB9KTtcbn1cbi8qKlxuICog5piv5ZCm5b+955Wl5qCH562+XG4gKiBAcGFyYW0gdGFnIHRhZ1xuICogQHBhcmFtIGlnbm9yZUltZyDmmK/lkKblv73nlaUgaW1nIOagh+etvlxuICovXG5cblxuZnVuY3Rpb24gaXNJZ25vcmVUYWcodGFnLCBpZ25vcmVJbWcpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIHRhZyA9ICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gdGFnLnRvTG93ZXJDYXNlKCkpLmNhbGwoX2NvbnRleHQpOyAvLyDlv73nlaXnmoTmoIfnrb5cblxuICBpZiAodGFnc18xLklHTk9SRV9UQUdTLmhhcyh0YWcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8g5piv5ZCm5b+955Wl5Zu+54mHXG5cblxuICBpZiAoaWdub3JlSW1nKSB7XG4gICAgaWYgKHRhZyA9PT0gJ2ltZycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICog5Li6IHRhZyDnlJ/miJAgaHRtbCDlrZfnrKbkuLLvvIzlvIDlp4vpg6jliIZcbiAqIEBwYXJhbSB0YWcgdGFnXG4gKiBAcGFyYW0gYXR0cnMg5bGe5oCnXG4gKi9cblxuXG5mdW5jdGlvbiBnZW5TdGFydEh0bWwodGFnLCBhdHRycykge1xuICB2YXIgcmVzdWx0ID0gJyc7IC8vIHRhZyA8IOespuWPt1xuXG4gIHJlc3VsdCA9IFwiPFwiICsgdGFnOyAvLyDmi7zmjqXlsZ7mgKdcblxuICB2YXIgYXR0clN0ckFyciA9IFtdO1xuICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShhdHRycykuY2FsbChhdHRycywgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICBhdHRyU3RyQXJyLnB1c2goYXR0ci5uYW1lICsgXCI9XFxcIlwiICsgYXR0ci52YWx1ZSArIFwiXFxcIlwiKTtcbiAgfSk7XG5cbiAgaWYgKGF0dHJTdHJBcnIubGVuZ3RoID4gMCkge1xuICAgIHJlc3VsdCA9IHJlc3VsdCArICcgJyArIGF0dHJTdHJBcnIuam9pbignICcpO1xuICB9IC8vIHRhZyA+IOespuWPt1xuXG5cbiAgdmFyIGlzRW1wdHkgPSB0YWdzXzEuRU1QVFlfVEFHUy5oYXModGFnKTsgLy8g5rKh5pyJ5a2Q6IqC54K55oiW5paH5pys55qE5qCH562+77yM5aaCIGltZ1xuXG4gIHJlc3VsdCA9IHJlc3VsdCArIChpc0VtcHR5ID8gJy8nIDogJycpICsgJz4nO1xuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiDkuLogdGFnIOeUn+aIkCBodG1sIOWtl+espuS4su+8jOe7k+WwvumDqOWIhlxuICogQHBhcmFtIHRhZyB0YWdcbiAqL1xuXG5cbmZ1bmN0aW9uIGdlbkVuZEh0bWwodGFnKSB7XG4gIHJldHVybiBcIjwvXCIgKyB0YWcgKyBcIj5cIjtcbn1cbi8qKlxuICog5aSE55CG57KY6LS055qEIGh0bWxcbiAqIEBwYXJhbSBodG1sIGh0bWwg5a2X56ym5LiyXG4gKiBAcGFyYW0gZmlsdGVyU3R5bGUg5piv5ZCm6L+H5rukIHN0eWxlIOagt+W8j1xuICogQHBhcmFtIGlnbm9yZUltZyDmmK/lkKblv73nlaUgaW1nIOagh+etvlxuICovXG5cblxuZnVuY3Rpb24gcGFyc2VIdG1sKGh0bWwsIGZpbHRlclN0eWxlLCBpZ25vcmVJbWcpIHtcbiAgaWYgKGZpbHRlclN0eWxlID09PSB2b2lkIDApIHtcbiAgICBmaWx0ZXJTdHlsZSA9IHRydWU7XG4gIH1cblxuICBpZiAoaWdub3JlSW1nID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVJbWcgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciByZXN1bHRBcnIgPSBbXTsgLy8g5a2Y5YKo57uT5p6c77yM5pWw57uE5b2i5byP77yM5pyA5ZCO5YaNIGpvaW5cbiAgLy8g5b2T5YmN5q2j5Zyo5aSE55CG55qE5qCH562+77yM5Lul5Y+K6K6w5b2V5ZKM5riF6Zmk55qE5pa55rOVXG5cbiAgdmFyIENVUl9UQUcgPSAnJztcblxuICBmdW5jdGlvbiBtYXJrVGFnU3RhcnQodGFnKSB7XG4gICAgdGFnID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkodGFnKS5jYWxsKHRhZyk7XG4gICAgaWYgKCF0YWcpIHJldHVybjtcbiAgICBpZiAodGFnc18xLkVNUFRZX1RBR1MuaGFzKHRhZykpIHJldHVybjsgLy8g5YaF5a655Li656m655qE5qCH562+77yM5aaCIGltZyDvvIzkuI3nlKjorrDlvZVcblxuICAgIENVUl9UQUcgPSB0YWc7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrVGFnRW5kKCkge1xuICAgIENVUl9UQUcgPSAnJztcbiAgfSAvLyDog73pgJrov4cgJ3RleHQvaHRtbCcg5qC85byP6I635Y+WIGh0bWxcblxuXG4gIHZhciBodG1sUGFyc2VyID0gbmV3IHNpbXBsZWh0bWxwYXJzZXJfanNfMVtcImRlZmF1bHRcIl0oKTtcbiAgaHRtbFBhcnNlci5wYXJzZShodG1sLCB7XG4gICAgc3RhcnRFbGVtZW50OiBmdW5jdGlvbiBzdGFydEVsZW1lbnQodGFnLCBhdHRycykge1xuICAgICAgLy8g6aaW5YWI77yM5qCH6K6w5byA5aeLXG4gICAgICBtYXJrVGFnU3RhcnQodGFnKTsgLy8g5b+955Wl55qE5qCH562+XG5cbiAgICAgIGlmIChpc0lnbm9yZVRhZyh0YWcsIGlnbm9yZUltZykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyDmib7lh7ror6XmoIfnrb7lv4XpobvnmoTlsZ7mgKfvvIjlhbbku5bnmoTlsZ7mgKflv73nlaXvvIlcblxuXG4gICAgICB2YXIgbmVjZXNzYXJ5QXR0cktleXMgPSB0YWdzXzEuTkVDRVNTQVJZX0FUVFJTLmdldCh0YWcpIHx8IFtdO1xuICAgICAgdmFyIGF0dHJzRm9yVGFnID0gW107XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShhdHRycykuY2FsbChhdHRycywgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgLy8g5bGe5oCn5ZCNXG4gICAgICAgIHZhciBuYW1lID0gYXR0ci5uYW1lOyAvLyBzdHlsZSDljZXni6zlpITnkIZcblxuICAgICAgICBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgIC8vIOS/neeVmSBzdHlsZSDmoLflvI9cbiAgICAgICAgICBpZiAoIWZpbHRlclN0eWxlKSB7XG4gICAgICAgICAgICBhdHRyc0ZvclRhZy5wdXNoKGF0dHIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyDpmaTkuoYgc3R5bGUg5LmL5aSW55qE5YW25LuW5bGe5oCnXG5cblxuICAgICAgICBpZiAoKDAsIF9pbmNsdWRlc1tcImRlZmF1bHRcIl0pKG5lY2Vzc2FyeUF0dHJLZXlzKS5jYWxsKG5lY2Vzc2FyeUF0dHJLZXlzLCBuYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAvLyDkuI3mmK/lv4XpobvnmoTlsZ7mgKfvvIzlv73nlaVcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyc0ZvclRhZy5wdXNoKGF0dHIpO1xuICAgICAgfSk7IC8vIOaLvOaOpeS4uiBIVE1MIOagh+etvlxuXG4gICAgICB2YXIgaHRtbCA9IGdlblN0YXJ0SHRtbCh0YWcsIGF0dHJzRm9yVGFnKTtcbiAgICAgIHJlc3VsdEFyci5wdXNoKGh0bWwpO1xuICAgIH0sXG4gICAgY2hhcmFjdGVyczogZnVuY3Rpb24gY2hhcmFjdGVycyhzdHIpIHtcbiAgICAgIGlmICghc3RyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8g5b+955Wl55qE5qCH562+XG5cblxuICAgICAgaWYgKGlzSWdub3JlVGFnKENVUl9UQUcsIGlnbm9yZUltZykpIHJldHVybjtcbiAgICAgIHJlc3VsdEFyci5wdXNoKHN0cik7XG4gICAgfSxcbiAgICBlbmRFbGVtZW50OiBmdW5jdGlvbiBlbmRFbGVtZW50KHRhZykge1xuICAgICAgLy8g5b+955Wl55qE5qCH562+XG4gICAgICBpZiAoaXNJZ25vcmVUYWcodGFnLCBpZ25vcmVJbWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8g5ou85o6l5Li6IEhUTUwg5qCH562+XG5cblxuICAgICAgdmFyIGh0bWwgPSBnZW5FbmRIdG1sKHRhZyk7XG4gICAgICByZXN1bHRBcnIucHVzaChodG1sKTsgLy8g5pyA5ZCO77yM5qCH6K6w57uT5p2fXG5cbiAgICAgIG1hcmtUYWdFbmQoKTtcbiAgICB9LFxuICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIGNvbW1lbnQoc3RyKSB7XG4gICAgICAvKiDms6jph4rvvIzkuI3lgZrlpITnkIYgKi9cbiAgICAgIG1hcmtUYWdTdGFydChzdHIpO1xuICAgIH1cbiAgfSk7XG4gIHZhciByZXN1bHQgPSByZXN1bHRBcnIuam9pbignJyk7IC8vIOi9rOaNouS4uuWtl+espuS4slxuICAvLyDov4fmu6Tmjonnqbogc3BhbiDmoIfnrb5cblxuICByZXN1bHQgPSBmaWx0ZXJFbXB0eVNwYW4ocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwYXJzZUh0bWw7XG5cbi8qKiovIH0pLFxuLyogMzA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDnspjotLTnm7jlhbPnmoQgdGFnc1xuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9zZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTM2KSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5UT1BfTEVWRUxfVEFHUyA9IGV4cG9ydHMuRU1QVFlfVEFHUyA9IGV4cG9ydHMuTkVDRVNTQVJZX0FUVFJTID0gZXhwb3J0cy5JR05PUkVfVEFHUyA9IHZvaWQgMDsgLy8g5b+955Wl55qE5qCH562+XG5cbmV4cG9ydHMuSUdOT1JFX1RBR1MgPSBuZXcgX3NldFtcImRlZmF1bHRcIl0oWydkb2N0eXBlJywgJyFkb2N0eXBlJywgJ2h0bWwnLCAnaGVhZCcsICdtZXRhJywgJ2JvZHknLCAnc2NyaXB0JywgJ3N0eWxlJywgJ2xpbmsnLCAnZnJhbWUnLCAnaWZyYW1lJywgJ3RpdGxlJywgJ3N2ZycsICdjZW50ZXInLCAnbzpwJyAvLyDlpI3liLYgd29yZCDlhoXlrrnljIXlkKsgbzpwIOagh+etvlxuXSk7IC8vIOaMh+Wumuagh+etvuW/heimgeeahOWxnuaAp1xuXG5leHBvcnRzLk5FQ0VTU0FSWV9BVFRSUyA9IG5ldyBfbWFwW1wiZGVmYXVsdFwiXShbWydpbWcnLCBbJ3NyYycsICdhbHQnXV0sIFsnYScsIFsnaHJlZicsICd0YXJnZXQnXV0sIFsndGQnLCBbJ2NvbHNwYW4nLCAncm93c3BhbiddXSwgWyd0aCcsIFsnY29sc3BhbicsICdyb3dzcGFuJ11dXSk7IC8vIOayoeacieWtkOiKgueCueaIluaWh+acrOeahOagh+etvlxuXG5leHBvcnRzLkVNUFRZX1RBR1MgPSBuZXcgX3NldFtcImRlZmF1bHRcIl0oWydhcmVhJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYnInLCAnY29sJywgJ2hyJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2VtYmVkJ10pOyAvLyDnvJbovpHljLrln5/pobbnuqfoioLngrlcblxuZXhwb3J0cy5UT1BfTEVWRUxfVEFHUyA9IG5ldyBfc2V0W1wiZGVmYXVsdFwiXShbJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ3AnLCAndWwnLCAnb2wnLCAndGFibGUnLCAnYmxvY2txdW90ZScsICdwcmUnLCAnaHInLCAnZm9ybSddKTtcblxuLyoqKi8gfSksXG4vKiAzMDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEwKTtcbl9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDMxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcbl9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygzMTEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguU2V0O1xuXG5cbi8qKiovIH0pLFxuLyogMzExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgY29sbGVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcbnZhciBjb2xsZWN0aW9uU3Ryb25nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpO1xuXG4vLyBgU2V0YCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQtb2JqZWN0c1xubW9kdWxlLmV4cG9ydHMgPSBjb2xsZWN0aW9uKCdTZXQnLCBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gU2V0KCkgeyByZXR1cm4gaW5pdCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcbn0sIGNvbGxlY3Rpb25TdHJvbmcpO1xuXG5cbi8qKiovIH0pLFxuLyogMzEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIENvcHlyaWdodCAyMDA0IEVyaWsgQXJ2aWRzc29uLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy9cbi8vIFRoaXMgY29kZSBpcyB0cmlwbGUgbGljZW5zZWQgdXNpbmcgQXBhY2hlIFNvZnR3YXJlIExpY2Vuc2UgMi4wLFxuLy8gTW96aWxsYSBQdWJsaWMgTGljZW5zZSBvciBHTlUgUHVibGljIExpY2Vuc2Vcbi8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3Rcbi8vIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weVxuLy8gb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy9cbi8vIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2Vcbi8vIFZlcnNpb24gMS4xICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpblxuLy8gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vIGh0dHA6Ly93d3cubW96aWxsYS5vcmcvTVBML1xuLy9cbi8vIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIlxuLy8gYmFzaXMsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbi8vIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG4vL1xuLy8gVGhlIE9yaWdpbmFsIENvZGUgaXMgU2ltcGxlIEhUTUwgUGFyc2VyLlxuLy9cbi8vIFRoZSBJbml0aWFsIERldmVsb3BlciBvZiB0aGUgT3JpZ2luYWwgQ29kZSBpcyBFcmlrIEFydmlkc3Nvbi5cbi8vIFBvcnRpb25zIGNyZWF0ZWQgYnkgRXJpayBBcnZpZHNzc29uIGFyZSBDb3B5cmlnaHQgKEMpIDIwMDQuIEFsbCBSaWdodHNcbi8vIFJlc2VydmVkLlxuLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vXG4vLyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yXG4vLyBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuLy8gYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDJcbi8vIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuLy9cbi8vIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuLy8gYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcbi8vIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbi8vIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4vL1xuLy8gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcbi8vIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlXG4vLyBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BICAwMjExMC0xMzAxLCBVU0EuXG4vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKlxudmFyIGhhbmRsZXIgPXtcblx0c3RhcnRFbGVtZW50OiAgIGZ1bmN0aW9uIChzVGFnTmFtZSwgb0F0dHJzKSB7fSxcblx0ZW5kRWxlbWVudDogICAgIGZ1bmN0aW9uIChzVGFnTmFtZSkge30sXG4gICAgY2hhcmFjdGVyczpcdFx0ZnVuY3Rpb24gKHMpIHt9LFxuICAgIGNvbW1lbnQ6XHRcdGZ1bmN0aW9uIChzKSB7fVxufTtcbiovXG5cbmZ1bmN0aW9uIFNpbXBsZUh0bWxQYXJzZXIoKSB7fVxuXG5TaW1wbGVIdG1sUGFyc2VyLnByb3RvdHlwZSA9IHtcbiAgICBoYW5kbGVyOiBudWxsLFxuXG4gICAgLy8gcmVnZXhwc1xuXG4gICAgc3RhcnRUYWdSZTogL148KFtePlxcc1xcL10rKSgoXFxzK1tePT5cXHNdKyhcXHMqPVxccyooKFxcXCJbXlwiXSpcXFwiKXwoXFwnW14nXSpcXCcpfFtePlxcc10rKSk/KSopXFxzKlxcLz9cXHMqPi9tLFxuICAgIGVuZFRhZ1JlOiAvXjxcXC8oW14+XFxzXSspW14+XSo+L20sXG4gICAgYXR0clJlOiAvKFtePVxcc10rKShcXHMqPVxccyooKFxcXCIoW15cIl0qKVxcXCIpfChcXCcoW14nXSopXFwnKXxbXj5cXHNdKykpPy9nbSxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiAocywgb0hhbmRsZXIpIHtcbiAgICAgICAgaWYgKG9IYW5kbGVyKSB0aGlzLmNvbnRlbnRIYW5kbGVyID0gb0hhbmRsZXJcblxuICAgICAgICB2YXIgaSA9IDBcbiAgICAgICAgdmFyIHJlcywgbGMsIGxtLCByYywgaW5kZXhcbiAgICAgICAgdmFyIHRyZWF0QXNDaGFycyA9IGZhbHNlXG4gICAgICAgIHZhciBvVGhpcyA9IHRoaXNcbiAgICAgICAgd2hpbGUgKHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gQ29tbWVudFxuICAgICAgICAgICAgaWYgKHMuc3Vic3RyaW5nKDAsIDQpID09ICc8IS0tJykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcy5pbmRleE9mKCctLT4nKVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRIYW5kbGVyLmNvbW1lbnQocy5zdWJzdHJpbmcoNCwgaW5kZXgpKVxuICAgICAgICAgICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcoaW5kZXggKyAzKVxuICAgICAgICAgICAgICAgICAgICB0cmVhdEFzQ2hhcnMgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWF0QXNDaGFycyA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuZCB0YWdcbiAgICAgICAgICAgIGVsc2UgaWYgKHMuc3Vic3RyaW5nKDAsIDIpID09ICc8LycpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmRUYWdSZS50ZXN0KHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxjID0gUmVnRXhwLmxlZnRDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGxtID0gUmVnRXhwLmxhc3RNYXRjaFxuICAgICAgICAgICAgICAgICAgICByYyA9IFJlZ0V4cC5yaWdodENvbnRleHRcblxuICAgICAgICAgICAgICAgICAgICBsbS5yZXBsYWNlKHRoaXMuZW5kVGFnUmUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvVGhpcy5wYXJzZUVuZFRhZy5hcHBseShvVGhpcywgYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIHMgPSByY1xuICAgICAgICAgICAgICAgICAgICB0cmVhdEFzQ2hhcnMgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWF0QXNDaGFycyA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzdGFydCB0YWdcbiAgICAgICAgICAgIGVsc2UgaWYgKHMuY2hhckF0KDApID09ICc8Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0VGFnUmUudGVzdChzKSkge1xuICAgICAgICAgICAgICAgICAgICBsYyA9IFJlZ0V4cC5sZWZ0Q29udGV4dFxuICAgICAgICAgICAgICAgICAgICBsbSA9IFJlZ0V4cC5sYXN0TWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgcmMgPSBSZWdFeHAucmlnaHRDb250ZXh0XG5cbiAgICAgICAgICAgICAgICAgICAgbG0ucmVwbGFjZSh0aGlzLnN0YXJ0VGFnUmUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvVGhpcy5wYXJzZVN0YXJ0VGFnLmFwcGx5KG9UaGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgcyA9IHJjXG4gICAgICAgICAgICAgICAgICAgIHRyZWF0QXNDaGFycyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlYXRBc0NoYXJzID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRyZWF0QXNDaGFycykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcy5pbmRleE9mKCc8JylcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50SGFuZGxlci5jaGFyYWN0ZXJzKHMpXG4gICAgICAgICAgICAgICAgICAgIHMgPSAnJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEhhbmRsZXIuY2hhcmFjdGVycyhzLnN1YnN0cmluZygwLCBpbmRleCkpXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZyhpbmRleClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyZWF0QXNDaGFycyA9IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBwYXJzZVN0YXJ0VGFnOiBmdW5jdGlvbiAoc1RhZywgc1RhZ05hbWUsIHNSZXN0KSB7XG4gICAgICAgIHZhciBhdHRycyA9IHRoaXMucGFyc2VBdHRyaWJ1dGVzKHNUYWdOYW1lLCBzUmVzdClcbiAgICAgICAgdGhpcy5jb250ZW50SGFuZGxlci5zdGFydEVsZW1lbnQoc1RhZ05hbWUsIGF0dHJzKVxuICAgIH0sXG5cbiAgICBwYXJzZUVuZFRhZzogZnVuY3Rpb24gKHNUYWcsIHNUYWdOYW1lKSB7XG4gICAgICAgIHRoaXMuY29udGVudEhhbmRsZXIuZW5kRWxlbWVudChzVGFnTmFtZSlcbiAgICB9LFxuXG4gICAgcGFyc2VBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoc1RhZ05hbWUsIHMpIHtcbiAgICAgICAgdmFyIG9UaGlzID0gdGhpc1xuICAgICAgICB2YXIgYXR0cnMgPSBbXVxuICAgICAgICBzLnJlcGxhY2UodGhpcy5hdHRyUmUsIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICAgICAgICAgIGF0dHJzLnB1c2gob1RoaXMucGFyc2VBdHRyaWJ1dGUoc1RhZ05hbWUsIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBhdHRyc1xuICAgIH0sXG5cbiAgICBwYXJzZUF0dHJpYnV0ZTogZnVuY3Rpb24gKHNUYWdOYW1lLCBzQXR0cmlidXRlLCBzTmFtZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSAnJ1xuICAgICAgICBpZiAoYXJndW1lbnRzWzddKSB2YWx1ZSA9IGFyZ3VtZW50c1s4XVxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHNbNV0pIHZhbHVlID0gYXJndW1lbnRzWzZdXG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50c1szXSkgdmFsdWUgPSBhcmd1bWVudHNbNF1cblxuICAgICAgICB2YXIgZW1wdHkgPSAhdmFsdWUgJiYgIWFyZ3VtZW50c1szXVxuICAgICAgICByZXR1cm4geyBuYW1lOiBzTmFtZSwgdmFsdWU6IGVtcHR5ID8gbnVsbCA6IHZhbHVlIH1cbiAgICB9LFxufVxuXG4vLyBleHBvcnQgZGVmYXVsdCBTaW1wbGVIdG1sUGFyc2VyXG5tb2R1bGUuZXhwb3J0cyA9IFNpbXBsZUh0bWxQYXJzZXJcblxuXG4vKioqLyB9KSxcbi8qIDMxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Zu+54mH54K55Ye75ZCO6YCJ5Yy65pu05paw5YiwaW1n55qE5L2N572uXG4gKiBAYXV0aG9yIHRvbmdoYW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiDlm77niYfngrnlh7vlkI7pgInljLrmm7TmlrDliLBpbWfnmoTkvY3nva5cbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKiBAcGFyYW0gaW1nQ2xpY2tFdmVudHMgZGVsZXRlIOmUriB1cCDml7bnmoQgaG9va3NcbiAqL1xuXG5mdW5jdGlvbiBpbWdDbGlja0FjdGl2ZShlZGl0b3IsIGltZ0NsaWNrRXZlbnRzKSB7XG4gIGZ1bmN0aW9uIGNsaWNrRm4oJGltZykge1xuICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGltZyk7XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gIH1cblxuICBpbWdDbGlja0V2ZW50cy5wdXNoKGNsaWNrRm4pO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGltZ0NsaWNrQWN0aXZlO1xuXG4vKioqLyB9KSxcbi8qIDMxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6I635Y+W5a2Q5YWD57Sg55qEIEpTT04g5qC85byP5pWw5o2uXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuLyoqXG4gKiDojrflj5blrZDlhYPntKDnmoQgSlNPTiDmoLzlvI/mlbDmja5cbiAqIEBwYXJhbSAkZWxlbSBET00g6IqC54K5XG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDaGlsZHJlbkpTT04oJGVsZW0pIHtcbiAgdmFyIHJlc3VsdCA9IFtdOyAvLyDlrZjlgqjnu5PmnpxcblxuICB2YXIgJGNoaWxkcmVuID0gJGVsZW0uY2hpbGROb2RlcygpIHx8IFtdOyAvLyDms6jmhI8gY2hpbGROb2RlcygpIOWPr+S7peiOt+WPluaWh+acrOiKgueCuVxuXG4gICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKCRjaGlsZHJlbikuY2FsbCgkY2hpbGRyZW4sIGZ1bmN0aW9uIChjdXJFbGVtKSB7XG4gICAgdmFyIGVsZW1SZXN1bHQ7XG4gICAgdmFyIG5vZGVUeXBlID0gY3VyRWxlbS5ub2RlVHlwZTsgLy8g5paH5pys6IqC54K5XG5cbiAgICBpZiAobm9kZVR5cGUgPT09IDMpIHtcbiAgICAgIGVsZW1SZXN1bHQgPSBjdXJFbGVtLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgZWxlbVJlc3VsdCA9IHV0aWxfMS5yZXBsYWNlSHRtbFN5bWJvbChlbGVtUmVzdWx0KTtcbiAgICB9IC8vIOaZrumAmiBET00g6IqC54K5XG5cblxuICAgIGlmIChub2RlVHlwZSA9PT0gMSkge1xuICAgICAgZWxlbVJlc3VsdCA9IHt9O1xuICAgICAgZWxlbVJlc3VsdCA9IGVsZW1SZXN1bHQ7IC8vIHRhZ1xuXG4gICAgICBlbGVtUmVzdWx0LnRhZyA9IGN1ckVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsgLy8gYXR0clxuXG4gICAgICB2YXIgYXR0ckRhdGEgPSBbXTtcbiAgICAgIHZhciBhdHRyTGlzdCA9IGN1ckVsZW0uYXR0cmlidXRlcztcbiAgICAgIHZhciBhdHRyTGlzdExlbmd0aCA9IGF0dHJMaXN0Lmxlbmd0aCB8fCAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHIgPSBhdHRyTGlzdFtpXTtcbiAgICAgICAgYXR0ckRhdGEucHVzaCh7XG4gICAgICAgICAgbmFtZTogYXR0ci5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBhdHRyLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBlbGVtUmVzdWx0LmF0dHJzID0gYXR0ckRhdGE7IC8vIGNoaWxkcmVu77yI6YCS5b2S77yJXG5cbiAgICAgIGVsZW1SZXN1bHQuY2hpbGRyZW4gPSBnZXRDaGlsZHJlbkpTT04oZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY3VyRWxlbSkpO1xuICAgIH1cblxuICAgIGlmIChlbGVtUmVzdWx0KSB7XG4gICAgICByZXN1bHQucHVzaChlbGVtUmVzdWx0KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldENoaWxkcmVuSlNPTjtcblxuLyoqKi8gfSksXG4vKiAzMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS7jm5vZGVMaXN0IGpzb27moLzlvI/kuK3pgY3ljobnlJ/miJBkb23lhYPntKBcbiAqIEBhdXRob3Igemhlbmd3ZW5qaWFuXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTAwKSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbmZ1bmN0aW9uIGdldEh0bWxCeU5vZGVMaXN0KG5vZGVMaXN0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7XG4gICAgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIH0gLy8g6K6+572u5LiA5Liq54i26IqC54K55a2Y5YKo5omA5pyJ5a2Q6IqC54K5XG5cblxuICB2YXIgcm9vdCA9IHBhcmVudDsgLy8g6YGN5Y6G6IqC54K5SlNPTlxuXG4gICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKG5vZGVMaXN0KS5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBlbGVtOyAvLyDlvZPkuLrmlofmnKzoioLngrnml7ZcblxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpdGVtKTtcbiAgICB9IC8vIOW9k+S4uuaZrumAmuiKgueCueaXtlxuXG5cbiAgICBpZiAoKDAsIF90eXBlb2YyW1wiZGVmYXVsdFwiXSkoaXRlbSkgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0ZW0udGFnKTtcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gaXRlbS5hdHRycykuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWxlbSkuYXR0cihhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xuICAgICAgfSk7IC8vIOacieWtkOiKgueCueaXtumAkuW9kuWwhuWtkOiKgueCueWKoOWFpeW9k+WJjeiKgueCuVxuXG4gICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ2V0SHRtbEJ5Tm9kZUxpc3QoaXRlbS5jaGlsZHJlbiwgZWxlbS5nZXRSb290Tm9kZSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbGVtICYmIHJvb3QuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gIH0pO1xuICByZXR1cm4gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0ocm9vdCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZ2V0SHRtbEJ5Tm9kZUxpc3Q7XG5cbi8qKiovIH0pLFxuLyogMzE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBNZW51cyDoj5zljZXmoI8g5YWl5Y+j5paH5Lu2XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2lzQXJyYXkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oOTYpKTtcblxudmFyIF9maWx0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNzYpKTtcblxudmFyIF9pbmNsdWRlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NikpO1xuXG52YXIgX2tleXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzE3KSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfZW50cmllcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpKTtcblxudmFyIF9zb21lID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNykpO1xuXG52YXIgX3NldFRpbWVvdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KSk7XG5cbnZhciBfYmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBpbmRleF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg5NCkpO1xuXG52YXIgbWVudV9saXN0XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSkpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpOyAvLyBpbXBvcnQgeyBNZW51QWN0aXZlIH0gZnJvbSAnLi9tZW51LWNvbnN0cnVjdG9ycy9NZW51J1xuXG5cbnZhciBNZW51cyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVudXMoZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5tZW51TGlzdCA9IFtdO1xuICAgIHRoaXMuY29uc3RydWN0b3JMaXN0ID0gbWVudV9saXN0XzFbXCJkZWZhdWx0XCJdOyAvLyDmiYDmnInoj5zljZXmnoTpgKDlh73mlbDnmoTliJfooahcbiAgfVxuICAvKipcbiAgICog6Ieq5a6a5LmJ5re75Yqg6I+c5Y2VXG4gICAqIEBwYXJhbSBrZXkg6I+c5Y2VIGtleSDvvIzlkowgZWRpdG9yLmNvbmZpZy5tZW51cyDlr7nlupRcbiAgICogQHBhcmFtIE1lbnUg6I+c5Y2V5p6E6YCg5Ye95pWwXG4gICAqL1xuXG5cbiAgTWVudXMucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChrZXksIE1lbnUpIHtcbiAgICBpZiAoIU1lbnUgfHwgdHlwZW9mIE1lbnUgIT09ICdmdW5jdGlvbicpIHJldHVybjtcbiAgICB0aGlzLmNvbnN0cnVjdG9yTGlzdFtrZXldID0gTWVudTtcbiAgfTsgLy8g5Yid5aeL5YyW6I+c5Y2VXG5cblxuICBNZW51cy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MjtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIOS7jueUqOaIt+mFjee9rueahCBtZW51cyDlhaXmiYvvvIznnIvpnIDopoHliJ3lp4vljJblk6rkupvoj5zljZVcblxuXG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuZWRpdG9yLmNvbmZpZzsgLy8g5o6S6ZmkZXhjbHVkZeWMheWQq+eahOiPnOWNlVxuXG4gICAgdmFyIGV4Y2x1ZGVNZW51cyA9IGNvbmZpZy5leGNsdWRlTWVudXM7XG4gICAgaWYgKCgwLCBfaXNBcnJheVtcImRlZmF1bHRcIl0pKGV4Y2x1ZGVNZW51cykgPT09IGZhbHNlKSBleGNsdWRlTWVudXMgPSBbXTtcbiAgICBjb25maWcubWVudXMgPSAoMCwgX2ZpbHRlcltcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gY29uZmlnLm1lbnVzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gKDAsIF9pbmNsdWRlc1tcImRlZmF1bHRcIl0pKGV4Y2x1ZGVNZW51cykuY2FsbChleGNsdWRlTWVudXMsIGtleSkgPT09IGZhbHNlO1xuICAgIH0pOyAvLyDmjpLpmaToh6rmianlsZXkuK1leGNsdWRl5YyF5ZCr55qE6I+c5Y2VXG5cbiAgICB2YXIgQ3VzdG9tTWVudUtleXNMaXN0ID0gKDAsIF9rZXlzW1wiZGVmYXVsdFwiXSkoaW5kZXhfMVtcImRlZmF1bHRcIl0uZ2xvYmFsQ3VzdG9tTWVudUNvbnN0cnVjdG9yTGlzdCk7XG4gICAgQ3VzdG9tTWVudUtleXNMaXN0ID0gKDAsIF9maWx0ZXJbXCJkZWZhdWx0XCJdKShDdXN0b21NZW51S2V5c0xpc3QpLmNhbGwoQ3VzdG9tTWVudUtleXNMaXN0LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gKDAsIF9pbmNsdWRlc1tcImRlZmF1bHRcIl0pKGV4Y2x1ZGVNZW51cykuY2FsbChleGNsdWRlTWVudXMsIGtleSk7XG4gICAgfSk7XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoQ3VzdG9tTWVudUtleXNMaXN0KS5jYWxsKEN1c3RvbU1lbnVLZXlzTGlzdCwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgZGVsZXRlIGluZGV4XzFbXCJkZWZhdWx0XCJdLmdsb2JhbEN1c3RvbU1lbnVDb25zdHJ1Y3Rvckxpc3Rba2V5XTtcbiAgICB9KTtcbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSBjb25maWcubWVudXMpLmNhbGwoX2NvbnRleHQyLCBmdW5jdGlvbiAobWVudUtleSkge1xuICAgICAgdmFyIE1lbnVDb25zdHJ1Y3RvciA9IF90aGlzLmNvbnN0cnVjdG9yTGlzdFttZW51S2V5XTsgLy8g5pqC55SoIGFueSDvvIzlkI7pnaLlho3mm7/mjaJcblxuICAgICAgX3RoaXMuX2luaXRNZW51TGlzdChtZW51S2V5LCBNZW51Q29uc3RydWN0b3IpO1xuICAgIH0pOyAvLyDlhajlsYDms6jlhoxcblxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSAoMCwgX2VudHJpZXNbXCJkZWZhdWx0XCJdKShpbmRleF8xW1wiZGVmYXVsdFwiXS5nbG9iYWxDdXN0b21NZW51Q29uc3RydWN0b3JMaXN0KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfYiA9IF9hW19pXSxcbiAgICAgICAgICBtZW51S2V5ID0gX2JbMF0sXG4gICAgICAgICAgbWVudUZ1biA9IF9iWzFdO1xuICAgICAgdmFyIE1lbnVDb25zdHJ1Y3RvciA9IG1lbnVGdW47IC8vIOaagueUqCBhbnkg77yM5ZCO6Z2i5YaN5pu/5o2iXG5cbiAgICAgIHRoaXMuX2luaXRNZW51TGlzdChtZW51S2V5LCBNZW51Q29uc3RydWN0b3IpO1xuICAgIH0gLy8g5riy5p+TIERPTVxuXG5cbiAgICB0aGlzLl9hZGRUb1Rvb2xiYXIoKTtcblxuICAgIGlmIChjb25maWcuc2hvd01lbnVUb29sdGlwcykge1xuICAgICAgLy8g5re75Yqg6I+c5Y2V5qCPdG9vbHRpcHNcbiAgICAgIHRoaXMuX2JpbmRNZW51VG9vbHRpcHMoKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogbWVudSDlrp7kvovvvIzlubbmlL7liLAgbWVudUxpc3Qg5LitXG4gICAqIEBwYXJhbSBtZW51S2V5IOiPnOWNlSBrZXkg77yM5ZKMIGVkaXRvci5jb25maWcubWVudXMg5a+55bqUXG4gICAqIEBwYXJhbSBNZW51Q29uc3RydWN0b3Ig6I+c5Y2V5p6E6YCg5Ye95pWwXG4gICAqL1xuXG5cbiAgTWVudXMucHJvdG90eXBlLl9pbml0TWVudUxpc3QgPSBmdW5jdGlvbiAobWVudUtleSwgTWVudUNvbnN0cnVjdG9yKSB7XG4gICAgdmFyIF9jb250ZXh0MztcblxuICAgIGlmIChNZW51Q29uc3RydWN0b3IgPT0gbnVsbCB8fCB0eXBlb2YgTWVudUNvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyDlv4XpobvmmK8gY2xhc3NcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKDAsIF9zb21lW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQzID0gdGhpcy5tZW51TGlzdCkuY2FsbChfY29udGV4dDMsIGZ1bmN0aW9uIChtZW51KSB7XG4gICAgICByZXR1cm4gbWVudS5rZXkgPT09IG1lbnVLZXk7XG4gICAgfSkpIHtcbiAgICAgIGNvbnNvbGUud2Fybign6I+c5Y2V5ZCN56ew6YeN5aSNOicgKyBtZW51S2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG0gPSBuZXcgTWVudUNvbnN0cnVjdG9yKHRoaXMuZWRpdG9yKTtcbiAgICAgIG0ua2V5ID0gbWVudUtleTtcbiAgICAgIHRoaXMubWVudUxpc3QucHVzaChtKTtcbiAgICB9XG4gIH07IC8vIOe7keWumuiPnOWNleagj3Rvb2x0aXBzXG5cblxuICBNZW51cy5wcm90b3R5cGUuX2JpbmRNZW51VG9vbHRpcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdG9vbGJhckVsZW0gPSBlZGl0b3IuJHRvb2xiYXJFbGVtO1xuICAgIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnOyAvLyDoi6Vpc1Rvb2x0aXBTaG93VG9w5Li6dHJ1ZeWImeS8quWFg+e0oOS4uuS4i+S4ieinku+8jOWPjeS5i+S4uuS4iuS4ieinklxuXG4gICAgdmFyIG1lbnVUb29sdGlwUG9zaXRpb24gPSBjb25maWcubWVudVRvb2x0aXBQb3NpdGlvbjtcbiAgICB2YXIgJHRvb2x0aXBFbCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPGRpdiBjbGFzcz1cXFwidy1lLW1lbnUtdG9vbHRpcCB3LWUtbWVudS10b29sdGlwLVwiICsgbWVudVRvb2x0aXBQb3NpdGlvbiArIFwiXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudS10b29sdGlwLWl0ZW0td3JhcHBlclxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgJHRvb2x0aXBFbC5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gICAgJHRvb2xiYXJFbGVtLmFwcGVuZCgkdG9vbHRpcEVsKTsgLy8g6K6+572uIHotaW5kZXhcblxuICAgICR0b29sdGlwRWwuY3NzKCd6LWluZGV4JywgZWRpdG9yLnpJbmRleC5nZXQoJ3Rvb2x0aXAnKSk7XG4gICAgdmFyIHNob3dUaW1lb3V0SWQgPSAwOyAvLyDlrprml7blmajvvIzlu7bml7YyMDBtc+aYvuekunRvb2x0aXBzXG4gICAgLy8g5riF56m66K6h5pe25ZmoXG5cbiAgICBmdW5jdGlvbiBjbGVhclNob3dUaW1lb3V0SWQoKSB7XG4gICAgICBpZiAoc2hvd1RpbWVvdXRJZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2hvd1RpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgfSAvLyDpmpDol490b29sdGlwXG5cblxuICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBjbGVhclNob3dUaW1lb3V0SWQoKTtcbiAgICAgICR0b29sdGlwRWwuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuICAgIH0gLy8g5LqL5Lu255uR5ZCsXG5cblxuICAgICR0b29sYmFyRWxlbS5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHZhciAkdGFyZ2V0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odGFyZ2V0KTtcbiAgICAgIHZhciB0aXRsZTtcbiAgICAgIHZhciAkbWVudUVsO1xuXG4gICAgICBpZiAoJHRhcmdldC5pc0NvbnRhaW4oJHRvb2xiYXJFbGVtKSkge1xuICAgICAgICBoaWRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCR0YXJnZXQucGFyZW50VW50aWwoJy53LWUtZHJvcGxpc3QnKSAhPSBudWxsKSB7XG4gICAgICAgIC8vIOWkhOS6jmRyb3BsaXN05Lit5pe26ZqQ6JePXG4gICAgICAgIGhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgkdGFyZ2V0LmF0dHIoJ2RhdGEtdGl0bGUnKSkge1xuICAgICAgICAgIHRpdGxlID0gJHRhcmdldC5hdHRyKCdkYXRhLXRpdGxlJyk7XG4gICAgICAgICAgJG1lbnVFbCA9ICR0YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyICRwYXJlbnQgPSAkdGFyZ2V0LnBhcmVudFVudGlsKCcudy1lLW1lbnUnKTtcblxuICAgICAgICAgIGlmICgkcGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRpdGxlID0gJHBhcmVudC5hdHRyKCdkYXRhLXRpdGxlJyk7XG4gICAgICAgICAgICAkbWVudUVsID0gJHBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRpdGxlICYmICRtZW51RWwpIHtcbiAgICAgICAgY2xlYXJTaG93VGltZW91dElkKCk7XG4gICAgICAgIHZhciB0YXJnZXRPZmZzZXQgPSAkbWVudUVsLmdldE9mZnNldERhdGEoKTtcbiAgICAgICAgJHRvb2x0aXBFbC50ZXh0KGVkaXRvci5pMThuZXh0LnQoJ21lbnVzLnRpdGxlLicgKyB0aXRsZSkpO1xuICAgICAgICB2YXIgdG9vbHRpcE9mZnNldCA9ICR0b29sdGlwRWwuZ2V0T2Zmc2V0RGF0YSgpO1xuICAgICAgICB2YXIgbGVmdCA9IHRhcmdldE9mZnNldC5sZWZ0ICsgdGFyZ2V0T2Zmc2V0LndpZHRoIC8gMiAtIHRvb2x0aXBPZmZzZXQud2lkdGggLyAyO1xuICAgICAgICAkdG9vbHRpcEVsLmNzcygnbGVmdCcsIGxlZnQgKyBcInB4XCIpOyAvLyAyLiDpq5jluqborr7nva5cblxuICAgICAgICBpZiAobWVudVRvb2x0aXBQb3NpdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICR0b29sdGlwRWwuY3NzKCd0b3AnLCB0YXJnZXRPZmZzZXQudG9wIC0gdG9vbHRpcE9mZnNldC5oZWlnaHQgLSA4ICsgXCJweFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZW51VG9vbHRpcFBvc2l0aW9uID09PSAnZG93bicpIHtcbiAgICAgICAgICAkdG9vbHRpcEVsLmNzcygndG9wJywgdGFyZ2V0T2Zmc2V0LnRvcCArIHRhcmdldE9mZnNldC5oZWlnaHQgKyA4ICsgXCJweFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dUaW1lb3V0SWQgPSAoMCwgX3NldFRpbWVvdXQyW1wiZGVmYXVsdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICR0b29sdGlwRWwuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGUoKTtcbiAgICAgIH1cbiAgICB9KS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGhpZGUoKTtcbiAgICB9KTtcbiAgfTsgLy8g5re75Yqg5Yiw6I+c5Y2V5qCPXG5cblxuICBNZW51cy5wcm90b3R5cGUuX2FkZFRvVG9vbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbnRleHQ0O1xuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdG9vbGJhckVsZW0gPSBlZGl0b3IuJHRvb2xiYXJFbGVtOyAvLyDpgY3ljobmt7vliqDliLAgRE9NXG5cbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDQgPSB0aGlzLm1lbnVMaXN0KS5jYWxsKF9jb250ZXh0NCwgZnVuY3Rpb24gKG1lbnUpIHtcbiAgICAgIHZhciAkZWxlbSA9IG1lbnUuJGVsZW07XG5cbiAgICAgIGlmICgkZWxlbSkge1xuICAgICAgICAkdG9vbGJhckVsZW0uYXBwZW5kKCRlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluiPnOWNleWvueixoVxuICAgKiBAcGFyYW0g6I+c5Y2V5ZCN56ewIOWwj+WGmVxuICAgKiBAcmV0dXJuIE1lbnVzIOiPnOWNleWvueixoVxuICAgKi9cblxuXG4gIE1lbnVzLnByb3RvdHlwZS5tZW51RmluZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgbWVudUxpc3QgPSB0aGlzLm1lbnVMaXN0O1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBtZW51TGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChtZW51TGlzdFtpXS5rZXkgPT09IGtleSkgcmV0dXJuIG1lbnVMaXN0W2ldO1xuICAgIH1cblxuICAgIHJldHVybiBtZW51TGlzdFswXTtcbiAgfTtcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiDkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBNZW51cy5wcm90b3R5cGUuY2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfY29udGV4dDU7XG5cbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDUgPSB0aGlzLm1lbnVMaXN0KS5jYWxsKF9jb250ZXh0NSwgZnVuY3Rpb24gKG1lbnUpIHtcbiAgICAgIHZhciBfY29udGV4dDY7XG5cbiAgICAgICgwLCBfc2V0VGltZW91dDJbXCJkZWZhdWx0XCJdKSgoMCwgX2JpbmRbXCJkZWZhdWx0XCJdKShfY29udGV4dDYgPSBtZW51LnRyeUNoYW5nZUFjdGl2ZSkuY2FsbChfY29udGV4dDYsIG1lbnUpLCAxMDApOyAvLyDmmoLnlKggYW55IO+8jOWQjumdouWGjeabv+aNolxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBNZW51cztcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNZW51cztcblxuLyoqKi8gfSksXG4vKiAzMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxOCk7XG5cbi8qKiovIH0pLFxuLyogMzE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxOSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMzE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMzIwKTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5PYmplY3Qua2V5cztcblxuXG4vKioqLyB9KSxcbi8qIDMyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBuYXRpdmVLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IG5hdGl2ZUtleXMoMSk7IH0pO1xuXG4vLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Qua2V5c1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRkFJTFNfT05fUFJJTUlUSVZFUyB9LCB7XG4gIGtleXM6IGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyh0b09iamVjdChpdCkpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDMyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDMyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMyMyk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguT2JqZWN0LmVudHJpZXM7XG5cblxuLyoqKi8gfSksXG4vKiAzMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICRlbnRyaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjQpLmVudHJpZXM7XG5cbi8vIGBPYmplY3QuZW50cmllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5lbnRyaWVzXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSB9LCB7XG4gIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoTykge1xuICAgIHJldHVybiAkZW50cmllcyhPKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgb2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MykuZjtcblxuLy8gYE9iamVjdC57IGVudHJpZXMsIHZhbHVlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRPX0VOVFJJRVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KGl0KTtcbiAgICB2YXIga2V5cyA9IG9iamVjdEtleXMoTyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAobGVuZ3RoID4gaSkge1xuICAgICAga2V5ID0ga2V5c1tpKytdO1xuICAgICAgaWYgKCFERVNDUklQVE9SUyB8fCBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKE8sIGtleSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goVE9fRU5UUklFUyA/IFtrZXksIE9ba2V5XV0gOiBPW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBPYmplY3QuZW50cmllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmVudHJpZXNcbiAgZW50cmllczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgT2JqZWN0LnZhbHVlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnZhbHVlc1xuICB2YWx1ZXM6IGNyZWF0ZU1ldGhvZChmYWxzZSlcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAzMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHNvbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LnNvbWU7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgQXJyYXkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5zb21lKSA/IHNvbWUgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMzI4KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5Jykuc29tZTtcblxuXG4vKioqLyB9KSxcbi8qIDMyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICRzb21lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkuc29tZTtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnc29tZScpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc29tZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfSwge1xuICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRzb21lKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOaJgOacieiPnOWNleeahOaehOmAoOWHveaVsFxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgaW5kZXhfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzMwKSk7XG5cbnZhciBpbmRleF8yID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMzEpKTtcblxudmFyIGluZGV4XzMgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNikpO1xuXG52YXIgaW5kZXhfNCA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzQxKSk7XG5cbnZhciBpbmRleF81ID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpKTtcblxudmFyIGluZGV4XzYgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MykpO1xuXG52YXIgaW5kZXhfNyA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzQ0KSk7XG5cbnZhciBmb250X3NpemVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzQ2KSk7XG5cbnZhciBpbmRleF84ID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNDgpKTtcblxudmFyIGluZGV4XzkgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OSkpO1xuXG52YXIgaW5kZXhfMTAgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MikpO1xuXG52YXIgaW5kZXhfMTEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MykpO1xuXG52YXIgaW5kZXhfMTIgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NCkpO1xuXG52YXIgaW5kZXhfMTMgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NSkpO1xuXG52YXIgaW5kZXhfMTQgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4MCkpO1xuXG52YXIgaW5kZXhfMTUgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NCkpO1xuXG52YXIgaW5kZXhfMTYgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MikpO1xuXG52YXIgaW5kZXhfMTcgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5MykpO1xuXG52YXIgaW5kZXhfMTggPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5NSkpO1xuXG52YXIgaW5kZXhfMTkgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5NikpO1xuXG52YXIgaW5kZXhfMjAgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5NykpO1xuXG52YXIgY29kZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MTcpKTtcblxudmFyIGluZGV4XzIxID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MjIpKTtcblxudmFyIHRvZG9fMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDI1KSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBib2xkOiBpbmRleF8xW1wiZGVmYXVsdFwiXSxcbiAgaGVhZDogaW5kZXhfMltcImRlZmF1bHRcIl0sXG4gIGl0YWxpYzogaW5kZXhfNFtcImRlZmF1bHRcIl0sXG4gIGxpbms6IGluZGV4XzNbXCJkZWZhdWx0XCJdLFxuICB1bmRlcmxpbmU6IGluZGV4XzVbXCJkZWZhdWx0XCJdLFxuICBzdHJpa2VUaHJvdWdoOiBpbmRleF82W1wiZGVmYXVsdFwiXSxcbiAgZm9udE5hbWU6IGluZGV4XzdbXCJkZWZhdWx0XCJdLFxuICBmb250U2l6ZTogZm9udF9zaXplXzFbXCJkZWZhdWx0XCJdLFxuICBqdXN0aWZ5OiBpbmRleF84W1wiZGVmYXVsdFwiXSxcbiAgcXVvdGU6IGluZGV4XzlbXCJkZWZhdWx0XCJdLFxuICBiYWNrQ29sb3I6IGluZGV4XzEwW1wiZGVmYXVsdFwiXSxcbiAgZm9yZUNvbG9yOiBpbmRleF8xMVtcImRlZmF1bHRcIl0sXG4gIHZpZGVvOiBpbmRleF8xMltcImRlZmF1bHRcIl0sXG4gIGltYWdlOiBpbmRleF8xM1tcImRlZmF1bHRcIl0sXG4gIGluZGVudDogaW5kZXhfMTRbXCJkZWZhdWx0XCJdLFxuICBlbW90aWNvbjogaW5kZXhfMTVbXCJkZWZhdWx0XCJdLFxuICBsaXN0OiBpbmRleF8xNltcImRlZmF1bHRcIl0sXG4gIGxpbmVIZWlnaHQ6IGluZGV4XzE3W1wiZGVmYXVsdFwiXSxcbiAgdW5kbzogaW5kZXhfMThbXCJkZWZhdWx0XCJdLFxuICByZWRvOiBpbmRleF8xOVtcImRlZmF1bHRcIl0sXG4gIHRhYmxlOiBpbmRleF8yMFtcImRlZmF1bHRcIl0sXG4gIGNvZGU6IGNvZGVfMVtcImRlZmF1bHRcIl0sXG4gIHNwbGl0TGluZTogaW5kZXhfMjFbXCJkZWZhdWx0XCJdLFxuICB0b2RvOiB0b2RvXzFbXCJkZWZhdWx0XCJdXG59O1xuXG4vKioqLyB9KSxcbi8qIDMzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Yqg57KXXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBCdG5NZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBCb2xkID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhCb2xkLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEJvbGQoZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciAkZWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPGRpdiBjbGFzcz1cXFwidy1lLW1lbnVcXFwiIGRhdGEtdGl0bGU9XFxcIlxcdTUyQTBcXHU3Qzk3XFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLWJvbGRcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog54K55Ye75LqL5Lu2XG4gICAqL1xuXG5cbiAgQm9sZC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNTZWxlY3RFbXB0eSA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmAieWMuuiMg+WbtOaYr+epuueahO+8jOaPkuWFpeW5tumAieS4reS4gOS4quKAnOepuueZveKAnVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfSAvLyDmiafooYwgYm9sZCDlkb3ku6RcblxuXG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdib2xkJyk7XG5cbiAgICBpZiAoaXNTZWxlY3RFbXB0eSkge1xuICAgICAgLy8g6ZyA6KaB5bCG6YCJ5Yy66IyD5Zu05oqY5Y+g6LW35p2lXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNvbGxhcHNlUmFuZ2UoKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWwneivleS/ruaUueiPnOWNlea/gOa0u+eKtuaAgVxuICAgKi9cblxuXG4gIEJvbGQucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoZWRpdG9yLmNtZC5xdWVyeUNvbW1hbmRTdGF0ZSgnYm9sZCcpKSB7XG4gICAgICB0aGlzLmFjdGl2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuQWN0aXZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBCb2xkO1xufShCdG5NZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCb2xkO1xuXG4vKioqLyB9KSxcbi8qIDMzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5qCH6aKYXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjgpKTtcblxudmFyIF9maW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfc3RyaW5naWZ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMikpO1xuXG52YXIgX2luY2x1ZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIERyb3BMaXN0TWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgSGVhZCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoSGVhZCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBIZWFkKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdiBjbGFzcz1cInctZS1tZW51XCIgZGF0YS10aXRsZT1cIuagh+mimFwiPjxpIGNsYXNzPVwidy1lLWljb24taGVhZGVyXCI+PC9pPjwvZGl2PicpO1xuICAgIHZhciBkcm9wTGlzdENvbmYgPSB7XG4gICAgICB3aWR0aDogMTAwLFxuICAgICAgdGl0bGU6ICforr7nva7moIfpopgnLFxuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbGlzdDogW3tcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8aDE+SDE8L2gxPicpLFxuICAgICAgICB2YWx1ZTogJzxoMT4nXG4gICAgICB9LCB7XG4gICAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGgyPkgyPC9oMj4nKSxcbiAgICAgICAgdmFsdWU6ICc8aDI+J1xuICAgICAgfSwge1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxoMz5IMzwvaDM+JyksXG4gICAgICAgIHZhbHVlOiAnPGgzPidcbiAgICAgIH0sIHtcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8aDQ+SDQ8L2g0PicpLFxuICAgICAgICB2YWx1ZTogJzxoND4nXG4gICAgICB9LCB7XG4gICAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGg1Pkg1PC9oNT4nKSxcbiAgICAgICAgdmFsdWU6ICc8aDU+J1xuICAgICAgfSwge1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD5cIiArIGVkaXRvci5pMThuZXh0LnQoJ21lbnVzLmRyb3BMaXN0TWVudS5oZWFkLuato+aWhycpICsgXCI8L3A+XCIpLFxuICAgICAgICB2YWx1ZTogJzxwPidcbiAgICAgIH1dLFxuICAgICAgY2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBjbGlja0hhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgLy8g5rOo5oSPIHRoaXMg5piv5oyH5ZCR5b2T5YmN55qEIEhlYWQg5a+56LGhXG4gICAgICAgIF90aGlzLmNvbW1hbmQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yLCBkcm9wTGlzdENvbmYpIHx8IHRoaXM7XG4gICAgdmFyIG9uQ2F0YWxvZ0NoYW5nZSA9IGVkaXRvci5jb25maWcub25DYXRhbG9nQ2hhbmdlOyAvLyDmnKrphY3nva7nm67lvZVjaGFuZ2Xnm5HlkKzlm57osIPml7bkuI3ov5DooYzkuIvpnaLmk43kvZxcblxuICAgIGlmIChvbkNhdGFsb2dDaGFuZ2UpIHtcbiAgICAgIF90aGlzLm9sZENhdGFsb2dzID0gW107XG5cbiAgICAgIF90aGlzLmFkZExpc3RlbmVyQ2F0YWxvZygpOyAvLyDnm5HlkKzmlofmnKzmoYbnvJbovpHml7bnmoTlpKfnurLkv6Hmga9cblxuXG4gICAgICBfdGhpcy5nZXRDYXRhbG9ncygpOyAvLyDliJ3lp4vmnInlgLznmoTmg4XlhrXojrflj5bkuIDpgY3lpKfnurLkv6Hmga9cblxuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog5omn6KGM5ZG95LukXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIEhlYWQucHJvdG90eXBlLmNvbW1hbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG5cbiAgICBpZiAoJHNlbGVjdGlvbkVsZW0gJiYgZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCgkc2VsZWN0aW9uRWxlbSkpIHtcbiAgICAgIC8vIOS4jeiDvemAieS4reWkmuihjOadpeiuvue9ruagh+mimO+8jOWQpuWImeS8muWHuueOsOmXrumimFxuICAgICAgLy8g5L6L5aaC6YCJ5Lit55qE5pivIDxwPnh4eDwvcD48cD55eXk8L3A+IOadpeiuvue9ruagh+mimO+8jOiuvue9ruS5i+WQjuS8muaIkOS4uiA8aDE+eHh4PGJyPnl5eTwvaDE+IOS4jeespuWQiOmihOacn1xuICAgICAgdGhpcy5zZXRNdWx0aWxpbmVIZWFkKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICAvLyDpgInkuK3lhoXlrrnljIXlkKvluo/liJfvvIxjb2Rl77yM6KGo5qC877yM5YiG5Ymy57q/5pe25LiN5aSE55CGXG4gICAgICBpZiAoKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSBbJ09MJywgJ1VMJywgJ0xJJywgJ1RBQkxFJywgJ1RIJywgJ1RSJywgJ0NPREUnLCAnSFInXSkuY2FsbChfY29udGV4dCwgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHNlbGVjdGlvbkVsZW0pLmdldE5vZGVOYW1lKCkpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2Zvcm1hdEJsb2NrJywgdmFsdWUpO1xuICAgIH0gLy8g5qCH6aKY6K6+572u5oiQ5Yqf5LiU5LiN5pivPHA+5q2j5paH5qCH562+5bCx6YWN572u5aSn57qyaWRcblxuXG4gICAgdmFsdWUgIT09ICc8cD4nICYmIHRoaXMuYWRkVWlkRm9yU2VsZWN0aW9uRWxlbSgpO1xuICB9O1xuICAvKipcbiAgICog5Li65qCH6aKY6K6+572u5aSn57qyXG4gICAqL1xuXG5cbiAgSGVhZC5wcm90b3R5cGUuYWRkVWlkRm9yU2VsZWN0aW9uRWxlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyIHRhZyA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpO1xuICAgIHZhciBpZCA9IHV0aWxfMS5nZXRSYW5kb21Db2RlKCk7IC8vIOm7mOiupOS6lOS9jeaVsGlkXG5cbiAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0YWcpLmF0dHIoJ2lkJywgaWQpO1xuICB9O1xuICAvKipcbiAgICog55uR5ZCsY2hhbmdl5LqL5Lu25p2l6L+U5Zue5aSn57qy5L+h5oGvXG4gICAqL1xuXG5cbiAgSGVhZC5wcm90b3R5cGUuYWRkTGlzdGVuZXJDYXRhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmNoYW5nZUV2ZW50cy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmdldENhdGFsb2dzKCk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blpKfnurLmlbDnu4RcbiAgICovXG5cblxuICBIZWFkLnByb3RvdHlwZS5nZXRDYXRhbG9ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICR0ZXh0RWxlbSA9IHRoaXMuZWRpdG9yLiR0ZXh0RWxlbTtcbiAgICB2YXIgb25DYXRhbG9nQ2hhbmdlID0gZWRpdG9yLmNvbmZpZy5vbkNhdGFsb2dDaGFuZ2U7XG4gICAgdmFyIGVsZW1zID0gKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoJHRleHRFbGVtKS5jYWxsKCR0ZXh0RWxlbSwgJ2gxLGgyLGgzLGg0LGg1Jyk7XG4gICAgdmFyIGNhdGFsb2dzID0gW107XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoZWxlbXMpLmNhbGwoZWxlbXMsIGZ1bmN0aW9uIChlbGVtLCBpbmRleCkge1xuICAgICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWxlbSk7XG4gICAgICB2YXIgaWQgPSAkZWxlbS5hdHRyKCdpZCcpO1xuICAgICAgdmFyIHRhZyA9ICRlbGVtLmdldE5vZGVOYW1lKCk7XG4gICAgICB2YXIgdGV4dCA9ICRlbGVtLnRleHQoKTtcblxuICAgICAgaWYgKCFpZCkge1xuICAgICAgICBpZCA9IHV0aWxfMS5nZXRSYW5kb21Db2RlKCk7XG4gICAgICAgICRlbGVtLmF0dHIoJ2lkJywgaWQpO1xuICAgICAgfSAvLyDmoIfpopjkuLrnqbrnmoTmg4XlhrXkuI3nlJ/miJDnm67lvZVcblxuXG4gICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIGNhdGFsb2dzLnB1c2goe1xuICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICB9KTtcbiAgICB9KTsgLy8g5pen55uu5b2V5ZKM5paw55uu5b2V5a+55q+U5piv5ZCm55u4562J77yM5LiN55u4562J5YiZ6L+Q6KGM5Zue6LCD5bm25L+d5a2Y5paw55uu5b2V5Yiw5pen55uu5b2V5Y+Y6YeP77yM5Lul5pa55L6/5LiL5LiA5qyh5a+55q+UXG5cbiAgICBpZiAoKDAsIF9zdHJpbmdpZnlbXCJkZWZhdWx0XCJdKSh0aGlzLm9sZENhdGFsb2dzKSAhPT0gKDAsIF9zdHJpbmdpZnlbXCJkZWZhdWx0XCJdKShjYXRhbG9ncykpIHtcbiAgICAgIHRoaXMub2xkQ2F0YWxvZ3MgPSBjYXRhbG9ncztcbiAgICAgIG9uQ2F0YWxvZ0NoYW5nZSAmJiBvbkNhdGFsb2dDaGFuZ2UoY2F0YWxvZ3MpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOiuvue9rumAieS4reeahOWkmuihjOagh+mimFxuICAgKiBAcGFyYW0gdmFsdWUgIOmcgOimgeaJp+ihjOeahOWRveS7pOWAvFxuICAgKi9cblxuXG4gIEhlYWQucHJvdG90eXBlLnNldE11bHRpbGluZUhlYWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hLCBfYjtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgJHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247IC8vIOWIneWni+mAieWMuueahOeItuiKgueCuVxuXG4gICAgdmFyIGNvbnRhaW5lckVsZW0gPSAoX2EgPSAkc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVsZW1zWzBdOyAvLyDnmb3lkI3ljZXvvJrnlKjmiLfpgInljLrph4zlpoLmnpzmnInor6XlhYPntKDliJnkuI3ov5vooYzovazmjaJcblxuICAgIHZhciBfV0hJVEVfTElTVCA9IFsnSU1HJywgJ1ZJREVPJywgJ1RBQkxFJywgJ1RIJywgJ1RSJywgJ1VMJywgJ09MJywgJ1BSRScsICdIUicsICdCTE9DS1FVT1RFJ107IC8vIOiOt+WPlumAieS4reeahOmmluOAgeWwvuWFg+e0oFxuXG4gICAgdmFyIHN0YXJ0RWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRzZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnRFbGVtKCkpO1xuICAgIHZhciBlbmRFbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25FbmRFbGVtKCkpOyAvLyDliKTmlq3nlKjmiLfpgInkuK3lhYPntKDmmK/lkKbkuLrmnIDlkI7kuIDkuKrnqbrlhYPntKDvvIzlpoLmnpzmmK/lsIZlbmRFbGVt5oyH5ZCR5LiK5LiA5Liq5YWD57SgXG5cbiAgICBpZiAoZW5kRWxlbS5lbGVtc1swXS5vdXRlckhUTUwgPT09IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCkuZWxlbXNbMF0ub3V0ZXJIVE1MICYmICFlbmRFbGVtLmVsZW1zWzBdLm5leHRTaWJsaW5nKSB7XG4gICAgICBlbmRFbGVtID0gZW5kRWxlbS5wcmV2KCk7XG4gICAgfSAvLyDlrZjmlL7pgInkuK3nmoTmiYDmnInlhYPntKBcblxuXG4gICAgdmFyIGNhY2hlRG9tTGlzdCA9IFtdO1xuICAgIGNhY2hlRG9tTGlzdC5wdXNoKHN0YXJ0RWxlbS5nZXROb2RlVG9wKGVkaXRvcikpOyAvLyDpgInkuK3pppblsL7lhYPntKDlnKjniLbnuqfkuIvnmoTlnZDmoIdcblxuICAgIHZhciBpbmRleExpc3QgPSBbXTsgLy8g6YCJ5Yy65YWx5ZCM56WW5YWI5YWD57Sg55qE5omA5pyJ5a2Q6IqC54K5XG5cbiAgICB2YXIgY2hpbGRMaXN0ID0gKF9iID0gJHNlbGVjdGlvbi5nZXRSYW5nZSgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2RlczsgLy8g5om+5Yiw6YCJ5Yy655qE6aaW5bC+5YWD57Sg55qE5LiL5qCH77yM5pa55L6/5pyA5ZCO5oGi5aSN6YCJ5Yy6XG5cbiAgICBjaGlsZExpc3QgPT09IG51bGwgfHwgY2hpbGRMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShjaGlsZExpc3QpLmNhbGwoY2hpbGRMaXN0LCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIGlmIChpdGVtID09PSBjYWNoZURvbUxpc3RbMF0uZ2V0Tm9kZSgpKSB7XG4gICAgICAgIGluZGV4TGlzdC5wdXNoKGluZGV4KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0gPT09IGVuZEVsZW0uZ2V0Tm9kZVRvcChlZGl0b3IpLmdldE5vZGUoKSkge1xuICAgICAgICBpbmRleExpc3QucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfSk7IC8vIOaJvuWIsOmmluWwvuWFg+e0oOS4remXtOaJgOWMheWQq+eahOaJgOaciWRvbVxuXG4gICAgdmFyIGkgPSAwOyAvLyDmlbDnu4TkuK3nmoTlvZPliY3lhYPntKDkuI3nrYnkuo7pgInljLrmnIDlkI7kuIDkuKroioLngrnml7blvqrnjq/lr7vmib7kuK3pl7ToioLngrlcblxuICAgIHdoaWxlIChjYWNoZURvbUxpc3RbaV0uZ2V0Tm9kZSgpICE9PSBlbmRFbGVtLmdldE5vZGVUb3AoZWRpdG9yKS5nZXROb2RlKCkpIHtcbiAgICAgIC8vIOS4peiwqOaAp+WIpOaWre+8jOaYr+WQpuWFg+e0oOS4uuepulxuICAgICAgaWYgKCFjYWNoZURvbUxpc3RbaV0uZWxlbXNbMF0pIHJldHVybjtcbiAgICAgIHZhciBkID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY2FjaGVEb21MaXN0W2ldLm5leHQoKS5nZXROb2RlKCkpO1xuICAgICAgY2FjaGVEb21MaXN0LnB1c2goZCk7XG4gICAgICBpKys7XG4gICAgfSAvLyDlsIbpgInljLrlhoXnmoTmiYDmnInlrZDoioLngrnov5vooYzpgY3ljobnlJ/miJDlr7nlupTnmoTmoIfnrb5cblxuXG4gICAgY2FjaGVEb21MaXN0ID09PSBudWxsIHx8IGNhY2hlRG9tTGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoY2FjaGVEb21MaXN0KS5jYWxsKGNhY2hlRG9tTGlzdCwgZnVuY3Rpb24gKF9ub2RlLCBpbmRleCkge1xuICAgICAgLy8g5Yik5pat5YWD57Sg5piv5ZCm5ZCr5pyJ55m95ZCN5Y2V5YaF55qE5qCH562+5YWD57SgXG4gICAgICBpZiAoIV90aGlzLmhhc1RhZyhfbm9kZSwgX1dISVRFX0xJU1QpKSB7XG4gICAgICAgIHZhciAkaCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHZhbHVlKTtcblxuICAgICAgICB2YXIgJHBhcmVudE5vZGUgPSBfbm9kZS5wYXJlbnQoKS5nZXROb2RlKCk7IC8vIOiuvue9ruagh+etvuWGheWuuVxuXG5cbiAgICAgICAgJGguaHRtbChcIlwiICsgX25vZGUuaHRtbCgpKTsgLy8g5o+S5YWl55Sf5oiQ55qE5paw5qCH562+XG5cbiAgICAgICAgJHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCRoLmdldE5vZGUoKSwgX25vZGUuZ2V0Tm9kZSgpKTsgLy8g56e76Zmk5Y6f5pyJ55qE5qCH562+XG5cbiAgICAgICAgX25vZGUucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7IC8vIOmHjeaWsOiuvue9rumAieWMuui1t+Wni+S9jee9ru+8jOS/neeVmeaLluiTneWMuuWfn1xuXG4gICAgJHNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbXMoY29udGFpbmVyRWxlbS5jaGlsZHJlbltpbmRleExpc3RbMF1dLCBjb250YWluZXJFbGVtLmNoaWxkcmVuW2luZGV4TGlzdFsxXV0pO1xuICB9O1xuICAvKipcbiAgICog5piv5ZCm5ZCr5pyJ5p+Q5YWD57SgXG4gICAqIEBwYXJhbSBlbGVtIOmcgOimgeajgOafpeeahOWFg+e0oFxuICAgKiBAcGFyYW0gd2hpdGVMaXN0IOeZveWQjeWNlVxuICAgKi9cblxuXG4gIEhlYWQucHJvdG90eXBlLmhhc1RhZyA9IGZ1bmN0aW9uIChlbGVtLCB3aGl0ZUxpc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKCFlbGVtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCgwLCBfaW5jbHVkZXNbXCJkZWZhdWx0XCJdKSh3aGl0ZUxpc3QpLmNhbGwod2hpdGVMaXN0LCBlbGVtID09PSBudWxsIHx8IGVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW0uZ2V0Tm9kZU5hbWUoKSkpIHJldHVybiB0cnVlO1xuICAgIHZhciBfZmxhZyA9IGZhbHNlO1xuICAgIChfYSA9IGVsZW0uY2hpbGRyZW4oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9hKS5jYWxsKF9hLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIF9mbGFnID0gX3RoaXMuaGFzVGFnKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNoaWxkKSwgd2hpdGVMaXN0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gX2ZsYWc7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5XmlLnlj5joj5zljZXmv4DmtLvvvIjpq5jkuq7vvInnirbmgIFcbiAgICovXG5cblxuICBIZWFkLnByb3RvdHlwZS50cnlDaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciByZWcgPSAvXmgvaTtcbiAgICB2YXIgY21kVmFsdWUgPSBlZGl0b3IuY21kLnF1ZXJ5Q29tbWFuZFZhbHVlKCdmb3JtYXRCbG9jaycpO1xuXG4gICAgaWYgKHJlZy50ZXN0KGNtZFZhbHVlKSkge1xuICAgICAgdGhpcy5hY3RpdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bkFjdGl2ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSGVhZDtcbn0oRHJvcExpc3RNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBIZWFkO1xuXG4vKioqLyB9KSxcbi8qIDMzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMzKTtcblxuLyoqKi8gfSksXG4vKiAzMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzM0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAzMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpO1xudmFyIGNvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWpzb24gLS0gc2FmZVxuaWYgKCFjb3JlLkpTT04pIGNvcmUuSlNPTiA9IHsgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeSB9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICByZXR1cm4gY29yZS5KU09OLnN0cmluZ2lmeS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDMzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbignSlNPTicsICdzdHJpbmdpZnknKTtcbnZhciByZSA9IC9bXFx1RDgwMC1cXHVERkZGXS9nO1xudmFyIGxvdyA9IC9eW1xcdUQ4MDAtXFx1REJGRl0kLztcbnZhciBoaSA9IC9eW1xcdURDMDAtXFx1REZGRl0kLztcblxudmFyIGZpeCA9IGZ1bmN0aW9uIChtYXRjaCwgb2Zmc2V0LCBzdHJpbmcpIHtcbiAgdmFyIHByZXYgPSBzdHJpbmcuY2hhckF0KG9mZnNldCAtIDEpO1xuICB2YXIgbmV4dCA9IHN0cmluZy5jaGFyQXQob2Zmc2V0ICsgMSk7XG4gIGlmICgobG93LnRlc3QobWF0Y2gpICYmICFoaS50ZXN0KG5leHQpKSB8fCAoaGkudGVzdChtYXRjaCkgJiYgIWxvdy50ZXN0KHByZXYpKSkge1xuICAgIHJldHVybiAnXFxcXHUnICsgbWF0Y2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7XG4gIH0gcmV0dXJuIG1hdGNoO1xufTtcblxudmFyIEZPUkNFRCA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICRzdHJpbmdpZnkoJ1xcdURGMDZcXHVEODM0JykgIT09ICdcIlxcXFx1ZGYwNlxcXFx1ZDgzNFwiJ1xuICAgIHx8ICRzdHJpbmdpZnkoJ1xcdURFQUQnKSAhPT0gJ1wiXFxcXHVkZWFkXCInO1xufSk7XG5cbmlmICgkc3RyaW5naWZ5KSB7XG4gIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi5zdHJpbmdpZnlcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtd2VsbC1mb3JtZWQtc3RyaW5naWZ5XG4gICQoeyB0YXJnZXQ6ICdKU09OJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgICAgdmFyIHJlc3VsdCA9ICRzdHJpbmdpZnkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ID09ICdzdHJpbmcnID8gcmVzdWx0LnJlcGxhY2UocmUsIGZpeCkgOiByZXN1bHQ7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6ZO+5o6lIOiPnOWNlVxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIFBhbmVsTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNikpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgY3JlYXRlX3BhbmVsX2NvbmZfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzM3KSk7XG5cbnZhciBpc19hY3RpdmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTM5KSk7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgaW5kZXhfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzM5KSk7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIExpbmsgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKExpbmssIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gTGluayhlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXYgY2xhc3M9XCJ3LWUtbWVudVwiIGRhdGEtdGl0bGU9XCLpk77mjqVcIj48aSBjbGFzcz1cInctZS1pY29uLWxpbmtcIj48L2k+PC9kaXY+Jyk7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzOyAvLyDnu5Hlrprkuovku7bvvIzlpoLngrnlh7vpk77mjqXml7bvvIzlj6/ku6Xmn6XnnIvpk77mjqVcblxuICAgIGluZGV4XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDoj5zljZXngrnlh7vkuovku7ZcbiAgICovXG5cblxuICBMaW5rLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkbGlua0VsZW07XG4gICAgLyoqXG4gICAgICAgIEBhdXRob3I6R2F2aW5cbiAgICAgICAgQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICDop6PlhrPlvZPlhajpgInliKDpmaTnvJbovpHljLrlhoXlrrnml7bvvIzngrnlh7vpk77mjqXmsqHlj43lupTnmoTpl67popgo5Zug5Li66YCJ5Yy65pyJ6Zeu6aKYKVxuICAgICAgICAgIFxuICAgICoqL1xuXG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07XG4gICAgdmFyIGh0bWwgPSAkdGV4dEVsZW0uaHRtbCgpO1xuICAgIHZhciAkdHh0SHRtbCA9ICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKGh0bWwpLmNhbGwoaHRtbCk7XG5cbiAgICBpZiAoJHR4dEh0bWwgPT09IGNvbnN0XzEuRU1QVFlfUCkge1xuICAgICAgdmFyICRlbXB0eUNoaWxkID0gJHRleHRFbGVtLmNoaWxkcmVuKCk7IC8vIOiwg+aVtOmAieWMulxuXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlQnlFbGVtKCRlbXB0eUNoaWxkLCB0cnVlLCB0cnVlKTsgLy8g6YeN5paw6I635Y+W6YCJ5Yy6XG5cbiAgICAgICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgfSAvLyDliKTmlq3mmK/lkKbmmK/lpJrooYwg5aSa6KGM5YiZ6YCA5Ye6IOWQpuWImeS8muWHuueOsOmXrumimFxuXG5cbiAgICBpZiAoJHNlbGVjdGlvbkVsZW0gJiYgZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCgkc2VsZWN0aW9uRWxlbSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgLy8g6I+c5Y2V6KKr5r+A5rS777yM6K+05piO6YCJ5Yy65Zyo6ZO+5o6l6YeMXG4gICAgICAkbGlua0VsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcblxuICAgICAgaWYgKCEkbGlua0VsZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyDlvLnlh7ogcGFuZWxcblxuXG4gICAgICB0aGlzLmNyZWF0ZVBhbmVsKCRsaW5rRWxlbS50ZXh0KCksICRsaW5rRWxlbS5hdHRyKCdocmVmJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDoj5zljZXmnKrooqvmv4DmtLvvvIzor7TmmI7pgInljLrkuI3lnKjpk77mjqXph4xcbiAgICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uLmlzU2VsZWN0aW9uRW1wdHkoKSkge1xuICAgICAgICAvLyDpgInljLrmmK/nqbrnmoTvvIzmnKrpgInkuK3lhoXlrrlcbiAgICAgICAgdGhpcy5jcmVhdGVQYW5lbCgnJywgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6YCJ5Lit5YaF5a655LqGXG4gICAgICAgIHRoaXMuY3JlYXRlUGFuZWwoZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25UZXh0KCksICcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogcGFuZWxcbiAgICogQHBhcmFtIHRleHQg5paH5pysXG4gICAqIEBwYXJhbSBsaW5rIOmTvuaOpVxuICAgKi9cblxuXG4gIExpbmsucHJvdG90eXBlLmNyZWF0ZVBhbmVsID0gZnVuY3Rpb24gKHRleHQsIGxpbmspIHtcbiAgICB2YXIgY29uZiA9IGNyZWF0ZV9wYW5lbF9jb25mXzFbXCJkZWZhdWx0XCJdKHRoaXMuZWRpdG9yLCB0ZXh0LCBsaW5rKTtcbiAgICB2YXIgcGFuZWwgPSBuZXcgUGFuZWxfMVtcImRlZmF1bHRcIl0odGhpcywgY29uZik7XG4gICAgcGFuZWwuY3JlYXRlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZUgYWN0aXZlIOeKtuaAgVxuICAgKi9cblxuXG4gIExpbmsucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoaXNfYWN0aXZlXzFbXCJkZWZhdWx0XCJdKGVkaXRvcikpIHtcbiAgICAgIHRoaXMuYWN0aXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5BY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIExpbms7XG59KFBhbmVsTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTGluaztcblxuLyoqKi8gfSksXG4vKiAzMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIGxpbmsg6I+c5Y2VIHBhbmVsIHRhYiDphY3nva5cbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfdHJpbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgaXNfYWN0aXZlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSkpO1xuXG52YXIgdXRpbF8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzgpO1xuXG5mdW5jdGlvbiBkZWZhdWx0XzEoZWRpdG9yLCB0ZXh0LCBsaW5rKSB7XG4gIC8vIHBhbmVsIOS4remcgOimgeeUqOWIsOeahGlkXG4gIHZhciBpbnB1dExpbmtJZCA9IHV0aWxfMS5nZXRSYW5kb20oJ2lucHV0LWxpbmsnKTtcbiAgdmFyIGlucHV0VGV4dElkID0gdXRpbF8xLmdldFJhbmRvbSgnaW5wdXQtdGV4dCcpO1xuICB2YXIgYnRuT2tJZCA9IHV0aWxfMS5nZXRSYW5kb20oJ2J0bi1vaycpO1xuICB2YXIgYnRuRGVsSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdidG4tZGVsJyk7IC8vIOaYr+WQpuaYvuekuuKAnOWPlua2iOmTvuaOpeKAnVxuXG4gIHZhciBkZWxCdG5EaXNwbGF5ID0gaXNfYWN0aXZlXzFbXCJkZWZhdWx0XCJdKGVkaXRvcikgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgdmFyICRzZWxlY3RlZExpbms7XG4gIC8qKlxuICAgKiDpgInkuK3mlbTkuKrpk77mjqXlhYPntKBcbiAgICovXG5cbiAgZnVuY3Rpb24gc2VsZWN0TGlua0VsZW0oKSB7XG4gICAgaWYgKCFpc19hY3RpdmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yKSkgcmV0dXJuO1xuICAgIHZhciAkbGlua0VsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcbiAgICBpZiAoISRsaW5rRWxlbSkgcmV0dXJuO1xuICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGxpbmtFbGVtKTtcbiAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAkc2VsZWN0ZWRMaW5rID0gJGxpbmtFbGVtOyAvLyDotYvlgLznu5nlh73mlbDlhoXlhajlsYDlj5jph49cbiAgfVxuICAvKipcbiAgICog5o+S5YWl6ZO+5o6lXG4gICAqIEBwYXJhbSB0ZXh0IOaWh+Wtl1xuICAgKiBAcGFyYW0gbGluayDpk77mjqVcbiAgICovXG5cblxuICBmdW5jdGlvbiBpbnNlcnRMaW5rKHRleHQsIGxpbmspIHtcbiAgICAvLyBmaXg6IOS/ruWkjeWIl+ihqOS4i+aXoOazleiuvue9rui2hemTvuaOpeeahOmXrumimCjmm7/mjaLpgInkuK3mloflrZfkuK3nmoTmoIfnrb4pXG4gICAgdmFyIHN1YlN0ciA9IG5ldyBSZWdFeHAoLyg8XFwvKnVsPil8KDxcXC8qbGk+KXwoPFxcLypvbD4pL2cpO1xuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2Uoc3ViU3RyLCAnJyk7XG5cbiAgICBpZiAoaXNfYWN0aXZlXzFbXCJkZWZhdWx0XCJdKGVkaXRvcikpIHtcbiAgICAgIC8vIOmAieWMuuWkhOS6jumTvuaOpeS4re+8jOWImemAieS4reaVtOS4quiPnOWNle+8jOWGjeaJp+ihjCBpbnNlcnRIVE1MXG4gICAgICBzZWxlY3RMaW5rRWxlbSgpO1xuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgXCI8YSBocmVmPVxcXCJcIiArIGxpbmsgKyBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlwiICsgdGV4dCArIFwiPC9hPlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6YCJ5Yy65pyq5aSE5LqO6ZO+5o6l5Lit77yM55u05o6l5o+S5YWl5Y2z5Y+vXG4gICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBcIjxhIGhyZWY9XFxcIlwiICsgbGluayArIFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+XCIgKyB0ZXh0ICsgXCI8L2E+XCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICog5Y+W5raI6ZO+5o6lXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGVsTGluaygpIHtcbiAgICBpZiAoIWlzX2FjdGl2ZV8xW1wiZGVmYXVsdFwiXShlZGl0b3IpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyDpgInkuK3mlbTkuKrpk77mjqVcblxuXG4gICAgc2VsZWN0TGlua0VsZW0oKTsgLy8g55So5paH5pys5pu/5o2i6ZO+5o6lXG5cbiAgICB2YXIgc2VsZWN0aW9uVGV4dCA9ICRzZWxlY3RlZExpbmsudGV4dCgpO1xuICAgIGVkaXRvci5jbWRbXCJkb1wiXSgnaW5zZXJ0SFRNTCcsICc8c3Bhbj4nICsgc2VsZWN0aW9uVGV4dCArICc8L3NwYW4+Jyk7XG4gIH1cbiAgLyoqXG4gICAqIOagoemqjOmTvuaOpeaYr+WQpuWQiOazlVxuICAgKiBAcGFyYW0gbGluayDpk77mjqVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjaGVja0xpbmsodGV4dCwgbGluaykge1xuICAgIC8v5p+l55yL5byA5Y+R6ICF6Ieq5a6a5LmJ6YWN572u55qE6L+U5Zue5YC8XG4gICAgdmFyIGNoZWNrID0gZWRpdG9yLmNvbmZpZy5saW5rQ2hlY2sodGV4dCwgbGluayk7XG5cbiAgICBpZiAoY2hlY2sgPT09IHVuZGVmaW5lZCkgey8v55So5oi35pyq6IO96YCa6L+H5byA5Y+R6ICF55qE5qCh6aqM77yM5LiU5byA5Y+R6ICF5LiN5biM5pyb57yW6L6R5Zmo5o+Q56S655So5oi3XG4gICAgfSBlbHNlIGlmIChjaGVjayA9PT0gdHJ1ZSkge1xuICAgICAgLy/nlKjmiLfpgJrov4fkuoblvIDlj5HogIXnmoTmoKHpqoxcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL+eUqOaIt+acquiDvemAmui/h+W8gOWPkeiAheeahOagoemqjO+8jOW8gOWPkeiAheW4jOacm+aIkeS7rOaPkOekuui/meS4gOWtl+espuS4slxuICAgICAgZWRpdG9yLmNvbmZpZy5jdXN0b21BbGVydChjaGVjaywgJ3dhcm5pbmcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgY29uZiA9IHtcbiAgICB3aWR0aDogMzAwLFxuICAgIGhlaWdodDogMCxcbiAgICAvLyBwYW5lbCDkuK3lj6/ljIXlkKvlpJrkuKogdGFiXG4gICAgdGFiczogW3tcbiAgICAgIC8vIHRhYiDnmoTmoIfpophcbiAgICAgIHRpdGxlOiBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5wYW5lbE1lbnVzLmxpbmsu6ZO+5o6lJyksXG4gICAgICAvLyDmqKHmnb9cbiAgICAgIHRwbDogXCI8ZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cXFwiXCIgKyBpbnB1dFRleHRJZCArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiYmxvY2tcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcIiArIHRleHQgKyBcIlxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMucGFuZWxNZW51cy5saW5rLumTvuaOpeaWh+WtlycpICsgXCJcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cXFwiXCIgKyBpbnB1dExpbmtJZCArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiYmxvY2tcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcIiArIGxpbmsgKyBcIlxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIlwiICsgZWRpdG9yLmkxOG5leHQudCgn5aaCJykgKyBcIiBodHRwczovLy4uLlxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidy1lLWJ1dHRvbi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgYnRuT2tJZCArIFwiXFxcIiBjbGFzcz1cXFwicmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBlZGl0b3IuaTE4bmV4dC50KCfmj5LlhaUnKSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgYnRuRGVsSWQgKyBcIlxcXCIgY2xhc3M9XFxcImdyYXkgcmlnaHRcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OlwiICsgZGVsQnRuRGlzcGxheSArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMucGFuZWxNZW51cy5saW5rLuWPlua2iOmTvuaOpScpICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cIixcbiAgICAgIC8vIOS6i+S7tue7keWumlxuICAgICAgZXZlbnRzOiBbLy8g5o+S5YWl6ZO+5o6lXG4gICAgICB7XG4gICAgICAgIHNlbGVjdG9yOiAnIycgKyBidG5Pa0lkLFxuICAgICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0LCBfY29udGV4dDI7XG5cbiAgICAgICAgICB2YXIgX2EsIF9iOyAvLyDojrflj5bpgInlj5ZcblxuXG4gICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgICAgICAgdmFyIHRvcE5vZGUgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKVswXS5nZXROb2RlKCk7XG4gICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTsgLy8g5omn6KGM5o+S5YWl6ZO+5o6lXG5cbiAgICAgICAgICB2YXIgJGxpbmsgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnIycgKyBpbnB1dExpbmtJZCk7XG4gICAgICAgICAgdmFyICR0ZXh0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJyMnICsgaW5wdXRUZXh0SWQpO1xuICAgICAgICAgIHZhciBsaW5rID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSAkbGluay52YWwoKSkuY2FsbChfY29udGV4dCk7XG4gICAgICAgICAgdmFyIHRleHQgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSAkdGV4dC52YWwoKSkuY2FsbChfY29udGV4dDIpO1xuICAgICAgICAgIHZhciBodG1sID0gJyc7XG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiAhKHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5pc0NvbGxhcHNlZCkpIGh0bWwgPSAoX2EgPSB1dGlsXzIuaW5zZXJ0SHRtbChzZWxlY3Rpb24sIHRvcE5vZGUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2EpLmNhbGwoX2EpOyAvLyDljrvpmaRodG1s55qEdGFn5qCH562+XG5cbiAgICAgICAgICB2YXIgaHRtbFRleHQgPSBodG1sID09PSBudWxsIHx8IGh0bWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGh0bWwucmVwbGFjZSgvPC4qPz4vZywgJycpO1xuICAgICAgICAgIHZhciBodG1sVGV4dExlbiA9IChfYiA9IGh0bWxUZXh0ID09PSBudWxsIHx8IGh0bWxUZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBodG1sVGV4dC5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7IC8vIOW9k2lucHV05Lit55qEdGV4dOeahOmVv+W6puWkp+S6juetieS6jumAieWMuueahOaWh+Wtl+aXtlxuICAgICAgICAgIC8vIOmcgOimgeWIpOaWreS4pOiAheebuOWQjOeahOmVv+W6pueahHRleHTlhoXlrrnmmK/lkKbnm7jlkIxcbiAgICAgICAgICAvLyDnm7jlkIzliJnlj6rpnIDmiorlpJrkvZnnmoTpg6jliIbmt7vliqDkuIrljrvljbPlj6/vvIzlkKbliJnkvb/nlKhpbnB1dOS4reeahOWGheWuuVxuXG4gICAgICAgICAgaWYgKGh0bWxUZXh0TGVuIDw9IHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRUZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgaHRtbFRleHRMZW4pO1xuICAgICAgICAgICAgdmFyIGVuZFRleHQgPSB0ZXh0LnN1YnN0cmluZyhodG1sVGV4dExlbik7XG5cbiAgICAgICAgICAgIGlmIChodG1sVGV4dCA9PT0gc3RhcnRUZXh0KSB7XG4gICAgICAgICAgICAgIHRleHQgPSBodG1sICsgZW5kVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIOmTvuaOpeS4uuepuu+8jOWImeS4jeaPkuWFpVxuXG5cbiAgICAgICAgICBpZiAoIWxpbmspIHJldHVybjsgLy8g5paH5pys5Li656m677yM5YiZ55So6ZO+5o6l5Luj5pu/XG5cbiAgICAgICAgICBpZiAoIXRleHQpIHRleHQgPSBsaW5rOyAvLyDmoKHpqozpk77mjqXmmK/lkKbmu6HotrPnlKjmiLfnmoTop4TliJnvvIzoi6XkuI3mu6HotrPliJnkuI3mj5LlhaVcblxuICAgICAgICAgIGlmICghY2hlY2tMaW5rKHRleHQsIGxpbmspKSByZXR1cm47XG4gICAgICAgICAgaW5zZXJ0TGluayh0ZXh0LCBsaW5rKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLror6Xkuovku7bmiafooYzlrozkuYvlkI7vvIxwYW5lbCDopoHlhbPpl63jgILlkKbliJkgcGFuZWwg5LiN5Lya5YWz6ZetXG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYmluZEVudGVyOiB0cnVlXG4gICAgICB9LCAvLyDlj5bmtojpk77mjqVcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6ICcjJyArIGJ0bkRlbElkLFxuICAgICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgLy8g5omn6KGM5Y+W5raI6ZO+5o6lXG4gICAgICAgICAgZGVsTGluaygpOyAvLyDov5Tlm54gdHJ1Ze+8jOihqOekuuivpeS6i+S7tuaJp+ihjOWujOS5i+WQju+8jHBhbmVsIOimgeWFs+mXreOAguWQpuWImSBwYW5lbCDkuI3kvJrlhbPpl61cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XVxuICAgIH0gLy8gdGFiIGVuZFxuICAgIF0gLy8gdGFicyBlbmRcblxuICB9O1xuICByZXR1cm4gY29uZjtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkZWZhdWx0XzE7XG5cbi8qKiovIH0pLFxuLyogMzM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmluc2VydEh0bWwgPSBleHBvcnRzLmNyZWF0ZVBhcnRIdG1sID0gZXhwb3J0cy5tYWtlSHRtbFN0cmluZyA9IGV4cG9ydHMuZ2V0VG9wTm9kZSA9IHZvaWQgMDtcbi8qKlxuICog6I635Y+W6Zmk5LqG5YyF6KO55Zyo5pW06KGM5Yy65Z+f55qE6aG257qnTm9kZVxuICogQHBhcmFtIG5vZGUg5pyA5aSW5bGCbm9kZeS4i+eahOafkOS4qmNoaWxkTm9kZVxuICogQHBhcmFtIHRvcFRleHQg5pyA5aSW5bGCbm9kZeS4reaWh+acrOWGheWuuVxuICovXG5cbmZ1bmN0aW9uIGdldFRvcE5vZGUobm9kZSwgdG9wVGV4dCkge1xuICB2YXIgcG9pbnRlck5vZGUgPSBub2RlO1xuICB2YXIgdG9wTm9kZSA9IG5vZGU7XG5cbiAgZG8ge1xuICAgIGlmIChwb2ludGVyTm9kZS50ZXh0Q29udGVudCA9PT0gdG9wVGV4dCkgYnJlYWs7XG4gICAgdG9wTm9kZSA9IHBvaW50ZXJOb2RlO1xuXG4gICAgaWYgKHBvaW50ZXJOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIHBvaW50ZXJOb2RlID0gcG9pbnRlck5vZGUgPT09IG51bGwgfHwgcG9pbnRlck5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50ZXJOb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9IHdoaWxlICgocG9pbnRlck5vZGUgPT09IG51bGwgfHwgcG9pbnRlck5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50ZXJOb2RlLm5vZGVOYW1lKSAhPT0gJ1AnKTtcblxuICByZXR1cm4gdG9wTm9kZTtcbn1cblxuZXhwb3J0cy5nZXRUb3BOb2RlID0gZ2V0VG9wTm9kZTtcbi8qKlxuICog55Sf5oiQaHRtbOeahHN0cmluZ+W9ouW8j1xuICogQHBhcmFtIHRhZ05hbWUg5qCH562+5ZCNXG4gKiBAcGFyYW0gY29udGVudCDpnIDopoHljIXoo7nnmoTlhoXlrrlcbiAqL1xuXG5mdW5jdGlvbiBtYWtlSHRtbFN0cmluZyhub2RlLCBjb250ZW50KSB7XG4gIHZhciB0YWdOYW1lID0gbm9kZS5ub2RlTmFtZTtcbiAgdmFyIGF0dHIgPSAnJztcblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyB8fCAvXihofEgpWzEtNl0kLy50ZXN0KHRhZ05hbWUpKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHZhciBzdHlsZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIHZhciBmYWNlID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKTtcbiAgICB2YXIgY29sb3IgPSBub2RlLmdldEF0dHJpYnV0ZSgnY29sb3InKTtcbiAgICBpZiAoc3R5bGUpIGF0dHIgPSBhdHRyICsgKFwiIHN0eWxlPVxcXCJcIiArIHN0eWxlICsgXCJcXFwiXCIpO1xuICAgIGlmIChmYWNlKSBhdHRyID0gYXR0ciArIChcIiBmYWNlPVxcXCJcIiArIGZhY2UgKyBcIlxcXCJcIik7XG4gICAgaWYgKGNvbG9yKSBhdHRyID0gYXR0ciArIChcIiBjb2xvcj1cXFwiXCIgKyBjb2xvciArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBcIjxcIiArIHRhZ05hbWUgKyBhdHRyICsgXCI+XCIgKyBjb250ZW50ICsgXCI8L1wiICsgdGFnTmFtZSArIFwiPlwiO1xufVxuXG5leHBvcnRzLm1ha2VIdG1sU3RyaW5nID0gbWFrZUh0bWxTdHJpbmc7XG4vKipcbiAqIOeUn+aIkOW8gOWni+aIluiAhee7k+adn+S9jee9rueahGh0bWzlrZfnrKbniYfmrrVcbiAqIEBwYXJhbSB0b3BUZXh0IOmAieWMuuaJgOWcqOeahOihjOeahOaWh+acrOWGheWuuVxuICogQHBhcmFtIG5vZGUg6YCJ5Yy657uZ5Ye655qEbm9kZeiKgueCuVxuICogQHBhcmFtIHN0YXJ0UG9zIG5vZGXmlofmnKzlhoXlrrnpgInlj5bnmoTlvIDlp4vkvY3nva5cbiAqIEBwYXJhbSBlbmRQb3Mgbm9kZeaWh+acrOWGheWuuemAieWPlueahOe7k+adn+S9jee9rlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRIdG1sKHRvcFRleHQsIG5vZGUsIHN0YXJ0UG9zLCBlbmRQb3N0KSB7XG4gIHZhciBfYTtcblxuICB2YXIgc2VsZWN0aW9uQ29udGVudCA9IChfYSA9IG5vZGUudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzdHJpbmcoc3RhcnRQb3MsIGVuZFBvc3QpO1xuICB2YXIgcG9pbnRlck5vZGUgPSBub2RlO1xuICB2YXIgY29udGVudCA9ICcnO1xuXG4gIGRvIHtcbiAgICBjb250ZW50ID0gbWFrZUh0bWxTdHJpbmcocG9pbnRlck5vZGUsIHNlbGVjdGlvbkNvbnRlbnQgIT09IG51bGwgJiYgc2VsZWN0aW9uQ29udGVudCAhPT0gdm9pZCAwID8gc2VsZWN0aW9uQ29udGVudCA6ICcnKTtcbiAgICBzZWxlY3Rpb25Db250ZW50ID0gY29udGVudDtcbiAgICBwb2ludGVyTm9kZSA9IHBvaW50ZXJOb2RlID09PSBudWxsIHx8IHBvaW50ZXJOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2ludGVyTm9kZS5wYXJlbnRFbGVtZW50O1xuICB9IHdoaWxlIChwb2ludGVyTm9kZSAmJiBwb2ludGVyTm9kZS50ZXh0Q29udGVudCAhPT0gdG9wVGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmV4cG9ydHMuY3JlYXRlUGFydEh0bWwgPSBjcmVhdGVQYXJ0SHRtbDtcbi8qKlxuICog55Sf5oiQ6ZyA6KaB5o+S5YWl55qEaHRtbOWGheWuueeahOWtl+espuS4suW9ouW8j1xuICogQHBhcmFtIHNlbGVjdGlvbiDpgInljLrlr7nosaFcbiAqIEBwYXJhbSB0b3BOb2RlIOmAieWMuuaJgOWcqOihjOeahOmhtue6p25vZGXoioLngrlcbiAqL1xuXG5mdW5jdGlvbiBpbnNlcnRIdG1sKHNlbGVjdGlvbiwgdG9wTm9kZSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuXG4gIHZhciBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgYW5jaG9yUG9zID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzUG9zID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICB2YXIgdG9wVGV4dCA9IChfYSA9IHRvcE5vZGUudGV4dENvbnRlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICB2YXIgVGFnQXJyID0gZ2V0Q29udGFpbmVyVGFnKHRvcE5vZGUpO1xuICB2YXIgY29udGVudCA9ICcnO1xuICB2YXIgc3RhcnRDb250ZW50ID0gJyc7XG4gIHZhciBtaWRkbGVDb250ZW50ID0gJyc7XG4gIHZhciBlbmRDb250ZW50ID0gJyc7XG4gIHZhciBzdGFydE5vZGUgPSBhbmNob3JOb2RlO1xuICB2YXIgZW5kTm9kZSA9IGZvY3VzTm9kZTsgLy8g55So5p2l5L+d5a2YIGFuY2hvck5vZGXnmoTpnZ5w5pyA5aSW5bGC6IqC54K5XG5cbiAgdmFyIHBvaW50ZXJOb2RlID0gYW5jaG9yTm9kZTsgLy8g6IqC54K55piv5ZCM5LiA5Liq55qE5aSE55CGXG5cbiAgaWYgKGFuY2hvck5vZGUgPT09IG51bGwgfHwgYW5jaG9yTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5jaG9yTm9kZS5pc0VxdWFsTm9kZShmb2N1c05vZGUgIT09IG51bGwgJiYgZm9jdXNOb2RlICE9PSB2b2lkIDAgPyBmb2N1c05vZGUgOiBudWxsKSkge1xuICAgIHZhciBpbm5lckNvbnRlbnQgPSBjcmVhdGVQYXJ0SHRtbCh0b3BUZXh0LCBhbmNob3JOb2RlLCBhbmNob3JQb3MsIGZvY3VzUG9zKTtcbiAgICBpbm5lckNvbnRlbnQgPSBhZGRDb250YWluZXIoVGFnQXJyLCBpbm5lckNvbnRlbnQpO1xuICAgIHJldHVybiBpbm5lckNvbnRlbnQ7XG4gIH0gLy8g6YCJ5Lit5byA5aeL5L2N572u6IqC54K555qE5aSE55CGXG5cblxuICBpZiAoYW5jaG9yTm9kZSkgc3RhcnRDb250ZW50ID0gY3JlYXRlUGFydEh0bWwodG9wVGV4dCwgYW5jaG9yTm9kZSwgYW5jaG9yUG9zICE9PSBudWxsICYmIGFuY2hvclBvcyAhPT0gdm9pZCAwID8gYW5jaG9yUG9zIDogMCk7IC8vIOe7k+adn+S9jee9ruiKgueCueeahOWkhOeQhlxuXG4gIGlmIChmb2N1c05vZGUpIGVuZENvbnRlbnQgPSBjcmVhdGVQYXJ0SHRtbCh0b3BUZXh0LCBmb2N1c05vZGUsIDAsIGZvY3VzUG9zKTsgLy8g5bCG5oyH6ZKI6IqC54K55L2N572u5pS+572u5Yiw5byA5aeL55qE6IqC54K5XG5cbiAgaWYgKGFuY2hvck5vZGUpIHtcbiAgICAvLyDojrflj5ZzdGFydOeahOmdnnDpobbnuqdub2RlXG4gICAgc3RhcnROb2RlID0gZ2V0VG9wTm9kZShhbmNob3JOb2RlLCB0b3BUZXh0KTtcbiAgfVxuXG4gIGlmIChmb2N1c05vZGUpIHtcbiAgICAvLyDojrflj5ZlbmTnmoTpnZ5w6aG257qnbm9kZVxuICAgIGVuZE5vZGUgPSBnZXRUb3BOb2RlKGZvY3VzTm9kZSwgdG9wVGV4dCk7XG4gIH0gLy8g5aSE5LqO5byA5aeL5ZKM57uT5p2f6IqC54K55L2N572u5LmL6Ze055qE6IqC54K555qE5aSE55CGXG5cblxuICBwb2ludGVyTm9kZSA9IChfYiA9IHN0YXJ0Tm9kZSA9PT0gbnVsbCB8fCBzdGFydE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXJ0Tm9kZS5uZXh0U2libGluZykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogYW5jaG9yTm9kZTtcblxuICB3aGlsZSAoIShwb2ludGVyTm9kZSA9PT0gbnVsbCB8fCBwb2ludGVyTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9pbnRlck5vZGUuaXNFcXVhbE5vZGUoZW5kTm9kZSAhPT0gbnVsbCAmJiBlbmROb2RlICE9PSB2b2lkIDAgPyBlbmROb2RlIDogbnVsbCkpKSB7XG4gICAgdmFyIHBvaW50ZXJOb2RlTmFtZSA9IHBvaW50ZXJOb2RlID09PSBudWxsIHx8IHBvaW50ZXJOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2ludGVyTm9kZS5ub2RlTmFtZTtcblxuICAgIGlmIChwb2ludGVyTm9kZU5hbWUgPT09ICcjdGV4dCcpIHtcbiAgICAgIG1pZGRsZUNvbnRlbnQgPSBtaWRkbGVDb250ZW50ICsgKHBvaW50ZXJOb2RlID09PSBudWxsIHx8IHBvaW50ZXJOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2ludGVyTm9kZS50ZXh0Q29udGVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBodG1sU3RyaW5nID0gKF9kID0gKF9jID0gcG9pbnRlck5vZGUgPT09IG51bGwgfHwgcG9pbnRlck5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50ZXJOb2RlLmZpcnN0Q2hpbGQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaW5uZXJIVE1MO1xuICAgICAgaWYgKHBvaW50ZXJOb2RlKSBtaWRkbGVDb250ZW50ID0gbWlkZGxlQ29udGVudCArIG1ha2VIdG1sU3RyaW5nKHBvaW50ZXJOb2RlLCBodG1sU3RyaW5nICE9PSBudWxsICYmIGh0bWxTdHJpbmcgIT09IHZvaWQgMCA/IGh0bWxTdHJpbmcgOiAnJyk7XG4gICAgfSAvLyDop6PlhrPmloflrZflkozlm77niYflkIzkuIDooYzml7bkvJrop6blj5Hml6DpmZDlvqrnjq8sIOWIsOS4jeS6hmVuZE5vZGUgPT09IHBvaW50ZXJOb2Rl5p2h5Lu2XG5cblxuICAgIHZhciBuZXh0UG9pbnROb2RlID0gKF9lID0gcG9pbnRlck5vZGUgPT09IG51bGwgfHwgcG9pbnRlck5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50ZXJOb2RlLm5leHRTaWJsaW5nKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBwb2ludGVyTm9kZTtcbiAgICBpZiAobmV4dFBvaW50Tm9kZSA9PT0gcG9pbnRlck5vZGUpIGJyZWFrO1xuICAgIHBvaW50ZXJOb2RlID0gbmV4dFBvaW50Tm9kZTtcbiAgfVxuXG4gIGNvbnRlbnQgPSBcIlwiICsgc3RhcnRDb250ZW50ICsgbWlkZGxlQ29udGVudCArIGVuZENvbnRlbnQ7IC8vIOWinuWKoOacgOWkluWxguWMheijueagh+etvlxuXG4gIGNvbnRlbnQgPSBhZGRDb250YWluZXIoVGFnQXJyLCBjb250ZW50KTtcbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmV4cG9ydHMuaW5zZXJ0SHRtbCA9IGluc2VydEh0bWw7XG4vKipcbiAqIOiOt+WPluWMheijueWcqOacgOWkluWxgueahOmdnnAgTm9kZSB0YWdOYW1lIOaVsOe7hFxuICogQHBhcmFtIG5vZGUg6YCJ5Yy65omA5Zyo6KGM55qEbm9kZeiKgueCuVxuICovXG5cbmZ1bmN0aW9uIGdldENvbnRhaW5lclRhZyhub2RlKSB7XG4gIHZhciBfYTtcblxuICB2YXIgdG9wVGV4dCA9IChfYSA9IG5vZGUudGV4dENvbnRlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICB2YXIgdGFnQXJyID0gW107XG5cbiAgd2hpbGUgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUudGV4dENvbnRlbnQpID09PSB0b3BUZXh0KSB7XG4gICAgaWYgKG5vZGUubm9kZU5hbWUgIT09ICdQJykge1xuICAgICAgdGFnQXJyLnB1c2gobm9kZSk7XG4gICAgfVxuXG4gICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgfVxuXG4gIHJldHVybiB0YWdBcnI7XG59XG4vKipcbiAqIOS4uuWGheWuueWinuWKoOWMheijueagh+etvlxuICogQHBhcmFtIHRhZ0FyciDmnIDlpJblsYLljIXoo7nnmoR0YWfmlbDnu4TvvIzntKLlvJXotorlsI90YWfotorlnKjlpJbpnaJcbiAqIEBwYXJhbSBjb250ZW50IHRhZ+imgeWMheijueeahOWGheWuuVxuICovXG5cblxuZnVuY3Rpb24gYWRkQ29udGFpbmVyKHRhZ0FyciwgY29udGVudCkge1xuICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh0YWdBcnIpLmNhbGwodGFnQXJyLCBmdW5jdGlvbiAodikge1xuICAgIGNvbnRlbnQgPSBtYWtlSHRtbFN0cmluZyh2LCBjb250ZW50KTtcbiAgfSk7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKioqLyB9KSxcbi8qIDMzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57uR5a6a6ZO+5o6l5YWD57Sg55qE5LqL5Lu277yM5YWl5Y+jXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB0b29sdGlwX2V2ZW50XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MCkpO1xuLyoqXG4gKiDnu5Hlrprkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kRXZlbnQoZWRpdG9yKSB7XG4gIC8vIHRvb2x0aXAg5LqL5Lu2XG4gIHRvb2x0aXBfZXZlbnRfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kRXZlbnQ7XG5cbi8qKiovIH0pLFxuLyogMzQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiB0b29sdGlwIOS6i+S7tlxuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuICAvKipcbiAgICog5pi+56S6IHRvb2x0aXBcbiAgICogQHBhcmFtICRsaW5rIOmTvuaOpeWFg+e0oFxuICAgKi9cblxuICBmdW5jdGlvbiBzaG93TGlua1Rvb2x0aXAoJGxpbmspIHtcbiAgICB2YXIgY29uZiA9IFt7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3Bhbj5cIiArIGVkaXRvci5pMThuZXh0LnQoJ21lbnVzLnBhbmVsTWVudXMubGluay7mn6XnnIvpk77mjqUnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbGluaykge1xuICAgICAgICB2YXIgbGluayA9ICRsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgd2luZG93Lm9wZW4obGluaywgJ190YXJnZXQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMucGFuZWxNZW51cy5saW5rLuWPlua2iOmTvuaOpScpICsgXCI8L3NwYW4+XCIpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRsaW5rKSB7XG4gICAgICAgIHZhciBfYSwgX2I7IC8vIOmAieS4remTvuaOpeWFg+e0oFxuXG5cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkbGluayk7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgJGNoaWxkTm9kZXMgPSAkbGluay5jaGlsZE5vZGVzKCk7IC8vIOWmguaenOmTvuaOpeaYr+WbvueJh1xuXG4gICAgICAgIGlmICgoJGNoaWxkTm9kZXMgPT09IG51bGwgfHwgJGNoaWxkTm9kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRjaGlsZE5vZGVzLmdldE5vZGVOYW1lKCkpID09PSAnSU1HJykge1xuICAgICAgICAgIC8vIOiOt+WPlumAieS4reeahOWbvueJh1xuICAgICAgICAgIHZhciAkc2VsZWN0SU1HID0gKF9iID0gKF9hID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZWxlbXNbMF0uY2hpbGRyZW5bMF07IC8vIOaPkuWFpeWbvueJh1xuXG4gICAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgXCI8aW1nIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiICsgKCRzZWxlY3RJTUcgPT09IG51bGwgfHwgJHNlbGVjdElNRyA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdElNRy5nZXRBdHRyaWJ1dGUoJ3NyYycpKSArIFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCIgKyAoJHNlbGVjdElNRyA9PT0gbnVsbCB8fCAkc2VsZWN0SU1HID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc2VsZWN0SU1HLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSkgKyBcIj5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g55So5paH5a2X77yM5pu/5o2i6ZO+5o6lXG4gICAgICAgICAgdmFyIHNlbGVjdGlvblRleHQgPSAkbGluay50ZXh0KCk7XG4gICAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgJzxzcGFuPicgKyBzZWxlY3Rpb25UZXh0ICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgfSAvLyDov5Tlm54gdHJ1Ze+8jOihqOekuuaJp+ihjOWujOS5i+WQju+8jOmakOiXjyB0b29sdGlw44CC5ZCm5YiZ5LiN6ZqQ6JeP44CCXG5cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XTsgLy8g5Yib5bu6IHRvb2x0aXBcblxuICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcF8xW1wiZGVmYXVsdFwiXShlZGl0b3IsICRsaW5rLCBjb25mKTtcbiAgICB0b29sdGlwLmNyZWF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiDpmpDol48gdG9vbHRpcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGhpZGVMaW5rVG9vbHRpcCgpIHtcbiAgICAvLyDnp7vpmaQgdG9vbHRpcFxuICAgIGlmICh0b29sdGlwKSB7XG4gICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgdG9vbHRpcCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93TGlua1Rvb2x0aXA6IHNob3dMaW5rVG9vbHRpcCxcbiAgICBoaWRlTGlua1Rvb2x0aXA6IGhpZGVMaW5rVG9vbHRpcFxuICB9O1xufVxuLyoqXG4gKiDnu5HlrpogdG9vbHRpcCDkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kVG9vbHRpcEV2ZW50KGVkaXRvcikge1xuICB2YXIgX2EgPSBjcmVhdGVTaG93SGlkZUZuKGVkaXRvciksXG4gICAgICBzaG93TGlua1Rvb2x0aXAgPSBfYS5zaG93TGlua1Rvb2x0aXAsXG4gICAgICBoaWRlTGlua1Rvb2x0aXAgPSBfYS5oaWRlTGlua1Rvb2x0aXA7IC8vIOeCueWHu+mTvuaOpeWFg+e0oOaYr++8jOaYvuekuiB0b29sdGlwXG5cblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MubGlua0NsaWNrRXZlbnRzLnB1c2goc2hvd0xpbmtUb29sdGlwKTsgLy8g54K55Ye75YW25LuW5Zyw5pa577yM5oiW6ICF5rua5Yqo5pe277yM6ZqQ6JePIHRvb2x0aXBcblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuY2xpY2tFdmVudHMucHVzaChoaWRlTGlua1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3Mua2V5dXBFdmVudHMucHVzaChoaWRlTGlua1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MudG9vbGJhckNsaWNrRXZlbnRzLnB1c2goaGlkZUxpbmtUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLm1lbnVDbGlja0V2ZW50cy5wdXNoKGhpZGVMaW5rVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy50ZXh0U2Nyb2xsRXZlbnRzLnB1c2goaGlkZUxpbmtUb29sdGlwKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kVG9vbHRpcEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDM0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5pac5L2TXG4gKiBAYXV0aG9yIGxpdXdlaVxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIEJ0bk1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIEl0YWxpYyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoSXRhbGljLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEl0YWxpYyhlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1NjU5Q1xcdTRGNTNcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24taXRhbGljXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOeCueWHu+S6i+S7tlxuICAgKi9cblxuXG4gIEl0YWxpYy5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNTZWxlY3RFbXB0eSA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmAieWMuuiMg+WbtOaYr+epuueahO+8jOaPkuWFpeW5tumAieS4reS4gOS4quKAnOepuueZveKAnVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfSAvLyDmiafooYwgaXRhbGljIOWRveS7pFxuXG5cbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2l0YWxpYycpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmcgOimgeWwhumAieWMuuiMg+WbtOaKmOWPoOi1t+adpVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jb2xsYXBzZVJhbmdlKCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBJdGFsaWMucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoZWRpdG9yLmNtZC5xdWVyeUNvbW1hbmRTdGF0ZSgnaXRhbGljJykpIHtcbiAgICAgIHRoaXMuYWN0aXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5BY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEl0YWxpYztcbn0oQnRuTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSXRhbGljO1xuXG4vKioqLyB9KSxcbi8qIDM0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5LiL5YiS57q/IHVuZGVybGluZVxuICogQGF1dGhvciBkeWxcbiAqXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgQnRuTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVW5kZXJsaW5lID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhVbmRlcmxpbmUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVW5kZXJsaW5lKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU0RTBCXFx1NTIxMlxcdTdFQkZcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24tdW5kZXJsaW5lXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOeCueWHu+S6i+S7tlxuICAgKi9cblxuXG4gIFVuZGVybGluZS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNTZWxlY3RFbXB0eSA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmAieWMuuiMg+WbtOaYr+epuueahO+8jOaPkuWFpeW5tumAieS4reS4gOS4quKAnOepuueZveKAnVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfSAvLyDmiafooYwgVW5kZXJsaW5lIOWRveS7pFxuXG5cbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ3VuZGVybGluZScpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmcgOimgeWwhumAieWMuuiMg+WbtOaKmOWPoOi1t+adpVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jb2xsYXBzZVJhbmdlKCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBVbmRlcmxpbmUucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoZWRpdG9yLmNtZC5xdWVyeUNvbW1hbmRTdGF0ZSgndW5kZXJsaW5lJykpIHtcbiAgICAgIHRoaXMuYWN0aXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5BY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVuZGVybGluZTtcbn0oQnRuTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVW5kZXJsaW5lO1xuXG4vKioqLyB9KSxcbi8qIDM0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Yig6Zmk57q/XG4gKiBAYXV0aG9yIGxrd1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIEJ0bk1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIFN0cmlrZVRocm91Z2ggPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFN0cmlrZVRocm91Z2gsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gU3RyaWtlVGhyb3VnaChlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1NTIyMFxcdTk2NjRcXHU3RUJGXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLXN0cmlrZXRocm91Z2hcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog54K55Ye75LqL5Lu2XG4gICAqL1xuXG5cbiAgU3RyaWtlVGhyb3VnaC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNTZWxlY3RFbXB0eSA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmAieWMuuiMg+WbtOaYr+epuueahO+8jOaPkuWFpeW5tumAieS4reS4gOS4quKAnOepuueZveKAnVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfSAvLyDmiafooYwgc3RyaWtlVGhyb3VnaCDlkb3ku6RcblxuXG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdzdHJpa2VUaHJvdWdoJyk7XG5cbiAgICBpZiAoaXNTZWxlY3RFbXB0eSkge1xuICAgICAgLy8g6ZyA6KaB5bCG6YCJ5Yy66IyD5Zu05oqY5Y+g6LW35p2lXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNvbGxhcHNlUmFuZ2UoKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWwneivleS/ruaUueiPnOWNlea/gOa0u+eKtuaAgVxuICAgKi9cblxuXG4gIFN0cmlrZVRocm91Z2gucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoZWRpdG9yLmNtZC5xdWVyeUNvbW1hbmRTdGF0ZSgnc3RyaWtlVGhyb3VnaCcpKSB7XG4gICAgICB0aGlzLmFjdGl2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuQWN0aXZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTdHJpa2VUaHJvdWdoO1xufShCdG5NZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTdHJpa2VUaHJvdWdoO1xuXG4vKioqLyB9KSxcbi8qIDM0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5a2X5L2T5qC35byPIEZvbnRTdHlsZVxuICogQGF1dGhvciBkeWxcbiAqXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgRHJvcExpc3RNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBGb250U3R5bGVMaXN0XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSkpO1xuXG52YXIgRm9udFN0eWxlID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhGb250U3R5bGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gRm9udFN0eWxlKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU1QjU3XFx1NEY1M1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1mb250XFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIHZhciBmb250U3R5bGVMaXN0ID0gbmV3IEZvbnRTdHlsZUxpc3RfMVtcImRlZmF1bHRcIl0oZWRpdG9yLmNvbmZpZy5mb250TmFtZXMpO1xuICAgIHZhciBmb250TGlzdENvbmYgPSB7XG4gICAgICB3aWR0aDogMTAwLFxuICAgICAgdGl0bGU6ICforr7nva7lrZfkvZMnLFxuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbGlzdDogZm9udFN0eWxlTGlzdC5nZXRJdGVtTGlzdCgpLFxuICAgICAgY2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBjbGlja0hhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgLy8gdGhpcyDmmK/mjIflkJHlvZPliY3nmoQgRm9udFN0eWxlIOWvueixoVxuICAgICAgICBfdGhpcy5jb21tYW5kKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvciwgZm9udExpc3RDb25mKSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog5omn6KGM5ZG95LukXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIEZvbnRTdHlsZS5wcm90b3R5cGUuY29tbWFuZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNFbXB0eVNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuICAgIHZhciAkc2VsZWN0aW9uRWxlbSA9IChfYSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbXNbMF07XG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtID09IG51bGwpIHJldHVybjtcbiAgICB2YXIgaXNGb250ID0gKCRzZWxlY3Rpb25FbGVtID09PSBudWxsIHx8ICRzZWxlY3Rpb25FbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc2VsZWN0aW9uRWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gJ3AnO1xuICAgIHZhciBpc1NhbWVWYWx1ZSA9ICgkc2VsZWN0aW9uRWxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVsZW0uZ2V0QXR0cmlidXRlKCdmYWNlJykpID09PSB2YWx1ZTtcblxuICAgIGlmIChpc0VtcHR5U2VsZWN0aW9uKSB7XG4gICAgICBpZiAoaXNGb250ICYmICFpc1NhbWVWYWx1ZSkge1xuICAgICAgICB2YXIgJGVsZW1zID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGVsZW1zWzBdKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yKCRlbGVtc1swXS5lbGVtc1swXSk7XG4gICAgICB9XG5cbiAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VUb0VsZW0oJHNlbGVjdGlvbkVsZW0pOyAvLyDmj5LlhaXnqbrnmb3pgInljLpcblxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfVxuXG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdmb250TmFtZScsIHZhbHVlKTtcblxuICAgIGlmIChpc0VtcHR5U2VsZWN0aW9uKSB7XG4gICAgICAvLyDpnIDopoHlsIbpgInljLrojIPlm7Tmipjlj6DotbfmnaVcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24uY29sbGFwc2VSYW5nZSgpO1xuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog5bCd6K+V5L+u5pS56I+c5Y2V5r+A5rS754q25oCBXG4gICAqID/lrZfkvZPmmK/lkKbpnIDopoHmnInmv4DmtLvnirbmgIHov5nkuKrmk43kvZw/XG4gICAqL1xuXG5cbiAgRm9udFN0eWxlLnByb3RvdHlwZS50cnlDaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7Ly8gY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3JcbiAgICAvLyBjb25zdCBjbWRWYWx1ZSA9IGVkaXRvci5jbWQucXVlcnlDb21tYW5kVmFsdWUoJ2ZvbnROYW1lJylcbiAgICAvLyBpZiAobWVudXNDb25maWcuZm9udE5hbWVzLmluZGV4T2YoY21kVmFsdWUpID49IDApIHtcbiAgICAvLyAgICAgdGhpcy5hY3RpdmUoKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICAgIHRoaXMudW5BY3RpdmUoKVxuICAgIC8vIH1cbiAgfTtcblxuICByZXR1cm4gRm9udFN0eWxlO1xufShEcm9wTGlzdE1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZvbnRTdHlsZTtcblxuLyoqKi8gfSksXG4vKiAzNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24g5a2X5L2TIGNsYXNzXG4gKiBAYXV0aG9yIGR5bFxuICovXG5cblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbi8qKlxuICog5bCB6KOF55qE5LiA5Liq5a2X5L2T6I+c5Y2V5YiX6KGo5pWw5o2u55qE57uE6KOF5a+56LGhLFxuICog5Y6f5Zug5piv5Zug5Li65ZyoY29uc3RydWN0b3Llh73mlbDkuK0s55u05o6l5omn6KGM5q2k5rWB56iLLOS8muiuqeS7o+eggemHj+eci+i1t+adpei+g+WkmixcbiAqIOWmguaenOimgeWcqGNvbnN0cnVjdG9y6LCD55So5aSW6YOo5Ye95pWwLOS4quS6uuebruWJjeWPkeeOsOS8muaciemUmeivr+aPkOekuixcbiAqIOWboOatpCzmg7PnnYDpobrkvr/noJTnqbblrp7ot7XkuIt0cyzpgY3liJvlu7rkuobov5nmoLfkuIDkuKrnsbtcbiAqL1xuXG5cbnZhciBGb250U3R5bGVMaXN0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGb250U3R5bGVMaXN0KGxpc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5pdGVtTGlzdCA9IFtdO1xuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxpc3QpLmNhbGwobGlzdCwgZnVuY3Rpb24gKGZvbnRWYWx1ZSkge1xuICAgICAgLy8gZm9udFZhbHVlIDLnp43mg4XlhrXkuIDnp43mmK9zdHJpbmfnsbvlnovnmoTnm7TmjqV2YWx1ZeetieWQjOS6jmZvbnQtZmFtaWx5XG4gICAgICAvLyBPYmplY3Tnsbvlnot2YWx1ZeS4umZvbnQtZmFtaWx5IG5hbWXkuLp1aeinhuWbvuWRiOeOsFxuICAgICAgdmFyIGZvbnRGYW1pbHkgPSB0eXBlb2YgZm9udFZhbHVlID09PSAnc3RyaW5nJyA/IGZvbnRWYWx1ZSA6IGZvbnRWYWx1ZS52YWx1ZTtcbiAgICAgIHZhciBmb250TmFtZSA9IHR5cGVvZiBmb250VmFsdWUgPT09ICdzdHJpbmcnID8gZm9udFZhbHVlIDogZm9udFZhbHVlLm5hbWU7XG5cbiAgICAgIF90aGlzLml0ZW1MaXN0LnB1c2goe1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cCBzdHlsZT1cXFwiZm9udC1mYW1pbHk6J1wiICsgZm9udEZhbWlseSArIFwiJ1xcXCI+XCIgKyBmb250TmFtZSArIFwiPC9wPlwiKSxcbiAgICAgICAgdmFsdWU6IGZvbnROYW1lXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIEZvbnRTdHlsZUxpc3QucHJvdG90eXBlLmdldEl0ZW1MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1MaXN0O1xuICB9O1xuXG4gIHJldHVybiBGb250U3R5bGVMaXN0O1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZvbnRTdHlsZUxpc3Q7XG5cbi8qKiovIH0pLFxuLyogMzQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlrZflj7cgRm9udFNpemVcbiAqIEBhdXRob3IgbGt3XG4gKlxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIERyb3BMaXN0TWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgRm9udFNpemVMaXN0XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NykpO1xuXG52YXIgRm9udFNpemUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKEZvbnRTaXplLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEZvbnRTaXplKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU1QjU3XFx1NTNGN1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi10ZXh0LWhlaWdoXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIHZhciBmb250U3R5bGVMaXN0ID0gbmV3IEZvbnRTaXplTGlzdF8xW1wiZGVmYXVsdFwiXShlZGl0b3IuY29uZmlnLmZvbnRTaXplcyk7XG4gICAgdmFyIGZvbnRMaXN0Q29uZiA9IHtcbiAgICAgIHdpZHRoOiAxNjAsXG4gICAgICB0aXRsZTogJ+iuvue9ruWtl+WPtycsXG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBsaXN0OiBmb250U3R5bGVMaXN0LmdldEl0ZW1MaXN0KCksXG4gICAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcih2YWx1ZSkge1xuICAgICAgICAvLyB0aGlzIOaYr+aMh+WQkeW9k+WJjeeahCBGb250U2l6ZSDlr7nosaFcbiAgICAgICAgX3RoaXMuY29tbWFuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IsIGZvbnRMaXN0Q29uZikgfHwgdGhpcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOaJp+ihjOWRveS7pFxuICAgKiBAcGFyYW0gdmFsdWUgdmFsdWVcbiAgICovXG5cblxuICBGb250U2l6ZS5wcm90b3R5cGUuY29tbWFuZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNFbXB0eVNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuICAgIHZhciBzZWxlY3Rpb25FbGVtID0gKF9hID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXTtcbiAgICBpZiAoc2VsZWN0aW9uRWxlbSA9PSBudWxsKSByZXR1cm47XG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdmb250U2l6ZScsIHZhbHVlKTtcblxuICAgIGlmIChpc0VtcHR5U2VsZWN0aW9uKSB7XG4gICAgICAvLyDpnIDopoHlsIbpgInljLrojIPlm7Tmipjlj6DotbfmnaVcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24uY29sbGFwc2VSYW5nZSgpO1xuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog5bCd6K+V5L+u5pS56I+c5Y2V5r+A5rS754q25oCBXG4gICAqID/lrZflj7fmmK/lkKbpnIDopoHmnInmv4DmtLvnirbmgIHov5nkuKrmk43kvZw/XG4gICAqL1xuXG5cbiAgRm9udFNpemUucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHJldHVybiBGb250U2l6ZTtcbn0oRHJvcExpc3RNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGb250U2l6ZTtcblxuLyoqKi8gfSksXG4vKiAzNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24g5a2X5Y+3IGNsYXNzXG4gKiBAYXV0aG9yIGxrd1xuICovXG5cblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbi8qKlxuICogRm9udFNpemVMaXN0IOWtl+WPt+mFjee9ruWIl+ihqFxuICovXG5cblxudmFyIEZvbnRTaXplTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRm9udFNpemVMaXN0KGxpc3QpIHtcbiAgICB0aGlzLml0ZW1MaXN0ID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gbGlzdCkge1xuICAgICAgdmFyIGl0ZW0gPSBsaXN0W2tleV07XG4gICAgICB0aGlzLml0ZW1MaXN0LnB1c2goe1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cCBzdHlsZT1cXFwiZm9udC1zaXplOlwiICsga2V5ICsgXCJcXFwiPlwiICsgaXRlbS5uYW1lICsgXCI8L3A+XCIpLFxuICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgRm9udFNpemVMaXN0LnByb3RvdHlwZS5nZXRJdGVtTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtTGlzdDtcbiAgfTtcblxuICByZXR1cm4gRm9udFNpemVMaXN0O1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZvbnRTaXplTGlzdDtcblxuLyoqKi8gfSksXG4vKiAzNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWvuem9kOaWueW8j1xuICogQGF1dGhvciBsaXV3ZWlcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgRHJvcExpc3RNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBTUEVDSUFMX05PREVfTElTVCA9IFsnTEknXTtcbnZhciBTUEVDSUFMX1RPUF9OT0RFX0xJU1QgPSBbJ1VMJywgJ0JMT0NLUVVPVEUnXTtcblxudmFyIEp1c3RpZnkgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKEp1c3RpZnksIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSnVzdGlmeShlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXYgY2xhc3M9XCJ3LWUtbWVudVwiIGRhdGEtdGl0bGU9XCLlr7npvZBcIj48aSBjbGFzcz1cInctZS1pY29uLXBhcmFncmFwaC1sZWZ0XCI+PC9pPjwvZGl2PicpO1xuICAgIHZhciBkcm9wTGlzdENvbmYgPSB7XG4gICAgICB3aWR0aDogMTAwLFxuICAgICAgdGl0bGU6ICflr7npvZDmlrnlvI8nLFxuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbGlzdDogW3tcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1wYXJhZ3JhcGgtbGVmdCB3LWUtZHJvcC1saXN0LWl0ZW1cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5kcm9wTGlzdE1lbnUuanVzdGlmeS7pnaDlt6YnKSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlwiKSxcbiAgICAgICAgdmFsdWU6ICdsZWZ0J1xuICAgICAgfSwge1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLXBhcmFncmFwaC1jZW50ZXIgdy1lLWRyb3AtbGlzdC1pdGVtXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMuZHJvcExpc3RNZW51Lmp1c3RpZnku5bGF5LitJykgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cIiksXG4gICAgICAgIHZhbHVlOiAnY2VudGVyJ1xuICAgICAgfSwge1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLXBhcmFncmFwaC1yaWdodCB3LWUtZHJvcC1saXN0LWl0ZW1cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5kcm9wTGlzdE1lbnUuanVzdGlmeS7pnaDlj7MnKSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlwiKSxcbiAgICAgICAgdmFsdWU6ICdyaWdodCdcbiAgICAgIH0sIHtcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1wYXJhZ3JhcGgtanVzdGlmeSB3LWUtZHJvcC1saXN0LWl0ZW1cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5kcm9wTGlzdE1lbnUuanVzdGlmeS7kuKTnq68nKSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlwiKSxcbiAgICAgICAgdmFsdWU6ICdqdXN0aWZ5J1xuICAgICAgfV0sXG4gICAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcih2YWx1ZSkge1xuICAgICAgICAvLyDmiafooYzlr7nlupTnmoR2YWx1ZeaTjeS9nFxuICAgICAgICBfdGhpcy5jb21tYW5kKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvciwgZHJvcExpc3RDb25mKSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog5omn6KGM5ZG95LukXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIEp1c3RpZnkucHJvdG90eXBlLmNvbW1hbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTsgLy8g5L+d5a2Y6YCJ5Yy6XG5cbiAgICBzZWxlY3Rpb24uc2F2ZVJhbmdlKCk7IC8vIOiOt+WPlumhtue6p+WFg+e0oFxuXG4gICAgdmFyICRlbGVtcyA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uUmFuZ2VUb3BOb2RlcygpO1xuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtID09PSBudWxsIHx8ICRzZWxlY3Rpb25FbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc2VsZWN0aW9uRWxlbS5sZW5ndGgpIHtcbiAgICAgIC8vIGxpc3Qg5ZyoY2hyb21l5LiL6buY6K6k5aSa5YyF6KO55LiA5LiqIHDvvIzlr7zoh7TkuI3og73pgJrov4fpobblsYLlhYPntKDliKTmlq3vvIzmiYDku6XljZXni6zliqDkuKrliKTmlq1cbiAgICAgIGlmICh0aGlzLmlzU3BlY2lhbE5vZGUoJHNlbGVjdGlvbkVsZW0sICRlbGVtc1swXSkgfHwgdGhpcy5pc1NwZWNpYWxUb3BOb2RlKCRlbGVtc1swXSkpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5nZXRTcGVjaWFsTm9kZVVudGlsVG9wKCRzZWxlY3Rpb25FbGVtLCAkZWxlbXNbMF0pO1xuICAgICAgICBpZiAoZWwgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlbCkuY3NzKCd0ZXh0LWFsaWduJywgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJGVsZW1zKS5jYWxsKCRlbGVtcywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgZWwuY3NzKCd0ZXh0LWFsaWduJywgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IC8v5oGi5aSN6YCJ5Yy6XG5cblxuICAgIHNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5bpgInljLrkuK3nmoTnibnmrorlhYPntKDvvIzlpoLmnpzkuI3lrZjlnKjvvIzliJnnm7TmjqXov5Tlm57pobblsYLlhYPntKDlrZDlhYPntKBcbiAgICogQHBhcmFtIGVsIERvbUVsZW1lbnRcbiAgICogQHBhcmFtIHRvcEVsIERvbUVsZW1lbnRcbiAgICovXG5cblxuICBKdXN0aWZ5LnByb3RvdHlwZS5nZXRTcGVjaWFsTm9kZVVudGlsVG9wID0gZnVuY3Rpb24gKGVsLCB0b3BFbCkge1xuICAgIHZhciBwYXJlbnROb2RlID0gZWwuZWxlbXNbMF07XG4gICAgdmFyIHRvcE5vZGUgPSB0b3BFbC5lbGVtc1swXTsgLy8g5Y+v6IO95Ye6546w5bWM5aWX55qE5oOF5Ya177yM5omA5Lul5LiA57qn5LiA57qn5ZCR5LiK5om+77yM5piv5ZCm5piv54m55q6K5YWD57SgXG5cbiAgICB3aGlsZSAocGFyZW50Tm9kZSAhPSBudWxsKSB7XG4gICAgICBpZiAoKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkoU1BFQ0lBTF9OT0RFX0xJU1QpLmNhbGwoU1BFQ0lBTF9OT0RFX0xJU1QsIHBhcmVudE5vZGUgPT09IG51bGwgfHwgcGFyZW50Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50Tm9kZS5ub2RlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgICAgfSAvLyDlpoLmnpzlho3liLAgdG9wIOWFg+e0oOS5i+WJjei/mOayoeaJvuWIsOeJueauiuWFg+e0oO+8jOebtOaOpei/lOWbnuWFg+e0oFxuXG5cbiAgICAgIGlmIChwYXJlbnROb2RlLnBhcmVudE5vZGUgPT09IHRvcE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiDlvZPpgInljLrlhYPntKDmiJbogIXpobblsYLlhYPntKDmmK/mn5DkupvnibnmrorlhYPntKDml7bvvIzlj6rpnIDopoHkv67mlLnlrZDlhYPntKDnmoTlr7npvZDmoLflvI/nmoTlhYPntKBcbiAgICogQHBhcmFtIGVsIERvbUVsZW1lbnRcbiAgICogQHBhcmFtIHRvcEVsIERvbUVsZW1lbnRcbiAgICovXG5cblxuICBKdXN0aWZ5LnByb3RvdHlwZS5pc1NwZWNpYWxOb2RlID0gZnVuY3Rpb24gKGVsLCB0b3BFbCkge1xuICAgIC8vIOWmguaenOS7peWQjuacieexu+S8vOeahOWFg+e0oOimgei/meagt+WkhOeQhu+8jOebtOaOpeS/ruaUuei/meS4quaVsOe7hOWNs+WPr1xuICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5nZXRTcGVjaWFsTm9kZVVudGlsVG9wKGVsLCB0b3BFbCk7XG4gICAgaWYgKHBhcmVudE5vZGUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKShTUEVDSUFMX05PREVfTElTVCkuY2FsbChTUEVDSUFMX05PREVfTElTVCwgcGFyZW50Tm9kZS5ub2RlTmFtZSkgIT09IC0xO1xuICB9O1xuICAvKipcbiAgICog5b2T6YCJ5Yy6IHRvcCDlhYPntKDkuLrmn5DkupvnibnmrorlhYPntKDml7bvvIzlj6rpnIDopoHkv67mlLnlrZDlhYPntKDnmoTlr7npvZDmoLflvI/nmoTlhYPntKBcbiAgICogQHBhcmFtIGVsIERvbUVsZW1lbnRcbiAgICovXG5cblxuICBKdXN0aWZ5LnByb3RvdHlwZS5pc1NwZWNpYWxUb3BOb2RlID0gZnVuY3Rpb24gKHRvcEVsKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKHRvcEVsID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkoU1BFQ0lBTF9UT1BfTk9ERV9MSVNUKS5jYWxsKFNQRUNJQUxfVE9QX05PREVfTElTVCwgKF9hID0gdG9wRWwuZWxlbXNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub2RlTmFtZSkgIT09IC0xO1xuICB9O1xuICAvKipcbiAgICog5bCd6K+V5pS55Y+Y6I+c5Y2V5r+A5rS777yI6auY5Lqu77yJ54q25oCBXG4gICAqIOm7mOiupOW3puWvuem9kCzoi6XpgInmi6nlhbbku5blr7nlhbbmlrnlvI/lr7lhY3RpdmXov5vooYzpq5jkuq7lkKbliJl1bkFjdGl2ZVxuICAgKiA/6ICD6JmR5LyY5YyW55qE6K+dIOaYr+WQpuWPr+S7peWvueWFt+S9k+mAieS4reeahOi/m+ihjOmrmOS6rlxuICAgKi9cblxuXG4gIEp1c3RpZnkucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHJldHVybiBKdXN0aWZ5O1xufShEcm9wTGlzdE1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEp1c3RpZnk7XG5cbi8qKiovIH0pLFxuLyogMzQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlvJXnlKhcbiAqIEBhdXRob3IgdG9uZ2hhblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIEJ0bk1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxudmFyIGJpbmRfZXZlbnRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzUwKSk7XG5cbnZhciBjcmVhdGVfcXVvdGVfbm9kZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNTEpKTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgUXVvdGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFF1b3RlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFF1b3RlKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU1RjE1XFx1NzUyOFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1xdW90ZXMtbGVmdFxcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpIHx8IHRoaXM7XG4gICAgYmluZF9ldmVudF8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog54K55Ye75LqL5Lu2XG4gICAqL1xuXG5cbiAgUXVvdGUucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBpc1NlbGVjdEVtcHR5ID0gZWRpdG9yLnNlbGVjdGlvbi5pc1NlbGVjdGlvbkVtcHR5KCk7XG4gICAgdmFyIHRvcE5vZGVFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7XG4gICAgdmFyICR0b3BOb2RlRWxlbSA9IHRvcE5vZGVFbGVtW3RvcE5vZGVFbGVtLmxlbmd0aCAtIDFdO1xuICAgIHZhciBub2RlTmFtZSA9IHRoaXMuZ2V0VG9wTm9kZU5hbWUoKTsgLy8gSUUg5Lit5LiN5pSv5oyBIGZvcm1hdEJsb2NrIDxCTE9DS1FVT1RFPiDvvIzopoHnlKjlhbbku5bmlrnlvI/lhbzlrrlcbiAgICAvLyDlhbzlrrlmaXJlZm945peg5rOV5Y+W5raIYmxvY2txdW90ZeeahOmXrumimFxuXG4gICAgaWYgKG5vZGVOYW1lID09PSAnQkxPQ0tRVU9URScpIHtcbiAgICAgIC8vIOaSpOmUgCBxdW90ZVxuICAgICAgdmFyICR0YXJnZXRFTGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHRvcE5vZGVFbGVtLmNoaWxkTm9kZXMoKSk7XG4gICAgICB2YXIgbGVuID0gJHRhcmdldEVMZW0ubGVuZ3RoO1xuICAgICAgdmFyICRtaWRkbGVfMSA9ICR0b3BOb2RlRWxlbTtcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKCR0YXJnZXRFTGVtKS5jYWxsKCR0YXJnZXRFTGVtLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlbGVtKTtcbiAgICAgICAgJGVsZW0uaW5zZXJ0QWZ0ZXIoJG1pZGRsZV8xKTtcbiAgICAgICAgJG1pZGRsZV8xID0gJGVsZW07XG4gICAgICB9KTtcbiAgICAgICR0b3BOb2RlRWxlbS5yZW1vdmUoKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvcigkdGFyZ2V0RUxlbS5lbGVtc1tsZW4gLSAxXSk7IC8vIOWNs+aXtuabtOaWsGJ0bueKtuaAgVxuXG4gICAgICB0aGlzLnRyeUNoYW5nZUFjdGl2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlsIYgUCDovazmjaLkuLogcXVvdGVcblxuICAgICAgLyoqXG4gICAgICBAYXV0aG9yOmdhdmluXG4gICAgICBAZGVzY3JpcHRpb25cbiAgICAgICAgICAxLiDop6PlhrNjdHJsK2HlhajpgInliKDpmaTlkI7vvIzpgInljLrplJnkvY3nmoTpl67popjjgIJcbiAgICAgICAgICAyLiDmiJbogIXlhoXlrrnmuIXnqbrvvIzmjInliKDpmaTplK7lkI7vvIzpgInljLrplJnkvY3jgIJcbiAgICAgICAgICAg5a+86Ie0dG9wTm9kZUVsZW3pgInmi6nnmoTmmK/nvJbovpHlmajpobblsYLlhYPntKDvvIzlnKjov5vooYxkb23mk43kvZzml7bvvIxxdW90ZeaPkuWFpeeahOS9jee9ruaciemXrumimOOAglxuICAgICAgKiovXG4gICAgICB2YXIgJHF1b3RlID0gY3JlYXRlX3F1b3RlX25vZGVfMVtcImRlZmF1bHRcIl0odG9wTm9kZUVsZW0pOyAvL+WmguaenOmAieaLqeeahOWFg+e0oOaXtumhtuWxguWFg+e0oO+8jOWwseWwhumAieWMuuenu+WKqOWIsOato+ehrueahOS9jee9rlxuXG4gICAgICBpZiAoZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCgkdG9wTm9kZUVsZW0pKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGVtID0gKF9hID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbXMoY29udGFpbmVyRWxlbS5jaGlsZHJlblswXSwgY29udGFpbmVyRWxlbS5jaGlsZHJlblswXSk7XG4gICAgICAgIHRvcE5vZGVFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7XG4gICAgICAgICRxdW90ZSA9IGNyZWF0ZV9xdW90ZV9ub2RlXzFbXCJkZWZhdWx0XCJdKHRvcE5vZGVFbGVtKTtcbiAgICAgICAgJHRvcE5vZGVFbGVtLmFwcGVuZCgkcXVvdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHF1b3RlLmluc2VydEFmdGVyKCR0b3BOb2RlRWxlbSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVsU2VsZWN0Tm9kZSh0b3BOb2RlRWxlbSk7XG4gICAgICB2YXIgbW92ZU5vZGUgPSAoX2IgPSAkcXVvdGUuY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubGFzdCgpLmdldE5vZGUoKTtcbiAgICAgIGlmIChtb3ZlTm9kZSA9PSBudWxsKSByZXR1cm47IC8vIOWFvOWuuWZpcmVmb3jvvIhmaXJlZm945LiL56m66KGM5oOF5Ya15LiL6YCJ5Yy65Lya5ZyoYnLlkI7vvIzpgKDmiJDoh6rliqjmjaLooYznmoTpl67popjvvIlcblxuICAgICAgbW92ZU5vZGUudGV4dENvbnRlbnQgPyBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IobW92ZU5vZGUpIDogZWRpdG9yLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yKG1vdmVOb2RlLCAwKTsgLy8g5Y2z5pe25pu05pawYnRu54q25oCBXG5cbiAgICAgIHRoaXMudHJ5Q2hhbmdlQWN0aXZlKCk7IC8vIOmYsuatouacgOWQjuS4gOihjOaXoOazlei3s+WHulxuXG4gICAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShjb25zdF8xLkVNUFRZX1ApLmluc2VydEFmdGVyKCRxdW90ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzU2VsZWN0RW1wdHkpIHtcbiAgICAgIC8vIOmcgOimgeWwhumAieWMuuiMg+WbtOaKmOWPoOi1t+adpVxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jb2xsYXBzZVJhbmdlKCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBRdW90ZS5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgY21kVmFsdWUgPSAoX2EgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE5vZGVOYW1lKCk7XG5cbiAgICBpZiAoY21kVmFsdWUgPT09ICdCTE9DS1FVT1RFJykge1xuICAgICAgdGhpcy5hY3RpdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bkFjdGl2ZSgpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluWMheijueWcqOacgOWkluWxgueahOiKgueCuSjpmLLmraLlhoXpg6jltYzlhaXlpJrkuKrmoLflvI8pXG4gICAqIEBwYXJhbSBzZWxlY3Rpb25FbGVtIOmAieS4reeahOiKgueCuVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSDmnIDnu4jopoHlpITnkIbnmoToioLngrnlkI3np7BcbiAgICovXG5cblxuICBRdW90ZS5wcm90b3R5cGUuZ2V0VG9wTm9kZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdG9wTm9kZUVsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKVswXTtcbiAgICB2YXIgbm9kZU5hbWUgPSAkdG9wTm9kZUVsZW0gPT09IG51bGwgfHwgJHRvcE5vZGVFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkdG9wTm9kZUVsZW0uZ2V0Tm9kZU5hbWUoKTtcbiAgICByZXR1cm4gbm9kZU5hbWU7XG4gIH07XG4gIC8qKlxuICAgKiDliKDpmaTpgInkuK3nmoTlhYPntKBcbiAgICogQHBhcmFtIHNlbGVjdEVsZW0g6YCJ5Lit55qE5YWD57Sg6IqC54K55pWw57uEXG4gICAqL1xuXG5cbiAgUXVvdGUucHJvdG90eXBlLmRlbFNlbGVjdE5vZGUgPSBmdW5jdGlvbiAoc2VsZWN0RWxlbSkge1xuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHNlbGVjdEVsZW0pLmNhbGwoc2VsZWN0RWxlbSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFF1b3RlO1xufShCdG5NZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBRdW90ZTtcblxuLyoqKi8gfSksXG4vKiAzNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbmZ1bmN0aW9uIGJpbmRFdmVudChlZGl0b3IpIHtcbiAgZnVuY3Rpb24gcXVvdGVFbnRlcihlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyICRzZWxlY3RFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgdmFyICR0b3BTZWxlY3RFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKClbMF07IC8vIOWvuXF1b3Rl55qEZW50ZXLov5vooYznibnmrorlpITnkIZcbiAgICAvL+acgOWQjuS4gOihjOS4uuepuuagh+etvuaXtuWGjeaMieS8muWHuui3s+WHumJsb2NrcXVvdGVcblxuICAgIGlmICgoJHRvcFNlbGVjdEVsZW0gPT09IG51bGwgfHwgJHRvcFNlbGVjdEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICR0b3BTZWxlY3RFbGVtLmdldE5vZGVOYW1lKCkpID09PSAnQkxPQ0tRVU9URScpIHtcbiAgICAgIC8vIGZpcmVmb3jkuIvngrnlh7vlvJXnlKjmjInpkq7kvJrpgInkuK3lpJblrrnlmag8YmxvY2txdW90ZT48L2Jsb2NrcXVvdGU+XG4gICAgICBpZiAoJHNlbGVjdEVsZW0uZ2V0Tm9kZU5hbWUoKSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG4gICAgICAgIHZhciBzZWxlY3ROb2RlID0gKF9hID0gJHNlbGVjdEVsZW0uY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Tm9kZSgpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3Ioc2VsZWN0Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkc2VsZWN0RWxlbS50ZXh0KCkgPT09ICcnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNlbGVjdEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIHZhciAkbmV3TGluZSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgICAgICRuZXdMaW5lLmluc2VydEFmdGVyKCR0b3BTZWxlY3RFbGVtKTsgLy8g5bCG5YWJ5qCH56e75YqoYnLliY3pnaJcblxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoJG5ld0xpbmUuZ2V0Tm9kZSgpLCAwKTtcbiAgICAgIH0gLy8g5b2TYmxvY2tRdW90ZeS4reayoeacieWGheWuueWbnui9puWQjuenu+mZpGJsb2NrcXVvdGVcblxuXG4gICAgICBpZiAoJHRvcFNlbGVjdEVsZW0udGV4dCgpID09PSAnJykge1xuICAgICAgICAkdG9wU2VsZWN0RWxlbS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuZW50ZXJEb3duRXZlbnRzLnB1c2gocXVvdGVFbnRlcik7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDM1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG4vKipcbiAqIOWIm+W7uuS4gOS4qmJsb2NrcXVvdGXlhYPntKDoioLngrlcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVRdW90ZSgkY2hpbGRFbGVtKSB7XG4gIHZhciAkdGFyZ2V0RWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPGJsb2NrcXVvdGU+PC9ibG9ja3F1b3RlPlwiKTtcbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJGNoaWxkRWxlbSkuY2FsbCgkY2hpbGRFbGVtLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICR0YXJnZXRFbGVtLmFwcGVuZChub2RlLmNsb25lKHRydWUpKTtcbiAgfSk7XG4gIHJldHVybiAkdGFyZ2V0RWxlbTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVRdW90ZTtcblxuLyoqKi8gfSksXG4vKiAzNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOiDjOaZr+minOiJsiBCYWNrQ29sb3JcbiAqIEBhdXRob3IgbGt3XG4gKlxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIERyb3BMaXN0TWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIEJhY2tDb2xvciA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoQmFja0NvbG9yLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEJhY2tDb2xvcihlZGl0b3IpIHtcbiAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1ODBDQ1xcdTY2NkZcXHU4MjcyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLXBhaW50LWJydXNoXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIHZhciBjb2xvckxpc3RDb25mID0ge1xuICAgICAgd2lkdGg6IDEyMCxcbiAgICAgIHRpdGxlOiAn6IOM5pmv6aKc6ImyJyxcbiAgICAgIC8vIGRyb3BsaXN0IOWGheWuueS7pSBibG9jayDlvaLlvI/lsZXnpLpcbiAgICAgIHR5cGU6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbGlzdDogKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IGVkaXRvci5jb25maWcuY29sb3JzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8aSBzdHlsZT1cXFwiY29sb3I6XCIgKyBjb2xvciArIFwiO1xcXCIgY2xhc3M9XFxcInctZS1pY29uLXBhaW50LWJydXNoXFxcIj48L2k+XCIpLFxuICAgICAgICAgIHZhbHVlOiBjb2xvclxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcih2YWx1ZSkge1xuICAgICAgICAvLyB0aGlzIOaYr+aMh+WQkeW9k+WJjeeahCBCYWNrQ29sb3Ig5a+56LGhXG4gICAgICAgIF90aGlzLmNvbW1hbmQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yLCBjb2xvckxpc3RDb25mKSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog5omn6KGM5ZG95LukXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIEJhY2tDb2xvci5wcm90b3R5cGUuY29tbWFuZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBfYTtcblxuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgaXNFbXB0eVNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpO1xuICAgIHZhciAkc2VsZWN0aW9uRWxlbSA9IChfYSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbXNbMF07XG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtID09IG51bGwpIHJldHVybjtcbiAgICB2YXIgaXNTcGFuID0gKCRzZWxlY3Rpb25FbGVtID09PSBudWxsIHx8ICRzZWxlY3Rpb25FbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc2VsZWN0aW9uRWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gJ3AnO1xuICAgIHZhciBiZ0NvbG9yID0gJHNlbGVjdGlvbkVsZW0gPT09IG51bGwgfHwgJHNlbGVjdGlvbkVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRzZWxlY3Rpb25FbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICB2YXIgaXNTYW1lQ29sb3IgPSB1dGlsXzEuaGV4VG9SZ2IodmFsdWUpID09PSBiZ0NvbG9yO1xuXG4gICAgaWYgKGlzRW1wdHlTZWxlY3Rpb24pIHtcbiAgICAgIGlmIChpc1NwYW4gJiYgIWlzU2FtZUNvbG9yKSB7XG4gICAgICAgIHZhciAkZWxlbXMgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkZWxlbXNbMF0pO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoJGVsZW1zWzBdLmVsZW1zWzBdKTtcbiAgICAgIH0gLy8g5o+S5YWl56m655m96YCJ5Yy6XG5cblxuICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVFbXB0eVJhbmdlKCk7XG4gICAgfVxuXG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdiYWNrQ29sb3InLCB2YWx1ZSk7XG5cbiAgICBpZiAoaXNFbXB0eVNlbGVjdGlvbikge1xuICAgICAgLy8g6ZyA6KaB5bCG6YCJ5Yy66IyD5Zu05oqY5Y+g6LW35p2lXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNvbGxhcHNlUmFuZ2UoKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWwneivleS/ruaUueiPnOWNlea/gOa0u+eKtuaAgVxuICAgKi9cblxuXG4gIEJhY2tDb2xvci5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge307XG5cbiAgcmV0dXJuIEJhY2tDb2xvcjtcbn0oRHJvcExpc3RNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCYWNrQ29sb3I7XG5cbi8qKiovIH0pLFxuLyogMzUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmloflrZfpopzoibIgRm9udENvbG9yXG4gKiBAYXV0aG9yIGxrd1xuICpcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX21hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNykpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBEcm9wTGlzdE1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjQpKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIEZvbnRDb2xvciA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoRm9udENvbG9yLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEZvbnRDb2xvcihlZGl0b3IpIHtcbiAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1NjU4N1xcdTVCNTdcXHU5ODlDXFx1ODI3MlxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1wZW5jaWwyXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIHZhciBjb2xvckxpc3RDb25mID0ge1xuICAgICAgd2lkdGg6IDEyMCxcbiAgICAgIHRpdGxlOiAn5paH5a2X6aKc6ImyJyxcbiAgICAgIC8vIGRyb3BsaXN0IOWGheWuueS7pSBibG9jayDlvaLlvI/lsZXnpLpcbiAgICAgIHR5cGU6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbGlzdDogKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IGVkaXRvci5jb25maWcuY29sb3JzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8aSBzdHlsZT1cXFwiY29sb3I6XCIgKyBjb2xvciArIFwiO1xcXCIgY2xhc3M9XFxcInctZS1pY29uLXBlbmNpbDJcXFwiPjwvaT5cIiksXG4gICAgICAgICAgdmFsdWU6IGNvbG9yXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgIC8vIHRoaXMg5piv5oyH5ZCR5b2T5YmN55qEIEJhY2tDb2xvciDlr7nosaFcbiAgICAgICAgX3RoaXMuY29tbWFuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IsIGNvbG9yTGlzdENvbmYpIHx8IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDmiafooYzlkb3ku6RcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlXG4gICAqL1xuXG5cbiAgRm9udENvbG9yLnByb3RvdHlwZS5jb21tYW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBpc0VtcHR5U2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5pc1NlbGVjdGlvbkVtcHR5KCk7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gKF9hID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXTtcbiAgICBpZiAoJHNlbGVjdGlvbkVsZW0gPT0gbnVsbCkgcmV0dXJuOyAvLyDojrflj5bpgInljLrojIPlm7TnmoTmloflrZdcblxuICAgIHZhciAkc2VsZWN0aW9uVGV4dCA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uVGV4dCgpOyAvLyDlpoLmnpzorr7nva7nmoTmmK8gYSDmoIfnrb7lsLHnibnmrorlpITnkIbkuIDkuIvvvIzpgb/lhY3lm57ovabmjaLooYzorr7nva7popzoibLml6DmlYjnmoTmg4XlhrVcbiAgICAvLyDlj6rlpITnkIbpgInkuK1h5qCH562+5YaF5YWo6YOo5paH5a2X55qE5oOF5Ya177yM5Zug5Li66YCJ5Lit6YOo5YiG5paH5a2X5LiN5a2Y5Zyo5o2i6KGM6aKc6Imy5aSx5pWI55qE5oOF5Ya1XG5cbiAgICBpZiAoJHNlbGVjdGlvbkVsZW0ubm9kZU5hbWUgPT09ICdBJyAmJiAkc2VsZWN0aW9uRWxlbS50ZXh0Q29udGVudCA9PT0gJHNlbGVjdGlvblRleHQpIHtcbiAgICAgIC8vIOWIm+W7uuS4gOS4quebuOW9k+S6juWNoOS9jeeahOWFg+e0oFxuICAgICAgdmFyIF9wYXlsb2FkRWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8c3Bhbj4mIzgyMDM7PC9zcGFuPicpLmdldE5vZGUoKTsgLy8g5re75Yqg5YiwYeagh+etvuS5i+WQjlxuXG5cbiAgICAgICRzZWxlY3Rpb25FbGVtLmFwcGVuZENoaWxkKF9wYXlsb2FkRWxlbSk7XG4gICAgfVxuXG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdmb3JlQ29sb3InLCB2YWx1ZSk7XG5cbiAgICBpZiAoaXNFbXB0eVNlbGVjdGlvbikge1xuICAgICAgLy8g6ZyA6KaB5bCG6YCJ5Yy66IyD5Zu05oqY5Y+g6LW35p2lXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNvbGxhcHNlUmFuZ2UoKTtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWwneivleS/ruaUueiPnOWNlea/gOa0u+eKtuaAgVxuICAgKi9cblxuXG4gIEZvbnRDb2xvci5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge307XG5cbiAgcmV0dXJuIEZvbnRDb2xvcjtcbn0oRHJvcExpc3RNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGb250Q29sb3I7XG5cbi8qKiovIH0pLFxuLyogMzU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDop4bpopEg6I+c5Y2VXG4gKiBAYXV0aG9yIHRvbmdoYW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgUGFuZWxNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSk7XG5cbnZhciBjcmVhdGVfcGFuZWxfY29uZl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNTUpKTtcblxudmFyIGluZGV4XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MSkpO1xuXG52YXIgVmlkZW8gPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFZpZGVvLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFZpZGVvKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU4OUM2XFx1OTg5MVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1wbGF5XFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpczsgLy8g57uR5a6a5LqL5Lu2IHRvb3RpcFxuXG4gICAgaW5kZXhfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOiPnOWNleeCueWHu+S6i+S7tlxuICAgKi9cblxuXG4gIFZpZGVvLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8g5by55Ye6IHBhbmVsXG4gICAgdGhpcy5jcmVhdGVQYW5lbCgnJyk7XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogcGFuZWxcbiAgICogQHBhcmFtIGxpbmsg6ZO+5o6lXG4gICAqL1xuXG5cbiAgVmlkZW8ucHJvdG90eXBlLmNyZWF0ZVBhbmVsID0gZnVuY3Rpb24gKGlmcmFtZSkge1xuICAgIHZhciBjb25mID0gY3JlYXRlX3BhbmVsX2NvbmZfMVtcImRlZmF1bHRcIl0odGhpcy5lZGl0b3IsIGlmcmFtZSk7XG4gICAgdmFyIHBhbmVsID0gbmV3IFBhbmVsXzFbXCJkZWZhdWx0XCJdKHRoaXMsIGNvbmYpO1xuICAgIHBhbmVsLmNyZWF0ZSgpO1xuICB9O1xuICAvKipcbiAgICog5bCd6K+V5L+u5pS56I+c5Y2VIGFjdGl2ZSDnirbmgIFcbiAgICovXG5cblxuICBWaWRlby5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge307XG5cbiAgcmV0dXJuIFZpZGVvO1xufShQYW5lbE1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFZpZGVvO1xuXG4vKioqLyB9KSxcbi8qIDM1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gdmlkZW8g6I+c5Y2VIHBhbmVsIHRhYiDphY3nva5cbiAqIEBhdXRob3IgdG9uZ2hhblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfdHJpbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXBsb2FkX3ZpZGVvXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NikpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbmZ1bmN0aW9uIGRlZmF1bHRfMShlZGl0b3IsIHZpZGVvKSB7XG4gIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnO1xuICB2YXIgdXBsb2FkVmlkZW8gPSBuZXcgdXBsb2FkX3ZpZGVvXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7IC8vIHBhbmVsIOS4remcgOimgeeUqOWIsOeahGlkXG5cbiAgdmFyIGlucHV0SUZyYW1lSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdpbnB1dC1pZnJhbWUnKTtcbiAgdmFyIGJ0bk9rSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdidG4tb2snKTtcbiAgdmFyIGlucHV0VXBsb2FkSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdpbnB1dC11cGxvYWQnKTtcbiAgdmFyIGJ0blN0YXJ0SWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdidG4tbG9jYWwtb2snKTtcbiAgLyoqXG4gICAqIOaPkuWFpemTvuaOpVxuICAgKiBAcGFyYW0gaWZyYW1lIGh0bWzmoIfnrb5cbiAgICovXG5cbiAgZnVuY3Rpb24gaW5zZXJ0VmlkZW8odmlkZW8pIHtcbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCB2aWRlbyArIGNvbnN0XzEuRU1QVFlfUCk7IC8vIHZpZGVv5re75Yqg5ZCO55qE5Zue6LCDXG5cbiAgICBlZGl0b3IuY29uZmlnLm9ubGluZVZpZGVvQ2FsbGJhY2sodmlkZW8pO1xuICB9XG4gIC8qKlxuICAgKiDmoKHpqozlnKjnur/op4bpopHpk77mjqVcbiAgICogQHBhcmFtIHZpZGVvIOWcqOe6v+inhumikemTvuaOpVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNoZWNrT25saW5lVmlkZW8odmlkZW8pIHtcbiAgICAvLyDmn6XnnIvlvIDlj5HogIXoh6rlrprkuYnphY3nva7nmoTov5Tlm57lgLxcbiAgICB2YXIgY2hlY2sgPSBlZGl0b3IuY29uZmlnLm9ubGluZVZpZGVvQ2hlY2sodmlkZW8pO1xuXG4gICAgaWYgKGNoZWNrID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNoZWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy/nlKjmiLfmnKrog73pgJrov4flvIDlj5HogIXnmoTmoKHpqozvvIzlvIDlj5HogIXluIzmnJvmiJHku6zmj5DnpLrov5nkuIDlrZfnrKbkuLJcbiAgICAgIGVkaXRvci5jb25maWcuY3VzdG9tQWxlcnQoY2hlY2ssICdlcnJvcicpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyB0YWJz6YWN572uXG4gIC8vIGNvbnN0IGZpbGVNdWx0aXBsZUF0dHIgPSBjb25maWcudXBsb2FkVmlkZW9NYXhMZW5ndGggPT09IDEgPyAnJyA6ICdtdWx0aXBsZT1cIm11bHRpcGxlXCInXG5cblxuICB2YXIgdGFic0NvbmYgPSBbe1xuICAgIC8vIHRhYiDnmoTmoIfpophcbiAgICB0aXRsZTogZWRpdG9yLmkxOG5leHQudCgnbWVudXMucGFuZWxNZW51cy52aWRlby7kuIrkvKDop4bpopEnKSxcbiAgICB0cGw6IFwiPGRpdiBjbGFzcz1cXFwidy1lLXVwLXZpZGVvLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJcIiArIGJ0blN0YXJ0SWQgKyBcIlxcXCIgY2xhc3M9XFxcInctZS11cC1idG5cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi11cGxvYWQyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XFxcImRpc3BsYXk6bm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiXCIgKyBpbnB1dFVwbG9hZElkICsgXCJcXFwiIHR5cGU9XFxcImZpbGVcXFwiIGFjY2VwdD1cXFwidmlkZW8vKlxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICA8L2Rpdj5cIixcbiAgICBldmVudHM6IFsvLyDop6blj5HpgInmi6nop4bpopFcbiAgICB7XG4gICAgICBzZWxlY3RvcjogJyMnICsgYnRuU3RhcnRJZCxcbiAgICAgIHR5cGU6ICdjbGljaycsXG4gICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgIHZhciAkZmlsZSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCcjJyArIGlucHV0VXBsb2FkSWQpO1xuICAgICAgICB2YXIgZmlsZUVsZW0gPSAkZmlsZS5lbGVtc1swXTtcblxuICAgICAgICBpZiAoZmlsZUVsZW0pIHtcbiAgICAgICAgICBmaWxlRWxlbS5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOi/lOWbniB0cnVlIOWPr+WFs+mXrSBwYW5lbFxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgLy8g6YCJ5oup6KeG6aKR5a6M5q+VXG4gICAge1xuICAgICAgc2VsZWN0b3I6ICcjJyArIGlucHV0VXBsb2FkSWQsXG4gICAgICB0eXBlOiAnY2hhbmdlJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcbiAgICAgICAgdmFyICRmaWxlID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJyMnICsgaW5wdXRVcGxvYWRJZCk7XG4gICAgICAgIHZhciBmaWxlRWxlbSA9ICRmaWxlLmVsZW1zWzBdO1xuXG4gICAgICAgIGlmICghZmlsZUVsZW0pIHtcbiAgICAgICAgICAvLyDov5Tlm54gdHJ1ZSDlj6/lhbPpl60gcGFuZWxcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyDojrflj5bpgInkuK3nmoQgZmlsZSDlr7nosaHliJfooahcblxuXG4gICAgICAgIHZhciBmaWxlTGlzdCA9IGZpbGVFbGVtLmZpbGVzO1xuXG4gICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICB1cGxvYWRWaWRlby51cGxvYWRWaWRlbyhmaWxlTGlzdCk7XG4gICAgICAgIH0gLy8g6L+U5ZueIHRydWUg5Y+v5YWz6ZetIHBhbmVsXG5cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XVxuICB9LCB7XG4gICAgLy8gdGFiIOeahOagh+mimFxuICAgIHRpdGxlOiBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5wYW5lbE1lbnVzLnZpZGVvLuaPkuWFpeinhumikScpLFxuICAgIC8vIOaooeadv1xuICAgIHRwbDogXCI8ZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVxcXCJcIiArIGlucHV0SUZyYW1lSWQgKyBcIlxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cXFwidGV4dFxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImJsb2NrXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiXCIgKyBlZGl0b3IuaTE4bmV4dC50KCflpoInKSArIFwiXFx1RkYxQTxpZnJhbWUgc3JjPS4uLiA+PC9pZnJhbWU+XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidy1lLWJ1dHRvbi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwiXCIgKyBidG5Pa0lkICsgXCJcXFwiIGNsYXNzPVxcXCJyaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgZWRpdG9yLmkxOG5leHQudCgn5o+S5YWlJykgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlwiLFxuICAgIC8vIOS6i+S7tue7keWumlxuICAgIGV2ZW50czogWy8vIOaPkuWFpeinhumikVxuICAgIHtcbiAgICAgIHNlbGVjdG9yOiAnIycgKyBidG5Pa0lkLFxuICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICAgIC8vIOaJp+ihjOaPkuWFpeinhumikVxuICAgICAgICB2YXIgJHZpZGVvID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJyMnICsgaW5wdXRJRnJhbWVJZCk7XG4gICAgICAgIHZhciB2aWRlbyA9ICgwLCBfdHJpbVtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gJHZpZGVvLnZhbCgpKS5jYWxsKF9jb250ZXh0KTsgLy8g6KeG6aKR5Li656m677yM5YiZ5LiN5o+S5YWlXG5cbiAgICAgICAgaWYgKCF2aWRlbykgcmV0dXJuOyAvLyDlr7nlvZPliY3nlKjmiLfmj5LlhaXnmoTlhoXlrrnov5vooYzliKTmlq3vvIzmj5LlhaXkuLrnqbrvvIzmiJbogIXov5Tlm55mYWxzZe+8jOmDveWBnOatouaPkuWFpVxuXG4gICAgICAgIGlmICghY2hlY2tPbmxpbmVWaWRlbyh2aWRlbykpIHJldHVybjtcbiAgICAgICAgaW5zZXJ0VmlkZW8odmlkZW8pOyAvLyDov5Tlm54gdHJ1Ze+8jOihqOekuuivpeS6i+S7tuaJp+ihjOWujOS5i+WQju+8jHBhbmVsIOimgeWFs+mXreOAguWQpuWImSBwYW5lbCDkuI3kvJrlhbPpl61cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBiaW5kRW50ZXI6IHRydWVcbiAgICB9XVxuICB9IC8vIHRhYiBlbmRcbiAgXTtcbiAgdmFyIGNvbmYgPSB7XG4gICAgd2lkdGg6IDMwMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgLy8gcGFuZWwg5Lit5Y+v5YyF5ZCr5aSa5LiqIHRhYlxuICAgIHRhYnM6IFtdIC8vIHRhYnMgZW5kXG5cbiAgfTsgLy8g5pi+56S64oCc5LiK5Lyg6KeG6aKR4oCdXG5cbiAgaWYgKHdpbmRvdy5GaWxlUmVhZGVyICYmIChjb25maWcudXBsb2FkVmlkZW9TZXJ2ZXIgfHwgY29uZmlnLmN1c3RvbVVwbG9hZFZpZGVvKSkge1xuICAgIGNvbmYudGFicy5wdXNoKHRhYnNDb25mWzBdKTtcbiAgfSAvLyDmmL7npLrigJzmj5LlhaXop4bpopHigJ1cblxuXG4gIGlmIChjb25maWcuc2hvd0xpbmtWaWRlbykge1xuICAgIGNvbmYudGFicy5wdXNoKHRhYnNDb25mWzFdKTtcbiAgfVxuXG4gIHJldHVybiBjb25mO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlZmF1bHRfMTtcblxuLyoqKi8gfSksXG4vKiAzNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOinhumikVxuICogQGF1dGhvciBsaWNodW5saW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX3NvbWUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTM3KSk7XG5cbnZhciBfYmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIHVwbG9hZF9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCkpO1xuXG52YXIgcHJvZ3Jlc3NfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQxKSk7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIHV0aWxfMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBVcGxvYWRWaWRlbyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVXBsb2FkVmlkZW8oZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gIH1cbiAgLyoqXG4gICAqIOS4iuS8oOinhumikVxuICAgKiBAcGFyYW0gZmlsZXMg5paH5Lu25YiX6KGoXG4gICAqL1xuXG5cbiAgVXBsb2FkVmlkZW8ucHJvdG90eXBlLnVwbG9hZFZpZGVvID0gZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICghZmlsZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaTE4bmV4dCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBpMThuUHJlZml4ID0gJ3ZhbGlkYXRlLic7XG5cbiAgICB2YXIgdCA9IGZ1bmN0aW9uIHQodGV4dCkge1xuICAgICAgcmV0dXJuIGVkaXRvci5pMThuZXh0LnQoaTE4blByZWZpeCArIHRleHQpO1xuICAgIH07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDojrflj5bphY3nva7kv6Hmga8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8g5pyN5Yqh56uv5Zyw5Z2AXG5cblxuICAgIHZhciB1cGxvYWRWaWRlb1NlcnZlciA9IGNvbmZpZy51cGxvYWRWaWRlb1NlcnZlcjsgLy8g5LiK5Lyg6KeG6aKR55qE5pyA5aSn5L2T56ev77yM6buY6K6kIDEwMjRNXG5cbiAgICB2YXIgbWF4U2l6ZSA9IGNvbmZpZy51cGxvYWRWaWRlb01heFNpemU7XG4gICAgdmFyIHVwbG9hZFZpZGVvTWF4U2l6ZSA9IG1heFNpemUgLyAxMDI0OyAvLyDkuIDmrKHmnIDlpJrkuIrkvKDlpJrlsJHkuKrop4bpopFcbiAgICAvLyBjb25zdCB1cGxvYWRWaWRlb01heExlbmd0aCA9IGNvbmZpZy51cGxvYWRWaWRlb01heExlbmd0aFxuICAgIC8vIOiHquWumuS5ieS4iuS8oOinhumikeeahOWQjeensFxuXG4gICAgdmFyIHVwbG9hZFZpZGVvTmFtZSA9IGNvbmZpZy51cGxvYWRWaWRlb05hbWU7IC8vIOS4iuS8oOinhumikeiHquWumuS5ieWPguaVsFxuXG4gICAgdmFyIHVwbG9hZFZpZGVvUGFyYW1zID0gY29uZmlnLnVwbG9hZFZpZGVvUGFyYW1zOyAvLyDoh6rlrprkuYnlj4LmlbDmi7zmjqXliLAgdXJsIOS4rVxuXG4gICAgdmFyIHVwbG9hZFZpZGVvUGFyYW1zV2l0aFVybCA9IGNvbmZpZy51cGxvYWRWaWRlb1BhcmFtc1dpdGhVcmw7IC8vIOS4iuS8oOinhumikeiHquWumuS5iSBoZWFkZXJcblxuICAgIHZhciB1cGxvYWRWaWRlb0hlYWRlcnMgPSBjb25maWcudXBsb2FkVmlkZW9IZWFkZXJzOyAvLyDpkqnlrZDlh73mlbBcblxuICAgIHZhciB1cGxvYWRWaWRlb0hvb2tzID0gY29uZmlnLnVwbG9hZFZpZGVvSG9va3M7IC8vIOS4iuS8oOinhumikei2heaXtuaXtumXtCBtcyDpu5jorqQy5Liq5bCP5pe2XG5cbiAgICB2YXIgdXBsb2FkVmlkZW9UaW1lb3V0ID0gY29uZmlnLnVwbG9hZFZpZGVvVGltZW91dDsgLy8g6Leo5Z+f5bimIGNvb2tpZVxuXG4gICAgdmFyIHdpdGhWaWRlb0NyZWRlbnRpYWxzID0gY29uZmlnLndpdGhWaWRlb0NyZWRlbnRpYWxzOyAvLyDoh6rlrprkuYnkuIrkvKBcblxuICAgIHZhciBjdXN0b21VcGxvYWRWaWRlbyA9IGNvbmZpZy5jdXN0b21VcGxvYWRWaWRlbzsgLy8g5qC85byP5qCh6aqMXG5cbiAgICB2YXIgdXBsb2FkVmlkZW9BY2NlcHQgPSBjb25maWcudXBsb2FkVmlkZW9BY2NlcHQ7IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDpqozor4Hmlofku7bkv6Hmga8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICB2YXIgcmVzdWx0RmlsZXMgPSBbXTtcbiAgICB2YXIgZXJySW5mb3MgPSBbXTtcbiAgICB1dGlsXzEuYXJyRm9yRWFjaChmaWxlcywgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIHZhciBuYW1lID0gZmlsZS5uYW1lO1xuICAgICAgdmFyIHNpemUgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNDsgLy8gY2hyb21lIOS9jueJiOacrCBuYW1lID09PSB1bmRlZmluZWRcblxuICAgICAgaWYgKCFuYW1lIHx8ICFzaXplKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEodXBsb2FkVmlkZW9BY2NlcHQgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgLy8g5qC85byP5LiN5piv5pWw57uEXG4gICAgICAgIGVyckluZm9zLnB1c2goXCJcXHUzMDEwXCIgKyB1cGxvYWRWaWRlb0FjY2VwdCArIFwiXFx1MzAxMVwiICsgdCgndXBsb2FkVmlkZW9BY2NlcHQg5LiN5pivQXJyYXknKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoMCwgX3NvbWVbXCJkZWZhdWx0XCJdKSh1cGxvYWRWaWRlb0FjY2VwdCkuY2FsbCh1cGxvYWRWaWRlb0FjY2VwdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IG5hbWUuc3BsaXQoJy4nKVtuYW1lLnNwbGl0KCcuJykubGVuZ3RoIC0gMV07XG4gICAgICB9KSkge1xuICAgICAgICAvLyDlkI7nvIDlkI3kuI3lkIjms5XvvIzkuI3mmK/op4bpopFcbiAgICAgICAgZXJySW5mb3MucHVzaChcIlxcdTMwMTBcIiArIG5hbWUgKyBcIlxcdTMwMTFcIiArIHQoJ+S4jeaYr+inhumikScpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXBsb2FkVmlkZW9NYXhTaXplIDwgc2l6ZSkge1xuICAgICAgICAvLyDkuIrkvKDop4bpopHov4flpKdcbiAgICAgICAgZXJySW5mb3MucHVzaChcIlxcdTMwMTBcIiArIG5hbWUgKyBcIlxcdTMwMTFcIiArIHQoJ+Wkp+S6jicpICsgXCIgXCIgKyB1cGxvYWRWaWRlb01heFNpemUgKyBcIk1cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy/pqozor4HpgJrov4fnmoTliqDlhaXnu5PmnpzliJfooahcblxuXG4gICAgICByZXN1bHRGaWxlcy5wdXNoKGZpbGUpO1xuICAgIH0pOyAvLyDmipvlh7rpqozor4Hkv6Hmga9cblxuICAgIGlmIChlcnJJbmZvcy5sZW5ndGgpIHtcbiAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfop4bpopHpqozor4HmnKrpgJrov4cnKSArIFwiOiBcXG5cIiArIGVyckluZm9zLmpvaW4oJ1xcbicpLCAnd2FybmluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8g5aaC5p6c6L+H5ruk5ZCO5paH5Lu25YiX6KGo5Li656m655u05o6l6L+U5ZueXG5cblxuICAgIGlmIChyZXN1bHRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfkvKDlhaXnmoTmlofku7bkuI3lkIjms5UnKSwgJ3dhcm5pbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDoh6rlrprkuYnkuIrkvKAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICAgIGlmIChjdXN0b21VcGxvYWRWaWRlbyAmJiB0eXBlb2YgY3VzdG9tVXBsb2FkVmlkZW8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgY3VzdG9tVXBsb2FkVmlkZW8ocmVzdWx0RmlsZXMsICgwLCBfYmluZFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gdGhpcy5pbnNlcnRWaWRlbykuY2FsbChfY29udGV4dCwgdGhpcykpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8g5re75Yqg6KeG6aKR5pWw5o2uXG5cblxuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHJlc3VsdEZpbGVzKS5jYWxsKHJlc3VsdEZpbGVzLCBmdW5jdGlvbiAoZmlsZSwgaW5kZXgpIHtcbiAgICAgIHZhciBuYW1lID0gdXBsb2FkVmlkZW9OYW1lIHx8IGZpbGUubmFtZTtcblxuICAgICAgaWYgKHJlc3VsdEZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8g5aSa5Liq5paH5Lu25pe277yMZmlsZW5hbWUg5LiN6IO96YeN5aSNXG4gICAgICAgIG5hbWUgPSBuYW1lICsgKGluZGV4ICsgMSk7XG4gICAgICB9XG5cbiAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBmaWxlKTtcbiAgICB9KTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOS4iuS8oOinhumikSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL+a3u+WKoOiHquWumuS5ieWPguaVsCAg5Z+65LqO5pyJ5pyN5Yqh56uv5Zyw5Z2A55qE5oOF5Ya15LiLXG5cbiAgICBpZiAodXBsb2FkVmlkZW9TZXJ2ZXIpIHtcbiAgICAgIC8vIOa3u+WKoOiHquWumuS5ieWPguaVsFxuICAgICAgdmFyIHVwbG9hZFZpZGVvU2VydmVyQXJyID0gdXBsb2FkVmlkZW9TZXJ2ZXIuc3BsaXQoJyMnKTtcbiAgICAgIHVwbG9hZFZpZGVvU2VydmVyID0gdXBsb2FkVmlkZW9TZXJ2ZXJBcnJbMF07XG4gICAgICB2YXIgdXBsb2FkVmlkZW9TZXJ2ZXJIYXNoID0gdXBsb2FkVmlkZW9TZXJ2ZXJBcnJbMV0gfHwgJyc7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh1dGlsXzEpLmNhbGwodXRpbF8xLCB1cGxvYWRWaWRlb1BhcmFtcywgZnVuY3Rpb24gKGtleSwgdmFsKSB7XG4gICAgICAgIC8vIOWboOS9v+eUqOiAheWPjeW6lO+8jOiHquWumuS5ieWPguaVsOS4jeiDvem7mOiupCBlbmNvZGUg77yM55SxIHYzLjEuMSDniYjmnKzlvIDlp4vms6jph4rmjolcbiAgICAgICAgLy8gdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbClcbiAgICAgICAgLy8g56ys5LiA77yM5bCG5Y+C5pWw5ou85o6l5YiwIHVybCDkuK1cbiAgICAgICAgaWYgKHVwbG9hZFZpZGVvUGFyYW1zV2l0aFVybCkge1xuICAgICAgICAgIGlmICgoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKSh1cGxvYWRWaWRlb1NlcnZlcikuY2FsbCh1cGxvYWRWaWRlb1NlcnZlciwgJz8nKSA+IDApIHtcbiAgICAgICAgICAgIHVwbG9hZFZpZGVvU2VydmVyICs9ICcmJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBsb2FkVmlkZW9TZXJ2ZXIgKz0gJz8nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwbG9hZFZpZGVvU2VydmVyID0gdXBsb2FkVmlkZW9TZXJ2ZXIgKyBrZXkgKyAnPScgKyB2YWw7XG4gICAgICAgIH0gLy8g56ys5LqM77yM5bCG5Y+C5pWw5re75Yqg5YiwIGZvcm1EYXRhIOS4rVxuXG5cbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXBsb2FkVmlkZW9TZXJ2ZXJIYXNoKSB7XG4gICAgICAgIHVwbG9hZFZpZGVvU2VydmVyICs9ICcjJyArIHVwbG9hZFZpZGVvU2VydmVySGFzaDtcbiAgICAgIH0gLy8g5byA5aeL5LiK5LygXG5cblxuICAgICAgdmFyIHhociA9IHVwbG9hZF9jb3JlXzFbXCJkZWZhdWx0XCJdKHVwbG9hZFZpZGVvU2VydmVyLCB7XG4gICAgICAgIHRpbWVvdXQ6IHVwbG9hZFZpZGVvVGltZW91dCxcbiAgICAgICAgZm9ybURhdGE6IGZvcm1EYXRhLFxuICAgICAgICBoZWFkZXJzOiB1cGxvYWRWaWRlb0hlYWRlcnMsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogISF3aXRoVmlkZW9DcmVkZW50aWFscyxcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gYmVmb3JlU2VuZCh4aHIpIHtcbiAgICAgICAgICBpZiAodXBsb2FkVmlkZW9Ib29rcy5iZWZvcmUpIHJldHVybiB1cGxvYWRWaWRlb0hvb2tzLmJlZm9yZSh4aHIsIGVkaXRvciwgcmVzdWx0RmlsZXMpO1xuICAgICAgICB9LFxuICAgICAgICBvblRpbWVvdXQ6IGZ1bmN0aW9uIG9uVGltZW91dCh4aHIpIHtcbiAgICAgICAgICBjb25maWcuY3VzdG9tQWxlcnQodCgn5LiK5Lyg6KeG6aKR6LaF5pe2JyksICdlcnJvcicpO1xuICAgICAgICAgIGlmICh1cGxvYWRWaWRlb0hvb2tzLnRpbWVvdXQpIHVwbG9hZFZpZGVvSG9va3MudGltZW91dCh4aHIsIGVkaXRvcik7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocGVyY2VudCwgZSkge1xuICAgICAgICAgIHZhciBwcm9ncmVzc0JhciA9IG5ldyBwcm9ncmVzc18xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuXG4gICAgICAgICAgaWYgKGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgcGVyY2VudCA9IGUubG9hZGVkIC8gZS50b3RhbDtcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnNob3cocGVyY2VudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhocikge1xuICAgICAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfkuIrkvKDop4bpopHplJnor68nKSwgJ2Vycm9yJywgdCgn5LiK5Lyg6KeG6aKR6ZSZ6K+vJykgKyBcIlxcdUZGMENcIiArIHQoJ+acjeWKoeWZqOi/lOWbnueKtuaAgScpICsgXCI6IFwiICsgeGhyLnN0YXR1cyk7XG4gICAgICAgICAgaWYgKHVwbG9hZFZpZGVvSG9va3MuZXJyb3IpIHVwbG9hZFZpZGVvSG9va3MuZXJyb3IoeGhyLCBlZGl0b3IpO1xuICAgICAgICB9LFxuICAgICAgICBvbkZhaWw6IGZ1bmN0aW9uIG9uRmFpbCh4aHIsIHJlc3VsdFN0cikge1xuICAgICAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfkuIrkvKDop4bpopHlpLHotKUnKSwgJ2Vycm9yJywgdCgn5LiK5Lyg6KeG6aKR6L+U5Zue57uT5p6c6ZSZ6K+vJykgKyAoXCJcXHVGRjBDXCIgKyB0KCfov5Tlm57nu5PmnpwnKSArIFwiOiBcIikgKyByZXN1bHRTdHIpO1xuICAgICAgICAgIGlmICh1cGxvYWRWaWRlb0hvb2tzLmZhaWwpIHVwbG9hZFZpZGVvSG9va3MuZmFpbCh4aHIsIGVkaXRvciwgcmVzdWx0U3RyKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoeGhyLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAodXBsb2FkVmlkZW9Ib29rcy5jdXN0b21JbnNlcnQpIHtcbiAgICAgICAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgICAgICAgIC8vIOiHquWumuS5ieaPkuWFpeinhumikVxuICAgICAgICAgICAgdXBsb2FkVmlkZW9Ib29rcy5jdXN0b21JbnNlcnQoKDAsIF9iaW5kW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gX3RoaXMuaW5zZXJ0VmlkZW8pLmNhbGwoX2NvbnRleHQyLCBfdGhpcyksIHJlc3VsdCwgZWRpdG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVzdWx0LmVycm5vICE9ICcwJykge1xuICAgICAgICAgICAgLy8g6L+U5Zue5qC85byP5LiN5a+577yM5bqU6K+l5Li6IHsgZXJybm86IDAsIGRhdGE6IFsuLi5dIH1cbiAgICAgICAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh0KCfkuIrkvKDop4bpopHlpLHotKUnKSwgJ2Vycm9yJywgdCgn5LiK5Lyg6KeG6aKR6L+U5Zue57uT5p6c6ZSZ6K+vJykgKyBcIlxcdUZGMENcIiArIHQoJ+i/lOWbnue7k+aenCcpICsgXCIgZXJybm89XCIgKyByZXN1bHQuZXJybm8pO1xuICAgICAgICAgICAgaWYgKHVwbG9hZFZpZGVvSG9va3MuZmFpbCkgdXBsb2FkVmlkZW9Ib29rcy5mYWlsKHhociwgZWRpdG9yLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8g5oiQ5Yqf77yM5o+S5YWl6KeG6aKRXG5cblxuICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0LmRhdGE7XG5cbiAgICAgICAgICBfdGhpcy5pbnNlcnRWaWRlbyhkYXRhLnVybCk7IC8vIOmSqeWtkOWHveaVsFxuXG5cbiAgICAgICAgICBpZiAodXBsb2FkVmlkZW9Ib29rcy5zdWNjZXNzKSB1cGxvYWRWaWRlb0hvb2tzLnN1Y2Nlc3MoeGhyLCBlZGl0b3IsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHlwZW9mIHhociA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8g5LiK5Lyg6KKr6Zi75q2iXG4gICAgICAgIGNvbmZpZy5jdXN0b21BbGVydCh4aHIsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOW+gOe8lui+keWZqOWMuuWfn+aPkuWFpeinhumikVxuICAgKiBAcGFyYW0gdXJsIOinhumikeiuv+mXruWcsOWdgFxuICAgKi9cblxuXG4gIFVwbG9hZFZpZGVvLnByb3RvdHlwZS5pbnNlcnRWaWRlbyA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyIGNvbmZpZyA9IGVkaXRvci5jb25maWc7XG4gICAgdmFyIGkxOG5QcmVmaXggPSAndmFsaWRhdGUuJztcblxuICAgIHZhciB0ID0gZnVuY3Rpb24gdCh0ZXh0LCBwcmVmaXgpIHtcbiAgICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgICAgICBwcmVmaXggPSBpMThuUHJlZml4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudChwcmVmaXggKyB0ZXh0KTtcbiAgICB9OyAvLyDliKTmlq3nlKjmiLfmmK/lkKboh6rlrprkuYnmj5LlhaXop4bpopFcblxuXG4gICAgaWYgKCFjb25maWcuY3VzdG9tSW5zZXJ0VmlkZW8pIHtcbiAgICAgIGlmICh1dGlsXzIuVUEuaXNGaXJlZm94KSB7XG4gICAgICAgIGVkaXRvci5jbWRbXCJkb1wiXSgnaW5zZXJ0SFRNTCcsIFwiPHAgZGF0YS13ZS12aWRlby1wPVxcXCJ0cnVlXFxcIj48dmlkZW8gc3JjPVxcXCJcIiArIHVybCArIFwiXFxcIiBjb250cm9scz1cXFwiY29udHJvbHNcXFwiIHN0eWxlPVxcXCJtYXgtd2lkdGg6MTAwJVxcXCI+PC92aWRlbz48L3A+PHA+JiM4MjAzPC9wPlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRvci5jbWRbXCJkb1wiXSgnaW5zZXJ0SFRNTCcsIFwiPHZpZGVvIHNyYz1cXFwiXCIgKyB1cmwgKyBcIlxcXCIgY29udHJvbHM9XFxcImNvbnRyb2xzXFxcIiBzdHlsZT1cXFwibWF4LXdpZHRoOjEwMCVcXFwiPjwvdmlkZW8+XCIgKyBjb25zdF8xLkVNUFRZX1ApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuY3VzdG9tSW5zZXJ0VmlkZW8odXJsKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIOWKoOi9veinhumikVxuXG5cbiAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgdmlkZW8ub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmlkZW8gPSBudWxsO1xuICAgIH07XG5cbiAgICB2aWRlby5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uZmlnLmN1c3RvbUFsZXJ0KHQoJ+aPkuWFpeinhumikemUmeivrycpLCAnZXJyb3InLCBcIndhbmdFZGl0b3I6IFwiICsgdCgn5o+S5YWl6KeG6aKR6ZSZ6K+vJykgKyBcIlxcdUZGMENcIiArIHQoJ+inhumikemTvuaOpScpICsgXCIgXFxcIlwiICsgdXJsICsgXCJcXFwiXFx1RkYwQ1wiICsgdCgn5LiL6L296ZO+5o6l5aSx6LSlJykpO1xuICAgICAgdmlkZW8gPSBudWxsO1xuICAgIH07XG5cbiAgICB2aWRlby5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZpZGVvID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmlkZW8uc3JjID0gdXJsO1xuICB9O1xuXG4gIHJldHVybiBVcGxvYWRWaWRlbztcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBVcGxvYWRWaWRlbztcblxuLyoqKi8gfSksXG4vKiAzNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OCk7XG5cbi8qKiovIH0pLFxuLyogMzU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMzU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMzYwKTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5EYXRlLm5vdztcblxuXG4vKioqLyB9KSxcbi8qIDM2MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbi8vIGBEYXRlLm5vd2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWRhdGUubm93XG4kKHsgdGFyZ2V0OiAnRGF0ZScsIHN0YXQ6IHRydWUgfSwge1xuICBub3c6IGZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMzYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDnu5Hlrprop4bpopHnmoTkuovku7ZcbiAqIEBhdXRob3IgbGljaHVubGluXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdG9vbHRpcF9ldmVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNjIpKTtcblxudmFyIGtleWJvYXJkXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NCkpO1xuLyoqXG4gKiDnu5Hlrprkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kRXZlbnQoZWRpdG9yKSB7XG4gIC8vVG9vbHRpcFxuICB0b29sdGlwX2V2ZW50XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gIGtleWJvYXJkXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDM2MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gdG9vbHRpcCDkuovku7ZcbiAqIEBhdXRob3IgbGljaHVubGluXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlU2hvd0hpZGVGbiA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgdmlkZW9fYWxpZ25tZW50XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MykpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuXG4gIHZhciB0ID0gZnVuY3Rpb24gdCh0ZXh0LCBwcmVmaXgpIHtcbiAgICBpZiAocHJlZml4ID09PSB2b2lkIDApIHtcbiAgICAgIHByZWZpeCA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBlZGl0b3IuaTE4bmV4dC50KHByZWZpeCArIHRleHQpO1xuICB9O1xuICAvKipcbiAgICog5pi+56S6IHRvb2x0aXBcbiAgICogQHBhcmFtICRub2RlIOmTvuaOpeWFg+e0oFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHNob3dWaWRlb1Rvb2x0aXAoJG5vZGUpIHtcbiAgICB2YXIgY29uZiA9IFt7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3BhbiBjbGFzcz0ndy1lLWljb24tdHJhc2gtbyc+PC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAvLyDpgInkuK12aWRlb+WFg+e0oCDliKDpmaRcbiAgICAgICAgJG5vZGUucmVtb3ZlKCk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxzcGFuPjEwMCU8L3NwYW4+JyksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgJG5vZGUuYXR0cignd2lkdGgnLCAnMTAwJScpO1xuICAgICAgICAkbm9kZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHNwYW4+NTAlPC9zcGFuPicpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgICRub2RlLmF0dHIoJ3dpZHRoJywgJzUwJScpO1xuICAgICAgICAkbm9kZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHNwYW4+MzAlPC9zcGFuPicpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgICRub2RlLmF0dHIoJ3dpZHRoJywgJzMwJScpO1xuICAgICAgICAkbm9kZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgn6YeN572uJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgJG5vZGUucmVtb3ZlQXR0cignd2lkdGgnKTtcbiAgICAgICAgJG5vZGUucmVtb3ZlQXR0cignaGVpZ2h0Jyk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3Bhbj5cIiArIHQoJ21lbnVzLmp1c3RpZnku6Z2g5bemJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g6I635Y+W6aG257qn5YWD57SgXG4gICAgICAgIHZpZGVvX2FsaWdubWVudF8xW1wiZGVmYXVsdFwiXSgkbm9kZSwgJ2xlZnQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgnbWVudXMuanVzdGlmeS7lsYXkuK0nKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAvLyDojrflj5bpobbnuqflhYPntKBcbiAgICAgICAgdmlkZW9fYWxpZ25tZW50XzFbXCJkZWZhdWx0XCJdKCRub2RlLCAnY2VudGVyJyk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3Bhbj5cIiArIHQoJ21lbnVzLmp1c3RpZnku6Z2g5Y+zJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g6I635Y+W6aG257qn5YWD57SgXG4gICAgICAgIHZpZGVvX2FsaWdubWVudF8xW1wiZGVmYXVsdFwiXSgkbm9kZSwgJ3JpZ2h0Jyk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XTtcbiAgICB0b29sdGlwID0gbmV3IFRvb2x0aXBfMVtcImRlZmF1bHRcIl0oZWRpdG9yLCAkbm9kZSwgY29uZik7XG4gICAgdG9vbHRpcC5jcmVhdGUoKTtcbiAgfVxuICAvKipcbiAgICog6ZqQ6JePIHRvb2x0aXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBoaWRlVmlkZW9Ub29sdGlwKCkge1xuICAgIC8vIOenu+mZpCB0b29sdGlwXG4gICAgaWYgKHRvb2x0aXApIHtcbiAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgICB0b29sdGlwID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNob3dWaWRlb1Rvb2x0aXA6IHNob3dWaWRlb1Rvb2x0aXAsXG4gICAgaGlkZVZpZGVvVG9vbHRpcDogaGlkZVZpZGVvVG9vbHRpcFxuICB9O1xufVxuXG5leHBvcnRzLmNyZWF0ZVNob3dIaWRlRm4gPSBjcmVhdGVTaG93SGlkZUZuO1xuLyoqXG4gKiDnu5HlrpogdG9vbHRpcCDkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuZnVuY3Rpb24gYmluZFRvb2x0aXBFdmVudChlZGl0b3IpIHtcbiAgdmFyIF9hID0gY3JlYXRlU2hvd0hpZGVGbihlZGl0b3IpLFxuICAgICAgc2hvd1ZpZGVvVG9vbHRpcCA9IF9hLnNob3dWaWRlb1Rvb2x0aXAsXG4gICAgICBoaWRlVmlkZW9Ub29sdGlwID0gX2EuaGlkZVZpZGVvVG9vbHRpcDsgLy8g54K55Ye76KeG6aKR5YWD57Sg5piv77yM5pi+56S6IHRvb2x0aXBcblxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy52aWRlb0NsaWNrRXZlbnRzLnB1c2goc2hvd1ZpZGVvVG9vbHRpcCk7IC8vIOeCueWHu+WFtuS7luWcsOaWue+8jOaIluiAhea7muWKqOaXtu+8jOmakOiXjyB0b29sdGlwXG5cbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmNsaWNrRXZlbnRzLnB1c2goaGlkZVZpZGVvVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5rZXl1cEV2ZW50cy5wdXNoKGhpZGVWaWRlb1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MudG9vbGJhckNsaWNrRXZlbnRzLnB1c2goaGlkZVZpZGVvVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5tZW51Q2xpY2tFdmVudHMucHVzaChoaWRlVmlkZW9Ub29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRleHRTY3JvbGxFdmVudHMucHVzaChoaWRlVmlkZW9Ub29sdGlwKTsgLy8gY2hhbmdlIOaXtumakOiXj1xuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jaGFuZ2VFdmVudHMucHVzaChoaWRlVmlkZW9Ub29sdGlwKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kVG9vbHRpcEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDM2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6KeG6aKR5biD5bGAIOS6i+S7tlxuICogQGF1dGhvciBsaWNodW5saW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2luY2x1ZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTsgLy8g6K6+572u5biD5bGA5pa55byPXG5cblxuZnVuY3Rpb24gc2V0QWxpZ25tZW50KCRub2RlLCB2YWx1ZSkge1xuICAvLyDorr7nva7pobbnuqflhYPntKDljLnphY1cbiAgdmFyIE5PREVOQU1FID0gWydQJ107IC8vIOiOt+WPluWMuemFjeW+l+mhtue6p+WFg+e0oFxuXG4gIHZhciB0b3BOb2RlID0gZ2V0U2VsZWN0ZWRUb3BOb2RlKCRub2RlLCBOT0RFTkFNRSk7IC8vIOWIpOaWreaYr+WQpuWtmOWcqFxuXG4gIGlmICh0b3BOb2RlKSB7XG4gICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odG9wTm9kZSkuY3NzKCd0ZXh0LWFsaWduJywgdmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gc2V0QWxpZ25tZW50O1xuLyoqXG4gKiDojrflj5bpgInkuK3nmoTlhYPntKDnmoTpobbnuqflhYPntKBcbiAqIEBwYXJhbXMgZWwg6YCJ5Lit55qE5YWD57SgXG4gKiBAcGFyYW1zIHRhZyDljLnphY3pobbnuqfnmoTlhYPntKAg5aaCIFAgTEkgLi4uLlxuICovXG5cbmZ1bmN0aW9uIGdldFNlbGVjdGVkVG9wTm9kZShlbCwgdGFnKSB7XG4gIHZhciBfYTtcblxuICB2YXIgcGFyZW50Tm9kZSA9IGVsLmVsZW1zWzBdOyAvLyDlj6/og73lh7rnjrDltYzlpZfnmoTmg4XlhrXvvIzmiYDku6XkuIDnuqfkuIDnuqflkJHkuIrmib7vvIzmib7liLDmjIflrprlvpfpobbnuqflhYPntKBcblxuICB3aGlsZSAocGFyZW50Tm9kZSAhPSBudWxsKSB7XG4gICAgaWYgKCgwLCBfaW5jbHVkZXNbXCJkZWZhdWx0XCJdKSh0YWcpLmNhbGwodGFnLCBwYXJlbnROb2RlID09PSBudWxsIHx8IHBhcmVudE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgICB9IC8vIOWFnOW6lSBib2R5XG5cblxuICAgIGlmICgoKF9hID0gcGFyZW50Tm9kZSA9PT0gbnVsbCB8fCBwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnROb2RlLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub2RlTmFtZSkgPT09ICdCT0RZJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnROb2RlO1xufVxuXG4vKioqLyB9KSxcbi8qIDM2NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuZnVuY3Rpb24gYmluZEV2ZW50S2V5Ym9hcmRFdmVudChlZGl0b3IpIHtcbiAgaWYgKCF1dGlsXzEuVUEuaXNGaXJlZm94KSByZXR1cm47XG4gIHZhciB0eHQgPSBlZGl0b3IudHh0LFxuICAgICAgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgdmFyIGtleWRvd25FdmVudHMgPSB0eHQuZXZlbnRIb29rcy5rZXlkb3duRXZlbnRzO1xuICBrZXlkb3duRXZlbnRzLnB1c2goZnVuY3Rpb24gKGUpIHtcbiAgICAvLyDlrp7ml7bkv53lrZjpgInljLpcbiAgICAvLyBlZGl0b3Iuc2VsZWN0aW9uLnNhdmVSYW5nZSgpXG4gICAgdmFyICRzZWxlY3Rpb25Db250YWluZXJFbGVtID0gc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcblxuICAgIGlmICgkc2VsZWN0aW9uQ29udGFpbmVyRWxlbSkge1xuICAgICAgdmFyICR0b3BFbGVtID0gJHNlbGVjdGlvbkNvbnRhaW5lckVsZW0uZ2V0Tm9kZVRvcChlZGl0b3IpO1xuICAgICAgdmFyICRwcmVFbGVtID0gJHRvcEVsZW0ubGVuZ3RoID8gJHRvcEVsZW0ucHJldigpLmxlbmd0aCA/ICR0b3BFbGVtLnByZXYoKSA6IG51bGwgOiBudWxsO1xuXG4gICAgICBpZiAoJHByZUVsZW0gJiYgJHByZUVsZW0uYXR0cignZGF0YS13ZS12aWRlby1wJykpIHtcbiAgICAgICAgLy8g5YWJ5qCH5aSE5LqO6YCJ5Yy65byA5aS0XG4gICAgICAgIGlmIChzZWxlY3Rpb24uZ2V0Q3Vyc29yUG9zKCkgPT09IDApIHtcbiAgICAgICAgICAvLyDlpoLmnpzkuIrkuIDkuKpkb23mmK/ljIXlkKt2aWRlb++8jCDmjInkuIvliKDpmaTov552aWRlb+S4gOWdl+WIoOmZpFxuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDgpIHtcbiAgICAgICAgICAgICRwcmVFbGVtLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50S2V5Ym9hcmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiAzNjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOaPkuWFpeOAgeS4iuS8oOWbvueJh1xuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjcpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgUGFuZWxNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSk7XG5cbnZhciBpbmRleF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpKTtcblxudmFyIGNyZWF0ZV9wYW5lbF9jb25mXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OSkpO1xuXG52YXIgSW1hZ2UgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKEltYWdlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEltYWdlKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdiBjbGFzcz1cInctZS1tZW51XCIgZGF0YS10aXRsZT1cIuWbvueJh1wiPjxpIGNsYXNzPVwidy1lLWljb24taW1hZ2VcIj48L2k+PC9kaXY+Jyk7XG4gICAgdmFyIGltZ1BhbmVsQ29uZmlnID0gY3JlYXRlX3BhbmVsX2NvbmZfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcblxuICAgIGlmIChpbWdQYW5lbENvbmZpZy5vbmx5VXBsb2FkQ29uZikge1xuICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICAkZWxlbSA9IGltZ1BhbmVsQ29uZmlnLm9ubHlVcGxvYWRDb25mLiRlbGVtO1xuICAgICAgKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IGltZ1BhbmVsQ29uZmlnLm9ubHlVcGxvYWRDb25mLmV2ZW50cykuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gZXZlbnQudHlwZTtcbiAgICAgICAgdmFyIGZuID0gZXZlbnQuZm4gfHwgY29uc3RfMS5FTVBUWV9GTjtcbiAgICAgICAgJGVsZW0ub24odHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGZuKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgICBfdGhpcy5pbWdQYW5lbENvbmZpZyA9IGltZ1BhbmVsQ29uZmlnOyAvLyDnu5Hlrprkuovku7bvvIzlpoLnspjotLTlm77niYdcblxuICAgIGluZGV4XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDoj5zljZXngrnlh7vkuovku7ZcbiAgICovXG5cblxuICBJbWFnZS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pbWdQYW5lbENvbmZpZy5vbmx5VXBsb2FkQ29uZikge1xuICAgICAgdGhpcy5jcmVhdGVQYW5lbCgpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOWIm+W7uiBwYW5lbFxuICAgKi9cblxuXG4gIEltYWdlLnByb3RvdHlwZS5jcmVhdGVQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29uZiA9IHRoaXMuaW1nUGFuZWxDb25maWc7XG4gICAgdmFyIHBhbmVsID0gbmV3IFBhbmVsXzFbXCJkZWZhdWx0XCJdKHRoaXMsIGNvbmYpO1xuICAgIHRoaXMuc2V0UGFuZWwocGFuZWwpO1xuICAgIHBhbmVsLmNyZWF0ZSgpO1xuICB9O1xuICAvKipcbiAgICog5bCd6K+V5L+u5pS56I+c5Y2VIGFjdGl2ZSDnirbmgIFcbiAgICovXG5cblxuICBJbWFnZS5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge307XG5cbiAgcmV0dXJuIEltYWdlO1xufShQYW5lbE1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEltYWdlO1xuXG4vKioqLyB9KSxcbi8qIDM2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57uR5a6a5Zu+54mH55qE5LqL5Lu2XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBwYXN0ZV9pbWdfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzY3KSk7XG5cbnZhciBkcm9wX2ltZ18xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpKTtcblxudmFyIGRyYWdfc2l6ZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpKTtcblxudmFyIHRvb2x0aXBfZXZlbnRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzc3KSk7XG5cbnZhciBrZXlib2FyZF9ldmVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNzgpKTtcbi8qKlxuICog57uR5a6a5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gYmluZEV2ZW50KGVkaXRvcikge1xuICAvLyDnspjotLTlm77niYdcbiAgcGFzdGVfaW1nXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7IC8vIOaLluaLveWbvueJh1xuXG4gIGRyb3BfaW1nXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7IC8vIOWPr+WGjeaJqeWxleWFtuS7luS6i+S7ti4uLuWmguWbvueJhyB0b29sdGlwIOetiVxuICAvLyDmi5bmi73lm77niYflsLrlr7hcblxuICBkcmFnX3NpemVfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTsgLy9Ub29sdGlwXG5cbiAgdG9vbHRpcF9ldmVudF8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuICBrZXlib2FyZF9ldmVudF8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiAzNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOeymOi0tOWbvueJh1xuICogQGF1dGhvciB3YW5nZnVwZW5nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgcGFzdGVfZXZlbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblxudmFyIHVwbG9hZF9pbWdfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTA0KSk7XG4vKipcbiAqIOWJquWIh+adv+aYr+WQpuaciSB0ZXh0IOaIluiAhSBodG1sIO+8n1xuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlr7nosaFcbiAqIEBwYXJhbSBlIOeymOi0tOS6i+S7tuWPguaVsFxuICovXG5cblxuZnVuY3Rpb24gX2hhdmVUZXh0T3JIdG1sKGVkaXRvciwgZSkge1xuICB2YXIgY29uZmlnID0gZWRpdG9yLmNvbmZpZztcbiAgdmFyIHBhc3RlRmlsdGVyU3R5bGUgPSBjb25maWcucGFzdGVGaWx0ZXJTdHlsZTtcbiAgdmFyIHBhc3RlSWdub3JlSW1nID0gY29uZmlnLnBhc3RlSWdub3JlSW1nO1xuICB2YXIgcGFzdGVIdG1sID0gcGFzdGVfZXZlbnRfMS5nZXRQYXN0ZUh0bWwoZSwgcGFzdGVGaWx0ZXJTdHlsZSwgcGFzdGVJZ25vcmVJbWcpO1xuICBpZiAocGFzdGVIdG1sKSByZXR1cm4gdHJ1ZTtcbiAgdmFyIHBhc3RlVGV4dCA9IHBhc3RlX2V2ZW50XzEuZ2V0UGFzdGVUZXh0KGUpO1xuICBpZiAocGFzdGVUZXh0KSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlOyAvLyB0ZXh0IGh0bWwg6YO95rKh5pyJ77yM5YiZ6L+U5ZueIGZhbHNlXG59XG4vKipcbiAqIOWJquWIh+adv+aYr+WQpuaciSBGaWxlc1xuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlr7nosaFcbiAqIEBwYXJhbSBlIOeymOi0tOS6i+S7tuWPguaVsFxuICovXG5cblxuZnVuY3Rpb24gX2hhdmVGaWxlcyhlZGl0b3IsIGUpIHtcbiAgdmFyIF9hO1xuXG4gIHZhciB0eXBlcyA9ICgoX2EgPSBlLmNsaXBib2FyZERhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlcykgfHwgW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG5cbiAgICBpZiAodHlwZSA9PT0gJ0ZpbGVzJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiDnspjotLTlm77niYfkuovku7bmlrnms5VcbiAqIEBwYXJhbSBlIOS6i+S7tuWPguaVsFxuICovXG5cblxuZnVuY3Rpb24gcGFzdGVJbWdIYW5kbGVyKGUsIGVkaXRvcikge1xuICAvLyDnspjotLTov4fmnaXnmoTmsqHmnIkgZmlsZSDml7bvvIzliKTmlq0gdGV4dCDmiJbogIUgaHRtbFxuICBpZiAoIV9oYXZlRmlsZXMoZWRpdG9yLCBlKSkge1xuICAgIGlmIChfaGF2ZVRleHRPckh0bWwoZWRpdG9yLCBlKSkge1xuICAgICAgLy8g57KY6LS06L+H5p2l55qE5pyJIHRleHQg5oiW6ICFIGh0bWwg77yM5YiZ5LiN5omn6KGM57KY6LS05Zu+54mH6YC76L6RXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IC8vIOiOt+WPlueymOi0tOeahOWbvueJh+WIl+ihqFxuXG5cbiAgdmFyIHBhc3RlZEZpbGVzID0gcGFzdGVfZXZlbnRfMS5nZXRQYXN0ZUltZ3MoZSk7XG5cbiAgaWYgKCFwYXN0ZWRGaWxlcy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gY29kZSDkuK3lv73nlaXvvIjmmoLkuI3nrqHlroPvvIlcbiAgLy8g5omn6KGM5LiK5LygXG5cblxuICB2YXIgdXBsb2FkSW1nID0gbmV3IHVwbG9hZF9pbWdfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbiAgdXBsb2FkSW1nLnVwbG9hZEltZyhwYXN0ZWRGaWxlcyk7XG59XG4vKipcbiAqIOeymOi0tOWbvueJh1xuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlr7nosaFcbiAqIEBwYXJhbSBwYXN0ZUV2ZW50cyDnspjotLTkuovku7bliJfooahcbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmRQYXN0ZUltZyhlZGl0b3IpIHtcbiAgLyoqXG4gICAqIOe7keWumiBwYXN0ZSDkuovku7ZcbiAgICog6L+Z6YeM5L2/55So5LqGdW5zaGlmdO+8jOS7peWJjeaYr3B1c2hcbiAgICog5Zyo5Lul5YmN55qE5rWB56iL5Lit77yMcGFzdGVJbWdIYW5kbGVy6Kem5Y+R5LmL5YmN77yM5Lya6LCD55So5Yiwd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpXG4gICAqIOS8muWvvOiHtOaAp+iDveWPmOW3ruOAguWcqOe8lui+keWZqOS4reeymOi0tO+8jOeymOi0tOiAl+aXtuWkmuS6hjEwMCttc++8jOagueacrOWOn+WboOacquefpVxuICAgKiDmnIDlsI/lpI3njrBkZW1v77yM5ZyoZGl25YaF57KY6LS05Zu+54mH5bCx5Y+v5Lul55yL5YiwZ2V0RGF0YeiAl+aXtuW8guW4uOW+l+mVv1xuICAgKiA8aHRtbD5cbiAgICogICAgIDxkaXYgaWQ9XCJhXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPjwvZGl2PlxuICAgKiAgICAgPHNjcmlwdD5cbiAgICogICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYScpXG4gICAqICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgKGUpID0+IHtcbiAgICogICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpXG4gICAqICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L2h0bWwnKVxuICAgKiAgICAgICAgIH0pXG4gICAqICAgICA8L3NjcmlwdD5cbiAgICogPC9odG1sPlxuICAgKiDlm6DmraTmlLnmiJB1bnNoaWZ077yM5YWI6Kem5Y+RcGFzdGVJbWdIYW5kbGVy5bCx5LiN5Lya5pyJ5oCn6IO96Zeu6aKYXG4gICAqL1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MucGFzdGVFdmVudHMudW5zaGlmdChmdW5jdGlvbiAoZSkge1xuICAgIHBhc3RlSW1nSGFuZGxlcihlLCBlZGl0b3IpO1xuICB9KTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kUGFzdGVJbWc7XG5cbi8qKiovIH0pLFxuLyogMzY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmi5bmi73kuIrkvKDlm77niYdcbiAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIHVwbG9hZF9pbWdfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTA0KSk7XG5cbmZ1bmN0aW9uIGJpbmREcm9wSW1nKGVkaXRvcikge1xuICAvKipcbiAgICog5ouW5ou95Zu+54mH55qE5LqL5Lu2XG4gICAqIEBwYXJhbSBlIOS6i+S7tuWPguaVsFxuICAgKi9cbiAgZnVuY3Rpb24gZHJvcEltZ0hhbmRsZXIoZSkge1xuICAgIHZhciBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyICYmIGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xuXG4gICAgaWYgKCFmaWxlcyB8fCAhZmlsZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyDkuIrkvKDlm77niYdcblxuXG4gICAgdmFyIHVwbG9hZEltZyA9IG5ldyB1cGxvYWRfaW1nXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgdXBsb2FkSW1nLnVwbG9hZEltZyhmaWxlcyk7XG4gIH0gLy8g57uR5a6aIGRyb3Ag5LqL5Lu2XG5cblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuZHJvcEV2ZW50cy5wdXNoKGRyb3BJbWdIYW5kbGVyKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kRHJvcEltZztcblxuLyoqKi8gfSksXG4vKiAzNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWbvueJh+aLluaLveS6i+S7tue7keWumlxuICogQGF1dGhvciB4aWFva3lvXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9maW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSk7XG5cbnZhciBfcGFyc2VGbG9hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcwKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNyZWF0ZVNob3dIaWRlRm4gPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzNzUpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qKlxuICog6K6+572u5ouW5ou95qGG55qEcmVjdFxuICogQHBhcmFtICRkcmFnIGRyYWcgRG9tXG4gKiBAcGFyYW0gd2lkdGgg6KaB6K6+572u55qE5a695bqmXG4gKiBAcGFyYW0gaGVpZ2h0IOimgeiuvue9rueahOmrmOW6plxuICogQHBhcmFtIGxlZnQg6KaB6K6+572u55qE5bem6L65XG4gKiBAcGFyYW0gdG9wIOimgeiuvue9rueahOmhtumDqOi3neemu1xuICovXG5cblxuZnVuY3Rpb24gc2V0RHJhZ1N0eWxlKCRkcmFnLCB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3ApIHtcbiAgJGRyYWcuYXR0cignc3R5bGUnLCBcIndpZHRoOlwiICsgd2lkdGggKyBcInB4OyBoZWlnaHQ6XCIgKyBoZWlnaHQgKyBcInB4OyBsZWZ0OlwiICsgbGVmdCArIFwicHg7IHRvcDpcIiArIHRvcCArIFwicHg7XCIpO1xufVxuLyoqXG4gKiDnlJ/miJDkuIDkuKrlm77niYfmjIflrprlpKflsI/nmoTmi5bmi73moYZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKiBAcGFyYW0gJHRleHRDb250YWluZXJFbGVtIOe8lui+keahhuWvueixoVxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlRHJhZ0JveChlZGl0b3IsICR0ZXh0Q29udGFpbmVyRWxlbSkge1xuICB2YXIgJGRyYWcgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1pbWctZHJhZy1tYXNrXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWUtaW1nLWRyYWctc2hvdy1zaXplXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWUtaW1nLWRyYWctcmJcXFwiPjwvZGl2PlxcbiAgICAgICAgIDwvZGl2PlwiKTtcbiAgJGRyYWcuaGlkZSgpO1xuICAkdGV4dENvbnRhaW5lckVsZW0uYXBwZW5kKCRkcmFnKTtcbiAgcmV0dXJuICRkcmFnO1xufVxuLyoqXG4gKiDmmL7npLrmi5bmi73moYblubborr7nva7lrr3luqZcbiAqIEBwYXJhbSAkdGV4dENvbnRhaW5lckVsZW0g57yW6L6R5qGG5a6e5L6LXG4gKiBAcGFyYW0gJGRyYWcg5ouW5ou95qGG5a+56LGhXG4gKi9cblxuXG5mdW5jdGlvbiBzaG93RGFyZ0JveCgkdGV4dENvbnRhaW5lckVsZW0sICRkcmFnLCAkaW1nKSB7XG4gIHZhciBib3hSZWN0ID0gJHRleHRDb250YWluZXJFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgcmVjdCA9ICRpbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciByZWN0VyA9IHJlY3Qud2lkdGgudG9GaXhlZCgyKTtcbiAgdmFyIHJlY3RIID0gcmVjdC5oZWlnaHQudG9GaXhlZCgyKTtcbiAgKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoJGRyYWcpLmNhbGwoJGRyYWcsICcudy1lLWltZy1kcmFnLXNob3ctc2l6ZScpLnRleHQocmVjdFcgKyBcInB4ICogXCIgKyByZWN0SCArIFwicHhcIik7XG4gIHNldERyYWdTdHlsZSgkZHJhZywgKDAsIF9wYXJzZUZsb2F0MltcImRlZmF1bHRcIl0pKHJlY3RXKSwgKDAsIF9wYXJzZUZsb2F0MltcImRlZmF1bHRcIl0pKHJlY3RIKSwgcmVjdC5sZWZ0IC0gYm94UmVjdC5sZWZ0LCByZWN0LnRvcCAtIGJveFJlY3QudG9wKTtcbiAgJGRyYWcuc2hvdygpO1xufVxuLyoqXG4gKiDnlJ/miJDlm77niYfmi5bmi73moYbnmoQg5pi+56S6L+makOiXjyDlh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciAkdGV4dENvbnRhaW5lckVsZW0gPSBlZGl0b3IuJHRleHRDb250YWluZXJFbGVtO1xuICB2YXIgJGltZ1RhcmdldDsgLy8g55Sf5oiQ5ouW5ou95qGGXG5cbiAgdmFyICRkcmFnID0gY3JlYXRlRHJhZ0JveChlZGl0b3IsICR0ZXh0Q29udGFpbmVyRWxlbSk7XG4gIC8qKlxuICAgKiDorr7nva7mi5bmi73kuovku7ZcbiAgICogQHBhcmFtICRkcmFnIOaLluaLveahhueahGRvbUVsZW1lbnRcbiAgICogQHBhcmFtICR0ZXh0Q29udGFpbmVyRWxlbSDnvJbovpHlmajlrp7kvotcbiAgICovXG5cbiAgZnVuY3Rpb24gYmluZERyYWdFdmVudHMoJGRyYWcsICRjb250YWluZXIpIHtcbiAgICAkZHJhZy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICAkZHJhZy5vbignbW91c2Vkb3duJywgJy53LWUtaW1nLWRyYWctcmInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCEkaW1nVGFyZ2V0KSByZXR1cm47XG4gICAgICB2YXIgZmlyc3RYID0gZS5jbGllbnRYO1xuICAgICAgdmFyIGZpcnN0WSA9IGUuY2xpZW50WTtcbiAgICAgIHZhciBib3hSZWN0ID0gJGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBpbWdSZWN0ID0gJGltZ1RhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciB3aWR0aCA9IGltZ1JlY3Qud2lkdGg7XG4gICAgICB2YXIgaGVpZ2h0ID0gaW1nUmVjdC5oZWlnaHQ7XG4gICAgICB2YXIgbGVmdCA9IGltZ1JlY3QubGVmdCAtIGJveFJlY3QubGVmdDtcbiAgICAgIHZhciB0b3AgPSBpbWdSZWN0LnRvcCAtIGJveFJlY3QudG9wO1xuICAgICAgdmFyIHJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgICB2YXIgc2V0VyA9IHdpZHRoO1xuICAgICAgdmFyIHNldEggPSBoZWlnaHQ7XG4gICAgICB2YXIgJGRvY3VtZW50ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBvZmZFdmVudHMoKSB7XG4gICAgICAgICRkb2N1bWVudC5vZmYoJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGV2KSB7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZXRXID0gd2lkdGggKyAoZXYuY2xpZW50WCAtIGZpcnN0WCk7XG4gICAgICAgIHNldEggPSBoZWlnaHQgKyAoZXYuY2xpZW50WSAtIGZpcnN0WSk7IC8vIOetieavlOiuoeeul1xuXG4gICAgICAgIGlmIChzZXRXIC8gc2V0SCAhPSByYXRpbykge1xuICAgICAgICAgIHNldEggPSBzZXRXIC8gcmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBzZXRXID0gKDAsIF9wYXJzZUZsb2F0MltcImRlZmF1bHRcIl0pKHNldFcudG9GaXhlZCgyKSk7XG4gICAgICAgIHNldEggPSAoMCwgX3BhcnNlRmxvYXQyW1wiZGVmYXVsdFwiXSkoc2V0SC50b0ZpeGVkKDIpKTtcbiAgICAgICAgKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoJGRyYWcpLmNhbGwoJGRyYWcsICcudy1lLWltZy1kcmFnLXNob3ctc2l6ZScpLnRleHQoc2V0Vy50b0ZpeGVkKDIpLnJlcGxhY2UoJy4wMCcsICcnKSArIFwicHggKiBcIiArIHNldEgudG9GaXhlZCgyKS5yZXBsYWNlKCcuMDAnLCAnJykgKyBcInB4XCIpO1xuICAgICAgICBzZXREcmFnU3R5bGUoJGRyYWcsIHNldFcsIHNldEgsIGxlZnQsIHRvcCk7XG4gICAgICB9XG5cbiAgICAgICRkb2N1bWVudC5vbignbW91c2Vtb3ZlJywgbW91c2VNb3ZlSGFuZGxlcik7XG5cbiAgICAgIGZ1bmN0aW9uIG1vdXNlVXBIYW5kbGVyKCkge1xuICAgICAgICAkaW1nVGFyZ2V0LmF0dHIoJ3dpZHRoJywgc2V0VyArICcnKTtcbiAgICAgICAgJGltZ1RhcmdldC5hdHRyKCdoZWlnaHQnLCBzZXRIICsgJycpO1xuICAgICAgICB2YXIgbmV3SW1nUmVjdCA9ICRpbWdUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHNldERyYWdTdHlsZSgkZHJhZywgc2V0Vywgc2V0SCwgbmV3SW1nUmVjdC5sZWZ0IC0gYm94UmVjdC5sZWZ0LCBuZXdJbWdSZWN0LnRvcCAtIGJveFJlY3QudG9wKTsgLy8g6Kej57uR5LqL5Lu2XG5cbiAgICAgICAgb2ZmRXZlbnRzKCk7XG4gICAgICB9XG5cbiAgICAgICRkb2N1bWVudC5vbignbW91c2V1cCcsIG1vdXNlVXBIYW5kbGVyKTsgLy8g6Kej57uR5LqL5Lu2XG5cbiAgICAgICRkb2N1bWVudC5vbignbW91c2VsZWF2ZScsIG9mZkV2ZW50cyk7XG4gICAgfSk7XG4gIH0gLy8g5pi+56S65ouW5ou95qGGXG5cblxuICBmdW5jdGlvbiBzaG93RHJhZygkdGFyZ2V0KSB7XG4gICAgaWYgKHV0aWxfMS5VQS5pc0lFKCkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmICgkdGFyZ2V0KSB7XG4gICAgICAkaW1nVGFyZ2V0ID0gJHRhcmdldDtcbiAgICAgIHNob3dEYXJnQm94KCR0ZXh0Q29udGFpbmVyRWxlbSwgJGRyYWcsICRpbWdUYXJnZXQpO1xuICAgIH1cbiAgfSAvLyDpmpDol4/mi5bmi73moYZcblxuXG4gIGZ1bmN0aW9uIGhpZGVEcmFnKCkge1xuICAgICgwLCBfZmluZFtcImRlZmF1bHRcIl0pKCR0ZXh0Q29udGFpbmVyRWxlbSkuY2FsbCgkdGV4dENvbnRhaW5lckVsZW0sICcudy1lLWltZy1kcmFnLW1hc2snKS5oaWRlKCk7XG4gIH0gLy8g5LqL5Lu257uR5a6aXG5cblxuICBiaW5kRHJhZ0V2ZW50cygkZHJhZywgJHRleHRDb250YWluZXJFbGVtKTsgLy8g5ZCO5pyf5pS55oiQIGJsdXIg6Kem5Y+RXG5cbiAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9uKCdjbGljaycsIGhpZGVEcmFnKTtcbiAgZWRpdG9yLmJlZm9yZURlc3Ryb3koZnVuY3Rpb24gKCkge1xuICAgIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5vZmYoJ2NsaWNrJywgaGlkZURyYWcpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBzaG93RHJhZzogc2hvd0RyYWcsXG4gICAgaGlkZURyYWc6IGhpZGVEcmFnXG4gIH07XG59XG5cbmV4cG9ydHMuY3JlYXRlU2hvd0hpZGVGbiA9IGNyZWF0ZVNob3dIaWRlRm47XG4vKipcbiAqIOeCueWHu+S6i+S7tuWnlOaJmFxuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlrp7kvotcbiAqL1xuXG5mdW5jdGlvbiBiaW5kRHJhZ0ltZ1NpemUoZWRpdG9yKSB7XG4gIHZhciBfYSA9IGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSxcbiAgICAgIHNob3dEcmFnID0gX2Euc2hvd0RyYWcsXG4gICAgICBoaWRlRHJhZyA9IF9hLmhpZGVEcmFnOyAvLyDmmL7npLrmi5bmi73moYZcblxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5pbWdDbGlja0V2ZW50cy5wdXNoKHNob3dEcmFnKTsgLy8g6ZqQ6JeP5ouW5ou95qGGXG5cbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRleHRTY3JvbGxFdmVudHMucHVzaChoaWRlRHJhZyk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5rZXl1cEV2ZW50cy5wdXNoKGhpZGVEcmFnKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRvb2xiYXJDbGlja0V2ZW50cy5wdXNoKGhpZGVEcmFnKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLm1lbnVDbGlja0V2ZW50cy5wdXNoKGhpZGVEcmFnKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmNoYW5nZUV2ZW50cy5wdXNoKGhpZGVEcmFnKTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kRHJhZ0ltZ1NpemU7XG5cbi8qKiovIH0pLFxuLyogMzcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzEpO1xuXG4vKioqLyB9KSxcbi8qIDM3MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDM3MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGgucGFyc2VGbG9hdDtcblxuXG4vKioqLyB9KSxcbi8qIDM3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgcGFyc2VGbG9hdEltcGxlbWVudGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzQpO1xuXG4vLyBgcGFyc2VGbG9hdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXBhcnNlZmxvYXQtc3RyaW5nXG4kKHsgZ2xvYmFsOiB0cnVlLCBmb3JjZWQ6IHBhcnNlRmxvYXQgIT0gcGFyc2VGbG9hdEltcGxlbWVudGF0aW9uIH0sIHtcbiAgcGFyc2VGbG9hdDogcGFyc2VGbG9hdEltcGxlbWVudGF0aW9uXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDM3NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xudmFyIHRyaW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KS50cmltO1xudmFyIHdoaXRlc3BhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cbnZhciAkcGFyc2VGbG9hdCA9IGdsb2JhbC5wYXJzZUZsb2F0O1xudmFyIEZPUkNFRCA9IDEgLyAkcGFyc2VGbG9hdCh3aGl0ZXNwYWNlcyArICctMCcpICE9PSAtSW5maW5pdHk7XG5cbi8vIGBwYXJzZUZsb2F0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcGFyc2VmbG9hdC1zdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gRk9SQ0VEID8gZnVuY3Rpb24gcGFyc2VGbG9hdChzdHJpbmcpIHtcbiAgdmFyIHRyaW1tZWRTdHJpbmcgPSB0cmltKHRvU3RyaW5nKHN0cmluZykpO1xuICB2YXIgcmVzdWx0ID0gJHBhcnNlRmxvYXQodHJpbW1lZFN0cmluZyk7XG4gIHJldHVybiByZXN1bHQgPT09IDAgJiYgdHJpbW1lZFN0cmluZy5jaGFyQXQoMCkgPT0gJy0nID8gLTAgOiByZXN1bHQ7XG59IDogJHBhcnNlRmxvYXQ7XG5cblxuLyoqKi8gfSksXG4vKiAzNzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Nik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307XG5cbi8qKiovIH0pLFxuLyogMzc2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi53LWUtdGV4dC1jb250YWluZXIge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLnctZS1pbWctZHJhZy1tYXNrIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDE7XFxuICBib3JkZXI6IDFweCBkYXNoZWQgI2NjYztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi53LWUtaW1nLWRyYWctbWFzayAudy1lLWltZy1kcmFnLXJiIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAtNXB4O1xcbiAgYm90dG9tOiAtNXB4O1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kOiAjY2NjO1xcbiAgY3Vyc29yOiBzZS1yZXNpemU7XFxufVxcbi53LWUtaW1nLWRyYWctbWFzayAudy1lLWltZy1kcmFnLXNob3ctc2l6ZSB7XFxuICBtaW4td2lkdGg6IDExMHB4O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDIycHg7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBjb2xvcjogIzk5OTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5O1xcbiAgY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBwYWRkaW5nOiAwIDVweDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDM3NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gdG9vbHRpcCDkuovku7ZcbiAqIEBhdXRob3IgbGljaHVubGluXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlU2hvd0hpZGVGbiA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuXG4gIHZhciB0ID0gZnVuY3Rpb24gdCh0ZXh0LCBwcmVmaXgpIHtcbiAgICBpZiAocHJlZml4ID09PSB2b2lkIDApIHtcbiAgICAgIHByZWZpeCA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBlZGl0b3IuaTE4bmV4dC50KHByZWZpeCArIHRleHQpO1xuICB9O1xuICAvKipcbiAgICog5pi+56S6IHRvb2x0aXBcbiAgICogQHBhcmFtICRub2RlIOmTvuaOpeWFg+e0oFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHNob3dJbWdUb29sdGlwKCRub2RlKSB7XG4gICAgdmFyIGNvbmYgPSBbe1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4gY2xhc3M9J3ctZS1pY29uLXRyYXNoLW8nPjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g6YCJ5LitaW1n5YWD57SgXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdkZWxldGUnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHNwYW4+MzAlPC9zcGFuPicpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgICRub2RlLmF0dHIoJ3dpZHRoJywgJzMwJScpO1xuICAgICAgICAkbm9kZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHNwYW4+NTAlPC9zcGFuPicpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgICRub2RlLmF0dHIoJ3dpZHRoJywgJzUwJScpO1xuICAgICAgICAkbm9kZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPHNwYW4+MTAwJTwvc3Bhbj4nKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAkbm9kZS5hdHRyKCd3aWR0aCcsICcxMDAlJyk7XG4gICAgICAgICRub2RlLnJlbW92ZUF0dHIoJ2hlaWdodCcpOyAvLyDov5Tlm54gdHJ1Ze+8jOihqOekuuaJp+ihjOWujOS5i+WQju+8jOmakOiXjyB0b29sdGlw44CC5ZCm5YiZ5LiN6ZqQ6JeP44CCXG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfV07XG4gICAgY29uZi5wdXNoKHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgn6YeN572uJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgJG5vZGUucmVtb3ZlQXR0cignd2lkdGgnKTtcbiAgICAgICAgJG5vZGUucmVtb3ZlQXR0cignaGVpZ2h0Jyk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICgkbm9kZS5hdHRyKCdkYXRhLWhyZWYnKSkge1xuICAgICAgY29uZi5wdXNoKHtcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyB0KCfmn6XnnIvpk77mjqUnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgICAgdmFyIGxpbmsgPSAkbm9kZS5hdHRyKCdkYXRhLWhyZWYnKTtcblxuICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICBsaW5rID0gZGVjb2RlVVJJQ29tcG9uZW50KGxpbmspO1xuICAgICAgICAgICAgd2luZG93Lm9wZW4obGluaywgJ190YXJnZXQnKTtcbiAgICAgICAgICB9IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcF8xW1wiZGVmYXVsdFwiXShlZGl0b3IsICRub2RlLCBjb25mKTtcbiAgICB0b29sdGlwLmNyZWF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiDpmpDol48gdG9vbHRpcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGhpZGVJbWdUb29sdGlwKCkge1xuICAgIC8vIOenu+mZpCB0b29sdGlwXG4gICAgaWYgKHRvb2x0aXApIHtcbiAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgICB0b29sdGlwID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNob3dJbWdUb29sdGlwOiBzaG93SW1nVG9vbHRpcCxcbiAgICBoaWRlSW1nVG9vbHRpcDogaGlkZUltZ1Rvb2x0aXBcbiAgfTtcbn1cblxuZXhwb3J0cy5jcmVhdGVTaG93SGlkZUZuID0gY3JlYXRlU2hvd0hpZGVGbjtcbi8qKlxuICog57uR5a6aIHRvb2x0aXAg5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cbmZ1bmN0aW9uIGJpbmRUb29sdGlwRXZlbnQoZWRpdG9yKSB7XG4gIHZhciBfYSA9IGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSxcbiAgICAgIHNob3dJbWdUb29sdGlwID0gX2Euc2hvd0ltZ1Rvb2x0aXAsXG4gICAgICBoaWRlSW1nVG9vbHRpcCA9IF9hLmhpZGVJbWdUb29sdGlwOyAvLyDngrnlh7vlm77niYflhYPntKDmmK/vvIzmmL7npLogdG9vbHRpcFxuXG5cbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmltZ0NsaWNrRXZlbnRzLnB1c2goc2hvd0ltZ1Rvb2x0aXApOyAvLyDngrnlh7vlhbbku5blnLDmlrnvvIzmiJbogIXmu5rliqjml7bvvIzpmpDol48gdG9vbHRpcFxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jbGlja0V2ZW50cy5wdXNoKGhpZGVJbWdUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmtleXVwRXZlbnRzLnB1c2goaGlkZUltZ1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MudG9vbGJhckNsaWNrRXZlbnRzLnB1c2goaGlkZUltZ1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MubWVudUNsaWNrRXZlbnRzLnB1c2goaGlkZUltZ1Rvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MudGV4dFNjcm9sbEV2ZW50cy5wdXNoKGhpZGVJbWdUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLmltZ0RyYWdCYXJNb3VzZURvd25FdmVudHMucHVzaChoaWRlSW1nVG9vbHRpcCk7IC8vIGNoYW5nZSDml7bpmpDol49cblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuY2hhbmdlRXZlbnRzLnB1c2goaGlkZUltZ1Rvb2x0aXApO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRUb29sdGlwRXZlbnQ7XG5cbi8qKiovIH0pLFxuLyogMzc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIGJpbmRFdmVudEtleWJvYXJkRXZlbnQoZWRpdG9yKSB7XG4gIHZhciB0eHQgPSBlZGl0b3IudHh0LFxuICAgICAgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgdmFyIGtleWRvd25FdmVudHMgPSB0eHQuZXZlbnRIb29rcy5rZXlkb3duRXZlbnRzO1xuICBrZXlkb3duRXZlbnRzLnB1c2goZnVuY3Rpb24gKGUpIHtcbiAgICAvLyDliKDpmaTlm77niYfml7bvvIzmnInml7bkvJrlm6DkuLrmtY/op4jlmahidWfliKDkuI3mjonjgILlm6DmraTov5nph4zmiYvliqjliKTmlq3lhYnmoIfliY3pnaLmmK/kuI3mmK/lm77niYfvvIzmmK/lsLHliKDmjolcbiAgICB2YXIgJHNlbGVjdGlvbkNvbnRhaW5lckVsZW0gPSBzZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpO1xuICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuXG4gICAgaWYgKCFyYW5nZSB8fCAhJHNlbGVjdGlvbkNvbnRhaW5lckVsZW0gfHwgZS5rZXlDb2RlICE9PSA4IHx8ICFzZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0Q29udGFpbmVyID0gcmFuZ2Uuc3RhcnRDb250YWluZXIsXG4gICAgICAgIHN0YXJ0T2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7IC8vIOWQjOS4gOauteiQveWGheS4iuS4gOS4quiKgueCuVxuXG4gICAgdmFyIHByZXZOb2RlID0gbnVsbDtcblxuICAgIGlmIChzdGFydE9mZnNldCA9PT0gMCkge1xuICAgICAgLy8g5q2k5pe25LiK5LiA5Liq6IqC54K56ZyA6KaB6YCa6L+HcHJldmlvdXNTaWJsaW5n5Y675om+XG4gICAgICB3aGlsZSAoc3RhcnRDb250YWluZXIgIT09ICRzZWxlY3Rpb25Db250YWluZXJFbGVtLmVsZW1zWzBdICYmICRzZWxlY3Rpb25Db250YWluZXJFbGVtLmVsZW1zWzBdLmNvbnRhaW5zKHN0YXJ0Q29udGFpbmVyKSAmJiBzdGFydENvbnRhaW5lci5wYXJlbnROb2RlICYmICFwcmV2Tm9kZSkge1xuICAgICAgICBpZiAoc3RhcnRDb250YWluZXIucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgICAgcHJldk5vZGUgPSBzdGFydENvbnRhaW5lci5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydENvbnRhaW5lciA9IHN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydENvbnRhaW5lci5ub2RlVHlwZSAhPT0gMykge1xuICAgICAgLy8g6Z2e5paH5pys6IqC54K55omN6ZyA6KaB6KKr5aSE55CG77yM5q+U5aaCcFxuICAgICAgcHJldk5vZGUgPSBzdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3N0YXJ0T2Zmc2V0IC0gMV07XG4gICAgfVxuXG4gICAgaWYgKCFwcmV2Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsYXN0Q2hpbGROb2RlSW5QcmV2Tm9kZSA9IHByZXZOb2RlOyAvLyDmib7liLDmnIDlj7Pkvqflj7blrZDoioLngrlcblxuICAgIHdoaWxlIChsYXN0Q2hpbGROb2RlSW5QcmV2Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgbGFzdENoaWxkTm9kZUluUHJldk5vZGUgPSBsYXN0Q2hpbGROb2RlSW5QcmV2Tm9kZS5jaGlsZE5vZGVzW2xhc3RDaGlsZE5vZGVJblByZXZOb2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgaWYgKGxhc3RDaGlsZE5vZGVJblByZXZOb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgbGFzdENoaWxkTm9kZUluUHJldk5vZGUudGFnTmFtZSA9PT0gJ0lNRycpIHtcbiAgICAgIGxhc3RDaGlsZE5vZGVJblByZXZOb2RlLnJlbW92ZSgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50S2V5Ym9hcmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiAzNzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIGltYWdlIOiPnOWNlSBwYW5lbCB0YWIg6YWN572uXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX21hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNykpO1xuXG52YXIgX3RyaW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTYpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIHVwbG9hZF9pbWdfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTA0KSk7XG5cbmZ1bmN0aW9uIGRlZmF1bHRfMShlZGl0b3IpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnO1xuICB2YXIgdXBsb2FkSW1nID0gbmV3IHVwbG9hZF9pbWdfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTsgLy8gcGFuZWwg5Lit6ZyA6KaB55So5Yiw55qEaWRcblxuICB2YXIgdXBUcmlnZ2VySWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCd1cC10cmlnZ2VyLWlkJyk7XG4gIHZhciB1cEZpbGVJZCA9IHV0aWxfMS5nZXRSYW5kb20oJ3VwLWZpbGUtaWQnKTtcbiAgdmFyIGxpbmtVcmxJZCA9IHV0aWxfMS5nZXRSYW5kb20oJ2lucHV0LWxpbmstdXJsJyk7XG4gIHZhciBsaW5rVXJsQWx0SWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdpbnB1dC1saW5rLXVybC1hbHQnKTtcbiAgdmFyIGxpbmtVcmxIcmVmSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdpbnB1dC1saW5rLXVybC1ocmVmJyk7XG4gIHZhciBsaW5rQnRuSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdidG4tbGluaycpO1xuICB2YXIgaTE4blByZWZpeCA9ICdtZW51cy5wYW5lbE1lbnVzLmltYWdlLic7XG5cbiAgdmFyIHQgPSBmdW5jdGlvbiB0KHRleHQsIHByZWZpeCkge1xuICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgICAgcHJlZml4ID0gaTE4blByZWZpeDtcbiAgICB9XG5cbiAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudChwcmVmaXggKyB0ZXh0KTtcbiAgfTtcbiAgLyoqXG4gICAqIOagoemqjOe9kee7nOWbvueJh+mTvuaOpeaYr+WQpuWQiOazlVxuICAgKiBAcGFyYW0gbGlua0ltZyDnvZHnu5zlm77niYfpk77mjqVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjaGVja0xpbmtJbWcoc3JjLCBsaW5rVXJsQWx0VGV4dCwgbGlua1VybEhyZWZUZXh0KSB7XG4gICAgLy/mn6XnnIvlvIDlj5HogIXoh6rlrprkuYnphY3nva7nmoTov5Tlm57lgLxcbiAgICB2YXIgY2hlY2sgPSBjb25maWcubGlua0ltZ0NoZWNrKHNyYyk7XG5cbiAgICBpZiAoY2hlY2sgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNoZWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy/nlKjmiLfmnKrog73pgJrov4flvIDlj5HogIXnmoTmoKHpqozvvIzlvIDlj5HogIXluIzmnJvmiJHku6zmj5DnpLrov5nkuIDlrZfnrKbkuLJcbiAgICAgIGNvbmZpZy5jdXN0b21BbGVydChjaGVjaywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIHRhYnMg6YWN572uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICB2YXIgZmlsZU11bHRpcGxlQXR0ciA9IGNvbmZpZy51cGxvYWRJbWdNYXhMZW5ndGggPT09IDEgPyAnJyA6ICdtdWx0aXBsZT1cIm11bHRpcGxlXCInO1xuICB2YXIgYWNjZXB0cyA9ICgwLCBfbWFwW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSBjb25maWcudXBsb2FkSW1nQWNjZXB0KS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBcImltYWdlL1wiICsgaXRlbTtcbiAgfSkuam9pbignLCcpO1xuICAvKipcbiAgICog6K6+572u5qih5p2/55qE57G75ZCN5ZKMaWNvbuWbvuagh1xuICAgKiB3LWUtbWVudeaYr+S9nOS4umJ1dHRvbuiPnOWNleeahOaooeadv1xuICAgKiB3LWUtdXAtaW1nLWNvbnRhaW5lcuaYr+WBmuS4unBhbmVs6I+c5Y2V55qE56qX5Y+j5YaF5a6555qE5qih5p2/XG4gICAqIEBwYXJhbSBjb250YWluZXJDbGFzcyDmqKHmnb/mnIDlpJblsYLnmoTnsbvlkI1cbiAgICogQHBhcmFtIGljb25DbGFzcyDmqKHmnb/kuK1pY29u55qE57G75ZCNXG4gICAqIEBwYXJhbSB0aXRsZU5hbWUg5qih5p2/5Lit5qCH6aKY55qE5ZCN56ewIOmcgOimgeWImeiuvue9ruS4jemcgOimgeWImeiuvuS4uuepuuWtl+esplxuICAgKi9cblxuICB2YXIgZ2V0VXBsb2FkSW1nVHBsID0gZnVuY3Rpb24gZ2V0VXBsb2FkSW1nVHBsKGNvbnRhaW5lckNsYXNzLCBpY29uQ2xhc3MsIHRpdGxlTmFtZSkge1xuICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIlwiICsgY29udGFpbmVyQ2xhc3MgKyBcIlxcXCIgZGF0YS10aXRsZT1cXFwiXCIgKyB0aXRsZU5hbWUgKyBcIlxcXCI+XFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwiXCIgKyB1cFRyaWdnZXJJZCArIFwiXFxcIiBjbGFzcz1cXFwidy1lLXVwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJcIiArIGljb25DbGFzcyArIFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cXFwiZGlzcGxheTpub25lO1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiXCIgKyB1cEZpbGVJZCArIFwiXFxcIiB0eXBlPVxcXCJmaWxlXFxcIiBcIiArIGZpbGVNdWx0aXBsZUF0dHIgKyBcIiBhY2NlcHQ9XFxcIlwiICsgYWNjZXB0cyArIFwiXFxcIi8+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cIjtcbiAgfTtcblxuICB2YXIgdXBsb2FkRXZlbnRzID0gWy8vIOinpuWPkemAieaLqeWbvueJh1xuICB7XG4gICAgc2VsZWN0b3I6ICcjJyArIHVwVHJpZ2dlcklkLFxuICAgIHR5cGU6ICdjbGljaycsXG4gICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgdmFyIHVwbG9hZEltZ0Zyb21NZWRpYSA9IGNvbmZpZy51cGxvYWRJbWdGcm9tTWVkaWE7XG5cbiAgICAgIGlmICh1cGxvYWRJbWdGcm9tTWVkaWEgJiYgdHlwZW9mIHVwbG9hZEltZ0Zyb21NZWRpYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB1cGxvYWRJbWdGcm9tTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciAkZmlsZSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCcjJyArIHVwRmlsZUlkKTtcbiAgICAgIHZhciBmaWxlRWxlbSA9ICRmaWxlLmVsZW1zWzBdO1xuXG4gICAgICBpZiAoZmlsZUVsZW0pIHtcbiAgICAgICAgZmlsZUVsZW0uY2xpY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOi/lOWbniB0cnVlIOWPr+WFs+mXrSBwYW5lbFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIC8vIOmAieaLqeWbvueJh+WujOavlVxuICB7XG4gICAgc2VsZWN0b3I6ICcjJyArIHVwRmlsZUlkLFxuICAgIHR5cGU6ICdjaGFuZ2UnLFxuICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcbiAgICAgIHZhciAkZmlsZSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCcjJyArIHVwRmlsZUlkKTtcbiAgICAgIHZhciBmaWxlRWxlbSA9ICRmaWxlLmVsZW1zWzBdO1xuXG4gICAgICBpZiAoIWZpbGVFbGVtKSB7XG4gICAgICAgIC8vIOi/lOWbniB0cnVlIOWPr+WFs+mXrSBwYW5lbFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gLy8g6I635Y+W6YCJ5Lit55qEIGZpbGUg5a+56LGh5YiX6KGoXG5cblxuICAgICAgdmFyIGZpbGVMaXN0ID0gZmlsZUVsZW0uZmlsZXM7XG5cbiAgICAgIGlmIChmaWxlTGlzdCA9PT0gbnVsbCB8fCBmaWxlTGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsZUxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHVwbG9hZEltZy51cGxvYWRJbWcoZmlsZUxpc3QpO1xuICAgICAgfSAvLyDliKTmlq3nlKjkuo7miZPlvIDmlofku7bnmoRpbnB1dO+8jOacieayoeacieWAvO+8jOWmguaenOacieWwsea4heepuu+8jOS7pemYsuS4iuS8oOWQjOS4gOW8oOWbvueJh+aXtu+8jOS4jeS8muinpuWPkWNoYW5nZeS6i+S7tlxuICAgICAgLy8gaW5wdXTnmoTlip/og73lj6rmmK/ljZXljZXkuLrkuobmiZPlvIDmlofku7bogIzlt7LvvIzojrflj5bliLDpnIDopoHnmoTmlofku7blj4LmlbDvvIzlvZPmlofku7bmlbDmja7ojrflj5bliLDlkI7vvIzlj6/ku6XmuIXnqbrjgIJcblxuXG4gICAgICBpZiAoZmlsZUVsZW0pIHtcbiAgICAgICAgZmlsZUVsZW0udmFsdWUgPSAnJztcbiAgICAgIH0gLy8g6L+U5ZueIHRydWUg5Y+v5YWz6ZetIHBhbmVsXG5cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XTtcbiAgdmFyIGxpbmtJbWdJbnB1dHMgPSBbXCI8aW5wdXRcXG4gICAgICAgICAgICBpZD1cXFwiXCIgKyBsaW5rVXJsSWQgKyBcIlxcXCJcXG4gICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIlxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJibG9ja1xcXCJcXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwiXCIgKyB0KCflm77niYflnLDlnYAnKSArIFwiXFxcIi8+XCJdO1xuXG4gIGlmIChjb25maWcuc2hvd0xpbmtJbWdBbHQpIHtcbiAgICBsaW5rSW1nSW5wdXRzLnB1c2goXCJcXG4gICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgIGlkPVxcXCJcIiArIGxpbmtVcmxBbHRJZCArIFwiXFxcIlxcbiAgICAgICAgICAgIHR5cGU9XFxcInRleHRcXFwiXFxuICAgICAgICAgICAgY2xhc3M9XFxcImJsb2NrXFxcIlxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJcIiArIHQoJ+WbvueJh+aWh+Wtl+ivtOaYjicpICsgXCJcXFwiLz5cIik7XG4gIH1cblxuICBpZiAoY29uZmlnLnNob3dMaW5rSW1nSHJlZikge1xuICAgIGxpbmtJbWdJbnB1dHMucHVzaChcIlxcbiAgICAgICAgPGlucHV0XFxuICAgICAgICAgICAgaWQ9XFxcIlwiICsgbGlua1VybEhyZWZJZCArIFwiXFxcIlxcbiAgICAgICAgICAgIHR5cGU9XFxcInRleHRcXFwiXFxuICAgICAgICAgICAgY2xhc3M9XFxcImJsb2NrXFxcIlxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCJcIiArIHQoJ+i3s+i9rOmTvuaOpScpICsgXCJcXFwiLz5cIik7XG4gIH1cblxuICB2YXIgdGFic0NvbmYgPSBbLy8gZmlyc3QgdGFiXG4gIHtcbiAgICAvLyDmoIfpophcbiAgICB0aXRsZTogdCgn5LiK5Lyg5Zu+54mHJyksXG4gICAgLy8g5qih5p2/XG4gICAgdHBsOiBnZXRVcGxvYWRJbWdUcGwoJ3ctZS11cC1pbWctY29udGFpbmVyJywgJ3ctZS1pY29uLXVwbG9hZDInLCAnJyksXG4gICAgLy8g5LqL5Lu257uR5a6aXG4gICAgZXZlbnRzOiB1cGxvYWRFdmVudHNcbiAgfSwgLy8gc2Vjb25kIHRhYlxuICB7XG4gICAgdGl0bGU6IHQoJ+e9kee7nOWbvueJhycpLFxuICAgIHRwbDogXCI8ZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgXCIgKyBsaW5rSW1nSW5wdXRzLmpvaW4oJycpICsgXCJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInctZS1idXR0b24tY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgbGlua0J0bklkICsgXCJcXFwiIGNsYXNzPVxcXCJyaWdodFxcXCI+XCIgKyB0KCfmj5LlhaUnLCAnJykgKyBcIjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlwiLFxuICAgIGV2ZW50czogW3tcbiAgICAgIHNlbGVjdG9yOiAnIycgKyBsaW5rQnRuSWQsXG4gICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICAgIHZhciAkbGlua1VybCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCcjJyArIGxpbmtVcmxJZCk7XG4gICAgICAgIHZhciB1cmwgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSAkbGlua1VybC52YWwoKSkuY2FsbChfY29udGV4dDIpOyAvL+WmguaenHVybOS4uuepuuWImeebtOaOpei/lOWbnlxuXG4gICAgICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgICAgIHZhciBsaW5rVXJsQWx0VGV4dDtcblxuICAgICAgICBpZiAoY29uZmlnLnNob3dMaW5rSW1nQWx0KSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0MztcblxuICAgICAgICAgIGxpbmtVcmxBbHRUZXh0ID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQzID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJyMnICsgbGlua1VybEFsdElkKS52YWwoKSkuY2FsbChfY29udGV4dDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmtVcmxIcmVmVGV4dDtcblxuICAgICAgICBpZiAoY29uZmlnLnNob3dMaW5rSW1nSHJlZikge1xuICAgICAgICAgIHZhciBfY29udGV4dDQ7XG5cbiAgICAgICAgICBsaW5rVXJsSHJlZlRleHQgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShfY29udGV4dDQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnIycgKyBsaW5rVXJsSHJlZklkKS52YWwoKSkuY2FsbChfY29udGV4dDQpO1xuICAgICAgICB9IC8v5aaC5p6c5LiN6IO96YCa6L+H5qCh6aqM5Lmf55u05o6l6L+U5ZueXG5cblxuICAgICAgICBpZiAoIWNoZWNrTGlua0ltZyh1cmwsIGxpbmtVcmxBbHRUZXh0LCBsaW5rVXJsSHJlZlRleHQpKSByZXR1cm47IC8v5o+S5YWl5Zu+54mHdXJsXG5cbiAgICAgICAgdXBsb2FkSW1nLmluc2VydEltZyh1cmwsIGxpbmtVcmxBbHRUZXh0LCBsaW5rVXJsSHJlZlRleHQpOyAvLyDov5Tlm54gdHJ1ZSDooajnpLrlh73mlbDmiafooYznu5PmnZ/kuYvlkI7lhbPpl60gcGFuZWxcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBiaW5kRW50ZXI6IHRydWVcbiAgICB9XVxuICB9IC8vIHNlY29uZCB0YWIgZW5kXG4gIF07IC8vIHRhYnMgZW5kXG4gIC8vIOacgOe7iOeahOmFjee9riAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBjb25mID0ge1xuICAgIHdpZHRoOiAzMDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHRhYnM6IFtdLFxuICAgIG9ubHlVcGxvYWRDb25mOiB7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZ2V0VXBsb2FkSW1nVHBsKCd3LWUtbWVudScsICd3LWUtaWNvbi1pbWFnZScsICflm77niYcnKSksXG4gICAgICBldmVudHM6IHVwbG9hZEV2ZW50c1xuICAgIH1cbiAgfTsgLy8g5pi+56S64oCc5LiK5Lyg5Zu+54mH4oCdXG5cbiAgaWYgKHdpbmRvdy5GaWxlUmVhZGVyICYmIChjb25maWcudXBsb2FkSW1nU2hvd0Jhc2U2NCB8fCBjb25maWcudXBsb2FkSW1nU2VydmVyIHx8IGNvbmZpZy5jdXN0b21VcGxvYWRJbWcgfHwgY29uZmlnLnVwbG9hZEltZ0Zyb21NZWRpYSkpIHtcbiAgICBjb25mLnRhYnMucHVzaCh0YWJzQ29uZlswXSk7XG4gIH0gLy8g5pi+56S64oCc5o+S5YWl572R57uc5Zu+54mH4oCdXG5cblxuICBpZiAoY29uZmlnLnNob3dMaW5rSW1nKSB7XG4gICAgY29uZi50YWJzLnB1c2godGFic0NvbmZbMV0pO1xuICAgIGNvbmYub25seVVwbG9hZENvbmYgPSB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gY29uZjtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkZWZhdWx0XzE7XG5cbi8qKiovIH0pLFxuLyogMzgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlop7liqDnvKnov5sv5YeP5bCR57yp6L+bXG4gKiBAYXV0aG9yIHRvbmdoYW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBEcm9wTGlzdE1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjQpKTtcblxudmFyIG9wZXJhdGVfZWxlbWVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzODEpKTtcblxudmFyIEluZGVudCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoSW5kZW50LCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEluZGVudChlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1N0YyOVxcdThGREJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24taW5kZW50LWluY3JlYXNlXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIHZhciBkcm9wTGlzdENvbmYgPSB7XG4gICAgICB3aWR0aDogMTMwLFxuICAgICAgdGl0bGU6ICforr7nva7nvKnov5snLFxuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbGlzdDogW3tcbiAgICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1pbmRlbnQtaW5jcmVhc2Ugdy1lLWRyb3AtbGlzdC1pdGVtXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICsgZWRpdG9yLmkxOG5leHQudCgnbWVudXMuZHJvcExpc3RNZW51LmluZGVudC7lop7liqDnvKnov5snKSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+XCIpLFxuICAgICAgICB2YWx1ZTogJ2luY3JlYXNlJ1xuICAgICAgfSwge1xuICAgICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLWluZGVudC1kZWNyZWFzZSB3LWUtZHJvcC1saXN0LWl0ZW1cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5kcm9wTGlzdE1lbnUuaW5kZW50LuWHj+Wwkee8qei/mycpICsgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cIiksXG4gICAgICAgIHZhbHVlOiAnZGVjcmVhc2UnXG4gICAgICB9XSxcbiAgICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgIC8vIOazqOaEjyB0aGlzIOaYr+aMh+WQkeW9k+WJjeeahCBJbmRlbnQg5a+56LGhXG4gICAgICAgIF90aGlzLmNvbW1hbmQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yLCBkcm9wTGlzdENvbmYpIHx8IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDmiafooYzlkb3ku6RcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlXG4gICAqL1xuXG5cbiAgSW5kZW50LnByb3RvdHlwZS5jb21tYW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkc2VsZWN0aW9uRWxlbSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpOyAvLyDliKTmlq0g5b2T5YmN6YCJ5Yy65Li6IHRleHRFbGVtIOaXtlxuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtICYmIGVkaXRvci4kdGV4dEVsZW0uZXF1YWwoJHNlbGVjdGlvbkVsZW0pKSB7XG4gICAgICAvLyDlvZMg5b2T5YmN6YCJ5Yy6IOetieS6jiB0ZXh0RWxlbSDml7ZcbiAgICAgIC8vIOS7o+ihqCDlvZPliY3pgInljLog5Y+v6IO95piv5LiA5Liq6YCJ5oup5LqG5LiA5Liq5a6M5pW055qE5q616JC95oiW6ICF5aSa5Liq5q616JC9XG4gICAgICB2YXIgJGVsZW1zID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7XG5cbiAgICAgIGlmICgkZWxlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSgkZWxlbXMpLmNhbGwoJGVsZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIG9wZXJhdGVfZWxlbWVudF8xW1wiZGVmYXVsdFwiXShkb21fY29yZV8xW1wiZGVmYXVsdFwiXShpdGVtKSwgdmFsdWUsIGVkaXRvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlvZMg5b2T5YmN6YCJ5Yy6IOS4jeetieS6jiB0ZXh0RWxlbSDml7ZcbiAgICAgIC8vIOS7o+ihqCDlvZPliY3pgInljLropoHkuYjmmK/kuIDkuKrmrrXokL3vvIzopoHkuYjmmK/mrrXokL3kuK3nmoTkuIDpg6jliIZcbiAgICAgIGlmICgkc2VsZWN0aW9uRWxlbSAmJiAkc2VsZWN0aW9uRWxlbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKCRzZWxlY3Rpb25FbGVtKS5jYWxsKCRzZWxlY3Rpb25FbGVtLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIG9wZXJhdGVfZWxlbWVudF8xW1wiZGVmYXVsdFwiXShkb21fY29yZV8xW1wiZGVmYXVsdFwiXShpdGVtKSwgdmFsdWUsIGVkaXRvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gLy8g5oGi5aSN6YCJ5Yy6XG5cblxuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgIHRoaXMudHJ5Q2hhbmdlQWN0aXZlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5XmlLnlj5joj5zljZXmv4DmtLvvvIjpq5jkuq7vvInnirbmgIFcbiAgICovXG5cblxuICBJbmRlbnQucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKTtcbiAgICB2YXIgJHNlbGVjdGlvblN0YXJ0RWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRzZWxlY3Rpb25FbGVtKS5nZXROb2RlVG9wKGVkaXRvcik7XG4gICAgaWYgKCRzZWxlY3Rpb25TdGFydEVsZW0ubGVuZ3RoIDw9IDApIHJldHVybjtcblxuICAgIGlmICgkc2VsZWN0aW9uU3RhcnRFbGVtLmVsZW1zWzBdLnN0eWxlWydwYWRkaW5nTGVmdCddICE9ICcnKSB7XG4gICAgICB0aGlzLmFjdGl2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuQWN0aXZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBJbmRlbnQ7XG59KERyb3BMaXN0TWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSW5kZW50O1xuXG4vKioqLyB9KSxcbi8qIDM4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5a+56IqC54K5IOaTjeS9nCDov5vooYzlsIHoo4VcbiAqICAgICAgICAgICAgICAgICAg6I635Y+W5b2T5YmN6IqC54K555qE5q616JC9XG4gKiAgICAgICAgICAgICAgICAgIOagueaNrnR5cGXliKTmlq3mmK/lop7liqDov5jmmK/lh4/lsJHnvKnov5tcbiAqIEBhdXRob3IgdG9uZ2hhblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDcpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGluY3JlYXNlX2luZGVudF9zdHlsZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzODIpKTtcblxudmFyIGRlY3JlYXNlX2luZGVudF9zdHlsZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzODMpKTtcblxudmFyIGxlbmd0aFJlZ2V4ID0gL14oXFxkKykoXFx3KykkLztcbnZhciBwZXJjZW50UmVnZXggPSAvXihcXGQrKSUkLztcblxuZnVuY3Rpb24gcGFyc2VJbmRlbnRhdGlvbihlZGl0b3IpIHtcbiAgdmFyIGluZGVudGF0aW9uID0gZWRpdG9yLmNvbmZpZy5pbmRlbnRhdGlvbjtcblxuICBpZiAodHlwZW9mIGluZGVudGF0aW9uID09PSAnc3RyaW5nJykge1xuICAgIGlmIChsZW5ndGhSZWdleC50ZXN0KGluZGVudGF0aW9uKSkge1xuICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICB2YXIgX2EgPSAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSAoMCwgX3RyaW1bXCJkZWZhdWx0XCJdKShpbmRlbnRhdGlvbikuY2FsbChpbmRlbnRhdGlvbikubWF0Y2gobGVuZ3RoUmVnZXgpKS5jYWxsKF9jb250ZXh0LCAxLCAzKSxcbiAgICAgICAgICB2YWx1ZSA9IF9hWzBdLFxuICAgICAgICAgIHVuaXQgPSBfYVsxXTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IE51bWJlcih2YWx1ZSksXG4gICAgICAgIHVuaXQ6IHVuaXRcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChwZXJjZW50UmVnZXgudGVzdChpbmRlbnRhdGlvbikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBOdW1iZXIoKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoaW5kZW50YXRpb24pLmNhbGwoaW5kZW50YXRpb24pLm1hdGNoKHBlcmNlbnRSZWdleClbMV0pLFxuICAgICAgICB1bml0OiAnJSdcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKGluZGVudGF0aW9uLnZhbHVlICE9PSB2b2lkIDAgJiYgaW5kZW50YXRpb24udW5pdCkge1xuICAgIHJldHVybiBpbmRlbnRhdGlvbjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IDIsXG4gICAgdW5pdDogJ2VtJ1xuICB9O1xufVxuXG5mdW5jdGlvbiBvcGVyYXRlRWxlbWVudCgkbm9kZSwgdHlwZSwgZWRpdG9yKSB7XG4gIHZhciAkZWxlbSA9ICRub2RlLmdldE5vZGVUb3AoZWRpdG9yKTtcbiAgdmFyIHJlZyA9IC9eKFB8SFswLTldKikkLztcblxuICBpZiAocmVnLnRlc3QoJGVsZW0uZ2V0Tm9kZU5hbWUoKSkpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2luY3JlYXNlJykgaW5jcmVhc2VfaW5kZW50X3N0eWxlXzFbXCJkZWZhdWx0XCJdKCRlbGVtLCBwYXJzZUluZGVudGF0aW9uKGVkaXRvcikpO2Vsc2UgaWYgKHR5cGUgPT09ICdkZWNyZWFzZScpIGRlY3JlYXNlX2luZGVudF9zdHlsZV8xW1wiZGVmYXVsdFwiXSgkZWxlbSwgcGFyc2VJbmRlbnRhdGlvbihlZGl0b3IpKTtcbiAgfVxufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG9wZXJhdGVFbGVtZW50O1xuXG4vKioqLyB9KSxcbi8qIDM4MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5aKe5Yqg57yp6L+bXG4gKiBAYXV0aG9yIHRvbmdoYW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX3NsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIGluY3JlYXNlSW5kZW50U3R5bGUoJG5vZGUsIG9wdGlvbnMpIHtcbiAgdmFyICRlbGVtID0gJG5vZGUuZWxlbXNbMF07XG5cbiAgaWYgKCRlbGVtLnN0eWxlWydwYWRkaW5nTGVmdCddID09PSAnJykge1xuICAgICRub2RlLmNzcygncGFkZGluZy1sZWZ0Jywgb3B0aW9ucy52YWx1ZSArIG9wdGlvbnMudW5pdCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG9sZFBMID0gJGVsZW0uc3R5bGVbJ3BhZGRpbmdMZWZ0J107XG4gICAgdmFyIG9sZFZhbCA9ICgwLCBfc2xpY2VbXCJkZWZhdWx0XCJdKShvbGRQTCkuY2FsbChvbGRQTCwgMCwgb2xkUEwubGVuZ3RoIC0gb3B0aW9ucy51bml0Lmxlbmd0aCk7XG4gICAgdmFyIG5ld1ZhbCA9IE51bWJlcihvbGRWYWwpICsgb3B0aW9ucy52YWx1ZTtcbiAgICAkbm9kZS5jc3MoJ3BhZGRpbmctbGVmdCcsIFwiXCIgKyBuZXdWYWwgKyBvcHRpb25zLnVuaXQpO1xuICB9XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5jcmVhc2VJbmRlbnRTdHlsZTtcblxuLyoqKi8gfSksXG4vKiAzODMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWHj+Wwkee8qei/m1xuICogQGF1dGhvciB0b25naGFuXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9zbGljZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NykpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBkZWNyZWFzZUluZGVudFN0eWxlKCRub2RlLCBvcHRpb25zKSB7XG4gIHZhciAkZWxlbSA9ICRub2RlLmVsZW1zWzBdO1xuXG4gIGlmICgkZWxlbS5zdHlsZVsncGFkZGluZ0xlZnQnXSAhPT0gJycpIHtcbiAgICB2YXIgb2xkUEwgPSAkZWxlbS5zdHlsZVsncGFkZGluZ0xlZnQnXTtcbiAgICB2YXIgb2xkVmFsID0gKDAsIF9zbGljZVtcImRlZmF1bHRcIl0pKG9sZFBMKS5jYWxsKG9sZFBMLCAwLCBvbGRQTC5sZW5ndGggLSBvcHRpb25zLnVuaXQubGVuZ3RoKTtcbiAgICB2YXIgbmV3VmFsID0gTnVtYmVyKG9sZFZhbCkgLSBvcHRpb25zLnZhbHVlO1xuXG4gICAgaWYgKG5ld1ZhbCA+IDApIHtcbiAgICAgICRub2RlLmNzcygncGFkZGluZy1sZWZ0JywgXCJcIiArIG5ld1ZhbCArIG9wdGlvbnMudW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRub2RlLmNzcygncGFkZGluZy1sZWZ0JywgJycpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlY3JlYXNlSW5kZW50U3R5bGU7XG5cbi8qKiovIH0pLFxuLyogMzg0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qKlxuICogQGRlc2NyaXB0aW9uIOaPkuWFpeihqOaDhVxuICogQGF1dGhvciBsaXV3ZVxuICovXG5cblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIFBhbmVsTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNikpO1xuXG52YXIgUGFuZWxfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzMpKTtcblxudmFyIGNyZWF0ZV9wYW5lbF9jb25mXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NSkpO1xuXG52YXIgRW1vdGljb24gPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKEVtb3RpY29uLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEVtb3RpY29uKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU4ODY4XFx1NjBDNVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi1oYXBweVxcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpIHx8IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDliJvlu7ogcGFuZWxcbiAgICovXG5cblxuICBFbW90aWNvbi5wcm90b3R5cGUuY3JlYXRlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmYgPSBjcmVhdGVfcGFuZWxfY29uZl8xW1wiZGVmYXVsdFwiXSh0aGlzLmVkaXRvcik7XG4gICAgdmFyIHBhbmVsID0gbmV3IFBhbmVsXzFbXCJkZWZhdWx0XCJdKHRoaXMsIGNvbmYpO1xuICAgIHBhbmVsLmNyZWF0ZSgpO1xuICB9O1xuICAvKipcbiAgICog6I+c5Y2V6KGo5oOF54K55Ye75LqL5Lu2XG4gICAqL1xuXG5cbiAgRW1vdGljb24ucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNyZWF0ZVBhbmVsKCk7XG4gIH07XG5cbiAgRW1vdGljb24ucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHJldHVybiBFbW90aWNvbjtcbn0oUGFuZWxNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFbW90aWNvbjtcblxuLyoqKi8gfSksXG4vKiAzODUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uICDooajmg4Xoj5zljZUgcGFuZWzphY3nva5cbiAqIEBhdXRob3IgbGl1d2VpXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjcpKTtcblxudmFyIF9maWx0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNzYpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxuZnVuY3Rpb24gZGVmYXVsdF8xKGVkaXRvcikge1xuICAvLyDlo7DmmI5lbW90aW9uc+aVsOaNrue7k+aehFxuICB2YXIgZW1vdGlvbnMgPSBlZGl0b3IuY29uZmlnLmVtb3Rpb25zO1xuICAvKiB0YWJz6YWN572u6aG5ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4gIC8vIOeUn+aIkOihqOaDhee7k+aehCBUT0RPIGplbGUgdHlwZeexu+Wei+W+heS8mOWMllxuXG4gIGZ1bmN0aW9uIEdlbmVyYXRlRXhwcmVzc2lvblN0cnVjdHVyZShlbGUpIHtcbiAgICAvLyDov5Tlm57kuLrkuIDkuKrmlbDnu4Tlr7nosaFcbiAgICB2YXIgcmVzID0gW107IC8vIOWmguaenHR5cGXmmK9pbWFnZeexu+Wei+WImeeUn+aIkOS4gOS4qmltZ+agh+etvlxuXG4gICAgaWYgKGVsZS50eXBlID09ICdpbWFnZScpIHtcbiAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgcmVzID0gKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IGVsZS5jb250ZW50KS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoY29uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29uID09ICdzdHJpbmcnKSByZXR1cm4gJyc7XG4gICAgICAgIHJldHVybiBcIjxzcGFuICB0aXRsZT1cXFwiXCIgKyBjb24uYWx0ICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwiZWxlSW1nXFxcIiBkYXRhLWVtb2ppPVxcXCJcIiArIGNvbi5hbHQgKyBcIlxcXCIgc3R5bGUgc3JjPVxcXCJcIiArIGNvbi5zcmMgKyBcIlxcXCIgYWx0PVxcXCJbXCIgKyBjb24uYWx0ICsgXCJdXFxcIj5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlwiO1xuICAgICAgfSk7XG4gICAgICByZXMgPSAoMCwgX2ZpbHRlcltcImRlZmF1bHRcIl0pKHJlcykuY2FsbChyZXMsIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzICE9PSAnJztcbiAgICAgIH0pO1xuICAgIH0gLy/lkKbliJnnm7TmjqXlvZPlhoXlrrnlpITnkIZcbiAgICBlbHNlIHtcbiAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgIHJlcyA9ICgwLCBfbWFwW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQyID0gZWxlLmNvbnRlbnQpLmNhbGwoX2NvbnRleHQyLCBmdW5jdGlvbiAoY29uKSB7XG4gICAgICAgIHJldHVybiBcIjxzcGFuIGNsYXNzPVxcXCJlbGVJbWdcXFwiIHRpdGxlPVxcXCJcIiArIGNvbiArIFwiXFxcIj5cIiArIGNvbiArIFwiPC9zcGFuPlwiO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5qb2luKCcnKS5yZXBsYWNlKC8mbmJzcDsvZywgJycpO1xuICB9XG5cbiAgdmFyIHRhYnNDb25mID0gKDAsIF9tYXBbXCJkZWZhdWx0XCJdKShlbW90aW9ucykuY2FsbChlbW90aW9ucywgZnVuY3Rpb24gKGVsZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogZWRpdG9yLmkxOG5leHQudChcIm1lbnVzLnBhbmVsTWVudXMuZW1vdGljb24uXCIgKyBlbGUudGl0bGUpLFxuICAgICAgLy8g5Yik5patdHlwZeexu+Wei+WmguaenOaYr2ltYWdl5YiZ5LulaW1n55qE5b2i5byP5o+S5YWl5ZCm5YiZ5Lul5YaF5a65XG4gICAgICB0cGw6IFwiPGRpdj5cIiArIEdlbmVyYXRlRXhwcmVzc2lvblN0cnVjdHVyZShlbGUpICsgXCI8L2Rpdj5cIixcbiAgICAgIGV2ZW50czogW3tcbiAgICAgICAgc2VsZWN0b3I6ICcuZWxlSW1nJyxcbiAgICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgICAgZm46IGZ1bmN0aW9uIGZuKGUpIHtcbiAgICAgICAgICAvLyBl5Li65LqL5Lu25a+56LGhXG4gICAgICAgICAgdmFyICR0YXJnZXQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlLnRhcmdldCk7XG4gICAgICAgICAgdmFyIG5vZGVOYW1lID0gJHRhcmdldC5nZXROb2RlTmFtZSgpO1xuICAgICAgICAgIHZhciBpbnNlcnRIdG1sO1xuXG4gICAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnSU1HJykge1xuICAgICAgICAgICAgdmFyIF9jb250ZXh0MztcblxuICAgICAgICAgICAgLy8g5o+S5YWl5Zu+54mHXG4gICAgICAgICAgICBpbnNlcnRIdG1sID0gKDAsIF90cmltW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQzID0gJHRhcmdldC5wYXJlbnQoKS5odG1sKCkpLmNhbGwoX2NvbnRleHQzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5o+S5YWlIGVtb2ppXG4gICAgICAgICAgICBpbnNlcnRIdG1sID0gJzxzcGFuPicgKyAkdGFyZ2V0Lmh0bWwoKSArICc8L3NwYW4+JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBpbnNlcnRIdG1sKTsgLy8g56S65Ye95pWw5omn6KGM57uT5p2f5LmL5ZCO5YWz6ZetIHBhbmVsXG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9O1xuICB9KTtcbiAgLyogdGFic+mFjee9rumhuSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWVuZCovXG4gIC8vIOacgOe7iOeahOmFjee9riAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBjb25mID0ge1xuICAgIHdpZHRoOiAzMDAsXG4gICAgaGVpZ2h0OiAyMzAsXG4gICAgdGFiczogdGFic0NvbmZcbiAgfTtcbiAgcmV0dXJuIGNvbmY7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZGVmYXVsdF8xO1xuXG4vKioqLyB9KSxcbi8qIDM4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jcmVhdGVMaXN0SGFuZGxlID0gZXhwb3J0cy5DbGFzc1R5cGUgPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIFdyYXBMaXN0SGFuZGxlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NykpO1xuXG52YXIgSm9pbkxpc3RIYW5kbGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzg5KSk7XG5cbnZhciBTdGFydEpvaW5MaXN0SGFuZGxlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM5MCkpO1xuXG52YXIgRW5kSm9pbkxpc3RIYW5kbGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzkxKSk7XG5cbnZhciBPdGhlckxpc3RIYW5kbGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzkyKSk7XG5cbnZhciBDbGFzc1R5cGU7XG5cbihmdW5jdGlvbiAoQ2xhc3NUeXBlKSB7XG4gIENsYXNzVHlwZVtcIldyYXBcIl0gPSBcIldyYXBMaXN0SGFuZGxlXCI7XG4gIENsYXNzVHlwZVtcIkpvaW5cIl0gPSBcIkpvaW5MaXN0SGFuZGxlXCI7XG4gIENsYXNzVHlwZVtcIlN0YXJ0Sm9pblwiXSA9IFwiU3RhcnRKb2luTGlzdEhhbmRsZVwiO1xuICBDbGFzc1R5cGVbXCJFbmRKb2luXCJdID0gXCJFbmRKb2luTGlzdEhhbmRsZVwiO1xuICBDbGFzc1R5cGVbXCJPdGhlclwiXSA9IFwiT3RoZXJMaXN0SGFuZGxlXCI7XG59KShDbGFzc1R5cGUgPSBleHBvcnRzLkNsYXNzVHlwZSB8fCAoZXhwb3J0cy5DbGFzc1R5cGUgPSB7fSkpO1xuXG52YXIgaGFuZGxlID0ge1xuICBXcmFwTGlzdEhhbmRsZTogV3JhcExpc3RIYW5kbGVfMVtcImRlZmF1bHRcIl0sXG4gIEpvaW5MaXN0SGFuZGxlOiBKb2luTGlzdEhhbmRsZV8xW1wiZGVmYXVsdFwiXSxcbiAgU3RhcnRKb2luTGlzdEhhbmRsZTogU3RhcnRKb2luTGlzdEhhbmRsZV8xW1wiZGVmYXVsdFwiXSxcbiAgRW5kSm9pbkxpc3RIYW5kbGU6IEVuZEpvaW5MaXN0SGFuZGxlXzFbXCJkZWZhdWx0XCJdLFxuICBPdGhlckxpc3RIYW5kbGU6IE90aGVyTGlzdEhhbmRsZV8xW1wiZGVmYXVsdFwiXVxufTtcblxuZnVuY3Rpb24gY3JlYXRlTGlzdEhhbmRsZShjbGFzc1R5cGUsIG9wdGlvbnMsIHJhbmdlKSB7XG4gIGlmIChjbGFzc1R5cGUgPT09IENsYXNzVHlwZS5PdGhlciAmJiByYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdvdGhlciDnsbvpnIDopoHkvKDlhaUgcmFuZ2UnKTtcbiAgfVxuXG4gIHJldHVybiBjbGFzc1R5cGUgIT09IENsYXNzVHlwZS5PdGhlciA/IG5ldyBoYW5kbGVbY2xhc3NUeXBlXShvcHRpb25zKSA6IG5ldyBoYW5kbGVbY2xhc3NUeXBlXShvcHRpb25zLCByYW5nZSk7XG59XG5cbmV4cG9ydHMuY3JlYXRlTGlzdEhhbmRsZSA9IGNyZWF0ZUxpc3RIYW5kbGU7XG4vKipcbiAqIOe7n+S4gOaJp+ihjOeahOaOpeWPo1xuICovXG5cbnZhciBMaXN0SGFuZGxlQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGlzdEhhbmRsZUNvbW1hbmQoaGFuZGxlKSB7XG4gICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG4gICAgdGhpcy5oYW5kbGUuZXhlYygpO1xuICB9XG5cbiAgTGlzdEhhbmRsZUNvbW1hbmQucHJvdG90eXBlLmdldFNlbGVjdGlvblJhbmdlRWxlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odGhpcy5oYW5kbGUuc2VsZWN0aW9uUmFuZ2VFbGVtLmdldCgpKTtcbiAgfTtcblxuICByZXR1cm4gTGlzdEhhbmRsZUNvbW1hbmQ7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTGlzdEhhbmRsZUNvbW1hbmQ7XG5cbi8qKiovIH0pLFxuLyogMzg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIExpc3RIYW5kbGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuLyoqXG4gKiDpgInljLrlnKjluo/liJflhoXnmoTlpITnkIZcbiAqL1xuXG5cbnZhciBXcmFwTGlzdEhhbmRsZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoV3JhcExpc3RIYW5kbGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gV3JhcExpc3RIYW5kbGUob3B0aW9ucykge1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zKSB8fCB0aGlzO1xuICB9XG5cbiAgV3JhcExpc3RIYW5kbGUucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBsaXN0VHlwZSA9IF9hLmxpc3RUeXBlLFxuICAgICAgICBsaXN0VGFyZ2V0ID0gX2EubGlzdFRhcmdldCxcbiAgICAgICAgJHNlbGVjdGlvbkVsZW0gPSBfYS4kc2VsZWN0aW9uRWxlbSxcbiAgICAgICAgJHN0YXJ0RWxlbSA9IF9hLiRzdGFydEVsZW0sXG4gICAgICAgICRlbmRFbGVtID0gX2EuJGVuZEVsZW07XG4gICAgdmFyICRjb250YWluZXJGcmFnbWVudDsgLy8g5a655ZmoIC0gSFRNTCDmlofmoaPniYfmrrVcblxuICAgIHZhciAkbm9kZXMgPSBbXTsgLy8g6I635Y+W6YCJ5Lit55qE5q616JC9XG4gICAgLy8g6I635Y+WIHNlbGVjdGlvbkVsZW0g55qE5qCH562+5ZCNXG5cbiAgICB2YXIgY29udGFpbmVyTm9kZU5hbWUgPSAkc2VsZWN0aW9uRWxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVsZW0uZ2V0Tm9kZU5hbWUoKTsgLy8g6I635Y+W5byA5aeL5Lul5Y+K57uT5p2f55qEIGxpIOWFg+e0oFxuXG4gICAgdmFyICRzdGFydCA9ICRzdGFydEVsZW0ucHJpb3I7XG4gICAgdmFyICRlbmQgPSAkZW5kRWxlbS5wcmlvcjsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9kyDlvIDlp4voioLngrkg5ZKMIOe7k+adn+iKgueCuSDmsqHmnIkgcHJpb3JcbiAgICAvLyDlubbkuJQg5byA5aeL6IqC54K5IOayoeacieWJjeS4gOS4quWFhOW8n+iKgueCuVxuICAgIC8vIOW5tuS4lCDnu5PmnZ/oioLngrkg5rKh5pyJ5ZCO5LiA5Liq5YWE5byf6IqC54K5XG4gICAgLy8g5Y2z5Luj6KGoIOWFqOmAieW6j+WIl1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGlmICghJHN0YXJ0RWxlbS5wcmlvciAmJiAhJGVuZEVsZW0ucHJpb3IgfHwgISgkc3RhcnQgPT09IG51bGwgfHwgJHN0YXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc3RhcnQucHJldigpLmxlbmd0aCkgJiYgISgkZW5kID09PSBudWxsIHx8ICRlbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRlbmQubmV4dCgpLmxlbmd0aCkpIHtcbiAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgLy8g6I635Y+W5b2T5YmN5bqP5YiX5LiL55qE5omA5pyJIGxpIOagh+etvlxuICAgICAgO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSAkc2VsZWN0aW9uRWxlbSA9PT0gbnVsbCB8fCAkc2VsZWN0aW9uRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHNlbGVjdGlvbkVsZW0uY2hpbGRyZW4oKSkuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKCRub2RlKSB7XG4gICAgICAgICRub2Rlcy5wdXNoKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRub2RlKSk7XG4gICAgICB9KTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8g5b2TIHNlbGVjdGlvbkVsZW0g55qE5qCH562+5ZCN5ZKM5oyJ6ZKu57G75Z6LIOS4gOiHtCDnmoTml7blgJlcbiAgICAgIC8vIOS7o+ihqOedgOW9k+WJjeeahOaTjeS9nOaYryDlj5bmtogg5bqP5YiXXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgIGlmIChjb250YWluZXJOb2RlTmFtZSA9PT0gbGlzdFR5cGUpIHtcbiAgICAgICAgLy8g55Sf5oiQ5a+55bqU55qE5q616JC9KHAp5bm25re75Yqg5Yiw5paH5qGj54mH5q615Lit77yM54S25ZCO5Yig6Zmk5o6J5peg55So55qEIGxpXG4gICAgICAgICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRWxlbWVudEZyYWdtZW50KCRub2RlcywgdXRpbHNfMS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIC8vIOWIm+W7uiDmlofmoaPniYfmrrVcbiAgICAgICAgJ3AnKTtcbiAgICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8g5b2TIHNlbGVjdGlvbkVsZW0g55qE5qCH562+5ZCN5ZKM5oyJ6ZKu57G75Z6LIOS4jeS4gOiHtCDnmoTml7blgJlcbiAgICAgIC8vIOS7o+ihqOedgOW9k+WJjeeahOaTjeS9nOaYryDovazmjaIg5bqP5YiXXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8g5Yib5bu6IOW6j+WIl+iKgueCuVxuICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnQobGlzdFRhcmdldCk7IC8vIOWboOS4uuaYr+i9rOaNou+8jOaJgOS7pSBsaSDlhYPntKDlj6/ku6Xnm7TmjqXkvb/nlKhcblxuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSgkbm9kZXMpLmNhbGwoJG5vZGVzLCBmdW5jdGlvbiAoJG5vZGUpIHtcbiAgICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQuYXBwZW5kQ2hpbGQoJG5vZGUuZWxlbXNbMF0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8g5oqKIOaWh+aho+eJh+autSDmiJYg5bqP5YiX6IqC54K5IOaPkuWFpeWIsCBzZWxlY3Rpb25FbGVtIOeahOWJjemdolxuXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpOyAvLyDmj5LlhaXliLAgJHNlbGVjdGlvbkVsZW0g5LmL5YmNXG5cbiAgICAgIHV0aWxzXzEuaW5zZXJ0QmVmb3JlKCRzZWxlY3Rpb25FbGVtLCAkY29udGFpbmVyRnJhZ21lbnQsICRzZWxlY3Rpb25FbGVtLmVsZW1zWzBdKTsgLy8g5Yig6Zmk5peg55So55qEIHNlbGVjdGlvbkVsZW0g5Zug5Li65a6D6KKr5o6P56m65LqGXG5cbiAgICAgICRzZWxlY3Rpb25FbGVtLnJlbW92ZSgpO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9k+S4jeaYr+WFqOmAieW6j+WIl+eahOaXtuWAmeWwseS7o+ihqOaYr+mdnuWFqOmAieW6j+WIlyjlup/or50pXG4gICAgLy8g6Z2e5YWo6YCJ5bqP5YiX55qE5oOF5Ya1XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGVsc2Uge1xuICAgICAgLy8g6I635Y+W6YCJ5Lit55qE5YaF5a65XG4gICAgICB2YXIgJHN0YXJ0RG9tID0gJHN0YXJ0O1xuXG4gICAgICB3aGlsZSAoJHN0YXJ0RG9tLmxlbmd0aCkge1xuICAgICAgICAkbm9kZXMucHVzaCgkc3RhcnREb20pO1xuICAgICAgICAoJGVuZCA9PT0gbnVsbCB8fCAkZW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkZW5kLmVxdWFsKCRzdGFydERvbSkpID8gJHN0YXJ0RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odW5kZWZpbmVkKSA6ICRzdGFydERvbSA9ICRzdGFydERvbS5uZXh0KCk7IC8vIOe7p+e7rVxuICAgICAgfSAvLyDojrflj5blvIDlp4voioLngrnnmoTkuIrkuIDkuKrlhYTlvJ/oioLngrlcblxuXG4gICAgICB2YXIgJHBydmVEb20gPSAkc3RhcnQucHJldigpOyAvLyDojrflj5bnu5PmnZ/oioLngrnnmoTkuIvkuIDkuKrlhYTlvJ/oioLngrlcblxuICAgICAgdmFyICRuZXh0RG9tID0gJGVuZC5uZXh0KCk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIC8vIOW9kyBzZWxlY3Rpb25FbGVtIOeahOagh+etvuWQjeWSjOaMiemSruexu+Wei+S4gOiHtOeahOaXtuWAmVxuICAgICAgLy8g5Luj6KGo552A5b2T5YmN55qE5pON5L2c5pivIOWPlua2iCDluo/liJdcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgaWYgKGNvbnRhaW5lck5vZGVOYW1lID09PSBsaXN0VHlwZSkge1xuICAgICAgICAvLyDnlJ/miJDlr7nlupTnmoTmrrXokL0ocCnlubbmt7vliqDliLDmlofmoaPniYfmrrXkuK3vvIznhLblkI7liKDpmaTmjonml6DnlKjnmoQgbGlcbiAgICAgICAgJGNvbnRhaW5lckZyYWdtZW50ID0gdXRpbHNfMS5jcmVhdGVFbGVtZW50RnJhZ21lbnQoJG5vZGVzLCB1dGlsc18xLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgLy8g5Yib5bu6IOaWh+aho+eJh+autVxuICAgICAgICAncCcpO1xuICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAvLyDlvZMgc2VsZWN0aW9uRWxlbSDnmoTmoIfnrb7lkI3lkozmjInpkq7nsbvlnovkuI3kuIDoh7TnmoTml7blgJlcbiAgICAgIC8vIOS7o+ihqOedgOW9k+WJjeeahOaTjeS9nOaYryDovazmjaIg5bqP5YiXXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8g5Yib5bu6IOaWh+aho+eJh+autVxuICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnQobGlzdFRhcmdldCk7IC8vIOWboOS4uuaYr+i9rOaNou+8jOaJgOS7pSBsaSDlhYPntKDlj6/ku6Xnm7TmjqXkvb/nlKhcblxuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSgkbm9kZXMpLmNhbGwoJG5vZGVzLCBmdW5jdGlvbiAoJG5vZGUpIHtcbiAgICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQuYXBwZW5kKCRub2RlLmVsZW1zWzBdKTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIC8vIOW9kyBwcnZlRG9tIOWSjCBuZXh0RG9tIOmDveWtmOWcqOeahOaXtuWAmVxuICAgICAgLy8g5Luj6KGo552A5b2T5YmN6YCJ5Yy65piv5Zyo5bqP5YiX55qE5Lit6Ze0XG4gICAgICAvLyDmiYDku6XopoHlhYjmioog5LiL5Y2K6YOo5YiGIOacqumAieaLqeeahCBsaSDlhYPntKDni6znq4vlh7rmnaXnlJ/miJDkuIDkuKog5bqP5YiXXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgICAgaWYgKCRwcnZlRG9tLmxlbmd0aCAmJiAkbmV4dERvbS5sZW5ndGgpIHtcbiAgICAgICAgLy8g6I635Y+W5bC+6YOo55qE5YWD57SgXG4gICAgICAgIHZhciAkdGFpbERvbUFyciA9IFtdO1xuXG4gICAgICAgIHdoaWxlICgkbmV4dERvbS5sZW5ndGgpIHtcbiAgICAgICAgICAkdGFpbERvbUFyci5wdXNoKCRuZXh0RG9tKTtcbiAgICAgICAgICAkbmV4dERvbSA9ICRuZXh0RG9tLm5leHQoKTtcbiAgICAgICAgfSAvLyDliJvlu7og5bC+6YOo5bqP5YiX6IqC54K5XG5cblxuICAgICAgICB2YXIgJHRhaWxEb2NGcmFnbWVudF8xID0gdXRpbHNfMS5jcmVhdGVFbGVtZW50KGNvbnRhaW5lck5vZGVOYW1lKTsgLy8g5oqK5bC+6YOo5YWD57Sg6IqC54K55re75Yqg5Yiw5bC+6YOo5bqP5YiX6IqC54K55LitXG5cbiAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJHRhaWxEb21BcnIpLmNhbGwoJHRhaWxEb21BcnIsIGZ1bmN0aW9uICgkbm9kZSkge1xuICAgICAgICAgICR0YWlsRG9jRnJhZ21lbnRfMS5hcHBlbmQoJG5vZGUuZWxlbXNbMF0pO1xuICAgICAgICB9KTsgLy8g5oqK5bC+6YOo5bqP5YiX6IqC54K55o+S5YWl5YiwIHNlbGVjdGlvbkVsZW0g55qE5ZCO6Z2iXG5cbiAgICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHRhaWxEb2NGcmFnbWVudF8xKS5pbnNlcnRBZnRlcigkc2VsZWN0aW9uRWxlbSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8g6I635Y+W6YCJ5Yy65a655Zmo5YWD57Sg55qE54i25YWD57Sg77yM5LiA6Iis5bCx5piv57yW6L6R5Yy65Z+fXG4gICAgICAgIC8vIOeEtuWQjuWIpOaWrSBzZWxlY3Rpb25FbGVtIOaYr+WQpui/mOacieS4i+S4gOS4quWFhOW8n+iKgueCuVxuICAgICAgICAvLyDlpoLmnpzmnInvvIzlsLHmiormlofmoaPniYfmrrXmt7vliqDliLAgc2VsZWN0aW9uRWxlbSDkuIvkuIDkuKrlhYTlvJ/oioLngrnliY1cbiAgICAgICAgLy8g5aaC5p6c5rKh5pyJ77yM5bCx5oqK5paH5qGj54mH5q615re75Yqg5YiwIOe8lui+keWMuuWfnyDmnKvlsL5cbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgICB2YXIgJHNlbGVjdGlvbk5leHREb20gPSAkc2VsZWN0aW9uRWxlbS5uZXh0KCk7XG4gICAgICAgICRzZWxlY3Rpb25OZXh0RG9tLmxlbmd0aCA/IHV0aWxzXzEuaW5zZXJ0QmVmb3JlKCRzZWxlY3Rpb25FbGVtLCAkY29udGFpbmVyRnJhZ21lbnQsICRzZWxlY3Rpb25OZXh0RG9tLmVsZW1zWzBdKSA6ICRzZWxlY3Rpb25FbGVtLnBhcmVudCgpLmVsZW1zWzBdLmFwcGVuZCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAvLyDkuI3nrqHmmK8g5Y+W5raIIOi/mOaYryDovazmjaIg6YO96ZyA6KaB6YeN5paw5o+S5YWl6IqC54K5XG4gICAgICAvL1xuICAgICAgLy8gcHJ2ZURvbS5sZW5ndGgg562J5LqOIDAg5Y2z5Luj6KGo6YCJ5Yy65pivIHNlbGVjdGlvbkVsZW0g5bqP5YiX55qE5LiK5Y2K6YOo5YiGXG4gICAgICAvLyDkuIrljYrpg6jliIbnmoQgbGkg5YWD57SgXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBlbHNlIGlmICghJHBydmVEb20ubGVuZ3RoKSB7XG4gICAgICAgIC8vIOaWh+aho+eJh+auteaPkuWFpeWIsCBzZWxlY3Rpb25FbGVtIOS5i+WJjVxuICAgICAgICB0aGlzLnNlbGVjdGlvblJhbmdlRWxlbS5zZXQoJGNvbnRhaW5lckZyYWdtZW50KTtcbiAgICAgICAgdXRpbHNfMS5pbnNlcnRCZWZvcmUoJHNlbGVjdGlvbkVsZW0sICRjb250YWluZXJGcmFnbWVudCwgJHNlbGVjdGlvbkVsZW0uZWxlbXNbMF0pO1xuICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAvLyDkuI3nrqHmmK8g5Y+W5raIIOi/mOaYryDovazmjaIg6YO96ZyA6KaB6YeN5paw5o+S5YWl6IqC54K5XG4gICAgICAvL1xuICAgICAgLy8gbmV4dERvbS5sZW5ndGgg562J5LqOIDAg5Y2z5Luj6KGo6YCJ5Yy65pivIHNlbGVjdGlvbkVsZW0g5bqP5YiX55qE5LiL5Y2K6YOo5YiGXG4gICAgICAvLyDkuIvljYrpg6jliIbnmoQgbGkg5YWD57SgICBpZiAoISRuZXh0RG9tLmxlbmd0aClcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyDmlofmoaPniYfmrrXmj5LlhaXliLAgc2VsZWN0aW9uRWxlbSDkuYvlkI5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZUVsZW0uc2V0KCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICAgIHZhciAkc2VsZWN0aW9uTmV4dERvbSA9ICRzZWxlY3Rpb25FbGVtLm5leHQoKTtcbiAgICAgICAgJHNlbGVjdGlvbk5leHREb20ubGVuZ3RoID8gdXRpbHNfMS5pbnNlcnRCZWZvcmUoJHNlbGVjdGlvbkVsZW0sICRjb250YWluZXJGcmFnbWVudCwgJHNlbGVjdGlvbk5leHREb20uZWxlbXNbMF0pIDogJHNlbGVjdGlvbkVsZW0ucGFyZW50KCkuZWxlbXNbMF0uYXBwZW5kKCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBXcmFwTGlzdEhhbmRsZTtcbn0oTGlzdEhhbmRsZV8xLkxpc3RIYW5kbGUpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFdyYXBMaXN0SGFuZGxlO1xuXG4vKioqLyB9KSxcbi8qIDM4OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24g6YCJ5Yy655qEIEVsZW1lbnRcbiAqIEBhdXRob3IgdG9uZ2hhblxuICovXG5cbnZhciBTZWxlY3Rpb25SYW5nZUVsZW0gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlbGVjdGlvblJhbmdlRWxlbSgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICog6K6+572uIFNlbGVjdGlvblJhbmdlRWxlbSDnmoTlgLxcbiAgICogQHBhcmFtIHsgU2V0U2VsZWN0aW9uUmFuZ2VUeXBlIH0gZGF0YVxuICAgKi9cblxuXG4gIFNlbGVjdGlvblJhbmdlRWxlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAvL1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICB2YXIgY2hpbGROb2RlXzEgPSBbXTtcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gZGF0YS5jaGlsZE5vZGVzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoJG5vZGUpIHtcbiAgICAgICAgY2hpbGROb2RlXzEucHVzaCgkbm9kZSk7XG4gICAgICB9KTtcbiAgICAgIGRhdGEgPSBjaGlsZE5vZGVfMTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50ID0gZGF0YTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPliBTZWxlY3Rpb25SYW5nZUVsZW0g55qE5YC8XG4gICAqIEByZXR1cm5zIHsgU2VsZWN0aW9uUmFuZ2VUeXBlIH0gRWxlbVxuICAgKi9cblxuXG4gIFNlbGVjdGlvblJhbmdlRWxlbS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9O1xuICAvKipcbiAgICog5riF6ZmkIFNlbGVjdGlvblJhbmdlRWxlbSDnmoTlgLxcbiAgICovXG5cblxuICBTZWxlY3Rpb25SYW5nZUVsZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBTZWxlY3Rpb25SYW5nZUVsZW07XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uUmFuZ2VFbGVtO1xuXG4vKioqLyB9KSxcbi8qIDM4OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBMaXN0SGFuZGxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIEpvaW5MaXN0SGFuZGxlID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhKb2luTGlzdEhhbmRsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBKb2luTGlzdEhhbmRsZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpIHx8IHRoaXM7XG4gIH1cblxuICBKb2luTGlzdEhhbmRsZS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG5cbiAgICB2YXIgX2ggPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGVkaXRvciA9IF9oLmVkaXRvcixcbiAgICAgICAgbGlzdFR5cGUgPSBfaC5saXN0VHlwZSxcbiAgICAgICAgbGlzdFRhcmdldCA9IF9oLmxpc3RUYXJnZXQsXG4gICAgICAgICRzdGFydEVsZW0gPSBfaC4kc3RhcnRFbGVtLFxuICAgICAgICAkZW5kRWxlbSA9IF9oLiRlbmRFbGVtOyAvLyDlrrnlmaggLSBIVE1MIOaWh+aho+eJh+autVxuXG4gICAgdmFyICRjb250YWluZXJGcmFnbWVudDsgLy8g6I635Y+W6YCJ5Lit55qE5q616JC9XG5cbiAgICB2YXIgJG5vZGVzID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7IC8vIOiOt+WPluW8gOWni+auteiQveWSjOe7k+adn+auteiQvSDmoIfnrb7lkI1cblxuICAgIHZhciBzdGFydE5vZGVOYW1lID0gJHN0YXJ0RWxlbSA9PT0gbnVsbCB8fCAkc3RhcnRFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc3RhcnRFbGVtLmdldE5vZGVOYW1lKCk7XG4gICAgdmFyIGVuZE5vZGVOYW1lID0gJGVuZEVsZW0gPT09IG51bGwgfHwgJGVuZEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRlbmRFbGVtLmdldE5vZGVOYW1lKCk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyDlvIDlpLTnu5PlsL7pg73mmK/luo/liJfnmoTmg4XlhrXkuItcbiAgICAvLyDlvIDlpLTluo/liJcg5ZKMIOe7k+WwvuW6j+WIl+eahOagh+etvuWQjeS4gOiHtOeahOaXtuWAmVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGlmIChzdGFydE5vZGVOYW1lID09PSBlbmROb2RlTmFtZSkge1xuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8g5byA5aS05bqP5YiXIOWSjCDnu5PlsL7luo/liJcg5Lit6Ze06L+Y5pyJ5YW25LuW55qE5q616JC955qE5pe25YCZXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBpZiAoJG5vZGVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8g5by55Ye6IOW8gOWktCDlkowg57uT5bC+XG4gICAgICAgICRub2Rlcy5zaGlmdCgpO1xuICAgICAgICAkbm9kZXMucG9wKCk7IC8vIOaKiuS4remXtOmDqOWIhueahOiKgueCueWFg+e0oOi9rOaNouaIkCBsaSDlhYPntKDlubbmt7vliqDliLDmlofmoaPniYfmrrXlkI7liKDpmaRcblxuICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCh1dGlsc18xLmZpbHRlclNlbGVjdGlvbk5vZGVzKCRub2RlcyksIC8vIOi/h+a7pCAkbm9kZXMg6I635Y+W5Yiw56ym5ZCI6KaB5rGC55qE6YCJ5Lit5YWD57Sg6IqC54K5XG4gICAgICAgIHV0aWxzXzEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIC8vIOWIm+W7uiDmlofmoaPniYfmrrVcbiAgICAgICAgKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyDnlLHkuo7lvIDlpLTluo/liJcg5ZKMIOe7k+WwvuW6j+WIl+eahOagh+etvuWQjeS4gOagt++8jOaJgOS7peWPquWIpOaWreS6huW8gOWktOW6j+WIl+eahFxuICAgICAgICAvLyDlvZPlvIDlpLTluo/liJfnmoTmoIfnrb7lkI3lkozmjInpkq7nsbvlnosg5LiA6Ie0IOeahOaXtuWAmVxuICAgICAgICAvLyDku6PooajnnYDlvZPliY3mmK/kuIDkuKog6K6+572u5bqP5YiXIOeahOaTjeS9nFxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgaWYgKHN0YXJ0Tm9kZU5hbWUgPT09IGxpc3RUeXBlKSB7XG4gICAgICAgICAgLy8g5oqK57uT5p2f5bqP5YiX55qEIGxpIOWFg+e0oOa3u+WKoOWIsCDmlofmoaPniYfmrrXkuK1cbiAgICAgICAgICAoX2EgPSAkZW5kRWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2EpLmNhbGwoX2EsIGZ1bmN0aW9uICgkbGlzdCkge1xuICAgICAgICAgICAgJGNvbnRhaW5lckZyYWdtZW50LmFwcGVuZCgkbGlzdCk7XG4gICAgICAgICAgfSk7IC8vIOS4i+W6j+WIl+WFqOmAieiiq+aOj+epuuS6hu+8jOWwseWNuOejqOadgOmptOWQp1xuXG4gICAgICAgICAgJGVuZEVsZW0ucmVtb3ZlKCk7IC8vIOWcqOW8gOWni+W6j+WIl+S4rea3u+WKoCDmlofmoaPniYfmrrVcblxuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgICAgICRzdGFydEVsZW0uZWxlbXNbMF0uYXBwZW5kKCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyDnlLHkuo7lvIDlpLTluo/liJcg5ZKMIOe7k+WwvuW6j+WIl+eahOagh+etvuWQjeS4gOagt++8jOaJgOS7peWPquWIpOaWreS6huW8gOWktOW6j+WIl+eahFxuICAgICAgICAvLyDlvZPlvIDlpLTluo/liJfnmoTmoIfnrb7lkI3lkozmjInpkq7nsbvlnosg5LiN5LiA6Ie0IOeahOaXtuWAmVxuICAgICAgICAvLyDku6PooajnnYDlvZPliY3mmK/kuIDkuKog6L2s5o2i5bqP5YiXIOeahOaTjeS9nFxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIOWIm+W7uiDlvIDlp4vluo/liJflkoznu5PmnZ/luo/liJfnmoTmlofmoaPniYfmrrVcbiAgICAgICAgICB2YXIgJHN0YXJ0RnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgdmFyICRlbmRGcmFnbWVudF8xID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOyAvLyDojrflj5botbfngrnlhYPntKBcblxuICAgICAgICAgIHZhciAkc3RhcnREb20gPSB1dGlsc18xLmdldFN0YXJ0UG9pbnQoJHN0YXJ0RWxlbSk7IC8vIOiOt+WPluS4iuWNiuW6j+WIl+S4reeahOmAieS4reWGheWuue+8jOW5tua3u+WKoOWIsOaWh+aho+eJh+auteS4rVxuXG4gICAgICAgICAgd2hpbGUgKCRzdGFydERvbS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBfZWxlbWVudCA9ICRzdGFydERvbS5lbGVtc1swXTtcbiAgICAgICAgICAgICRzdGFydERvbSA9ICRzdGFydERvbS5uZXh0KCk7XG4gICAgICAgICAgICAkc3RhcnRGcmFnbWVudC5hcHBlbmQoX2VsZW1lbnQpO1xuICAgICAgICAgIH0gLy8g6I635Y+W57uT5p2f5YWD57SgXG5cblxuICAgICAgICAgIHZhciAkZW5kRG9tID0gdXRpbHNfMS5nZXRFbmRQb2ludCgkZW5kRWxlbSk7IC8vIOiOt+WPluS4i+WNiuW6j+WIl+S4remAieS4reeahOWGheWuuVxuXG4gICAgICAgICAgdmFyIGRvbUFyciA9IFtdO1xuXG4gICAgICAgICAgd2hpbGUgKCRlbmREb20ubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb21BcnIudW5zaGlmdCgkZW5kRG9tLmVsZW1zWzBdKTtcbiAgICAgICAgICAgICRlbmREb20gPSAkZW5kRG9tLnByZXYoKTtcbiAgICAgICAgICB9IC8vIOa3u+WKoOWIsOaWh+aho+eJh+auteS4rVxuXG5cbiAgICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShkb21BcnIpLmNhbGwoZG9tQXJyLCBmdW5jdGlvbiAoJG5vZGUpIHtcbiAgICAgICAgICAgICRlbmRGcmFnbWVudF8xLmFwcGVuZCgkbm9kZSk7XG4gICAgICAgICAgfSk7IC8vIOWQiOW5tuaWh+aho+eJh+autVxuXG4gICAgICAgICAgdmFyICRvcmRlckZyYWdtZW50ID0gdXRpbHNfMS5jcmVhdGVFbGVtZW50KGxpc3RUYXJnZXQpO1xuICAgICAgICAgICRvcmRlckZyYWdtZW50LmFwcGVuZCgkc3RhcnRGcmFnbWVudCk7XG4gICAgICAgICAgJG9yZGVyRnJhZ21lbnQuYXBwZW5kKCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICAgICAgJG9yZGVyRnJhZ21lbnQuYXBwZW5kKCRlbmRGcmFnbWVudF8xKTtcbiAgICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSAkb3JkZXJGcmFnbWVudDsgLy8g5o+S5YWlXG5cbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblJhbmdlRWxlbS5zZXQoJGNvbnRhaW5lckZyYWdtZW50KTtcbiAgICAgICAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkb3JkZXJGcmFnbWVudCkuaW5zZXJ0QWZ0ZXIoJHN0YXJ0RWxlbSk7IC8vIOW6j+WIl+WFqOmAieiiq+aOj+epuuS6huWQju+8jOWwseWNuOejqOadgOmptOWQp1xuXG4gICAgICAgICAgISgoX2IgPSAkc3RhcnRFbGVtLmNoaWxkcmVuKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sZW5ndGgpICYmICRzdGFydEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgISgoX2MgPSAkZW5kRWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubGVuZ3RoKSAmJiAkZW5kRWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAvLyDlvIDlpLTluo/liJcg5ZKMIOe7k+WwvuW6j+WIlyDkuK3pl7TmsqHmnInlhbbku5bnmoTmrrXokL1cbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkbm9kZXMubGVuZ3RoID0gMDsgLy8g6I635Y+W6LW354K55YWD57SgXG5cbiAgICAgICAgdmFyICRzdGFydERvbSA9IHV0aWxzXzEuZ2V0U3RhcnRQb2ludCgkc3RhcnRFbGVtKTsgLy8g6I635Y+W5LiK5Y2K5bqP5YiX5Lit55qE6YCJ5Lit5YaF5a65XG5cbiAgICAgICAgd2hpbGUgKCRzdGFydERvbS5sZW5ndGgpIHtcbiAgICAgICAgICAkbm9kZXMucHVzaCgkc3RhcnREb20pO1xuICAgICAgICAgICRzdGFydERvbSA9ICRzdGFydERvbS5uZXh0KCk7XG4gICAgICAgIH0gLy8g6I635Y+W57uT5p2f5YWD57SgXG5cblxuICAgICAgICB2YXIgJGVuZERvbSA9IHV0aWxzXzEuZ2V0RW5kUG9pbnQoJGVuZEVsZW0pOyAvLyDojrflj5bkuIvljYrluo/liJfkuK3pgInkuK3nmoTlhoXlrrlcblxuICAgICAgICB2YXIgZG9tQXJyID0gW107IC8vIOiOt+WPluS4i+WNiuW6j+WIl+S4reeahOmAieS4reWGheWuuVxuXG4gICAgICAgIHdoaWxlICgkZW5kRG9tLmxlbmd0aCkge1xuICAgICAgICAgIGRvbUFyci51bnNoaWZ0KCRlbmREb20pO1xuICAgICAgICAgICRlbmREb20gPSAkZW5kRG9tLnByZXYoKTtcbiAgICAgICAgfSAvLyDono3lkIjlhoXlrrlcblxuXG4gICAgICAgICRub2Rlcy5wdXNoLmFwcGx5KCRub2RlcywgZG9tQXJyKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyDnlLHkuo7lvIDlpLTluo/liJcg5ZKMIOe7k+WwvuW6j+WIl+eahOagh+etvuWQjeS4gOagt++8jOaJgOS7peWPquWIpOaWreS6huW8gOWktOW6j+WIl+eahFxuICAgICAgICAvLyDlvZPlvIDlpLTluo/liJfnmoTmoIfnrb7lkI3lkozmjInpkq7nsbvlnosg5LiA6Ie0IOeahOaXtuWAmVxuICAgICAgICAvLyDku6PooajnnYDlvZPliY3mmK/kuIDkuKog5Y+W5raI5bqP5YiXIOeahOaTjeS9nFxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgaWYgKHN0YXJ0Tm9kZU5hbWUgPT09IGxpc3RUeXBlKSB7XG4gICAgICAgICAgLy8g5Yib5bu6IOaWh+aho+eJh+autVxuICAgICAgICAgIC8vIOaKiiBsaSDovazmjaLkuLogcCDmoIfnrb5cbiAgICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCgkbm9kZXMsIHV0aWxzXzEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCAncCcpOyAvLyDmj5LlhaXliLAgZW5kRWxlbSDliY1cblxuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0QmVmb3JlKCRzdGFydEVsZW0sICRjb250YWluZXJGcmFnbWVudCwgJGVuZEVsZW0uZWxlbXNbMF0pO1xuICAgICAgICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8g55Sx5LqO5byA5aS05bqP5YiXIOWSjCDnu5PlsL7luo/liJfnmoTmoIfnrb7lkI3kuIDmoLfvvIzmiYDku6Xlj6rliKTmlq3kuoblvIDlpLTluo/liJfnmoRcbiAgICAgICAgLy8g5b2T5byA5aS05bqP5YiX55qE5qCH562+5ZCN5ZKM5oyJ6ZKu57G75Z6LIOS4jeS4gOiHtCDnmoTml7blgJlcbiAgICAgICAgLy8g5Luj6KGo552A5b2T5YmN5piv5LiA5LiqIOiuvue9ruW6j+WIlyDnmoTmk43kvZxcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyDliJvlu7og5bqP5YiX5YWD57SgXG4gICAgICAgICAgJGNvbnRhaW5lckZyYWdtZW50ID0gdXRpbHNfMS5jcmVhdGVFbGVtZW50KGxpc3RUYXJnZXQpOyAvLyBsaSDlhYPntKDmt7vliqDliLAg5bqP5YiX5YWD57SgIOS4rVxuXG4gICAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJG5vZGVzKS5jYWxsKCRub2RlcywgZnVuY3Rpb24gKCRsaXN0KSB7XG4gICAgICAgICAgICAkY29udGFpbmVyRnJhZ21lbnQuYXBwZW5kKCRsaXN0LmVsZW1zWzBdKTtcbiAgICAgICAgICB9KTsgLy8g5o+S5YWl5YiwIHN0YXJ0RWxlbSDkuYvlkI5cblxuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgICAgIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRjb250YWluZXJGcmFnbWVudCkuaW5zZXJ0QWZ0ZXIoJHN0YXJ0RWxlbSk7XG4gICAgICAgIH0gLy8g5bqP5YiX5YWo6YCJ6KKr5o6P56m65LqG5ZCO77yM5bCx5Y2456Oo5p2A6am05ZCnXG5cblxuICAgICAgICAhKChfZCA9ICRzdGFydEVsZW0uY2hpbGRyZW4oKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxlbmd0aCkgJiYgJGVuZEVsZW0ucmVtb3ZlKCk7XG4gICAgICAgICEoKF9lID0gJGVuZEVsZW0uY2hpbGRyZW4oKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmxlbmd0aCkgJiYgJGVuZEVsZW0ucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8g55Sx5LqO5byA5aS05bqP5YiXIOWSjCDnu5PlsL7luo/liJfnmoTmoIfnrb7lkI3kuI3kuIDmoLdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZWxzZSB7XG4gICAgICAvLyDkuIvluo/liJflhYPntKDmlbDnu4RcbiAgICAgIHZhciBsb3dlckxpc3RFbGVtcyA9IFtdOyAvLyDojrflj5bnu5PmnZ/lhYPntKBcblxuICAgICAgdmFyICRlbmREb20gPSB1dGlsc18xLmdldEVuZFBvaW50KCRlbmRFbGVtKTsgLy8g6I635Y+W5LiL5Y2K5bqP5YiX5Lit6YCJ5Lit55qE5YaF5a65XG5cbiAgICAgIHdoaWxlICgkZW5kRG9tLmxlbmd0aCkge1xuICAgICAgICBsb3dlckxpc3RFbGVtcy51bnNoaWZ0KCRlbmREb20pO1xuICAgICAgICAkZW5kRG9tID0gJGVuZERvbS5wcmV2KCk7XG4gICAgICB9IC8vIOS4iuW6j+WIl+WFg+e0oOaVsOe7hFxuXG5cbiAgICAgIHZhciB1cHBlckxpc3RFbGVtcyA9IFtdOyAvLyDojrflj5botbfngrnlhYPntKBcblxuICAgICAgdmFyICRzdGFydERvbSA9IHV0aWxzXzEuZ2V0U3RhcnRQb2ludCgkc3RhcnRFbGVtKTsgLy8g6I635Y+W5LiK5Y2K5bqP5YiX5Lit55qE6YCJ5Lit5YaF5a6577yM5bm25re75Yqg5Yiw5paH5qGj54mH5q615LitXG5cbiAgICAgIHdoaWxlICgkc3RhcnREb20ubGVuZ3RoKSB7XG4gICAgICAgIHVwcGVyTGlzdEVsZW1zLnB1c2goJHN0YXJ0RG9tKTtcbiAgICAgICAgJHN0YXJ0RG9tID0gJHN0YXJ0RG9tLm5leHQoKTtcbiAgICAgIH0gLy8g5Yib5bu6IOaWh+aho+eJh+autVxuXG5cbiAgICAgICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOyAvLyDlvLnlh7rlvIDlpLTlkoznu5PlsL7nmoTluo/liJdcblxuICAgICAgJG5vZGVzLnNoaWZ0KCk7XG4gICAgICAkbm9kZXMucG9wKCk7IC8vIOaKiuWktOmDqOW6j+WIl+eahOWGheWuuea3u+WKoOWIsOaWh+aho+eJh+auteW9k+S4rVxuXG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh1cHBlckxpc3RFbGVtcykuY2FsbCh1cHBlckxpc3RFbGVtcywgZnVuY3Rpb24gKCRsaXN0KSB7XG4gICAgICAgIHJldHVybiAkY29udGFpbmVyRnJhZ21lbnQuYXBwZW5kKCRsaXN0LmVsZW1zWzBdKTtcbiAgICAgIH0pOyAvLyDnlJ/miJAgbGkg5qCH562+77yM5bm25LiU5re75Yqg5YiwIOaWh+aho+eJh+auteS4re+8jOWIoOmZpOaXoOeUqOiKgueCuVxuXG4gICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCh1dGlsc18xLmZpbHRlclNlbGVjdGlvbk5vZGVzKCRub2RlcyksIC8vIOW6j+WIl+S4remXtOeahOaVsOaNriAtIOi/m+ihjOaVsOaNrui/h+a7pFxuICAgICAgJGNvbnRhaW5lckZyYWdtZW50KTsgLy8g5oqK5bC+6YOo5bqP5YiX55qE5YaF5a655re75Yqg5Yiw5paH5qGj54mH5q615b2T5LitXG5cbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxvd2VyTGlzdEVsZW1zKS5jYWxsKGxvd2VyTGlzdEVsZW1zLCBmdW5jdGlvbiAoJGxpc3QpIHtcbiAgICAgICAgcmV0dXJuICRjb250YWluZXJGcmFnbWVudC5hcHBlbmQoJGxpc3QuZWxlbXNbMF0pO1xuICAgICAgfSk7IC8vIOiusOW9lVxuXG4gICAgICB0aGlzLnNlbGVjdGlvblJhbmdlRWxlbS5zZXQoJGNvbnRhaW5lckZyYWdtZW50KTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8g5byA5aS05bqP5YiXIOWSjCDorr7nva7luo/liJfnsbvlnovnm7jlkIxcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgaWYgKHN0YXJ0Tm9kZU5hbWUgPT09IGxpc3RUeXBlKSB7XG4gICAgICAgIC8vIOaPkuWFpeWIsCDlvIDlp4vluo/liJfnmoTlsL7pg6go5L2c5Li65a2Q5YWD57SgKVxuICAgICAgICAkc3RhcnRFbGVtLmVsZW1zWzBdLmFwcGVuZCgkY29udGFpbmVyRnJhZ21lbnQpOyAvLyDluo/liJflhajpgInooqvmjo/nqbrkuoblkI7vvIzlsLHljbjno6jmnYDpqbTlkKdcblxuICAgICAgICAhKChfZiA9ICRlbmRFbGVtLmNoaWxkcmVuKCkpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5sZW5ndGgpICYmICRlbmRFbGVtLnJlbW92ZSgpO1xuICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAvLyDnu5PlsL7luo/liJcg5ZKMIOiuvue9ruW6j+WIl+exu+Wei+ebuOWQjFxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIOaPkuWFpeWIsOe7k+adn+W6j+WIl+eahOmhtumDqCjkvZzkuLrlrZDlhYPntKApXG4gICAgICAgIGlmICgoX2cgPSAkZW5kRWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyICRlbmRFbGVtQ2hpbGQgPSAkZW5kRWxlbS5jaGlsZHJlbigpO1xuICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0QmVmb3JlKCRlbmRFbGVtQ2hpbGQsICRjb250YWluZXJGcmFnbWVudCwgJGVuZEVsZW1DaGlsZC5lbGVtc1swXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVuZEVsZW0uZWxlbXNbMF0uYXBwZW5kKCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEpvaW5MaXN0SGFuZGxlO1xufShMaXN0SGFuZGxlXzEuTGlzdEhhbmRsZSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSm9pbkxpc3RIYW5kbGU7XG5cbi8qKiovIH0pLFxuLyogMzkwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIExpc3RIYW5kbGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgU3RhcnRKb2luTGlzdEhhbmRsZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoU3RhcnRKb2luTGlzdEhhbmRsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBTdGFydEpvaW5MaXN0SGFuZGxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgfVxuXG4gIFN0YXJ0Sm9pbkxpc3RIYW5kbGUucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIF9iID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBlZGl0b3IgPSBfYi5lZGl0b3IsXG4gICAgICAgIGxpc3RUeXBlID0gX2IubGlzdFR5cGUsXG4gICAgICAgIGxpc3RUYXJnZXQgPSBfYi5saXN0VGFyZ2V0LFxuICAgICAgICAkc3RhcnRFbGVtID0gX2IuJHN0YXJ0RWxlbTsgLy8g5a655ZmoIC0gSFRNTCDmlofmoaPniYfmrrVcblxuICAgIHZhciAkY29udGFpbmVyRnJhZ21lbnQ7IC8vIOiOt+WPlumAieS4reeahOauteiQvVxuXG4gICAgdmFyICRub2RlcyA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uUmFuZ2VUb3BOb2RlcygpOyAvLyDojrflj5blvIDlp4vmrrXokL3moIfnrb7lkI1cblxuICAgIHZhciBzdGFydE5vZGVOYW1lID0gJHN0YXJ0RWxlbSA9PT0gbnVsbCB8fCAkc3RhcnRFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc3RhcnRFbGVtLmdldE5vZGVOYW1lKCk7IC8vIOW8ueWHuiDlvIDlpLTluo/liJdcblxuICAgICRub2Rlcy5zaGlmdCgpOyAvLyDkuIrluo/liJflhYPntKDmlbDnu4RcblxuICAgIHZhciB1cHBlckxpc3RFbGVtcyA9IFtdOyAvLyDojrflj5botbfngrnlhYPntKBcblxuICAgIHZhciAkc3RhcnREb20gPSB1dGlsc18xLmdldFN0YXJ0UG9pbnQoJHN0YXJ0RWxlbSk7IC8vIOiOt+WPluS4iuWNiuW6j+WIl+S4reeahOmAieS4reWGheWuue+8jOW5tua3u+WKoOWIsOaWh+aho+eJh+auteS4rVxuXG4gICAgd2hpbGUgKCRzdGFydERvbS5sZW5ndGgpIHtcbiAgICAgIHVwcGVyTGlzdEVsZW1zLnB1c2goJHN0YXJ0RG9tKTtcbiAgICAgICRzdGFydERvbSA9ICRzdGFydERvbS5uZXh0KCk7XG4gICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8g5b2T5YmN5bqP5YiX57G75Z6L5ZKM5byA5aS05bqP5YiX55qE57G75Z6LIOS4gOiHtFxuICAgIC8vIOS7o+ihqOW9k+WJjeaYr+S4gOS4qiDono3lkIgo5oqK5YW25LuW5q616JC95Yqg5YWl5Yiw5byA5aS05bqP5YiX5LitKSDnmoTmk43kvZxcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIGlmIChzdGFydE5vZGVOYW1lID09PSBsaXN0VHlwZSkge1xuICAgICAgJGNvbnRhaW5lckZyYWdtZW50ID0gdXRpbHNfMS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh1cHBlckxpc3RFbGVtcykuY2FsbCh1cHBlckxpc3RFbGVtcywgZnVuY3Rpb24gKCRsaXN0KSB7XG4gICAgICAgIHJldHVybiAkY29udGFpbmVyRnJhZ21lbnQuYXBwZW5kKCRsaXN0LmVsZW1zWzBdKTtcbiAgICAgIH0pOyAvLyDnlJ/miJAgbGkg5YWD5bGe77yM5bm25Yig6ZmkXG5cbiAgICAgICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRWxlbWVudEZyYWdtZW50KHV0aWxzXzEuZmlsdGVyU2VsZWN0aW9uTm9kZXMoJG5vZGVzKSwgLy8g6L+H5ruk5YWD57Sg6IqC54K55pWw5o2uXG4gICAgICAkY29udGFpbmVyRnJhZ21lbnQpOyAvLyDmj5LlhaXliLDlvIDlp4vluo/liJfmnKvlsL5cblxuICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZUVsZW0uc2V0KCRjb250YWluZXJGcmFnbWVudCk7IC8vIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkc3RhcnRFbGVtLmVsZW1zWzBdKVxuXG4gICAgICAkc3RhcnRFbGVtLmVsZW1zWzBdLmFwcGVuZCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9k+WJjeW6j+WIl+exu+Wei+WSjOW8gOWktOW6j+WIl+eahOexu+WeiyDkuI3kuIDoh7RcbiAgICAvLyDku6PooajlvZPliY3mmK/kuIDkuKog6K6+572u5bqP5YiXIOeahOaTjeS9nFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBlbHNlIHtcbiAgICAgIC8vIOWIm+W7uiDluo/liJfoioLngrlcbiAgICAgICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRWxlbWVudChsaXN0VGFyZ2V0KTtcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHVwcGVyTGlzdEVsZW1zKS5jYWxsKHVwcGVyTGlzdEVsZW1zLCBmdW5jdGlvbiAoJGxpc3QpIHtcbiAgICAgICAgcmV0dXJuICRjb250YWluZXJGcmFnbWVudC5hcHBlbmQoJGxpc3QuZWxlbXNbMF0pO1xuICAgICAgfSk7IC8vIOeUn+aIkCBsaSDlhYPntKDvvIzlubbmt7vliqDliLAg5bqP5YiX6IqC54K5IOW9k+S4re+8jOWIoOmZpOaXoOeUqOiKgueCuVxuXG4gICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCh1dGlsc18xLmZpbHRlclNlbGVjdGlvbk5vZGVzKCRub2RlcyksIC8vIOi/h+a7pOaZrumAmuiKgueCuVxuICAgICAgJGNvbnRhaW5lckZyYWdtZW50KTsgLy8g5o+S5YWl5Yiw5byA5aeL5YWD57SgXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJGNvbnRhaW5lckZyYWdtZW50KS5pbnNlcnRBZnRlcigkc3RhcnRFbGVtKTsgLy8g5bqP5YiX5YWo6YCJ6KKr5o6P56m65LqG5ZCO77yM5bCx5Y2456Oo5p2A6am05ZCnXG5cbiAgICAgICEoKF9hID0gJHN0YXJ0RWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAmJiAkc3RhcnRFbGVtLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3RhcnRKb2luTGlzdEhhbmRsZTtcbn0oTGlzdEhhbmRsZV8xLkxpc3RIYW5kbGUpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN0YXJ0Sm9pbkxpc3RIYW5kbGU7XG5cbi8qKiovIH0pLFxuLyogMzkxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIExpc3RIYW5kbGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXG52YXIgRW5kSm9pbkxpc3RIYW5kbGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKEVuZEpvaW5MaXN0SGFuZGxlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEVuZEpvaW5MaXN0SGFuZGxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgfVxuXG4gIEVuZEpvaW5MaXN0SGFuZGxlLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSwgX2I7XG5cbiAgICB2YXIgX2MgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGVkaXRvciA9IF9jLmVkaXRvcixcbiAgICAgICAgbGlzdFR5cGUgPSBfYy5saXN0VHlwZSxcbiAgICAgICAgbGlzdFRhcmdldCA9IF9jLmxpc3RUYXJnZXQsXG4gICAgICAgICRlbmRFbGVtID0gX2MuJGVuZEVsZW07IC8vIOWuueWZqCAtIEhUTUwg5paH5qGj54mH5q61XG5cbiAgICB2YXIgJGNvbnRhaW5lckZyYWdtZW50OyAvLyDojrflj5bpgInkuK3nmoTmrrXokL1cblxuICAgIHZhciAkbm9kZXMgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKTsgLy8g6I635Y+W57uT5p2f5q616JC95qCH562+5ZCNXG5cbiAgICB2YXIgZW5kTm9kZU5hbWUgPSAkZW5kRWxlbSA9PT0gbnVsbCB8fCAkZW5kRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGVuZEVsZW0uZ2V0Tm9kZU5hbWUoKTsgLy8g5by55Ye6IOe7k+adn+W6j+WIl1xuXG4gICAgJG5vZGVzLnBvcCgpOyAvLyDkuIvluo/liJflhYPntKDmlbDnu4RcblxuICAgIHZhciBsb3dlckxpc3RFbGVtcyA9IFtdOyAvLyDojrflj5bnu5PmnZ/lhYPntKBcblxuICAgIHZhciAkZW5kRG9tID0gdXRpbHNfMS5nZXRFbmRQb2ludCgkZW5kRWxlbSk7IC8vIOiOt+WPluS4i+WNiuW6j+WIl+S4remAieS4reeahOWGheWuuVxuXG4gICAgd2hpbGUgKCRlbmREb20ubGVuZ3RoKSB7XG4gICAgICBsb3dlckxpc3RFbGVtcy51bnNoaWZ0KCRlbmREb20pO1xuICAgICAgJGVuZERvbSA9ICRlbmREb20ucHJldigpO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIOW9k+WJjeW6j+WIl+exu+Wei+WSjOe7k+adn+W6j+WIl+eahOexu+WeiyDkuIDoh7RcbiAgICAvLyDku6PooajlvZPliY3mmK/kuIDkuKog6J6N5ZCIKOaKiuWFtuS7luauteiQveWKoOWFpeWIsOe7k+adn+W6j+WIl+S4rSkg55qE5pON5L2cXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICBpZiAoZW5kTm9kZU5hbWUgPT09IGxpc3RUeXBlKSB7XG4gICAgICAvLyDnlJ/miJAgbGkg5YWD5bGe77yM5bm25Yig6Zmk5Y6f5p2l55qEIGRvbSDlhYPntKBcbiAgICAgICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRWxlbWVudEZyYWdtZW50KHV0aWxzXzEuZmlsdGVyU2VsZWN0aW9uTm9kZXMoJG5vZGVzKSwgLy8g6L+H5ruk5YWD57Sg6IqC54K55pWw5o2uXG4gICAgICB1dGlsc18xLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSAvLyDliJvlu7og5paH5qGj54mH5q61XG4gICAgICApO1xuICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkobG93ZXJMaXN0RWxlbXMpLmNhbGwobG93ZXJMaXN0RWxlbXMsIGZ1bmN0aW9uICgkbGlzdCkge1xuICAgICAgICByZXR1cm4gJGNvbnRhaW5lckZyYWdtZW50LmFwcGVuZCgkbGlzdC5lbGVtc1swXSk7XG4gICAgICB9KTsgLy8g5o+S5YWl5Yiw57uT5p2f5bqP5YiX5LmL5YmNXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuXG4gICAgICBpZiAoKF9hID0gJGVuZEVsZW0uY2hpbGRyZW4oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICB2YXIgJGVuZEVsZW1DaGlsZCA9ICRlbmRFbGVtLmNoaWxkcmVuKCk7XG4gICAgICAgIHV0aWxzXzEuaW5zZXJ0QmVmb3JlKCRlbmRFbGVtQ2hpbGQsICRjb250YWluZXJGcmFnbWVudCwgJGVuZEVsZW1DaGlsZC5lbGVtc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZW5kRWxlbS5lbGVtc1swXS5hcHBlbmQoJGNvbnRhaW5lckZyYWdtZW50KTtcbiAgICAgIH1cbiAgICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyDlvZPliY3luo/liJfnsbvlnovlkoznu5PmnZ/luo/liJfnmoTnsbvlnosg5LiN5LiA6Ie0XG4gICAgLy8g5Luj6KGo5b2T5YmN5piv5LiA5LiqIOiuvue9ruW6j+WIlyDnmoTmk43kvZxcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZWxzZSB7XG4gICAgICAvLyDov4fmu6TlhYPntKDoioLngrnmlbDmja5cbiAgICAgIHZhciAkc2VsZWN0aW9uTm9kZXMgPSB1dGlsc18xLmZpbHRlclNlbGVjdGlvbk5vZGVzKCRub2Rlcyk7IC8vIOaKiuS4i+W6j+WIl+eahOWGheWuuea3u+WKoOWIsOi/h+a7pOWFg+e0oOS4rVxuXG4gICAgICAkc2VsZWN0aW9uTm9kZXMucHVzaC5hcHBseSgkc2VsZWN0aW9uTm9kZXMsIGxvd2VyTGlzdEVsZW1zKTsgLy8g55Sf5oiQIGxpIOWFg+e0oOW5tuS4lOa3u+WKoOWIsOW6j+WIl+iKgueCueWQjuWIoOmZpOWOn+iKgueCuVxuXG4gICAgICAkY29udGFpbmVyRnJhZ21lbnQgPSB1dGlsc18xLmNyZWF0ZUVsZW1lbnRGcmFnbWVudCgkc2VsZWN0aW9uTm9kZXMsIHV0aWxzXzEuY3JlYXRlRWxlbWVudChsaXN0VGFyZ2V0KSAvLyDliJvlu7og5bqP5YiX6IqC54K5XG4gICAgICApOyAvLyDmj5LlhaXliLDnu5PmnZ/luo/liJfkuYvliY1cblxuICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZUVsZW0uc2V0KCRjb250YWluZXJGcmFnbWVudCk7XG4gICAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkY29udGFpbmVyRnJhZ21lbnQpLmluc2VydEJlZm9yZSgkZW5kRWxlbSk7IC8vIOW6j+WIl+WFqOmAieiiq+aOj+epuuS6huWQju+8jOWwseWNuOejqOadgOmptOWQp1xuXG4gICAgICAhKChfYiA9ICRlbmRFbGVtLmNoaWxkcmVuKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sZW5ndGgpICYmICRlbmRFbGVtLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRW5kSm9pbkxpc3RIYW5kbGU7XG59KExpc3RIYW5kbGVfMS5MaXN0SGFuZGxlKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFbmRKb2luTGlzdEhhbmRsZTtcblxuLyoqKi8gfSksXG4vKiAzOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgTGlzdEhhbmRsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbnZhciBPdGhlckxpc3RIYW5kbGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKE90aGVyTGlzdEhhbmRsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBPdGhlckxpc3RIYW5kbGUob3B0aW9ucywgcmFuZ2UpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMucmFuZ2UgPSByYW5nZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBPdGhlckxpc3RIYW5kbGUucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBlZGl0b3IgPSBfYS5lZGl0b3IsXG4gICAgICAgIGxpc3RUYXJnZXQgPSBfYS5saXN0VGFyZ2V0OyAvLyDojrflj5bpgInkuK3nmoTmrrXokL1cblxuICAgIHZhciAkbm9kZXMgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKTsgLy8g55Sf5oiQIGxpIOWFg+e0oOW5tuS4lOa3u+WKoOWIsOW6j+WIl+iKgueCueWQjuWIoOmZpOWOn+iKgueCuVxuXG4gICAgdmFyICRjb250YWluZXJGcmFnbWVudCA9IHV0aWxzXzEuY3JlYXRlRWxlbWVudEZyYWdtZW50KHV0aWxzXzEuZmlsdGVyU2VsZWN0aW9uTm9kZXMoJG5vZGVzKSwgLy8g6L+H5ruk6YCJ5Y+W55qE5YWD57SgXG4gICAgdXRpbHNfMS5jcmVhdGVFbGVtZW50KGxpc3RUYXJnZXQpIC8vIOWIm+W7uiDluo/liJfoioLngrlcbiAgICApOyAvLyDmj5LlhaXoioLngrnliLDpgInljLpcblxuICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2VFbGVtLnNldCgkY29udGFpbmVyRnJhZ21lbnQpO1xuICAgIHRoaXMucmFuZ2UuaW5zZXJ0Tm9kZSgkY29udGFpbmVyRnJhZ21lbnQpO1xuICB9O1xuXG4gIHJldHVybiBPdGhlckxpc3RIYW5kbGU7XG59KExpc3RIYW5kbGVfMS5MaXN0SGFuZGxlKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPdGhlckxpc3RIYW5kbGU7XG5cbi8qKiovIH0pLFxuLyogMzkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmrrXokL3ooYzpq5ggTGluZUhlaWdodFxuICogQGF1dGhvciBsaWNodW5saW5cbiAqXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxudmFyIF9pbmRleE9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIERyb3BMaXN0TWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgbGluZUhlaWdodExpc3RfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzk0KSk7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgTGluZUhlaWdodCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoTGluZUhlaWdodCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBMaW5lSGVpZ2h0KGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU4ODRDXFx1OUFEOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24tcm93LWhlaWdodFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgdmFyIGxpbmVIZWlnaHRNZW51ID0gbmV3IGxpbmVIZWlnaHRMaXN0XzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgZWRpdG9yLmNvbmZpZy5saW5lSGVpZ2h0cyk7XG4gICAgdmFyIERyb3BMaXN0TWVudSA9IHtcbiAgICAgIHdpZHRoOiAxMDAsXG4gICAgICB0aXRsZTogJ+iuvue9ruihjOmrmCcsXG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBsaXN0OiBsaW5lSGVpZ2h0TWVudS5nZXRJdGVtTGlzdCgpLFxuICAgICAgY2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBjbGlja0hhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgLy/kv53lrZjnhKbngrlcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zYXZlUmFuZ2UoKTtcblxuICAgICAgICBfdGhpcy5jb21tYW5kKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvciwgRHJvcExpc3RNZW51KSB8fCB0aGlzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICog5omn6KGM5ZG95LukXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZVxuICAgKi9cblxuXG4gIExpbmVIZWlnaHQucHJvdG90eXBlLmNvbW1hbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgOiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsgLy/lhYHorrjorr7nva5kb21cblxuICAgIHZhciBhbGxvd0FycmF5ID0gWydQJ107XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciBzdCA9ICcnOyAvL+aBouWkjeeEpueCuVxuXG4gICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpO1xuICAgIGlmICghKCRzZWxlY3Rpb25FbGVtID09PSBudWxsIHx8ICRzZWxlY3Rpb25FbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkc2VsZWN0aW9uRWxlbS5sZW5ndGgpKSByZXR1cm47XG4gICAgdmFyICRzZWxlY3Rpb25BbGwgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKSk7IC8vIGxldCBkb206SFRNTEVsZW1lbnQ9ICRzZWxlY3Rpb25FbGVtLmVsZW1zWzBdXG5cbiAgICB2YXIgZG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKSkuZWxlbXNbMF07IC8v6I635Y+W5YWD57Sg55qEc3R5bGVcblxuICAgIHZhciBzdHlsZSA9ICcnO1xuICAgIHZhciBzdHlsZUxpc3QgPSBbXTsgLy/ngrnlh7vpu5jorqTnmoTml7blgJnliKDpmaRsaW5lLWhlaWdodOWxnuaApyDlubbph43mlrDorr7nva4gc3R5bGVcblxuICAgIHZhciBzdHlsZVN0ciA9ICcnOyAvL+mAieS4reWkmuihjOaTjeS9nFxuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtICYmIGVkaXRvci4kdGV4dEVsZW0uZXF1YWwoJHNlbGVjdGlvbkVsZW0pKSB7XG4gICAgICB2YXIgaXNJRV8xID0gdXRpbF8xLlVBLmlzSUUoKTsgLy/ojrflj5ZyYW5nZSDlvIDlpLTnu5PmnZ/nmoRkb23lnKgg56WW54i25YWD57Sg55qE5LiL5qCHXG5cbiAgICAgIHZhciBpbmRleFN0b3JlXzEgPSBbXTtcbiAgICAgIHZhciBhcnJheURvbV9hID0gW107XG4gICAgICB2YXIgYXJyYXlEb21fYiA9IFtdOyAvL+iOt+WPlnJhbmdlIOW8gOWktOe7k+adn+eahGRvbVxuXG4gICAgICB2YXIgU3RhcnRFbGVtXzEgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpKTtcbiAgICAgIHZhciBFbmRFbGVtXzEgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkVuZEVsZW0oKSk7XG4gICAgICB2YXIgY2hpbGRMaXN0ID0gKF9hID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2RlcztcbiAgICAgIGFycmF5RG9tX2EucHVzaCh0aGlzLmdldERvbShTdGFydEVsZW1fMS5lbGVtc1swXSkpO1xuICAgICAgY2hpbGRMaXN0ID09PSBudWxsIHx8IGNoaWxkTGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoY2hpbGRMaXN0KS5jYWxsKGNoaWxkTGlzdCwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGlmIChpdGVtID09PSBfdGhpcy5nZXREb20oU3RhcnRFbGVtXzEuZWxlbXNbMF0pKSB7XG4gICAgICAgICAgaW5kZXhTdG9yZV8xLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0gPT09IF90aGlzLmdldERvbShFbmRFbGVtXzEuZWxlbXNbMF0pKSB7XG4gICAgICAgICAgaW5kZXhTdG9yZV8xLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy/pgY3ljoYg6I635Y+W5aS05bC+5LmL6Ze055qEZG9t5YWD57SgXG5cbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciBkID0gdm9pZCAwO1xuICAgICAgYXJyYXlEb21fYi5wdXNoKHRoaXMuZ2V0RG9tKFN0YXJ0RWxlbV8xLmVsZW1zWzBdKSk7XG5cbiAgICAgIHdoaWxlIChhcnJheURvbV9hW2ldICE9PSB0aGlzLmdldERvbShFbmRFbGVtXzEuZWxlbXNbMF0pKSB7XG4gICAgICAgIGQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShhcnJheURvbV9hW2ldLm5leHRFbGVtZW50U2libGluZykuZWxlbXNbMF07XG5cbiAgICAgICAgaWYgKCgwLCBfaW5kZXhPZltcImRlZmF1bHRcIl0pKGFsbG93QXJyYXkpLmNhbGwoYWxsb3dBcnJheSwgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZCkuZ2V0Tm9kZU5hbWUoKSkgIT09IC0xKSB7XG4gICAgICAgICAgYXJyYXlEb21fYi5wdXNoKGQpO1xuICAgICAgICAgIGFycmF5RG9tX2EucHVzaChkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheURvbV9hLnB1c2goZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpKys7XG4gICAgICB9IC8v6K6+572u5q616JC96YCJ5Y+WIOWFqOmAiVxuXG5cbiAgICAgIGlmIChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShhcnJheURvbV9hWzBdKS5nZXROb2RlTmFtZSgpICE9PSAnUCcpIHtcbiAgICAgICAgaSA9IDA7IC8v6YGN5Y6G6ZuG5ZCI5b6X5Yiw56ys5LiA5LiqcOagh+etvueahOS4i+agh1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXJyYXlEb21fYS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGlmIChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShhcnJheURvbV9hW2tdKS5nZXROb2RlTmFtZSgpID09PSAnUCcpIHtcbiAgICAgICAgICAgIGkgPSBrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vaT09PTAg6K+05piO6YCJ5Yy65Lit5rKh5pyJcOauteiQvVxuXG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX2kgPSAwO1xuXG4gICAgICAgIHdoaWxlIChfaSAhPT0gaSkge1xuICAgICAgICAgIGFycmF5RG9tX2Euc2hpZnQoKTtcbiAgICAgICAgICBfaSsrO1xuICAgICAgICB9XG4gICAgICB9IC8v6K6+572u5pu/5o2i55qE6YCJ5Yy6XG5cblxuICAgICAgdGhpcy5zZXRSYW5nZShhcnJheURvbV9hWzBdLCBhcnJheURvbV9hW2FycmF5RG9tX2EubGVuZ3RoIC0gMV0pOyAvL+eUn+aIkGlubmVySHRtbCBodG1s5a2X56ym5LiyXG5cbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGFycmF5RG9tX2EpLmNhbGwoYXJyYXlEb21fYSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgc3R5bGUgPSBpdGVtLmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGVMaXN0ID0gc3R5bGUgPyBzdHlsZS5zcGxpdCgnOycpIDogW107XG4gICAgICAgIHN0eWxlU3RyID0gX3RoaXMuc3R5bGVQcm9jZXNzaW5nKHN0eWxlTGlzdCk7XG5cbiAgICAgICAgaWYgKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGl0ZW0pLmdldE5vZGVOYW1lKCkgPT09ICdQJykge1xuICAgICAgICAgIC8v5Yik5pat5piv5ZCmIOeCueWHu+m7mOiupFxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVTdHIgKz0gdmFsdWUgPyBcImxpbmUtaGVpZ2h0OlwiICsgdmFsdWUgKyBcIjtcIiA6ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNJRV8xKSB7XG4gICAgICAgICAgc3QgKz0gXCI8XCIgKyBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShpdGVtKS5nZXROb2RlTmFtZSgpLnRvTG93ZXJDYXNlKCkgKyBcIiBzdHlsZT1cXFwiXCIgKyBzdHlsZVN0ciArIFwiXFxcIj5cIiArIGl0ZW0uaW5uZXJIVE1MICsgXCI8L1wiICsgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oaXRlbSkuZ2V0Tm9kZU5hbWUoKS50b0xvd2VyQ2FzZSgpICsgXCI+XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oaXRlbSkuY3NzKCdsaW5lLWhlaWdodCcsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzdCkge1xuICAgICAgICB0aGlzLmFjdGlvbihzdCwgZWRpdG9yKTtcbiAgICAgIH0gLy/mgaLlpI3lt7LpgInmi6nnmoTpgInljLpcblxuXG4gICAgICBkb20gPSAkc2VsZWN0aW9uQWxsLmVsZW1zWzBdO1xuICAgICAgdGhpcy5zZXRSYW5nZShkb20uY2hpbGRyZW5baW5kZXhTdG9yZV8xWzBdXSwgZG9tLmNoaWxkcmVuW2luZGV4U3RvcmVfMVsxXV0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy/pgY3ljoZkb20g6I635Y+W56WW54i25YWD57SgIOebtOWIsGNvbnRlbnRlZGl0YWJsZeWxnuaAp+eahGRpduagh+etvlxuXG5cbiAgICBkb20gPSB0aGlzLmdldERvbShkb20pOyAvL+agoemqjOWFgeiuuGxpbmVoZWlnaHTorr7nva7moIfnrb5cblxuICAgIGlmICgoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKShhbGxvd0FycmF5KS5jYWxsKGFsbG93QXJyYXksIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGRvbSkuZ2V0Tm9kZU5hbWUoKSkgPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3R5bGUgPSBkb20uZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIHN0eWxlTGlzdCA9IHN0eWxlID8gc3R5bGUuc3BsaXQoJzsnKSA6IFtdOyAvL+WFqOmAiSBkb23kuIvmiYDmnInnmoTlhoXlrrlcblxuICAgIHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5zZWxlY3RBbGxDaGlsZHJlbihkb20pOyAvL+S/neWtmHJhbmdlXG5cbiAgICBlZGl0b3Iuc2VsZWN0aW9uLnNhdmVSYW5nZSgpOyAvL+WIpOaWreaYr+WQpuWtmOWcqHZhbHVlIOm7mOiupCDnp7vpmaRsaW5lLWhlaWdodFxuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIHN0eWxlU3RyID0gdGhpcy5zdHlsZVByb2Nlc3Npbmcoc3R5bGVMaXN0KTsgLy/pgb/lhY3msqHmnInlhbblroPlsZ7mgKcg5Y+q55WZ5LiLIOKAmHN0eWxl4oCZIOWHj+WwkeS7o+eggVxuXG4gICAgICAgIGlmIChzdHlsZVN0ciA9PT0gJycpIHtcbiAgICAgICAgICBzdCA9IFwiPFwiICsgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9tKS5nZXROb2RlTmFtZSgpLnRvTG93ZXJDYXNlKCkgKyBcIj5cIiArIGRvbS5pbm5lckhUTUwgKyBcIjwvXCIgKyBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShkb20pLmdldE5vZGVOYW1lKCkudG9Mb3dlckNhc2UoKSArIFwiPlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ID0gXCI8XCIgKyBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShkb20pLmdldE5vZGVOYW1lKCkudG9Mb3dlckNhc2UoKSArIFwiIHN0eWxlPVxcXCJcIiArIHN0eWxlU3RyICsgXCJcXFwiPlwiICsgZG9tLmlubmVySFRNTCArIFwiPC9cIiArIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGRvbSkuZ2V0Tm9kZU5hbWUoKS50b0xvd2VyQ2FzZSgpICsgXCI+XCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGlvbihzdCwgZWRpdG9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzdHlsZSkge1xuICAgICAgLy/lrZjlnKhzdHlsZSDmo4DntKLlhbblroNzdHlsZeWxnuaAp1xuICAgICAgc3R5bGVTdHIgPSB0aGlzLnN0eWxlUHJvY2Vzc2luZyhzdHlsZUxpc3QpICsgKFwibGluZS1oZWlnaHQ6XCIgKyB2YWx1ZSArIFwiO1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVTdHIgPSBcImxpbmUtaGVpZ2h0OlwiICsgdmFsdWUgKyBcIjtcIjtcbiAgICB9XG5cbiAgICBzdCA9IFwiPFwiICsgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9tKS5nZXROb2RlTmFtZSgpLnRvTG93ZXJDYXNlKCkgKyBcIiBzdHlsZT1cXFwiXCIgKyBzdHlsZVN0ciArIFwiXFxcIj5cIiArIGRvbS5pbm5lckhUTUwgKyBcIjwvXCIgKyBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShkb20pLmdldE5vZGVOYW1lKCkudG9Mb3dlckNhc2UoKSArIFwiPlwiOyAvL+mYsuatokJMT0NLUVVPVEXlj6DliqAgb3IgSUXkuIvlr7zoh7RQ5bWM5aWX5Ye6546w6K+v5YigXG5cbiAgICBpZiAoZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9tKS5nZXROb2RlTmFtZSgpID09PSAnQkxPQ0tRVU9URScgfHwgdXRpbF8xLlVBLmlzSUUoKSkge1xuICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9tKS5jc3MoJ2xpbmUtaGVpZ2h0JywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGlvbihzdCwgZWRpdG9yKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDpgY3ljoZkb20g6I635Y+W56WW54i25YWD57SgIOebtOWIsGNvbnRlbnRlZGl0YWJsZeWxnuaAp+eahGRpduagh+etvlxuICAgKlxuICAgKi9cblxuXG4gIExpbmVIZWlnaHQucHJvdG90eXBlLmdldERvbSA9IGZ1bmN0aW9uIChkb20pIHtcbiAgICB2YXIgRE9NID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9tKS5lbGVtc1swXTtcblxuICAgIGlmICghRE9NLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBET007XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZSgkbm9kZSwgZWRpdG9yKSB7XG4gICAgICB2YXIgJHBhcmVudCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRub2RlLnBhcmVudE5vZGUpO1xuXG4gICAgICBpZiAoZWRpdG9yLiR0ZXh0RWxlbS5lcXVhbCgkcGFyZW50KSkge1xuICAgICAgICByZXR1cm4gJG5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0UGFyZW50Tm9kZSgkcGFyZW50LmVsZW1zWzBdLCBlZGl0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIERPTSA9IGdldFBhcmVudE5vZGUoRE9NLCB0aGlzLmVkaXRvcik7XG4gICAgcmV0dXJuIERPTTtcbiAgfTtcbiAgLyoqXG4gICAqIOaJp+ihjCBkb2N1bWVudC5leGVjQ29tbWFuZFxuICAgKlxuICAgKi9cblxuXG4gIExpbmVIZWlnaHQucHJvdG90eXBlLmFjdGlvbiA9IGZ1bmN0aW9uIChodG1sX3N0ciwgZWRpdG9yKSB7XG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgaHRtbF9zdHIpO1xuICB9O1xuICAvKipcbiAgICogc3R5bGUg5aSE55CGXG4gICAqL1xuXG5cbiAgTGluZUhlaWdodC5wcm90b3R5cGUuc3R5bGVQcm9jZXNzaW5nID0gZnVuY3Rpb24gKHN0eWxlTGlzdCkge1xuICAgIHZhciBzdHlsZVN0ciA9ICcnO1xuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHN0eWxlTGlzdCkuY2FsbChzdHlsZUxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpdGVtICE9PSAnJyAmJiAoMCwgX2luZGV4T2ZbXCJkZWZhdWx0XCJdKShpdGVtKS5jYWxsKGl0ZW0sICdsaW5lLWhlaWdodCcpID09PSAtMSA/IHN0eWxlU3RyID0gc3R5bGVTdHIgKyBpdGVtICsgJzsnIDogJyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0eWxlU3RyO1xuICB9O1xuICAvKipcbiAgICog5q616JC95YWo6YCJIOavlOWmgu+8mumBv+WFjTEx5Y+Y5oiQMTExXG4gICAqL1xuXG5cbiAgTGluZUhlaWdodC5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnREb20sIGVuZERvbSkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiA/IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSA6IGRvY3VtZW50LmdldFNlbGVjdGlvbigpOyAvL+a4hemZpOaJgOacieeahOmAieWMulxuXG4gICAgc2VsZWN0aW9uID09PSBudWxsIHx8IHNlbGVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgdmFyIHN0YXIgPSBzdGFydERvbTtcbiAgICB2YXIgZW5kID0gZW5kRG9tO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXIsIDApO1xuICAgIHJhbmdlLnNldEVuZChlbmQsIDEpO1xuICAgIHNlbGVjdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7IC8v5L+d5a2Y6K6+572u5aW955qE6YCJ5Yy6XG5cbiAgICBlZGl0b3Iuc2VsZWN0aW9uLnNhdmVSYW5nZSgpOyAvL+a4hemZpOaJgOacieeahOmAieWMulxuXG4gICAgc2VsZWN0aW9uID09PSBudWxsIHx8IHNlbGVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpOyAvL+aBouWkjemAieWMulxuXG4gICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBMaW5lSGVpZ2h0LnByb3RvdHlwZS50cnlDaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkc2VsZWN0aW9uRWxlbSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQ29udGFpbmVyRWxlbSgpO1xuXG4gICAgaWYgKCRzZWxlY3Rpb25FbGVtICYmIGVkaXRvci4kdGV4dEVsZW0uZXF1YWwoJHNlbGVjdGlvbkVsZW0pKSB7XG4gICAgICAvL+mBv+WFjemAieS4reWkmuihjOiuvue9rlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkb20gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpKTsgLy8g5pyJ5Lqb5oOF5Ya15LiLIGRvbSDlj6/og73kuLrnqbrvvIzmr5TlpoLnvJbovpHlmajliJ3lp4vljJZcblxuICAgIGlmIChkb20ubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgZG9tID0gdGhpcy5nZXREb20oZG9tLmVsZW1zWzBdKTtcbiAgICB2YXIgc3R5bGUgPSBkb20uZ2V0QXR0cmlidXRlKCdzdHlsZScpID8gZG9tLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSA6ICcnOyAvL+WIpOaWreW9k+WJjeagh+etvuaYr+WQpuWFt+aciWxpbmUtaGVpZ2h05bGe5oCnXG5cbiAgICBpZiAoc3R5bGUgJiYgKDAsIF9pbmRleE9mW1wiZGVmYXVsdFwiXSkoc3R5bGUpLmNhbGwoc3R5bGUsICdsaW5lLWhlaWdodCcpICE9PSAtMSkge1xuICAgICAgdGhpcy5hY3RpdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bkFjdGl2ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gTGluZUhlaWdodDtcbn0oRHJvcExpc3RNZW51XzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMaW5lSGVpZ2h0O1xuXG4vKioqLyB9KSxcbi8qIDM5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiDooYzpq5gg6I+c5Y2VXG4gKiBAYXV0aG9yIGxpY2h1bmxpblxuICovXG5cblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIGxpbmVIZWlnaHRMaXN0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBsaW5lSGVpZ2h0TGlzdChlZGl0b3IsIGxpc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5pdGVtTGlzdCA9IFt7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3Bhbj5cIiArIGVkaXRvci5pMThuZXh0LnQoJ+m7mOiupCcpICsgXCI8L3NwYW4+XCIpLFxuICAgICAgdmFsdWU6ICcnXG4gICAgfV07XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkobGlzdCkuY2FsbChsaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgX3RoaXMuaXRlbUxpc3QucHVzaCh7XG4gICAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgaXRlbSArIFwiPC9zcGFuPlwiKSxcbiAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbGluZUhlaWdodExpc3QucHJvdG90eXBlLmdldEl0ZW1MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1MaXN0O1xuICB9O1xuXG4gIHJldHVybiBsaW5lSGVpZ2h0TGlzdDtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBsaW5lSGVpZ2h0TGlzdDtcblxuLyoqKi8gfSksXG4vKiAzOTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOaSpOmUgFxuICogQGF1dGhvciB0b25naGFuXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgQnRuTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpO1xuXG52YXIgVW5kbyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoVW5kbywgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBVbmRvKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXYgY2xhc3M9XFxcInctZS1tZW51XFxcIiBkYXRhLXRpdGxlPVxcXCJcXHU2NEE0XFx1OTUwMFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ3LWUtaWNvbi11bmRvXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOeCueWHu+S6i+S7tlxuICAgKi9cblxuXG4gIFVuZG8ucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgZWRpdG9yLmhpc3RvcnkucmV2b2tlKCk7IC8vIOmHjeaWsOWIm+W7uiByYW5nZe+8jOaYr+WkhOeQhuW9k+WIneWni+WMlue8lui+keWZqO+8jEFQSeaPkuWFpeWGheWuueWQjuaSpOmUgO+8jHJhbmdlIOS4jeWcqOe8lui+keWZqOWGhemDqOeahOmXrumimFxuXG4gICAgdmFyIGNoaWxkcmVuID0gZWRpdG9yLiR0ZXh0RWxlbS5jaGlsZHJlbigpO1xuICAgIGlmICghKGNoaWxkcmVuID09PSBudWxsIHx8IGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGlsZHJlbi5sZW5ndGgpKSByZXR1cm47XG4gICAgdmFyICRsYXN0ID0gY2hpbGRyZW4ubGFzdCgpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGxhc3QsIGZhbHNlLCB0cnVlKTtcbiAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWwneivleS/ruaUueiPnOWNlea/gOa0u+eKtuaAgVxuICAgKi9cblxuXG4gIFVuZG8ucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDmoIflh4bmqKHlvI/kuIvmiY3ov5vooYzmk43kvZxcbiAgICBpZiAoIXRoaXMuZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUpIHtcbiAgICAgIGlmICh0aGlzLmVkaXRvci5oaXN0b3J5LnNpemVbMF0pIHtcbiAgICAgICAgdGhpcy5hY3RpdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudW5BY3RpdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVuZG87XG59KEJ0bk1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFVuZG87XG5cbi8qKiovIH0pLFxuLyogMzk2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDph43lgZpcbiAqIEBhdXRob3IgdG9uZ2hhblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIEJ0bk1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxudmFyIFJlZG8gPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFJlZG8sIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gUmVkbyhlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1NjA2MlxcdTU5MERcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwidy1lLWljb24tcmVkb1xcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpIHx8IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDngrnlh7vkuovku7ZcbiAgICovXG5cblxuICBSZWRvLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIGVkaXRvci5oaXN0b3J5LnJlc3RvcmUoKTsgLy8g6YeN5paw5Yib5bu6IHJhbmdl77yM5piv5aSE55CG5b2T5Yid5aeL5YyW57yW6L6R5Zmo77yMQVBJ5o+S5YWl5YaF5a655ZCO5pKk6ZSA77yMcmFuZ2Ug5LiN5Zyo57yW6L6R5Zmo5YaF6YOo55qE6Zeu6aKYXG5cbiAgICB2YXIgY2hpbGRyZW4gPSBlZGl0b3IuJHRleHRFbGVtLmNoaWxkcmVuKCk7XG4gICAgaWYgKCEoY2hpbGRyZW4gPT09IG51bGwgfHwgY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkcmVuLmxlbmd0aCkpIHJldHVybjtcbiAgICB2YXIgJGxhc3QgPSBjaGlsZHJlbi5sYXN0KCk7XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkbGFzdCwgZmFsc2UsIHRydWUpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICB9O1xuICAvKipcbiAgICog5bCd6K+V5L+u5pS56I+c5Y2V5r+A5rS754q25oCBXG4gICAqL1xuXG5cbiAgUmVkby5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIOagh+WHhuaooeW8j+S4i+aJjei/m+ihjOaTjeS9nFxuICAgIGlmICghdGhpcy5lZGl0b3IuaXNDb21wYXRpYmxlTW9kZSkge1xuICAgICAgaWYgKHRoaXMuZWRpdG9yLmhpc3Rvcnkuc2l6ZVsxXSkge1xuICAgICAgICB0aGlzLmFjdGl2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51bkFjdGl2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVkbztcbn0oQnRuTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmVkbztcblxuLyoqKi8gfSksXG4vKiAzOTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWIm+W7unRhYmxlXG4gKiBAYXV0aG9yIGxpY2h1bmxpblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIFBhbmVsTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNikpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgY3JlYXRlX3BhbmVsX2NvbmZfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzk4KSk7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgaW5kZXhfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDA3KSk7XG5cbnZhciBUYWJsZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoVGFibGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gVGFibGUoZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciAkZWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2IGNsYXNzPVwidy1lLW1lbnVcIiBkYXRhLXRpdGxlPVwi6KGo5qC8XCI+PGkgY2xhc3M9XCJ3LWUtaWNvbi10YWJsZTJcIj48L2k+PC9kaXY+Jyk7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzOyAvLyDnu5Hlrprkuovku7ZcblxuICAgIGluZGV4XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDoj5zljZXngrnlh7vkuovku7ZcbiAgICovXG5cblxuICBUYWJsZS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY3JlYXRlUGFuZWwoKTtcbiAgfTtcbiAgLyoqXG4gICAqIOWIm+W7uiBwYW5lbFxuICAgKi9cblxuXG4gIFRhYmxlLnByb3RvdHlwZS5jcmVhdGVQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29uZiA9IGNyZWF0ZV9wYW5lbF9jb25mXzFbXCJkZWZhdWx0XCJdKHRoaXMuZWRpdG9yKTtcbiAgICB2YXIgcGFuZWwgPSBuZXcgUGFuZWxfMVtcImRlZmF1bHRcIl0odGhpcywgY29uZik7XG4gICAgcGFuZWwuY3JlYXRlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZUgYWN0aXZlIOeKtuaAgVxuICAgKi9cblxuXG4gIFRhYmxlLnByb3RvdHlwZS50cnlDaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7fTtcblxuICByZXR1cm4gVGFibGU7XG59KFBhbmVsTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGU7XG5cbi8qKiovIH0pLFxuLyogMzk4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiB0YWJsZSDoj5zljZUgcGFuZWwgdGFiIOmFjee9rlxuICogQGF1dGhvciBsaWNodW5saW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2lzSW50ZWdlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzOTkpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0MDQpO1xuXG52YXIgY3JlYXRlX3RhYmxlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNikpO1xuLyoqXG4gKiDliKTmlq3kuIDkuKrmlbDlgLzmmK/lkKbkuLrmraPmlbTmlbBcbiAqIEBwYXJhbSB7IG51bWJlciB9IG4g6KKr6aqM6K+B55qE5YC8XG4gKi9cblxuXG5mdW5jdGlvbiBpc1Bvc2l0aXZlSW50ZWdlcihuKSB7XG4gIC8v5piv5ZCm5Li65q2j5pW05pWwXG4gIHJldHVybiBuID4gMCAmJiAoMCwgX2lzSW50ZWdlcltcImRlZmF1bHRcIl0pKG4pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0XzEoZWRpdG9yKSB7XG4gIHZhciBjcmVhdGVUYWJsZSA9IG5ldyBjcmVhdGVfdGFibGVfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTsgLy8gcGFuZWwg5Lit6ZyA6KaB55So5Yiw55qEaWRcblxuICB2YXIgY29sSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCd3LWNvbC1pZCcpO1xuICB2YXIgcm93SWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCd3LXJvdy1pZCcpO1xuICB2YXIgaW5zZXJ0QnRuSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCdidG4tbGluaycpO1xuICB2YXIgaTE4blByZWZpeCA9ICdtZW51cy5wYW5lbE1lbnVzLnRhYmxlLic7XG5cbiAgdmFyIHQgPSBmdW5jdGlvbiB0KHRleHQpIHtcbiAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudCh0ZXh0KTtcbiAgfTsgLy8gdGFicyDphY3nva4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gIHZhciB0YWJzQ29uZiA9IFt7XG4gICAgdGl0bGU6IHQoaTE4blByZWZpeCArIFwiXFx1NjNEMlxcdTUxNjVcXHU4ODY4XFx1NjgzQ1wiKSxcbiAgICB0cGw6IFwiPGRpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInctZS10YWJsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCIgKyB0KCfliJvlu7onKSArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiXCIgKyByb3dJZCArIFwiXFxcIiAgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcInctZS10YWJsZS1pbnB1dFxcXCIgdmFsdWU9XFxcIjVcXFwiLz48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiICsgdChpMThuUHJlZml4ICsgXCJcXHU4ODRDXCIpICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJcIiArIGNvbElkICsgXCJcXFwiIHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJ3LWUtdGFibGUtaW5wdXRcXFwiIHZhbHVlPVxcXCI1XFxcIi8+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIiArICh0KGkxOG5QcmVmaXggKyBcIlxcdTUyMTdcIikgKyB0KGkxOG5QcmVmaXggKyBcIlxcdTc2ODRcIikgKyB0KGkxOG5QcmVmaXggKyBcIlxcdTg4NjhcXHU2ODNDXCIpKSArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWUtYnV0dG9uLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJcIiArIGluc2VydEJ0bklkICsgXCJcXFwiIGNsYXNzPVxcXCJyaWdodFxcXCI+XCIgKyB0KCfmj5LlhaUnKSArIFwiPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XCIsXG4gICAgZXZlbnRzOiBbe1xuICAgICAgc2VsZWN0b3I6ICcjJyArIGluc2VydEJ0bklkLFxuICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcbiAgICAgICAgdmFyIGNvbFZhbHVlID0gTnVtYmVyKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCcjJyArIGNvbElkKS52YWwoKSk7XG4gICAgICAgIHZhciByb3dWYWx1ZSA9IE51bWJlcihkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnIycgKyByb3dJZCkudmFsKCkpOyAvL+agoemqjOaYr+WQpuS8oOWAvFxuXG4gICAgICAgIGlmIChpc1Bvc2l0aXZlSW50ZWdlcihyb3dWYWx1ZSkgJiYgaXNQb3NpdGl2ZUludGVnZXIoY29sVmFsdWUpKSB7XG4gICAgICAgICAgY3JlYXRlVGFibGUuY3JlYXRlQWN0aW9uKHJvd1ZhbHVlLCBjb2xWYWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWRpdG9yLmNvbmZpZy5jdXN0b21BbGVydCgn6KGo5qC86KGM5YiX6K+36L6T5YWl5q2j5pW05pWwJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gLy8g6L+U5ZueIHRydWUg6KGo56S65Ye95pWw5omn6KGM57uT5p2f5LmL5ZCO5YWz6ZetIHBhbmVsXG5cbiAgICAgIH0sXG4gICAgICBiaW5kRW50ZXI6IHRydWVcbiAgICB9XVxuICB9XTsgLy8gdGFicyBlbmRcbiAgLy8g5pyA57uI55qE6YWN572uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIGNvbmYgPSB7XG4gICAgd2lkdGg6IDMzMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgdGFiczogW11cbiAgfTtcbiAgY29uZi50YWJzLnB1c2godGFic0NvbmZbMF0pO1xuICByZXR1cm4gY29uZjtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkZWZhdWx0XzE7XG5cbi8qKiovIH0pLFxuLyogMzk5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDApO1xuXG4vKioqLyB9KSxcbi8qIDQwMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDQwMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQwMik7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguTnVtYmVyLmlzSW50ZWdlcjtcblxuXG4vKioqLyB9KSxcbi8qIDQwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgaXNJbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDMpO1xuXG4vLyBgTnVtYmVyLmlzSW50ZWdlcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW51bWJlci5pc2ludGVnZXJcbiQoeyB0YXJnZXQ6ICdOdW1iZXInLCBzdGF0OiB0cnVlIH0sIHtcbiAgaXNJbnRlZ2VyOiBpc0ludGVnZXJcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNDAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG4vLyBgTnVtYmVyLmlzSW50ZWdlcmAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW51bWJlci5pc2ludGVnZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNJbnRlZ2VyKGl0KSB7XG4gIHJldHVybiAhaXNPYmplY3QoaXQpICYmIGlzRmluaXRlKGl0KSAmJiBmbG9vcihpdCkgPT09IGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQwNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYXBpID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDA1KTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTtcblxuLyoqKi8gfSksXG4vKiA0MDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLnctZS10YWJsZSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG4udy1lLXRhYmxlIC53LWUtdGFibGUtaW5wdXQge1xcbiAgd2lkdGg6IDQwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXIhaW1wb3J0YW50O1xcbiAgbWFyZ2luOiAwIDVweDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDQwNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Yib5bu6dGFiZWxcbiAqIEBhdXRob3IgbGljaHVubGluXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBDcmVhdGVUYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ3JlYXRlVGFibGUoZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gIH1cbiAgLyoqXG4gICAqIOaJp+ihjOWIm+W7ulxuICAgKiBAcGFyYW0gcm93VmFsdWUg6KGM5pWwXG4gICAqIEBwYXJhbSBjb2xWYWx1ZSDliJfmlbBcbiAgICovXG5cblxuICBDcmVhdGVUYWJsZS5wcm90b3R5cGUuY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKHJvd1ZhbHVlLCBjb2xWYWx1ZSkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsgLy/kuI3lhYHorrjlnKjmnInluo/liJfooajkuK3mt7vliqB0YWJsZVxuXG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpO1xuICAgIHZhciAkdWwgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkc2VsZWN0aW9uRWxlbS5lbGVtc1swXSkucGFyZW50VW50aWxFZGl0b3IoJ1VMJywgZWRpdG9yKTtcbiAgICB2YXIgJG9sID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHNlbGVjdGlvbkVsZW0uZWxlbXNbMF0pLnBhcmVudFVudGlsRWRpdG9yKCdPTCcsIGVkaXRvcik7XG5cbiAgICBpZiAoJHVsIHx8ICRvbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0YWJsZURvbSA9IHRoaXMuY3JlYXRlVGFibGVIdG1sKHJvd1ZhbHVlLCBjb2xWYWx1ZSk7XG4gICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgdGFibGVEb20pO1xuICB9O1xuICAvKipcbiAgICog5Yib5bu6dGFibGXjgIHooYzjgIHliJdcbiAgICogQHBhcmFtIHJvd1ZhbHVlIOihjOaVsFxuICAgKiBAcGFyYW0gY29sVmFsdWUg5YiX5pWwXG4gICAqL1xuXG5cbiAgQ3JlYXRlVGFibGUucHJvdG90eXBlLmNyZWF0ZVRhYmxlSHRtbCA9IGZ1bmN0aW9uIChyb3dWYWx1ZSwgY29sVmFsdWUpIHtcbiAgICB2YXIgcm93U3RyID0gJyc7XG4gICAgdmFyIGNvbFN0ciA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dWYWx1ZTsgaSsrKSB7XG4gICAgICBjb2xTdHIgPSAnJztcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2xWYWx1ZTsgaisrKSB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgY29sU3RyID0gY29sU3RyICsgJzx0aD48L3RoPic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sU3RyID0gY29sU3RyICsgJzx0ZD48L3RkPic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcm93U3RyID0gcm93U3RyICsgJzx0cj4nICsgY29sU3RyICsgJzwvdHI+JztcbiAgICB9XG5cbiAgICB2YXIgdGFibGVEb20gPSBcIjx0YWJsZSBib3JkZXI9XFxcIjBcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIiBjZWxscGFkZGluZz1cXFwiMFxcXCIgY2VsbHNwYWNpbmc9XFxcIjBcXFwiPjx0Ym9keT5cIiArIHJvd1N0ciArIChcIjwvdGJvZHk+PC90YWJsZT5cIiArIGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgcmV0dXJuIHRhYmxlRG9tO1xuICB9O1xuXG4gIHJldHVybiBDcmVhdGVUYWJsZTtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDcmVhdGVUYWJsZTtcblxuLyoqKi8gfSksXG4vKiA0MDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOe7keWumueCueWHu+S6i+S7tlxuICogQGF1dGhvciBsaWNodW5saW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciB0b29sdGlwX2V2ZW50XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOCkpO1xuXG52YXIgdGFibGVfZXZlbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDE2KTtcbi8qKlxuICog57uR5a6a5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gYmluZEV2ZW50KGVkaXRvcikge1xuICAvL1Rvb2x0aXBcbiAgdG9vbHRpcF9ldmVudF8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuICB0YWJsZV9ldmVudF8xLmJpbmRFdmVudEtleWJvYXJkRXZlbnQoZWRpdG9yKTtcbiAgdGFibGVfZXZlbnRfMS5iaW5kQ2xpY2tFdmVudChlZGl0b3IpO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiA0MDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIHRvb2x0aXAg5LqL5Lu2XG4gKiBAYXV0aG9yIGxpY2h1bmxpblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIFRvb2x0aXBfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTsgLy/mk43kvZzkuovku7ZcblxuXG52YXIgb3BlcmF0aW5nX2V2ZW50XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOSkpO1xuXG52YXIgZ2V0Tm9kZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MTUpKTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuICAvKipcbiAgICog5pi+56S6IHRvb2x0aXBcbiAgICogQHBhcmFtICB0YWJsZeWFg+e0oFxuICAgKi9cblxuICBmdW5jdGlvbiBzaG93VGFibGVUb29sdGlwKCRub2RlKSB7XG4gICAgdmFyIGdldG5vZGUgPSBuZXcgZ2V0Tm9kZV8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuICAgIHZhciBpMThuUHJlZml4ID0gJ21lbnVzLnBhbmVsTWVudXMudGFibGUuJztcblxuICAgIHZhciB0ID0gZnVuY3Rpb24gdCh0ZXh0LCBwcmVmaXgpIHtcbiAgICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgICAgICBwcmVmaXggPSBpMThuUHJlZml4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudChwcmVmaXggKyB0ZXh0KTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbmYgPSBbe1xuICAgICAgLy8gJGVsZW06ICQoXCI8c3BhbiBjbGFzcz0ndy1lLWljb24tdHJhc2gtbyc+PC9zcGFuPlwiKSxcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgn5Yig6Zmk6KGo5qC8JykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g6YCJ5LitaW1n5YWD57SgXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgY29uc3RfMS5FTVBUWV9QKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgn5re75Yqg6KGMJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g56aB5q2i5aSa6YCJ5pON5L2cXG4gICAgICAgIHZhciBpc01vcmUgPSBpc01vcmVSb3dBY3Rpb24oZWRpdG9yKTtcblxuICAgICAgICBpZiAoaXNNb3JlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy/lvZPliY3lhYPntKBcblxuXG4gICAgICAgIHZhciBzZWxlY3REb20gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpKTsgLy/lvZPliY3ooYxcblxuICAgICAgICB2YXIgJGN1cnJlbnRSb3cgPSBnZXRub2RlLmdldFJvd05vZGUoc2VsZWN0RG9tLmVsZW1zWzBdKTtcblxuICAgICAgICBpZiAoISRjdXJyZW50Um93KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy/ojrflj5blvZPliY3ooYznmoRpbmRleFxuXG5cbiAgICAgICAgdmFyIGluZGV4ID0gTnVtYmVyKGdldG5vZGUuZ2V0Q3VycmVudFJvd0luZGV4KCRub2RlLmVsZW1zWzBdLCAkY3VycmVudFJvdykpOyAvL+eUn+aIkOimgeabv+aNoueahGh0bWxcblxuICAgICAgICB2YXIgaHRtbFN0ciA9IGdldG5vZGUuZ2V0VGFibGVIdG1sKCRub2RlLmVsZW1zWzBdKTsgLy/nlJ/miJDmlrDnmoR0YWJsZVxuXG4gICAgICAgIHZhciBuZXdkb20gPSBnZXRub2RlLmdldFRhYmxlSHRtbChvcGVyYXRpbmdfZXZlbnRfMVtcImRlZmF1bHRcIl0uUHJvY2Vzc2luZ1Jvdyhkb21fY29yZV8xW1wiZGVmYXVsdFwiXShodG1sU3RyKSwgaW5kZXgpLmVsZW1zWzBdKTtcbiAgICAgICAgbmV3ZG9tID0gX2lzRW1wdHlQKCRub2RlLCBuZXdkb20pOyAvLyDpgInkuK10YWJsZVxuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgbmV3ZG9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyB0KCfliKDpmaTooYwnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAvLyDnpoHmraLlpJrpgInmk43kvZxcbiAgICAgICAgdmFyIGlzTW9yZSA9IGlzTW9yZVJvd0FjdGlvbihlZGl0b3IpO1xuXG4gICAgICAgIGlmIChpc01vcmUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvL+W9k+WJjeWFg+e0oFxuXG5cbiAgICAgICAgdmFyIHNlbGVjdERvbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnRFbGVtKCkpOyAvL+W9k+WJjeihjFxuXG4gICAgICAgIHZhciAkY3VycmVudFJvdyA9IGdldG5vZGUuZ2V0Um93Tm9kZShzZWxlY3REb20uZWxlbXNbMF0pO1xuXG4gICAgICAgIGlmICghJGN1cnJlbnRSb3cpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvL+iOt+WPluW9k+WJjeihjOeahGluZGV4XG5cblxuICAgICAgICB2YXIgaW5kZXggPSBOdW1iZXIoZ2V0bm9kZS5nZXRDdXJyZW50Um93SW5kZXgoJG5vZGUuZWxlbXNbMF0sICRjdXJyZW50Um93KSk7IC8v55Sf5oiQ6KaB5pu/5o2i55qEaHRtbFxuXG4gICAgICAgIHZhciBodG1sU3RyID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwoJG5vZGUuZWxlbXNbMF0pOyAvL+iOt+WPluaWsOeUn+aIkOeahHRhYmxlIOWIpOaWreaYr+WQpuaYr+acgOWQjuS4gOihjOiiq+WIoOmZpCDmmK8g5Yig6Zmk5pW05LiqdGFibGVcblxuICAgICAgICB2YXIgdHJMZW5ndGggPSBvcGVyYXRpbmdfZXZlbnRfMVtcImRlZmF1bHRcIl0uRGVsZXRlUm93KGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGh0bWxTdHIpLCBpbmRleCkuZWxlbXNbMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoOyAvL+eUn+aIkOaWsOeahHRhYmxlXG5cbiAgICAgICAgdmFyIG5ld2RvbSA9ICcnOyAvLyDpgInkuK10YWJsZVxuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAodHJMZW5ndGggPT09IDApIHtcbiAgICAgICAgICBuZXdkb20gPSBjb25zdF8xLkVNUFRZX1A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3ZG9tID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwob3BlcmF0aW5nX2V2ZW50XzFbXCJkZWZhdWx0XCJdLkRlbGV0ZVJvdyhkb21fY29yZV8xW1wiZGVmYXVsdFwiXShodG1sU3RyKSwgaW5kZXgpLmVsZW1zWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld2RvbSA9IF9pc0VtcHR5UCgkbm9kZSwgbmV3ZG9tKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgbmV3ZG9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyB0KCfmt7vliqDliJcnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAvLyDnpoHmraLlpJrpgInmk43kvZxcbiAgICAgICAgdmFyIGlzTW9yZSA9IGlzTW9yZVJvd0FjdGlvbihlZGl0b3IpO1xuXG4gICAgICAgIGlmIChpc01vcmUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvL+W9k+WJjeWFg+e0oFxuXG5cbiAgICAgICAgdmFyIHNlbGVjdERvbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnRFbGVtKCkpOyAvL+W9k+WJjeWIl+eahGluZGV4XG5cbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0bm9kZS5nZXRDdXJyZW50Q29sSW5kZXgoc2VsZWN0RG9tLmVsZW1zWzBdKTsgLy/nlJ/miJDopoHmm7/mjaLnmoRodG1sXG5cbiAgICAgICAgdmFyIGh0bWxTdHIgPSBnZXRub2RlLmdldFRhYmxlSHRtbCgkbm9kZS5lbGVtc1swXSk7IC8v55Sf5oiQ5paw55qEdGFibGVcblxuICAgICAgICB2YXIgbmV3ZG9tID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwob3BlcmF0aW5nX2V2ZW50XzFbXCJkZWZhdWx0XCJdLlByb2Nlc3NpbmdDb2woZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oaHRtbFN0ciksIGluZGV4KS5lbGVtc1swXSk7XG4gICAgICAgIG5ld2RvbSA9IF9pc0VtcHR5UCgkbm9kZSwgbmV3ZG9tKTsgLy8g6YCJ5LitdGFibGVcblxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlQnlFbGVtKCRub2RlKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgICAgIGVkaXRvci5jbWRbXCJkb1wiXSgnaW5zZXJ0SFRNTCcsIG5ld2RvbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRlbGVtOiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxzcGFuPlwiICsgdCgn5Yig6Zmk5YiXJykgKyBcIjwvc3Bhbj5cIiksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGVkaXRvciwgJG5vZGUpIHtcbiAgICAgICAgLy8g56aB5q2i5aSa6YCJ5pON5L2cXG4gICAgICAgIHZhciBpc01vcmUgPSBpc01vcmVSb3dBY3Rpb24oZWRpdG9yKTtcblxuICAgICAgICBpZiAoaXNNb3JlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy/lvZPliY3lhYPntKBcblxuXG4gICAgICAgIHZhciBzZWxlY3REb20gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpKTsgLy/lvZPliY3liJfnmoRpbmRleFxuXG4gICAgICAgIHZhciBpbmRleCA9IGdldG5vZGUuZ2V0Q3VycmVudENvbEluZGV4KHNlbGVjdERvbS5lbGVtc1swXSk7IC8v55Sf5oiQ6KaB5pu/5o2i55qEaHRtbFxuXG4gICAgICAgIHZhciBodG1sU3RyID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwoJG5vZGUuZWxlbXNbMF0pOyAvL+iOt+WPluaWsOeUn+aIkOeahHRhYmxlIOWIpOaWreaYr+WQpuaYr+acgOWQjuS4gOWIl+iiq+WIoOmZpCDmmK8g5Yig6Zmk5pW05LiqdGFibGVcblxuICAgICAgICB2YXIgbmV3RG9tID0gb3BlcmF0aW5nX2V2ZW50XzFbXCJkZWZhdWx0XCJdLkRlbGV0ZUNvbChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShodG1sU3RyKSwgaW5kZXgpOyAvLyDojrflj5blrZDoioLngrnnmoTmlbDph49cblxuICAgICAgICB2YXIgdGRMZW5ndGggPSBuZXdEb20uZWxlbXNbMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoOyAvL+eUn+aIkOaWsOeahHRhYmxlXG5cbiAgICAgICAgdmFyIG5ld2RvbSA9ICcnOyAvLyDpgInkuK10YWJsZVxuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTsgLy8g5aaC5p6c5rKh5pyJ5YiX5LqGIOWImeabv+aNouaIkOepuuihjFxuXG4gICAgICAgIGlmICh0ZExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIG5ld2RvbSA9IGNvbnN0XzEuRU1QVFlfUDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdkb20gPSBnZXRub2RlLmdldFRhYmxlSHRtbChuZXdEb20uZWxlbXNbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3ZG9tID0gX2lzRW1wdHlQKCRub2RlLCBuZXdkb20pO1xuICAgICAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCBuZXdkb20pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZWxlbTogZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8c3Bhbj5cIiArIHQoJ+iuvue9ruihqOWktCcpICsgXCI8L3NwYW4+XCIpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRub2RlKSB7XG4gICAgICAgIC8vIOemgeatouWkmumAieaTjeS9nFxuICAgICAgICB2YXIgaXNNb3JlID0gaXNNb3JlUm93QWN0aW9uKGVkaXRvcik7XG5cbiAgICAgICAgaWYgKGlzTW9yZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8v5b2T5YmN5YWD57SgXG5cblxuICAgICAgICB2YXIgc2VsZWN0RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKSk7IC8v5b2T5YmN6KGMXG5cbiAgICAgICAgdmFyICRjdXJyZW50Um93ID0gZ2V0bm9kZS5nZXRSb3dOb2RlKHNlbGVjdERvbS5lbGVtc1swXSk7XG5cbiAgICAgICAgaWYgKCEkY3VycmVudFJvdykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8v6I635Y+W5b2T5YmN6KGM55qEaW5kZXhcblxuXG4gICAgICAgIHZhciBpbmRleCA9IE51bWJlcihnZXRub2RlLmdldEN1cnJlbnRSb3dJbmRleCgkbm9kZS5lbGVtc1swXSwgJGN1cnJlbnRSb3cpKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAvL+aOp+WItuWcqHRhYmxl55qE56ys5LiA6KGMXG4gICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9IC8v55Sf5oiQ6KaB5pu/5o2i55qEaHRtbFxuXG5cbiAgICAgICAgdmFyIGh0bWxTdHIgPSBnZXRub2RlLmdldFRhYmxlSHRtbCgkbm9kZS5lbGVtc1swXSk7IC8v55Sf5oiQ5paw55qEdGFibGVcblxuICAgICAgICB2YXIgbmV3ZG9tID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwob3BlcmF0aW5nX2V2ZW50XzFbXCJkZWZhdWx0XCJdLnNldFRoZUhlYWRlcihkb21fY29yZV8xW1wiZGVmYXVsdFwiXShodG1sU3RyKSwgaW5kZXgsICd0aCcpLmVsZW1zWzBdKTtcbiAgICAgICAgbmV3ZG9tID0gX2lzRW1wdHlQKCRub2RlLCBuZXdkb20pOyAvLyDpgInkuK10YWJsZVxuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgbmV3ZG9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyB0KCflj5bmtojooajlpLQnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkbm9kZSkge1xuICAgICAgICAvL+W9k+WJjeWFg+e0oFxuICAgICAgICB2YXIgc2VsZWN0RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKSk7IC8v5b2T5YmN6KGMXG5cbiAgICAgICAgdmFyICRjdXJyZW50Um93ID0gZ2V0bm9kZS5nZXRSb3dOb2RlKHNlbGVjdERvbS5lbGVtc1swXSk7XG5cbiAgICAgICAgaWYgKCEkY3VycmVudFJvdykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8v6I635Y+W5b2T5YmN6KGM55qEaW5kZXhcblxuXG4gICAgICAgIHZhciBpbmRleCA9IE51bWJlcihnZXRub2RlLmdldEN1cnJlbnRSb3dJbmRleCgkbm9kZS5lbGVtc1swXSwgJGN1cnJlbnRSb3cpKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAvL+aOp+WItuWcqHRhYmxl55qE56ys5LiA6KGMXG4gICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9IC8v55Sf5oiQ6KaB5pu/5o2i55qEaHRtbFxuXG5cbiAgICAgICAgdmFyIGh0bWxTdHIgPSBnZXRub2RlLmdldFRhYmxlSHRtbCgkbm9kZS5lbGVtc1swXSk7IC8v55Sf5oiQ5paw55qEdGFibGVcblxuICAgICAgICB2YXIgbmV3ZG9tID0gZ2V0bm9kZS5nZXRUYWJsZUh0bWwob3BlcmF0aW5nX2V2ZW50XzFbXCJkZWZhdWx0XCJdLnNldFRoZUhlYWRlcihkb21fY29yZV8xW1wiZGVmYXVsdFwiXShodG1sU3RyKSwgaW5kZXgsICd0ZCcpLmVsZW1zWzBdKTtcbiAgICAgICAgbmV3ZG9tID0gX2lzRW1wdHlQKCRub2RlLCBuZXdkb20pOyAvLyDpgInkuK10YWJsZVxuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgbmV3ZG9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfV07XG4gICAgdG9vbHRpcCA9IG5ldyBUb29sdGlwXzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgJG5vZGUsIGNvbmYpO1xuICAgIHRvb2x0aXAuY3JlYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIOmakOiXjyB0b29sdGlwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gaGlkZVRhYmxlVG9vbHRpcCgpIHtcbiAgICAvLyDnp7vpmaQgdG9vbHRpcFxuICAgIGlmICh0b29sdGlwKSB7XG4gICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgdG9vbHRpcCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93VGFibGVUb29sdGlwOiBzaG93VGFibGVUb29sdGlwLFxuICAgIGhpZGVUYWJsZVRvb2x0aXA6IGhpZGVUYWJsZVRvb2x0aXBcbiAgfTtcbn1cbi8qKlxuICog5Yik5pat5piv5ZCm5piv5aSa6KGMXG4gKi9cblxuXG5mdW5jdGlvbiBpc01vcmVSb3dBY3Rpb24oZWRpdG9yKSB7XG4gIHZhciAkc3RhcnRFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydEVsZW0oKTtcbiAgdmFyICRlbmRFbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25FbmRFbGVtKCk7XG5cbiAgaWYgKCgkc3RhcnRFbGVtID09PSBudWxsIHx8ICRzdGFydEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRzdGFydEVsZW0uZWxlbXNbMF0pICE9PSAoJGVuZEVsZW0gPT09IG51bGwgfHwgJGVuZEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRlbmRFbGVtLmVsZW1zWzBdKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuLyoqXG4gKiDnu5HlrpogdG9vbHRpcCDkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kVG9vbHRpcEV2ZW50KGVkaXRvcikge1xuICB2YXIgX2EgPSBjcmVhdGVTaG93SGlkZUZuKGVkaXRvciksXG4gICAgICBzaG93VGFibGVUb29sdGlwID0gX2Euc2hvd1RhYmxlVG9vbHRpcCxcbiAgICAgIGhpZGVUYWJsZVRvb2x0aXAgPSBfYS5oaWRlVGFibGVUb29sdGlwOyAvLyDngrnlh7t0YWJsZeWFg+e0oOaYr++8jOaYvuekuiB0b29sdGlwXG5cblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MudGFibGVDbGlja0V2ZW50cy5wdXNoKHNob3dUYWJsZVRvb2x0aXApOyAvLyDngrnlh7vlhbbku5blnLDmlrnvvIzmiJbogIXmu5rliqjml7bvvIzpmpDol48gdG9vbHRpcFxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jbGlja0V2ZW50cy5wdXNoKGhpZGVUYWJsZVRvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3Mua2V5dXBFdmVudHMucHVzaChoaWRlVGFibGVUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRvb2xiYXJDbGlja0V2ZW50cy5wdXNoKGhpZGVUYWJsZVRvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MubWVudUNsaWNrRXZlbnRzLnB1c2goaGlkZVRhYmxlVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy50ZXh0U2Nyb2xsRXZlbnRzLnB1c2goaGlkZVRhYmxlVG9vbHRpcCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZFRvb2x0aXBFdmVudDtcbi8qKlxuICog5Yik5pat6KGo5qC855qE5LiL5LiA5Liq6IqC54K55piv5ZCm5piv56m66KGMXG4gKi9cblxuZnVuY3Rpb24gX2lzRW1wdHlQKCRub2RlLCBuZXdkb20pIHtcbiAgLy8g5b2T6KGo5qC855qE5LiL5LiA5Liq5YWE5byf6IqC54K55piv56m66KGM5pe277yM5ZyoIG5ld2RvbSDlkI7mt7vliqAgRU1QVFlfUFxuICB2YXIgbmV4dE5vZGUgPSAkbm9kZS5lbGVtc1swXS5uZXh0U2libGluZztcblxuICBpZiAoIW5leHROb2RlIHx8IG5leHROb2RlLmlubmVySFRNTCA9PT0gJzxicj4nKSB7XG4gICAgbmV3ZG9tICs9IFwiXCIgKyBjb25zdF8xLkVNUFRZX1A7XG4gIH1cblxuICByZXR1cm4gbmV3ZG9tO1xufVxuXG4vKioqLyB9KSxcbi8qIDQwOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX3NsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSk7XG5cbnZhciBfc3BsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfZnJvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuLyoqXG4gKiDlpITnkIbmlrDmt7vliqDooYxcbiAqIEBwYXJhbSAkbm9kZSDmlbTkuKp0YWJsZVxuICogQHBhcmFtIF9pbmRleCDooYznmoRpbmRlXG4gKi9cblxuXG5mdW5jdGlvbiBQcm9jZXNzaW5nUm93KCRub2RlLCBfaW5kZXgpIHtcbiAgLy/miafooYzojrflj5Z0Ym9keeiKgueCuVxuICB2YXIgJGRvbSA9IGdlbmVyYXRlRG9tQWN0aW9uKCRub2RlKTsgLy/lj5blh7rmiYDmnInnmoTooYxcblxuICB2YXIgZG9tQXJyYXkgPSAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoQXJyYXkucHJvdG90eXBlKS5hcHBseSgkZG9tLmNoaWxkcmVuKTsgLy/liJfnmoTmlbDph49cblxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBkb21BcnJheVswXS5jaGlsZHJlbi5sZW5ndGg7IC8v5Yib5bu65pawdHJcblxuICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICB9IC8v5o+S5YWl6ZuG5ZCI5LitXG5cblxuICAoMCwgX3NwbGljZVtcImRlZmF1bHRcIl0pKGRvbUFycmF5KS5jYWxsKGRvbUFycmF5LCBfaW5kZXggKyAxLCAwLCB0cik7IC8v56e76Zmk44CB5paw5aKe6IqC54K55LqL5Lu2XG5cbiAgcmVtb3ZlQW5kSW5zZXJ0QWN0aW9uKCRkb20sIGRvbUFycmF5KTtcbiAgcmV0dXJuIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRkb20ucGFyZW50Tm9kZSk7XG59XG4vKipcbiAqIOWkhOeQhuaWsOa3u+WKoOWIl1xuICogQHBhcmFtICRub2RlIOaVtOS4qnRhYmxlXG4gKiBAcGFyYW0gX2luZGV4IOWIl+eahGluZGVcbiAqL1xuXG5cbmZ1bmN0aW9uIFByb2Nlc3NpbmdDb2woJG5vZGUsIF9pbmRleCkge1xuICAvL+aJp+ihjOiOt+WPlnRib2R56IqC54K5XG4gIHZhciAkZG9tID0gZ2VuZXJhdGVEb21BY3Rpb24oJG5vZGUpOyAvL+WPluWHuuaJgOacieeahOihjFxuXG4gIHZhciBkb21BcnJheSA9ICgwLCBfc2xpY2VbXCJkZWZhdWx0XCJdKShBcnJheS5wcm90b3R5cGUpLmFwcGx5KCRkb20uY2hpbGRyZW4pO1xuXG4gIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gX2xvb3BfMShpKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgdmFyIGNBcnJheSA9IFtdOyAvL+WPluWHuuaJgOacieeahOWIl1xuXG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSAoMCwgX2Zyb21bXCJkZWZhdWx0XCJdKShkb21BcnJheVtpXS5jaGlsZHJlbikpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBjQXJyYXkucHVzaChpdGVtKTtcbiAgICB9KTsgLy/np7vpmaTooYznmoTml6fnmoTlrZDoioLngrlcblxuICAgIHdoaWxlIChkb21BcnJheVtpXS5jaGlsZHJlbi5sZW5ndGggIT09IDApIHtcbiAgICAgIGRvbUFycmF5W2ldLnJlbW92ZUNoaWxkKGRvbUFycmF5W2ldLmNoaWxkcmVuWzBdKTtcbiAgICB9IC8v5YiX5YiGdGggdGRcblxuXG4gICAgdmFyIHRkID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY0FycmF5WzBdKS5nZXROb2RlTmFtZSgpICE9PSAnVEgnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7IC8vIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcblxuICAgICgwLCBfc3BsaWNlW1wiZGVmYXVsdFwiXSkoY0FycmF5KS5jYWxsKGNBcnJheSwgX2luZGV4ICsgMSwgMCwgdGQpOyAvL+aPkuWFpeaWsOeahOWtkOiKgueCuVxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGRvbUFycmF5W2ldLmFwcGVuZENoaWxkKGNBcnJheVtqXSk7XG4gICAgfVxuICB9OyAvL+WIm+W7unRkXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgX2xvb3BfMShpKTtcbiAgfSAvL+enu+mZpOOAgeaWsOWinuiKgueCueS6i+S7tlxuXG5cbiAgcmVtb3ZlQW5kSW5zZXJ0QWN0aW9uKCRkb20sIGRvbUFycmF5KTtcbiAgcmV0dXJuIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRkb20ucGFyZW50Tm9kZSk7XG59XG4vKipcbiAqIOWkhOeQhuWIoOmZpOihjFxuICogQHBhcmFtICRub2RlICDmlbTkuKp0YWJsZVxuICogQHBhcmFtIF9pbmRleCAg6KGM55qEaW5kZVxuICovXG5cblxuZnVuY3Rpb24gRGVsZXRlUm93KCRub2RlLCBfaW5kZXgpIHtcbiAgLy/miafooYzojrflj5Z0Ym9keeiKgueCuVxuICB2YXIgJGRvbSA9IGdlbmVyYXRlRG9tQWN0aW9uKCRub2RlKTsgLy/lj5blh7rmiYDmnInnmoTooYxcblxuICB2YXIgZG9tQXJyYXkgPSAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoQXJyYXkucHJvdG90eXBlKS5hcHBseSgkZG9tLmNoaWxkcmVuKTsgLy/liKDpmaTooYxcblxuICAoMCwgX3NwbGljZVtcImRlZmF1bHRcIl0pKGRvbUFycmF5KS5jYWxsKGRvbUFycmF5LCBfaW5kZXgsIDEpOyAvL+enu+mZpOOAgeaWsOWinuiKgueCueS6i+S7tlxuXG4gIHJlbW92ZUFuZEluc2VydEFjdGlvbigkZG9tLCBkb21BcnJheSk7XG4gIHJldHVybiBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkZG9tLnBhcmVudE5vZGUpO1xufVxuLyoqXG4gKiDlpITnkIbliKDpmaTliJdcbiAqIEBwYXJhbSAkbm9kZVxuICogQHBhcmFtIF9pbmRleFxuICovXG5cblxuZnVuY3Rpb24gRGVsZXRlQ29sKCRub2RlLCBfaW5kZXgpIHtcbiAgLy/miafooYzojrflj5Z0Ym9keeiKgueCuVxuICB2YXIgJGRvbSA9IGdlbmVyYXRlRG9tQWN0aW9uKCRub2RlKTsgLy/lj5blh7rmiYDmnInnmoTooYxcblxuICB2YXIgZG9tQXJyYXkgPSAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoQXJyYXkucHJvdG90eXBlKS5hcHBseSgkZG9tLmNoaWxkcmVuKTtcblxuICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIF9sb29wXzIoaSkge1xuICAgIHZhciBfY29udGV4dDI7XG5cbiAgICB2YXIgY0FycmF5ID0gW107IC8v5Y+W5Ye65omA5pyJ55qE5YiXXG5cbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSAoMCwgX2Zyb21bXCJkZWZhdWx0XCJdKShkb21BcnJheVtpXS5jaGlsZHJlbikpLmNhbGwoX2NvbnRleHQyLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgY0FycmF5LnB1c2goaXRlbSk7XG4gICAgfSk7IC8v56e76Zmk6KGM55qE5pen55qE5a2Q6IqC54K5XG5cbiAgICB3aGlsZSAoZG9tQXJyYXlbaV0uY2hpbGRyZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgICBkb21BcnJheVtpXS5yZW1vdmVDaGlsZChkb21BcnJheVtpXS5jaGlsZHJlblswXSk7XG4gICAgfVxuXG4gICAgKDAsIF9zcGxpY2VbXCJkZWZhdWx0XCJdKShjQXJyYXkpLmNhbGwoY0FycmF5LCBfaW5kZXgsIDEpOyAvL+aPkuWFpeaWsOeahOWtkOiKgueCuVxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGRvbUFycmF5W2ldLmFwcGVuZENoaWxkKGNBcnJheVtqXSk7XG4gICAgfVxuICB9OyAvL+WIm+W7unRkXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgX2xvb3BfMihpKTtcbiAgfSAvL+enu+mZpOOAgeaWsOWinuiKgueCueS6i+S7tlxuXG5cbiAgcmVtb3ZlQW5kSW5zZXJ0QWN0aW9uKCRkb20sIGRvbUFycmF5KTtcbiAgcmV0dXJuIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRkb20ucGFyZW50Tm9kZSk7XG59XG4vKipcbiAqIOWkhOeQhuiuvue9ri/lj5bmtojooajlpLRcbiAqIEBwYXJhbSAkbm9kZVxuICogQHBhcmFtIF9pbmRleFxuICogQHR5cGUg5pu/5o2i55qE5qCH562+IHRo6L+Y5pivdGRcbiAqL1xuXG5cbmZ1bmN0aW9uIHNldFRoZUhlYWRlcigkbm9kZSwgX2luZGV4LCB0eXBlKSB7XG4gIC8vIOaJp+ihjOiOt+WPlnRib2R56IqC54K5XG4gIHZhciAkZG9tID0gZ2VuZXJhdGVEb21BY3Rpb24oJG5vZGUpOyAvLyDlj5blh7rmiYDmnInnmoTooYxcblxuICB2YXIgZG9tQXJyYXkgPSAoMCwgX3NsaWNlW1wiZGVmYXVsdFwiXSkoQXJyYXkucHJvdG90eXBlKS5hcHBseSgkZG9tLmNoaWxkcmVuKTsgLy8g5YiX55qE5pWw6YePXG5cbiAgdmFyIGNvbHMgPSBkb21BcnJheVtfaW5kZXhdLmNoaWxkcmVuOyAvLyDliJvlu7rmlrB0clxuXG4gIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgdmFyIF9sb29wXzMgPSBmdW5jdGlvbiBfbG9vcF8zKGkpIHtcbiAgICB2YXIgX2NvbnRleHQzO1xuXG4gICAgLy8g5qC55o2udHlwZSh0ZCDmiJbogIUgdGgp55Sf5oiQ5a+55bqU55qEZWxcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIHZhciBjb2wgPSBjb2xzW2ldO1xuICAgIC8qKlxuICAgICAqIOayoeacieS9v+eUqGNoaWxkcmVu5piv5Zug5Li66LC35q2M57qv5paH5pys5YaF5a65Y2hpbGRyZW7mlbDnu4TlsLHkuLrnqbrvvIzogIzngavni5Dnuq/mlofmnKzlhoXlrrnmmK/igJx4eHg8YnI+4oCd5L2/55SoY2hpbGRyZW7lj6rog73ojrflj5ZiclxuICAgICAqIOW9k+eEtuS9v+eUqGNoaWxkTm9kZXPkuZ/mtrXnm5bmlK/mjIHmiJHku6zooajlpLTkvb/nlKjooajmg4XvvIzku6PnoIHlnZfnrYnvvIzkuI3nrqHmmK/orr7nva7ov5jmmK/lj5bmtojpg73kvJrkv53nlZnnrKzkuIDooYxcbiAgICAgKi9cblxuICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKF9jb250ZXh0MyA9ICgwLCBfZnJvbVtcImRlZmF1bHRcIl0pKGNvbC5jaGlsZE5vZGVzKSkuY2FsbChfY29udGV4dDMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBlbC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICB9KTtcbiAgICB0ci5hcHBlbmRDaGlsZChlbCk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgX2xvb3BfMyhpKTtcbiAgfSAvL+aPkuWFpembhuWQiOS4rVxuXG5cbiAgKDAsIF9zcGxpY2VbXCJkZWZhdWx0XCJdKShkb21BcnJheSkuY2FsbChkb21BcnJheSwgX2luZGV4LCAxLCB0cik7IC8v56e76Zmk44CB5paw5aKe6IqC54K55LqL5Lu2XG5cbiAgcmVtb3ZlQW5kSW5zZXJ0QWN0aW9uKCRkb20sIGRvbUFycmF5KTtcbiAgcmV0dXJuIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRkb20ucGFyZW50Tm9kZSk7XG59XG4vKipcbiAqIOWwgeijheenu+mZpOOAgeaWsOWinuiKgueCueS6i+S7tlxuICogQHBhcmFtICRkb20gdGJvZHnoioLngrlcbiAqIEBwYXJhbSBkb21BcnJheSAg5omA5pyJ55qE6KGMXG4gKi9cblxuXG5mdW5jdGlvbiByZW1vdmVBbmRJbnNlcnRBY3Rpb24oJGRvbSwgZG9tQXJyYXkpIHtcbiAgLy/np7vpmaTmiYDmnInnmoTml6fnmoTlrZDoioLngrlcbiAgd2hpbGUgKCRkb20uY2hpbGRyZW4ubGVuZ3RoICE9PSAwKSB7XG4gICAgJGRvbS5yZW1vdmVDaGlsZCgkZG9tLmNoaWxkcmVuWzBdKTtcbiAgfSAvL+aPkuWFpeaWsOeahOWtkOiKgueCuVxuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICRkb20uYXBwZW5kQ2hpbGQoZG9tQXJyYXlbaV0pO1xuICB9XG59XG4vKipcbiAqIOWwgeijheWIpOaWreaYr+WQpnRib2R56IqC54K5XG4gKiDnspjotLTnmoR0YWJsZSDnrKzkuIDkuKroioLngrnmmK88Y29sZ3JvdXA+IOacgOWQjueahOiKgueCuTx0Ym9keT5cbiAqIEBwYXJhbSBkb21cbiAqL1xuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRG9tQWN0aW9uKCRub2RlKSB7XG4gIHZhciAkZG9tID0gJG5vZGUuZWxlbXNbMF0uY2hpbGRyZW5bMF07XG5cbiAgaWYgKCRkb20ubm9kZU5hbWUgPT09ICdDT0xHUk9VUCcpIHtcbiAgICAkZG9tID0gJG5vZGUuZWxlbXNbMF0uY2hpbGRyZW5bJG5vZGUuZWxlbXNbMF0uY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gIH1cblxuICByZXR1cm4gJGRvbTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIFByb2Nlc3NpbmdSb3c6IFByb2Nlc3NpbmdSb3csXG4gIFByb2Nlc3NpbmdDb2w6IFByb2Nlc3NpbmdDb2wsXG4gIERlbGV0ZVJvdzogRGVsZXRlUm93LFxuICBEZWxldGVDb2w6IERlbGV0ZUNvbCxcbiAgc2V0VGhlSGVhZGVyOiBzZXRUaGVIZWFkZXJcbn07XG5cbi8qKiovIH0pLFxuLyogNDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTIpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLkFycmF5LmZyb207XG5cblxuLyoqKi8gfSksXG4vKiA0MTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxMyk7XG52YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXG52YXIgSU5DT1JSRUNUX0lURVJBVElPTiA9ICFjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1mcm9tIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIEFycmF5LmZyb20oaXRlcmFibGUpO1xufSk7XG5cbi8vIGBBcnJheS5mcm9tYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuZnJvbVxuJCh7IHRhcmdldDogJ0FycmF5Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJTkNPUlJFQ1RfSVRFUkFUSU9OIH0sIHtcbiAgZnJvbTogZnJvbVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA0MTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MTQpO1xudmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcbnZhciB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cbi8vIGBBcnJheS5mcm9tYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuZnJvbVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5O1xuICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIG1hcGZuID0gYXJndW1lbnRzTGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICB2YXIgaXRlcmF0b3JNZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZChPKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvciwgbmV4dCwgdmFsdWU7XG4gIGlmIChtYXBwaW5nKSBtYXBmbiA9IGJpbmQobWFwZm4sIGFyZ3VtZW50c0xlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAvLyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSBvciBpdCdzIGFuIGFycmF5IHdpdGggdGhlIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2UgYSBzaW1wbGUgY2FzZVxuICBpZiAoaXRlcmF0b3JNZXRob2QgIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcmF0b3JNZXRob2QoaXRlcmF0b3JNZXRob2QpKSkge1xuICAgIGl0ZXJhdG9yID0gaXRlcmF0b3JNZXRob2QuY2FsbChPKTtcbiAgICBuZXh0ID0gaXRlcmF0b3IubmV4dDtcbiAgICByZXN1bHQgPSBuZXcgQygpO1xuICAgIGZvciAoOyEoc3RlcCA9IG5leHQuY2FsbChpdGVyYXRvcikpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgIHZhbHVlID0gbWFwcGluZyA/IGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICByZXN1bHQgPSBuZXcgQyhsZW5ndGgpO1xuICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICB2YWx1ZSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblxuLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgRU5UUklFUykge1xuICB0cnkge1xuICAgIHJldHVybiBFTlRSSUVTID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOiOt+WPlmRvbeiKgueCuVxuICogQGF1dGhvciBsaWNodW5saW5cbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2Zyb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQzKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIGdldE5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGdldE5vZGUoZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gIH1cbiAgLyoqXG4gICAqIOiOt+WPlueEpueCueaJgOWcqOihjFxuICAgKiBAcGFyYW0gJG5vZGUg5b2T5YmNdGFibGVcbiAgICovXG5cblxuICBnZXROb2RlLnByb3RvdHlwZS5nZXRSb3dOb2RlID0gZnVuY3Rpb24gKCRub2RlKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFyIERPTSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRub2RlKS5lbGVtc1swXTtcblxuICAgIGlmICghRE9NLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBET007XG4gICAgfVxuXG4gICAgRE9NID0gKF9hID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oRE9NKS5wYXJlbnRVbnRpbCgnVFInLCBET00pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbXNbMF07XG4gICAgcmV0dXJuIERPTTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluW9k+WJjeihjOeahOS4i+agh1xuICAgKiBAcGFyYW0gJG5vZGUg5b2T5YmNdGFibGVcbiAgICogQHBhcmFtICRkbW8g5b2T5YmN6KGM6IqC54K5XG4gICAqL1xuXG5cbiAgZ2V0Tm9kZS5wcm90b3R5cGUuZ2V0Q3VycmVudFJvd0luZGV4ID0gZnVuY3Rpb24gKCRub2RlLCAkZG9tKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgdmFyIF9pbmRleCA9IDA7XG4gICAgdmFyICRub2RlQ2hpbGQgPSAkbm9kZS5jaGlsZHJlblswXTsgLy/nspjotLTnmoR0YWJsZSDmnIDlkI7kuIDkuKroioLngrnmiY3mmK90Ym9keVxuXG4gICAgaWYgKCRub2RlQ2hpbGQubm9kZU5hbWUgPT09ICdDT0xHUk9VUCcpIHtcbiAgICAgICRub2RlQ2hpbGQgPSAkbm9kZS5jaGlsZHJlblskbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9ICgwLCBfZnJvbVtcImRlZmF1bHRcIl0pKCRub2RlQ2hpbGQuY2hpbGRyZW4pKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIGl0ZW0gPT09ICRkb20gPyBfaW5kZXggPSBpbmRleCA6ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiBfaW5kZXg7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blvZPliY3liJfnmoTkuIvmoIdcbiAgICogQHBhcmFtICRub2RlIOW9k+WJjeeCueWHu+WFg+e0oFxuICAgKi9cblxuXG4gIGdldE5vZGUucHJvdG90eXBlLmdldEN1cnJlbnRDb2xJbmRleCA9IGZ1bmN0aW9uICgkbm9kZSkge1xuICAgIHZhciBfY29udGV4dDI7XG5cbiAgICB2YXIgX2E7IC8v5b2T5YmN6KGMXG5cblxuICAgIHZhciBfaW5kZXggPSAwOyAvL+iOt+WPluW9k+WJjeWIlyB0ZOaIlnRoXG5cbiAgICB2YXIgcm93RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJG5vZGUpLmdldE5vZGVOYW1lKCkgPT09ICdURCcgfHwgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJG5vZGUpLmdldE5vZGVOYW1lKCkgPT09ICdUSCcgPyAkbm9kZSA6IChfYSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRub2RlKS5wYXJlbnRVbnRpbCgnVEQnLCAkbm9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXTtcbiAgICB2YXIgY29sRG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0ocm93RG9tKS5wYXJlbnQoKTtcbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dDIgPSAoMCwgX2Zyb21bXCJkZWZhdWx0XCJdKShjb2xEb20uZWxlbXNbMF0uY2hpbGRyZW4pKS5jYWxsKF9jb250ZXh0MiwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICBpdGVtID09PSByb3dEb20gPyBfaW5kZXggPSBpbmRleCA6ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiBfaW5kZXg7XG4gIH07XG4gIC8qKlxuICAgKiDov5Tlm57lhYPntKBodG1s5a2X56ym5LiyXG4gICAqIEBwYXJhbSAkbm9kZVxuICAgKi9cblxuXG4gIGdldE5vZGUucHJvdG90eXBlLmdldFRhYmxlSHRtbCA9IGZ1bmN0aW9uICgkbm9kZSkge1xuICAgIHZhciBodG1sU3RyID0gXCI8dGFibGUgYm9yZGVyPVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgY2VsbHBhZGRpbmc9XFxcIjBcXFwiIGNlbGxzcGFjaW5nPVxcXCIwXFxcIj5cIiArIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCRub2RlKS5odG1sKCkgKyBcIjwvdGFibGU+XCI7XG4gICAgcmV0dXJuIGh0bWxTdHI7XG4gIH07XG5cbiAgcmV0dXJuIGdldE5vZGU7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZ2V0Tm9kZTtcblxuLyoqKi8gfSksXG4vKiA0MTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYmluZEV2ZW50S2V5Ym9hcmRFdmVudCA9IGV4cG9ydHMuYmluZENsaWNrRXZlbnQgPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbi8qKlxuICogQGRlc2NyaXB0aW9uIOaYr+WQpuaYr+epuuihjFxuICogQHBhcmFtIHRvcEVsZW1cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzRW1wdHlMaW5lKHRvcEVsZW0pIHtcbiAgaWYgKCF0b3BFbGVtLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBkb20gPSB0b3BFbGVtLmVsZW1zWzBdO1xuICByZXR1cm4gZG9tLm5vZGVOYW1lID09PSAnUCcgJiYgZG9tLmlubmVySFRNTCA9PT0gJzxicj4nO1xufVxuXG5mdW5jdGlvbiBiaW5kQ2xpY2tFdmVudChlZGl0b3IpIHtcbiAgZnVuY3Rpb24gaGFuZGxlVHJpcGxlQ2xpY2soJGRvbSwgZSkge1xuICAgIC8vIOWkhOeQhuS4ieWHu+S6i+S7tu+8jOatpOaXtumAieWMuuWPr+iDveemu+W8gHRhYmxl77yM5L+u5q2j5Zue5p2lXG4gICAgaWYgKGUuZGV0YWlsID49IDMpIHtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICAgICAgICBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGU7XG4gICAgICAgIHZhciAkYW5jaG9yTm9kZSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGFuY2hvck5vZGUgPT09IG51bGwgfHwgYW5jaG9yTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5jaG9yTm9kZS5wYXJlbnRFbGVtZW50KTsgLy8g5b2TZm9jdXNOb2Rl56a75byA5LqGdGFibGVcblxuICAgICAgICBpZiAoISRkb20uaXNDb250YWluKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGZvY3VzTm9kZSkpKSB7XG4gICAgICAgICAgdmFyICR0ZCA9ICRhbmNob3JOb2RlLmVsZW1zWzBdLnRhZ05hbWUgPT09ICdURCcgPyAkYW5jaG9yTm9kZSA6ICRhbmNob3JOb2RlLnBhcmVudFVudGlsRWRpdG9yKCd0ZCcsIGVkaXRvcik7XG5cbiAgICAgICAgICBpZiAoJHRkKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICByYW5nZSA9PT0gbnVsbCB8fCByYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZ2Uuc2V0RW5kKCR0ZC5lbGVtc1swXSwgJHRkLmVsZW1zWzBdLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy50YWJsZUNsaWNrRXZlbnRzLnB1c2goaGFuZGxlVHJpcGxlQ2xpY2spO1xufVxuXG5leHBvcnRzLmJpbmRDbGlja0V2ZW50ID0gYmluZENsaWNrRXZlbnQ7XG5cbmZ1bmN0aW9uIGJpbmRFdmVudEtleWJvYXJkRXZlbnQoZWRpdG9yKSB7XG4gIHZhciB0eHQgPSBlZGl0b3IudHh0LFxuICAgICAgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgdmFyIGtleWRvd25FdmVudHMgPSB0eHQuZXZlbnRIb29rcy5rZXlkb3duRXZlbnRzO1xuICBrZXlkb3duRXZlbnRzLnB1c2goZnVuY3Rpb24gKGUpIHtcbiAgICAvLyDlrp7ml7bkv53lrZjpgInljLpcbiAgICBlZGl0b3Iuc2VsZWN0aW9uLnNhdmVSYW5nZSgpO1xuICAgIHZhciAkc2VsZWN0aW9uQ29udGFpbmVyRWxlbSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG5cbiAgICBpZiAoJHNlbGVjdGlvbkNvbnRhaW5lckVsZW0pIHtcbiAgICAgIHZhciAkdG9wRWxlbSA9ICRzZWxlY3Rpb25Db250YWluZXJFbGVtLmdldE5vZGVUb3AoZWRpdG9yKTtcbiAgICAgIHZhciAkcHJlRWxlbSA9ICR0b3BFbGVtLmxlbmd0aCA/ICR0b3BFbGVtLnByZXYoKS5sZW5ndGggPyAkdG9wRWxlbS5wcmV2KCkgOiBudWxsIDogbnVsbDsgLy8g5Yig6Zmk5pe277yM6YCJ5Yy65YmN6Z2i5pivdGFibGXvvIzkuJTpgInljLrmsqHmnInpgInkuK3mlofmnKzvvIzpmLvmraLpu5jorqTooYzkuLpcblxuICAgICAgaWYgKCRwcmVFbGVtICYmICRwcmVFbGVtLmdldE5vZGVOYW1lKCkgPT09ICdUQUJMRScgJiYgc2VsZWN0aW9uLmlzU2VsZWN0aW9uRW1wdHkoKSAmJiBzZWxlY3Rpb24uZ2V0Q3Vyc29yUG9zKCkgPT09IDAgJiYgZS5rZXlDb2RlID09PSA4KSB7XG4gICAgICAgIHZhciAkbmV4dEVsZW0gPSAkdG9wRWxlbS5uZXh0KCk7XG4gICAgICAgIHZhciBoYXNOZXh0ID0gISEkbmV4dEVsZW0ubGVuZ3RoO1xuICAgICAgICAvKipcbiAgICAgICAgICog5aaC5p6c5b2T5YmN5piv56m66KGM77yM5bm25LiU5b2T5YmN6KGM5LiL6Z2i6L+Y5pyJ5YaF5a6577yM5Yig6Zmk5b2T5YmN6KGMXG4gICAgICAgICAqIOa1j+iniOWZqOm7mOiupOihjOS4uuS4jeS8muWIoOmZpOaOieW9k+WJjeihjOeahDxicj7moIfnrb5cbiAgICAgICAgICog5Zug5q2k6Zi75q2i6buY6K6k6KGM5Li677yM54m55q6K5aSE55CGXG4gICAgICAgICAqL1xuXG4gICAgICAgIGlmIChoYXNOZXh0ICYmIGlzRW1wdHlMaW5lKCR0b3BFbGVtKSkge1xuICAgICAgICAgICR0b3BFbGVtLnJlbW92ZSgpO1xuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VUb0VsZW0oJG5leHRFbGVtLmVsZW1zWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnRzLmJpbmRFdmVudEtleWJvYXJkRXZlbnQgPSBiaW5kRXZlbnRLZXlib2FyZEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDQxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Luj56CBIOiPnOWNlVxuICogQGF1dGhvciBsa3dcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX21hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNykpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5mb3JtYXRDb2RlSHRtbCA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgUGFuZWxNZW51XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSk7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgY3JlYXRlX3BhbmVsX2NvbmZfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDE4KSk7XG5cbnZhciBpc19hY3RpdmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQ0KSk7XG5cbnZhciBQYW5lbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMykpO1xuXG52YXIgaW5kZXhfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDE5KSk7XG5cbmZ1bmN0aW9uIGZvcm1hdENvZGVIdG1sKGVkaXRvciwgaHRtbCkge1xuICBpZiAoIWh0bWwpIHJldHVybiBodG1sO1xuICBodG1sID0gZGVsZXRlSGlnaGxpZ2h0Q29kZShodG1sKTtcbiAgaHRtbCA9IGZvcm1hdEVudGVyQ29kZShodG1sKTtcbiAgaHRtbCA9IHV0aWxfMS5yZXBsYWNlU3BlY2lhbFN5bWJvbChodG1sKTtcbiAgcmV0dXJuIGh0bWw7IC8vIOagvOW8j+WMluaNouaNouaJgOS6p+eUn+eahGNvZGXmoIfnrb5cblxuICBmdW5jdGlvbiBmb3JtYXRFbnRlckNvZGUoaHRtbCkge1xuICAgIHZhciBwcmVBcnIgPSBodG1sLm1hdGNoKC88cHJlW1xcc3xcXFNdKz9cXC9wcmU+L2cpO1xuICAgIGlmIChwcmVBcnIgPT09IG51bGwpIHJldHVybiBodG1sO1xuICAgICgwLCBfbWFwW1wiZGVmYXVsdFwiXSkocHJlQXJyKS5jYWxsKHByZUFyciwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIC8v5bCG6L+e57ut55qEY29kZeagh+etvuaNouS4ulxcbuaNouihjFxuICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShpdGVtLCBpdGVtLnJlcGxhY2UoLzxcXC9jb2RlPjxjb2RlPi9nLCAnXFxuJykucmVwbGFjZSgvPGJyPi9nLCAnJykpO1xuICAgIH0pO1xuICAgIHJldHVybiBodG1sO1xuICB9IC8vIGhpZ2hsaWdodOagvOW8j+WMluaWueazlVxuXG5cbiAgZnVuY3Rpb24gZGVsZXRlSGlnaGxpZ2h0Q29kZShodG1sKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgLy8g6I635Y+W5omA5pyJaGxqc+aWh+acrFxuICAgIHZhciBtID0gaHRtbC5tYXRjaCgvPHNwYW5cXHNjbGFzcz1cImhsanNbXFxzfFxcU10rP1xcL3NwYW4+L2dtKTsgLy8g5rKh5pyJ5Luj56CB5riy5p+T5paH5pys5YiZ6YCA5Ye6XG4gICAgLy8gQHRzLWlnbm9yZVxuXG4gICAgaWYgKCFtIHx8ICFtLmxlbmd0aCkgcmV0dXJuIGh0bWw7IC8vIOiOt+WPluabv+aNouaWh+acrFxuXG4gICAgdmFyIHIgPSAoMCwgX21hcFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gdXRpbF8xLmRlZXBDbG9uZShtKSkuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGkpIHtcbiAgICAgIGkgPSBpLnJlcGxhY2UoLzxzcGFuXFxzY2xhc3M9XCJobGpzW14+XSs+LywgJycpO1xuICAgICAgcmV0dXJuIGkucmVwbGFjZSgvPFxcL3NwYW4+LywgJycpO1xuICAgIH0pOyAvLyBAdHMtaWdub3JlXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UobVtpXSwgcltpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZUhpZ2hsaWdodENvZGUoaHRtbCk7XG4gIH1cbn1cblxuZXhwb3J0cy5mb3JtYXRDb2RlSHRtbCA9IGZvcm1hdENvZGVIdG1sO1xuXG52YXIgQ29kZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoQ29kZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDb2RlKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdiBjbGFzcz1cInctZS1tZW51XCIgZGF0YS10aXRsZT1cIuS7o+eggVwiPjxpIGNsYXNzPVwidy1lLWljb24tdGVybWluYWxcIj48L2k+PC9kaXY+Jyk7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAkZWxlbSwgZWRpdG9yKSB8fCB0aGlzOyAvLyDnu5Hlrprkuovku7bvvIzlpoLngrnlh7vpk77mjqXml7bvvIzlj6/ku6Xmn6XnnIvpk77mjqVcblxuICAgIGluZGV4XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDmj5LlhaXooYzlhoXku6PnoIFcbiAgICogQHBhcmFtIHRleHRcbiAgICogQHJldHVybiBudWxsXG4gICAqL1xuXG5cbiAgQ29kZS5wcm90b3R5cGUuaW5zZXJ0TGluZUNvZGUgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsgLy8g6KGM5YaF5Luj56CB5aSE55CGXG5cbiAgICB2YXIgJGNvZGUgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxjb2RlPlwiICsgdGV4dCArIFwiPC9jb2RlPlwiKTtcbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEVsZW0nLCAkY29kZSk7XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkY29kZSwgZmFsc2UpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICB9O1xuICAvKipcbiAgICog6I+c5Y2V54K55Ye75LqL5Lu2XG4gICAqL1xuXG5cbiAgQ29kZS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgc2VsZWN0aW9uVGV4dCA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uVGV4dCgpO1xuXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6I+c5Y2V5pyq6KKr5r+A5rS777yM6K+05piO6YCJ5Yy65LiN5Zyo6ZO+5o6l6YeMXG4gICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbi5pc1NlbGVjdGlvbkVtcHR5KCkpIHtcbiAgICAgICAgLy8g6YCJ5Yy65piv56m655qE77yM5pyq6YCJ5Lit5YaF5a65XG4gICAgICAgIHRoaXMuY3JlYXRlUGFuZWwoJycsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOihjOWGheS7o+eggeWkhOeQhiDpgInkuK3kuobpnZ7ku6PnoIHlhoXlrrlcbiAgICAgICAgdGhpcy5pbnNlcnRMaW5lQ29kZShzZWxlY3Rpb25UZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogcGFuZWxcbiAgICogQHBhcmFtIHRleHQg5Luj56CB5paH5pysXG4gICAqIEBwYXJhbSBsYW5ndWFnZVR5cGUg5Luj56CB57G75Z6LXG4gICAqL1xuXG5cbiAgQ29kZS5wcm90b3R5cGUuY3JlYXRlUGFuZWwgPSBmdW5jdGlvbiAodGV4dCwgbGFuZ3VhZ2VUeXBlKSB7XG4gICAgdmFyIGNvbmYgPSBjcmVhdGVfcGFuZWxfY29uZl8xW1wiZGVmYXVsdFwiXSh0aGlzLmVkaXRvciwgdGV4dCwgbGFuZ3VhZ2VUeXBlKTtcbiAgICB2YXIgcGFuZWwgPSBuZXcgUGFuZWxfMVtcImRlZmF1bHRcIl0odGhpcywgY29uZik7XG4gICAgcGFuZWwuY3JlYXRlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZUgYWN0aXZlIOeKtuaAgVxuICAgKi9cblxuXG4gIENvZGUucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICBpZiAoaXNfYWN0aXZlXzFbXCJkZWZhdWx0XCJdKGVkaXRvcikpIHtcbiAgICAgIHRoaXMuYWN0aXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5BY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENvZGU7XG59KFBhbmVsTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29kZTtcblxuLyoqKi8gfSksXG4vKiA0MTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIGNvZGUg6I+c5Y2VIHBhbmVsIHRhYiDphY3nva5cbiAqIEBhdXRob3IgbGt3XG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjcpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIGlzX2FjdGl2ZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpKTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5mdW5jdGlvbiBkZWZhdWx0XzEoZWRpdG9yLCB0ZXh0LCBsYW5ndWFnZVR5cGUpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIC8vIHBhbmVsIOS4remcgOimgeeUqOWIsOeahGlkXG4gIHZhciBpbnB1dElGcmFtZUlkID0gdXRpbF8xLmdldFJhbmRvbSgnaW5wdXQtaWZyYW1lJyk7XG4gIHZhciBsYW5ndWFnZUlkID0gdXRpbF8xLmdldFJhbmRvbSgnc2VsZWN0Jyk7XG4gIHZhciBidG5Pa0lkID0gdXRpbF8xLmdldFJhbmRvbSgnYnRuLW9rJyk7XG4gIC8qKlxuICAgKiDmj5LlhaXku6PnoIHlnZdcbiAgICogQHBhcmFtIHRleHQg5paH5a2XXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGluc2VydENvZGUodGV4dCkge1xuICAgIHZhciBfYTsgLy8g6YCJ5Yy65aSE5LqO6ZO+5o6l5Lit77yM5YiZ6YCJ5Lit5pW05Liq6I+c5Y2V77yM5YaN5omn6KGMIGluc2VydEhUTUxcblxuXG4gICAgdmFyIGFjdGl2ZSA9IGlzX2FjdGl2ZV8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xuXG4gICAgaWYgKGFjdGl2ZSkge1xuICAgICAgc2VsZWN0Q29kZUVsZW0oKTtcbiAgICB9XG5cbiAgICB2YXIgY29udGVudCA9IChfYSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnRFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXS5pbm5lckhUTUw7XG5cbiAgICBpZiAoY29udGVudCkge1xuICAgICAgZWRpdG9yLmNtZFtcImRvXCJdKCdpbnNlcnRIVE1MJywgY29uc3RfMS5FTVBUWV9QKTtcbiAgICB9XG5cbiAgICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCB0ZXh0KTtcbiAgICB2YXIgJGNvZGUgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpO1xuICAgIHZhciAkY29kZUVsZW0gPSAkY29kZSA9PT0gbnVsbCB8fCAkY29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGNvZGUuZ2V0Tm9kZVRvcChlZGl0b3IpOyAvLyDpgJrov4dkb23mk43kvZzmt7vliqDmjaLooYzmoIfnrb5cblxuICAgIGlmICgoJGNvZGVFbGVtID09PSBudWxsIHx8ICRjb2RlRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGNvZGVFbGVtLmdldE5leHRTaWJsaW5nKCkuZWxlbXMubGVuZ3RoKSA9PT0gMCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY29uc3RfMS5FTVBUWV9QKS5pbnNlcnRBZnRlcigkY29kZUVsZW0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICog6YCJ5Lit5pW05Liq6ZO+5o6l5YWD57SgXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gc2VsZWN0Q29kZUVsZW0oKSB7XG4gICAgaWYgKCFpc19hY3RpdmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yKSkgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cbiAgICB2YXIgJHNlbGVjdGVkQ29kZTtcbiAgICB2YXIgJGNvZGUgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0RWxlbSgpO1xuICAgIHZhciAkY29kZUVsZW0gPSAkY29kZSA9PT0gbnVsbCB8fCAkY29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGNvZGUuZ2V0Tm9kZVRvcChlZGl0b3IpO1xuICAgIGlmICghJGNvZGVFbGVtKSByZXR1cm47XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkY29kZUVsZW0pO1xuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICAgICRzZWxlY3RlZENvZGUgPSAkY29kZUVsZW07IC8vIOi1i+WAvOe7meWHveaVsOWGheWFqOWxgOWPmOmHj1xuICB9XG5cbiAgdmFyIHQgPSBmdW5jdGlvbiB0KHRleHQpIHtcbiAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudCh0ZXh0KTtcbiAgfTsgLy8gQHRzLWlnbm9yZVxuXG5cbiAgdmFyIGNvbmYgPSB7XG4gICAgd2lkdGg6IDUwMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgLy8gcGFuZWwg5Lit5Y+v5YyF5ZCr5aSa5LiqIHRhYlxuICAgIHRhYnM6IFt7XG4gICAgICAvLyB0YWIg55qE5qCH6aKYXG4gICAgICB0aXRsZTogdCgnbWVudXMucGFuZWxNZW51cy5jb2RlLuaPkuWFpeS7o+eggScpLFxuICAgICAgLy8g5qih5p2/XG4gICAgICB0cGw6IFwiPGRpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XFxcIlxcXCIgaWQ9XFxcIlwiICsgbGFuZ3VhZ2VJZCArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKyAoMCwgX21hcFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gZWRpdG9yLmNvbmZpZy5sYW5ndWFnZVR5cGUpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuICAgICAgICByZXR1cm4gJzxvcHRpb24gJyArIChsYW5ndWFnZVR5cGUgPT0gbGFuZ3VhZ2UgPyAnc2VsZWN0ZWQnIDogJycpICsgJyB2YWx1ZSA9XCInICsgbGFuZ3VhZ2UgKyAnXCI+JyArIGxhbmd1YWdlICsgJzwvb3B0aW9uPic7XG4gICAgICB9KSArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPVxcXCJcIiArIGlucHV0SUZyYW1lSWQgKyBcIlxcXCIgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcIndhbmctY29kZS10ZXh0YXJlYVxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCIgc3R5bGU9XFxcImhlaWdodDogMTYwcHhcXFwiPlwiICsgdGV4dC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJykgKyBcIjwvdGV4dGFyZWE+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidy1lLWJ1dHRvbi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgYnRuT2tJZCArIFwiXFxcIiBjbGFzcz1cXFwicmlnaHRcXFwiPlwiICsgKGlzX2FjdGl2ZV8xW1wiZGVmYXVsdFwiXShlZGl0b3IpID8gdCgn5L+u5pS5JykgOiB0KCfmj5LlhaUnKSkgKyBcIjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XCIsXG4gICAgICAvLyDkuovku7bnu5HlrppcbiAgICAgIGV2ZW50czogWy8vIOaPkuWFpemTvuaOpVxuICAgICAge1xuICAgICAgICBzZWxlY3RvcjogJyMnICsgYnRuT2tJZCxcbiAgICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgICAgIHZhciBmb3JtYXRDb2RlLCBjb2RlRG9tO1xuICAgICAgICAgIHZhciAkY29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SUZyYW1lSWQpO1xuICAgICAgICAgIHZhciAkc2VsZWN0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJyMnICsgbGFuZ3VhZ2VJZCk7XG4gICAgICAgICAgdmFyIGxhbmd1YWdlVHlwZSA9ICRzZWxlY3QudmFsKCk7IC8vIEB0cy1pZ25vcmVcblxuICAgICAgICAgIHZhciBjb2RlID0gJGNvZGUudmFsdWU7IC8vIOmrmOS6rua4suafk1xuXG4gICAgICAgICAgaWYgKGVkaXRvci5oaWdobGlnaHQpIHtcbiAgICAgICAgICAgIGZvcm1hdENvZGUgPSBlZGl0b3IuaGlnaGxpZ2h0LmhpZ2hsaWdodEF1dG8oY29kZSkudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1hdENvZGUgPSBcIjx4bXA+XCIgKyBjb2RlICsgXCI8L3htcD5cIjtcbiAgICAgICAgICB9IC8vIOS7o+eggeS4uuepuu+8jOWImeS4jeaPkuWFpVxuXG5cbiAgICAgICAgICBpZiAoIWNvZGUpIHJldHVybjsgLy/lop7liqDmoIfnrb5cblxuICAgICAgICAgIGlmIChpc19hY3RpdmVfMVtcImRlZmF1bHRcIl0oZWRpdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL+WinuWKoHByZeagh+etvlxuICAgICAgICAgICAgY29kZURvbSA9IFwiPHByZT48Y29kZSBjbGFzcz1cXFwiXCIgKyBsYW5ndWFnZVR5cGUgKyBcIlxcXCI+XCIgKyBmb3JtYXRDb2RlICsgXCI8L2NvZGU+PC9wcmU+XCI7IC8vIEB0cy1pZ25vcmVcblxuICAgICAgICAgICAgaW5zZXJ0Q29kZShjb2RlRG9tKTtcbiAgICAgICAgICB9IC8vIOi/lOWbniB0cnVl77yM6KGo56S66K+l5LqL5Lu25omn6KGM5a6M5LmL5ZCO77yMcGFuZWwg6KaB5YWz6Zet44CC5ZCm5YiZIHBhbmVsIOS4jeS8muWFs+mXrVxuXG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9IC8vIHRhYiBlbmRcbiAgICBdIC8vIHRhYnMgZW5kXG5cbiAgfTtcbiAgcmV0dXJuIGNvbmY7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZGVmYXVsdF8xO1xuXG4vKioqLyB9KSxcbi8qIDQxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57uR5a6a6ZO+5o6l5YWD57Sg55qE5LqL5Lu277yM5YWl5Y+jXG4gKiBAYXV0aG9yIGxrd1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIHRvb2x0aXBfZXZlbnRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDIwKSk7XG5cbnZhciBqdW1wX2NvZGVfYmxvY2tfZG93bl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MjEpKTtcbi8qKlxuICog57uR5a6a5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gYmluZEV2ZW50KGVkaXRvcikge1xuICAvLyB0b29sdGlwIOS6i+S7tlxuICB0b29sdGlwX2V2ZW50XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7IC8vIOS7o+eggeWdl+S4uuacgOWQjuWGheWuueeahOi3s+WHuuWkhOeQhlxuXG4gIGp1bXBfY29kZV9ibG9ja19kb3duXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDQyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gdG9vbHRpcCDkuovku7ZcbiAqIEBhdXRob3IgbGt3XG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlU2hvd0hpZGVGbiA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuICAvKipcbiAgICog5pi+56S6IHRvb2x0aXBcbiAgICogQHBhcmFtICRjb2RlIOmTvuaOpeWFg+e0oFxuICAgKi9cblxuICBmdW5jdGlvbiBzaG93Q29kZVRvb2x0aXAoJGNvZGUpIHtcbiAgICB2YXIgaTE4blByZWZpeCA9ICdtZW51cy5wYW5lbE1lbnVzLmNvZGUuJztcblxuICAgIHZhciB0ID0gZnVuY3Rpb24gdCh0ZXh0LCBwcmVmaXgpIHtcbiAgICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgICAgICBwcmVmaXggPSBpMThuUHJlZml4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWRpdG9yLmkxOG5leHQudChwcmVmaXggKyB0ZXh0KTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbmYgPSBbe1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyB0KCfliKDpmaTku6PnoIEnKSArIFwiPC9zcGFuPlwiKSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZWRpdG9yLCAkY29kZSkge1xuICAgICAgICAvL2RvbeaTjeS9nOWIoOmZpFxuICAgICAgICAkY29kZS5yZW1vdmUoKTsgLy8g6L+U5ZueIHRydWXvvIzooajnpLrmiafooYzlrozkuYvlkI7vvIzpmpDol48gdG9vbHRpcOOAguWQpuWImeS4jemakOiXj+OAglxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1dOyAvLyDliJvlu7ogdG9vbHRpcFxuXG4gICAgdG9vbHRpcCA9IG5ldyBUb29sdGlwXzFbXCJkZWZhdWx0XCJdKGVkaXRvciwgJGNvZGUsIGNvbmYpO1xuICAgIHRvb2x0aXAuY3JlYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIOmakOiXjyB0b29sdGlwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gaGlkZUNvZGVUb29sdGlwKCkge1xuICAgIC8vIOenu+mZpCB0b29sdGlwXG4gICAgaWYgKHRvb2x0aXApIHtcbiAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgICB0b29sdGlwID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNob3dDb2RlVG9vbHRpcDogc2hvd0NvZGVUb29sdGlwLFxuICAgIGhpZGVDb2RlVG9vbHRpcDogaGlkZUNvZGVUb29sdGlwXG4gIH07XG59XG5cbmV4cG9ydHMuY3JlYXRlU2hvd0hpZGVGbiA9IGNyZWF0ZVNob3dIaWRlRm47XG4vKipcbiAqIHByZUVudGVyTGlzdGVuZXLmmK/kuLrkuobnu5/kuIDmtY/op4jlmagg5ZyocHJl5qCH562+5YaF55qEZW50ZXLooYzkuLrogIzov5vooYznmoTnm5HlkKxcbiAqIOebruWJjeW5tuayoeacieS9v+eUqCwg5L2G5piv5Zyo5pyq5p2l5aSE55CG5LiORmlyZWZveOWSjGll55qE5YW85a655oCn5pe26ZyA6KaB55So5YiwIOaaguS4lOaUvue9rlxuICogcHJl5qCH562+5YaF55qE5Zue6L2m55uR5ZCsXG4gKiBAcGFyYW0gZVxuICogQHBhcmFtIGVkaXRvclxuICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cbmZ1bmN0aW9uIHByZUVudGVyTGlzdGVuZXIoZSwgZWRpdG9yKSB7XG4gIC8vIOiOt+WPluW9k+WJjeagh+etvuWFg+e0oFxuICB2YXIgJHNlbGVjdGlvbkVsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTsgLy8g6I635Y+W5b2T5YmN6IqC54K55pyA6aG257qn5qCH562+5YWD57SgXG5cbiAgdmFyICR0b3BFbGVtID0gJHNlbGVjdGlvbkVsZW0gPT09IG51bGwgfHwgJHNlbGVjdGlvbkVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRzZWxlY3Rpb25FbGVtLmdldE5vZGVUb3AoZWRpdG9yKTsgLy8g6I635Y+W6aG257qn6IqC54K56IqC54K55ZCNXG5cbiAgdmFyIHRvcE5vZGVOYW1lID0gJHRvcEVsZW0gPT09IG51bGwgfHwgJHRvcEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICR0b3BFbGVtLmdldE5vZGVOYW1lKCk7IC8vIOmdnnByZeagh+etvumAgOWHulxuXG4gIGlmICh0b3BOb2RlTmFtZSAhPT0gJ1BSRScpIHJldHVybjsgLy8g5Y+W5raI6buY6K6k6KGM5Li6XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyDmiafooYzmjaLooYxcblxuICBlZGl0b3IuY21kW1wiZG9cIl0oJ2luc2VydEhUTUwnLCAnXFxuXFxyJyk7XG59XG4vKipcbiAqIOe7keWumiB0b29sdGlwIOS6i+S7tlxuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlrp7kvotcbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmRUb29sdGlwRXZlbnQoZWRpdG9yKSB7XG4gIHZhciBfYSA9IGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSxcbiAgICAgIHNob3dDb2RlVG9vbHRpcCA9IF9hLnNob3dDb2RlVG9vbHRpcCxcbiAgICAgIGhpZGVDb2RlVG9vbHRpcCA9IF9hLmhpZGVDb2RlVG9vbHRpcDsgLy8g54K55Ye75Luj56CB5YWD57Sg5pe277yM5pi+56S6IHRvb2x0aXBcblxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jb2RlQ2xpY2tFdmVudHMucHVzaChzaG93Q29kZVRvb2x0aXApOyAvLyDngrnlh7vlhbbku5blnLDmlrnvvIzmiJbogIXmu5rliqjml7bvvIzpmpDol48gdG9vbHRpcFxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jbGlja0V2ZW50cy5wdXNoKGhpZGVDb2RlVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy50b29sYmFyQ2xpY2tFdmVudHMucHVzaChoaWRlQ29kZVRvb2x0aXApO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MubWVudUNsaWNrRXZlbnRzLnB1c2goaGlkZUNvZGVUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRleHRTY3JvbGxFdmVudHMucHVzaChoaWRlQ29kZVRvb2x0aXApO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRUb29sdGlwRXZlbnQ7XG5cbi8qKiovIH0pLFxuLyogNDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qKlxuICogQGRlc2NyaXB0aW9uIOS7o+eggeWdl+S4uuacgOWQjuS4gOWdl+WGheWuueaXtuW+gOS4i+i3s+WHuuS7o+eggeWdl1xuICogQGF1dGhvciB6aGVuZ3dlbmppYW5cbiAqL1xuXG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbi8qKlxuICog5Zyo5Luj56CB5Z2X5pyA5ZCO5LiA6KGMIOaMieaWueWQkeS4i+mUrui3s+WHuuS7o+eggeWdl+eahOWkhOeQhlxuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlrp7kvotcbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmRFdmVudEp1bXBDb2RlQmxvY2soZWRpdG9yKSB7XG4gIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuJHRleHRFbGVtLFxuICAgICAgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIHR4dCA9IGVkaXRvci50eHQ7XG4gIHZhciBrZXlkb3duRXZlbnRzID0gdHh0LmV2ZW50SG9va3Mua2V5ZG93bkV2ZW50cztcbiAga2V5ZG93bkV2ZW50cy5wdXNoKGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIF9hOyAvLyA0MCDmmK/plK7nm5jkuK3nmoTkuIvmlrnlkJHplK5cblxuXG4gICAgaWYgKGUua2V5Q29kZSAhPT0gNDApIHJldHVybjtcbiAgICB2YXIgbm9kZSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgdmFyICRsYXN0Tm9kZSA9IChfYSA9ICR0ZXh0RWxlbS5jaGlsZHJlbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFzdCgpO1xuXG4gICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuZWxlbXNbMF0udGFnTmFtZSkgPT09ICdYTVAnICYmICgkbGFzdE5vZGUgPT09IG51bGwgfHwgJGxhc3ROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkbGFzdE5vZGUuZWxlbXNbMF0udGFnTmFtZSkgPT09ICdQUkUnKSB7XG4gICAgICAvLyDlsLHmmK/mnIDlkI7kuIDlnZfmmK/ku6PnoIHlnZfnmoTmg4XlhrXmj5LlhaXnqbpw5qCH562+5bm25YWJ5qCH56e76IezcFxuICAgICAgdmFyICRlbXB0eVAgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShjb25zdF8xLkVNUFRZX1ApO1xuICAgICAgJHRleHRFbGVtLmFwcGVuZCgkZW1wdHlQKTtcbiAgICB9XG4gIH0pOyAvLyBmaXg6IOS/ruWkjeS7o+eggeWdl+S9nOS4uuacgOWQjuS4gOS4quWFg+e0oOaXtu+8jOeUqOaIt+aXoOazleWGjei/m+ihjOi+k+WFpeeahOmXrumimFxuXG4gIGtleWRvd25FdmVudHMucHVzaChmdW5jdGlvbiAoZSkge1xuICAgIC8vIOWunuaXtuS/neWtmOmAieWMulxuICAgIGVkaXRvci5zZWxlY3Rpb24uc2F2ZVJhbmdlKCk7XG4gICAgdmFyICRzZWxlY3Rpb25Db250YWluZXJFbGVtID0gc2VsZWN0aW9uLmdldFNlbGVjdGlvbkNvbnRhaW5lckVsZW0oKTtcblxuICAgIGlmICgkc2VsZWN0aW9uQ29udGFpbmVyRWxlbSkge1xuICAgICAgdmFyICR0b3BFbGVtID0gJHNlbGVjdGlvbkNvbnRhaW5lckVsZW0uZ2V0Tm9kZVRvcChlZGl0b3IpOyAvLyDojrflj5bpgInljLrmiYDlnKjoioLngrnnmoTkuIrkuIDlhYPntKBcblxuICAgICAgdmFyICRwcmVFbGVtID0gJHRvcEVsZW0gPT09IG51bGwgfHwgJHRvcEVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICR0b3BFbGVtLnByZXYoKTsgLy8g5Yik5pat6K+l5YWD57Sg5ZCO6Z2i5piv5ZCm6L+Y5a2Y5Zyo5YWD57SgXG4gICAgICAvLyDlpoLmnpzlrZjlnKjliJnlhYHorrjliKDpmaRcblxuICAgICAgdmFyICRuZXh0RWxlbSA9ICR0b3BFbGVtID09PSBudWxsIHx8ICR0b3BFbGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkdG9wRWxlbS5nZXROZXh0U2libGluZygpO1xuXG4gICAgICBpZiAoJHByZUVsZW0ubGVuZ3RoICYmICgkcHJlRWxlbSA9PT0gbnVsbCB8fCAkcHJlRWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJHByZUVsZW0uZ2V0Tm9kZU5hbWUoKSkgPT09ICdQUkUnICYmICRuZXh0RWxlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8g5YWJ5qCH5aSE5LqO6YCJ5Yy65byA5aS0XG4gICAgICAgIGlmIChzZWxlY3Rpb24uZ2V0Q3Vyc29yUG9zKCkgPT09IDApIHtcbiAgICAgICAgICAvLyDmjInkuItkZWxldGXplK7ml7bmnKvlsL7ov73liqDnqbrooYxcbiAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4KSB7XG4gICAgICAgICAgICB2YXIgJGVtcHR5UCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCk7XG4gICAgICAgICAgICAkdGV4dEVsZW0uYXBwZW5kKCRlbXB0eVApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50SnVtcENvZGVCbG9jaztcblxuLyoqKi8gfSksXG4vKiA0MjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24g5YiG5Ymy57q/XG4gKiBAYXV0aG9yIHdhbmdxaWFvbGluZ1xuICovXG5cblxudmFyIEJ0bk1lbnVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjMpKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxudmFyIGluZGV4XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgc3BsaXRMaW5lID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhzcGxpdExpbmUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gc3BsaXRMaW5lKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgJGVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdiBjbGFzcz1cInctZS1tZW51XCIgZGF0YS10aXRsZT1cIuWIhuWJsue6v1wiPjxpIGNsYXNzPVwidy1lLWljb24tc3BsaXQtbGluZVwiPjwvaT48L2Rpdj4nKTtcbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpIHx8IHRoaXM7IC8vIOe7keWumuS6i+S7tlxuXG4gICAgaW5kZXhfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOiPnOWNleeCueWHu+S6i+S7tlxuICAgKi9cblxuXG4gIHNwbGl0TGluZS5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgdmFyICRzZWxlY3Rpb25FbGVtID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCk7XG4gICAgaWYgKCEoJHNlbGVjdGlvbkVsZW0gPT09IG51bGwgfHwgJHNlbGVjdGlvbkVsZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6ICRzZWxlY3Rpb25FbGVtLmxlbmd0aCkpIHJldHVybjtcbiAgICB2YXIgJERvbUVsZW1lbnQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgkc2VsZWN0aW9uRWxlbS5lbGVtc1swXSk7XG4gICAgdmFyICR0YWJsZURPTSA9ICREb21FbGVtZW50LnBhcmVudFVudGlsKCdUQUJMRScsICRzZWxlY3Rpb25FbGVtLmVsZW1zWzBdKTtcbiAgICB2YXIgJGltZ0RPTSA9ICREb21FbGVtZW50LmNoaWxkcmVuKCk7IC8vIOemgeatouWcqOS7o+eggeWdl+S4rea3u+WKoOWIhuWJsue6v1xuXG4gICAgaWYgKCREb21FbGVtZW50LmdldE5vZGVOYW1lKCkgPT09ICdDT0RFJykgcmV0dXJuOyAvLyDnpoHmraLlnKjooajmoLzkuK3mt7vliqDliIblibLnur9cblxuICAgIGlmICgkdGFibGVET00gJiYgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJHRhYmxlRE9NLmVsZW1zWzBdKS5nZXROb2RlTmFtZSgpID09PSAnVEFCTEUnKSByZXR1cm47IC8vIOemgeatouWcqOWbvueJh+WkhOa3u+WKoOWIhuWJsue6v1xuXG4gICAgaWYgKCRpbWdET00gJiYgJGltZ0RPTS5sZW5ndGggIT09IDAgJiYgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJGltZ0RPTS5lbGVtc1swXSkuZ2V0Tm9kZU5hbWUoKSA9PT0gJ0lNRycgJiYgIShyYW5nZSA9PT0gbnVsbCB8fCByYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZ2UuY29sbGFwc2VkKSAvLyDlpITnkIblhYnmoIflnKggaW1nIOWQjumdoueahOaDheWGtVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlU3BsaXRMaW5lKCk7XG4gIH07XG4gIC8qKlxuICAgKiDliJvlu7ogc3BsaXRMaW5lXG4gICAqL1xuXG5cbiAgc3BsaXRMaW5lLnByb3RvdHlwZS5jcmVhdGVTcGxpdExpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8g6Ziy5q2i5o+S5YWl5YiG5Ymy57q/5pe25rKh5pyJ5Y2g5L2N5YWD57Sg55qE5bC05bCsXG4gICAgdmFyIHNwbGl0TGluZURPTSA9IFwiPGhyLz5cIiArIGNvbnN0XzEuRU1QVFlfUDsgLy8g54Gr54uQ5rWP6KeI5Zmo5LiN6ZyA6KaBYnLmoIfnrb7ljaDkvY1cblxuICAgIGlmICh1dGlsXzEuVUEuaXNGaXJlZm94KSB7XG4gICAgICBzcGxpdExpbmVET00gPSAnPGhyLz48cD48L3A+JztcbiAgICB9XG5cbiAgICB0aGlzLmVkaXRvci5jbWRbXCJkb1wiXSgnaW5zZXJ0SFRNTCcsIHNwbGl0TGluZURPTSk7XG4gIH07XG4gIC8qKlxuICAgKiDlsJ3or5Xkv67mlLnoj5zljZXmv4DmtLvnirbmgIFcbiAgICovXG5cblxuICBzcGxpdExpbmUucHJvdG90eXBlLnRyeUNoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHJldHVybiBzcGxpdExpbmU7XG59KEJ0bk1lbnVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHNwbGl0TGluZTtcblxuLyoqKi8gfSksXG4vKiA0MjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdG9vbHRpcF9ldmVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MjQpKTtcbi8qKlxuICog57uR5a6a5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gYmluZEV2ZW50KGVkaXRvcikge1xuICAvLyDliIblibLnur/nmoQgdG9vbHRpcCDkuovku7ZcbiAgdG9vbHRpcF9ldmVudF8xW1wiZGVmYXVsdFwiXShlZGl0b3IpO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiA0MjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gdG9vbHRpcCDkuovku7ZcbiAqIEBhdXRob3Igd2FuZ3FpYW9saW5nXG4gKi9cblxuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgVG9vbHRpcF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuLyoqXG4gKiDnlJ/miJAgVG9vbHRpcCDnmoTmmL7npLrpmpDol4/lh73mlbBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3dIaWRlRm4oZWRpdG9yKSB7XG4gIHZhciB0b29sdGlwO1xuICAvKipcbiAgICog5pi+56S65YiG5Ymy57q/55qEIHRvb2x0aXBcbiAgICogQHBhcmFtICRzcGxpdExpbmUg5YiG5Ymy57q/5YWD57SgXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHNob3dTcGxpdExpbmVUb29sdGlwKCRzcGxpdExpbmUpIHtcbiAgICAvLyDlrprkuYkgc3BsaXRMaW5lIHRvb2x0aXAg6YWN572uXG4gICAgdmFyIGNvbmYgPSBbe1xuICAgICAgJGVsZW06IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPHNwYW4+XCIgKyBlZGl0b3IuaTE4bmV4dC50KCdtZW51cy5wYW5lbE1lbnVzLuWIoOmZpCcpICsgXCI8L3NwYW4+XCIpLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlZGl0b3IsICRzcGxpdExpbmUpIHtcbiAgICAgICAgLy8g6YCJ5LitIOWIhuWJsue6vyDlhYPntKBcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jcmVhdGVSYW5nZUJ5RWxlbSgkc3BsaXRMaW5lKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uKCk7XG4gICAgICAgIGVkaXRvci5jbWRbXCJkb1wiXSgnZGVsZXRlJyk7IC8vIOi/lOWbniB0cnVl77yM6KGo56S65omn6KGM5a6M5LmL5ZCO77yM6ZqQ6JePIHRvb2x0aXDjgILlkKbliJnkuI3pmpDol4/jgIJcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XTsgLy8g5a6e5L6L5YyWIHRvb2x0aXBcblxuICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcF8xW1wiZGVmYXVsdFwiXShlZGl0b3IsICRzcGxpdExpbmUsIGNvbmYpOyAvLyDliJvlu7ogdG9vbHRpcFxuXG4gICAgdG9vbHRpcC5jcmVhdGUoKTtcbiAgfVxuICAvKipcbiAgICog6ZqQ6JeP5YiG5Ymy57q/55qEIHRvb2x0aXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBoaWRlU3BsaXRMaW5lVG9vbHRpcCgpIHtcbiAgICBpZiAodG9vbHRpcCkge1xuICAgICAgdG9vbHRpcC5yZW1vdmUoKTtcbiAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2hvd1NwbGl0TGluZVRvb2x0aXA6IHNob3dTcGxpdExpbmVUb29sdGlwLFxuICAgIGhpZGVTcGxpdExpbmVUb29sdGlwOiBoaWRlU3BsaXRMaW5lVG9vbHRpcFxuICB9O1xufVxuXG5mdW5jdGlvbiBiaW5kVG9vbHRpcEV2ZW50KGVkaXRvcikge1xuICB2YXIgX2EgPSBjcmVhdGVTaG93SGlkZUZuKGVkaXRvciksXG4gICAgICBzaG93U3BsaXRMaW5lVG9vbHRpcCA9IF9hLnNob3dTcGxpdExpbmVUb29sdGlwLFxuICAgICAgaGlkZVNwbGl0TGluZVRvb2x0aXAgPSBfYS5oaWRlU3BsaXRMaW5lVG9vbHRpcDsgLy8g54K55Ye75YiG5Ymy57q/5pe277yM5pi+56S6IHRvb2x0aXBcblxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5zcGxpdExpbmVFdmVudHMucHVzaChzaG93U3BsaXRMaW5lVG9vbHRpcCk7IC8vIOeCueWHu+WFtuS7luWcsOaWue+8iOW3peWFt+agj+OAgea7muWKqOOAgWtleXVw77yJ5pe277yM6ZqQ6JePIHRvb2x0aXBcblxuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuY2xpY2tFdmVudHMucHVzaChoaWRlU3BsaXRMaW5lVG9vbHRpcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5rZXl1cEV2ZW50cy5wdXNoKGhpZGVTcGxpdExpbmVUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRvb2xiYXJDbGlja0V2ZW50cy5wdXNoKGhpZGVTcGxpdExpbmVUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLm1lbnVDbGlja0V2ZW50cy5wdXNoKGhpZGVTcGxpdExpbmVUb29sdGlwKTtcbiAgZWRpdG9yLnR4dC5ldmVudEhvb2tzLnRleHRTY3JvbGxFdmVudHMucHVzaChoaWRlU3BsaXRMaW5lVG9vbHRpcCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZFRvb2x0aXBFdmVudDtcblxuLyoqKi8gfSksXG4vKiA0MjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9mb3JFYWNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgQnRuTWVudV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXG52YXIgYmluZF9ldmVudF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MzEpKTtcblxudmFyIHRvZG9fMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQ1KSk7XG5cbnZhciBUb2RvID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICB0c2xpYl8xLl9fZXh0ZW5kcyhUb2RvLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFRvZG8oZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciAkZWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPGRpdiBjbGFzcz1cXFwidy1lLW1lbnVcXFwiIGRhdGEtdGl0bGU9XFxcIlxcdTVGODVcXHU1MjlFXFx1NEU4QlxcdTk4NzlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInctZS1pY29uLWNoZWNrYm94LWNoZWNrZWRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcikgfHwgdGhpcztcbiAgICBiaW5kX2V2ZW50XzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDngrnlh7vkuovku7ZcbiAgICovXG5cblxuICBUb2RvLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuXG4gICAgaWYgKCF1dGlsXzEuaXNBbGxUb2RvKGVkaXRvcikpIHtcbiAgICAgIC8vIOiuvue9rnRvZG9saXN0XG4gICAgICB0aGlzLnNldFRvZG8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5Y+W5raI6K6+572udG9kb2xpc3RcbiAgICAgIHRoaXMuY2FuY2VsVG9kbygpO1xuICAgICAgdGhpcy50cnlDaGFuZ2VBY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgVG9kby5wcm90b3R5cGUudHJ5Q2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh1dGlsXzEuaXNBbGxUb2RvKHRoaXMuZWRpdG9yKSkge1xuICAgICAgdGhpcy5hY3RpdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bkFjdGl2ZSgpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOiuvue9rnRvZG9cbiAgICovXG5cblxuICBUb2RvLnByb3RvdHlwZS5zZXRUb2RvID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICB2YXIgdG9wTm9kZUVsZW0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKTtcbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh0b3BOb2RlRWxlbSkuY2FsbCh0b3BOb2RlRWxlbSwgZnVuY3Rpb24gKCRub2RlKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBub2RlTmFtZSA9ICRub2RlID09PSBudWxsIHx8ICRub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkbm9kZS5nZXROb2RlTmFtZSgpO1xuXG4gICAgICBpZiAobm9kZU5hbWUgPT09ICdQJykge1xuICAgICAgICB2YXIgdG9kbyA9IHRvZG9fMVtcImRlZmF1bHRcIl0oJG5vZGUpO1xuICAgICAgICB2YXIgdG9kb05vZGUgPSB0b2RvLmdldFRvZG8oKTtcbiAgICAgICAgdmFyIGNoaWxkID0gKF9hID0gdG9kb05vZGUuY2hpbGRyZW4oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE5vZGUoKTtcbiAgICAgICAgdG9kb05vZGUuaW5zZXJ0QWZ0ZXIoJG5vZGUpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoY2hpbGQpO1xuICAgICAgICAkbm9kZS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnRyeUNoYW5nZUFjdGl2ZSgpO1xuICB9O1xuICAvKipcbiAgICog5Y+W5raI6K6+572udG9kb1xuICAgKi9cblxuXG4gIFRvZG8ucHJvdG90eXBlLmNhbmNlbFRvZG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIHZhciAkdG9wTm9kZUVsZW1zID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKCk7XG4gICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoJHRvcE5vZGVFbGVtcykuY2FsbCgkdG9wTm9kZUVsZW1zLCBmdW5jdGlvbiAoJHRvcE5vZGVFbGVtKSB7XG4gICAgICB2YXIgX2EsIF9iLCBfYztcblxuICAgICAgdmFyIGNvbnRlbnQgPSAoX2IgPSAoX2EgPSAkdG9wTm9kZUVsZW0uY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xvbmUodHJ1ZSk7XG4gICAgICB2YXIgJHAgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxwPjwvcD5cIik7XG4gICAgICAkcC5hcHBlbmQoY29udGVudCk7XG4gICAgICAkcC5pbnNlcnRBZnRlcigkdG9wTm9kZUVsZW0pOyAvLyDnp7vpmaRpbnB1dFxuXG4gICAgICAoX2MgPSAkcC5jaGlsZE5vZGVzKCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXQoMCkucmVtb3ZlKCk7XG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoJHAuZ2V0Tm9kZSgpKTtcbiAgICAgICR0b3BOb2RlRWxlbS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVG9kbztcbn0oQnRuTWVudV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVG9kbztcblxuLyoqKi8gfSksXG4vKiA0MjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyNyk7XG5cbi8qKiovIH0pLFxuLyogNDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyOCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBldmVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDI5KTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZXZlcnk7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGl0IGluc3RhbmNlb2YgQXJyYXkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5ldmVyeSkgPyBldmVyeSA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0MzApO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5ldmVyeTtcblxuXG4vKioqLyB9KSxcbi8qIDQzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyICRldmVyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLmV2ZXJ5O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcblxudmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdldmVyeScpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhU1RSSUNUX01FVEhPRCB9LCB7XG4gIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeShjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgIHJldHVybiAkZXZlcnkodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDQzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSk7XG5cbnZhciB0b2RvXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSkpO1xuXG52YXIgdXRpbF8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXG52YXIgY29uc3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG4vKipcbiAqIHRvZG9saXN0IOWGhemDqOmAu+i+kVxuICogQHBhcmFtIGVkaXRvclxuICovXG5cblxuZnVuY3Rpb24gYmluZEV2ZW50KGVkaXRvcikge1xuICAvKipcbiAgICogdG9kb+eahOiHquWumuS5ieWbnui9puS6i+S7tlxuICAgKiBAcGFyYW0gZSDkuovku7blsZ7mgKdcbiAgICovXG4gIGZ1bmN0aW9uIHRvZG9FbnRlcihlKSB7XG4gICAgdmFyIF9hLCBfYjsgLy8g5Yik5pat5piv5ZCm5Li6dG9kb+iKgueCuVxuXG5cbiAgICBpZiAodXRpbF8xLmlzQWxsVG9kbyhlZGl0b3IpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgICAgIHZhciAkdG9wU2VsZWN0RWxlbSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKClbMF07XG4gICAgICB2YXIgJGxpID0gKF9hID0gJHRvcFNlbGVjdEVsZW0uY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0KDApO1xuICAgICAgdmFyIHNlbGVjdGlvbk5vZGUgPSAoX2IgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hbmNob3JOb2RlO1xuICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlKCk7XG5cbiAgICAgIGlmICghKHJhbmdlID09PSBudWxsIHx8IHJhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYW5nZS5jb2xsYXBzZWQpKSB7XG4gICAgICAgIHZhciByYW5nZUNoaWxkTm9kZXMgPSByYW5nZSA9PT0gbnVsbCB8fCByYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2RlcztcbiAgICAgICAgdmFyIHN0YXJ0Q29udGFpbmVyXzEgPSByYW5nZSA9PT0gbnVsbCB8fCByYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZ2Uuc3RhcnRDb250YWluZXI7XG4gICAgICAgIHZhciBlbmRDb250YWluZXJfMSA9IHJhbmdlID09PSBudWxsIHx8IHJhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYW5nZS5lbmRDb250YWluZXI7XG4gICAgICAgIHZhciBzdGFydFBvcyA9IHJhbmdlID09PSBudWxsIHx8IHJhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYW5nZS5zdGFydE9mZnNldDtcbiAgICAgICAgdmFyIGVuZFBvcyA9IHJhbmdlID09PSBudWxsIHx8IHJhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYW5nZS5lbmRPZmZzZXQ7XG4gICAgICAgIHZhciBzdGFydEVsZW1JbmRleF8xID0gMDtcbiAgICAgICAgdmFyIGVuZEVsZW1JbmRleF8xID0gMDtcbiAgICAgICAgdmFyIGRlbExpc3RfMSA9IFtdOyAvLyDmib7lh7pzdGFydENvbnRhaW5lcuWSjGVuZENvbnRhaW5lcuWcqHJhbmdlQ2hpbGROb2Rlc+S4reeahOS9jee9rlxuXG4gICAgICAgIHJhbmdlQ2hpbGROb2RlcyA9PT0gbnVsbCB8fCByYW5nZUNoaWxkTm9kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6ICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKHJhbmdlQ2hpbGROb2RlcykuY2FsbChyYW5nZUNoaWxkTm9kZXMsIGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgaWYgKHYuY29udGFpbnMoc3RhcnRDb250YWluZXJfMSkpIHN0YXJ0RWxlbUluZGV4XzEgPSBpO1xuICAgICAgICAgIGlmICh2LmNvbnRhaW5zKGVuZENvbnRhaW5lcl8xKSkgZW5kRWxlbUluZGV4XzEgPSBpO1xuICAgICAgICB9KTsgLy8g5Yig6Zmk5Lik5Liq5a655Zmo6Ze055qE5YaF5a65XG5cbiAgICAgICAgaWYgKGVuZEVsZW1JbmRleF8xIC0gc3RhcnRFbGVtSW5kZXhfMSA+IDEpIHtcbiAgICAgICAgICByYW5nZUNoaWxkTm9kZXMgPT09IG51bGwgfHwgcmFuZ2VDaGlsZE5vZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShyYW5nZUNoaWxkTm9kZXMpLmNhbGwocmFuZ2VDaGlsZE5vZGVzLCBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPD0gc3RhcnRFbGVtSW5kZXhfMSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGkgPj0gZW5kRWxlbUluZGV4XzEpIHJldHVybjtcbiAgICAgICAgICAgIGRlbExpc3RfMS5wdXNoKHYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGRlbExpc3RfMSkuY2FsbChkZWxMaXN0XzEsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB2LnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIOWIoOmZpOS4pOS4quWuueWZqOmHjOaLluiTneeahOWGheWuuVxuXG5cbiAgICAgICAgdXRpbF8yLmRlYWxUZXh0Tm9kZShzdGFydENvbnRhaW5lcl8xLCBzdGFydFBvcyk7XG4gICAgICAgIHV0aWxfMi5kZWFsVGV4dE5vZGUoZW5kQ29udGFpbmVyXzEsIGVuZFBvcywgZmFsc2UpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3IoZW5kQ29udGFpbmVyXzEsIDApO1xuICAgICAgfSAvLyDlm57ovabml7blhoXlrrnkuLrnqbrml7bvvIzliKDljrvmraTooYxcblxuXG4gICAgICBpZiAoJHRvcFNlbGVjdEVsZW0udGV4dCgpID09PSAnJykge1xuICAgICAgICB2YXIgJHAgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShjb25zdF8xLkVNUFRZX1ApO1xuICAgICAgICAkcC5pbnNlcnRBZnRlcigkdG9wU2VsZWN0RWxlbSk7XG4gICAgICAgIHNlbGVjdGlvbi5tb3ZlQ3Vyc29yKCRwLmdldE5vZGUoKSk7XG4gICAgICAgICR0b3BTZWxlY3RFbGVtLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3MgPSBzZWxlY3Rpb24uZ2V0Q3Vyc29yUG9zKCk7XG4gICAgICB2YXIgQ3Vyc29yTmV4dE5vZGUgPSB1dGlsXzEuZ2V0Q3Vyc29yTmV4dE5vZGUoJGxpID09PSBudWxsIHx8ICRsaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGxpLmdldE5vZGUoKSwgc2VsZWN0aW9uTm9kZSwgcG9zKTtcbiAgICAgIHZhciB0b2RvID0gdG9kb18xW1wiZGVmYXVsdFwiXShkb21fY29yZV8xW1wiZGVmYXVsdFwiXShDdXJzb3JOZXh0Tm9kZSkpO1xuICAgICAgdmFyICRpbnB1dGNvbnRhaW5lciA9IHRvZG8uZ2V0SW5wdXRDb250YWluZXIoKTtcbiAgICAgIHZhciB0b2RvTGlFbGVtID0gJGlucHV0Y29udGFpbmVyLnBhcmVudCgpLmdldE5vZGUoKTtcbiAgICAgIHZhciAkbmV3VG9kbyA9IHRvZG8uZ2V0VG9kbygpO1xuICAgICAgdmFyIGNvbnRlbnRTZWN0aW9uID0gJGlucHV0Y29udGFpbmVyLmdldE5vZGUoKS5uZXh0U2libGluZzsgLy8g5aSE55CG5YWJ5qCH5Zyo5pyA5YmN6Z2i5pe25Zue6L2maW5wdXTkuI3mmL7npLrnmoTpl67pophcblxuICAgICAgaWYgKCgkbGkgPT09IG51bGwgfHwgJGxpID09PSB2b2lkIDAgPyB2b2lkIDAgOiAkbGkudGV4dCgpKSA9PT0gJycpIHtcbiAgICAgICAgJGxpID09PSBudWxsIHx8ICRsaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogJGxpLmFwcGVuZChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxicj5cIikpO1xuICAgICAgfVxuXG4gICAgICAkbmV3VG9kby5pbnNlcnRBZnRlcigkdG9wU2VsZWN0RWxlbSk7IC8vIOWkhOeQhuWcqGdvb2dsZeS4reWFieagh+WcqOacgOWQjumdoueahO+8jGlucHV05LiN5pi+56S655qE6Zeu6aKYKOW/hemhu+aPkuWFpeS5i+WQjuenu+WKqOWFieaghylcblxuICAgICAgaWYgKCFjb250ZW50U2VjdGlvbiB8fCAoY29udGVudFNlY3Rpb24gPT09IG51bGwgfHwgY29udGVudFNlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRTZWN0aW9uLnRleHRDb250ZW50KSA9PT0gJycpIHtcbiAgICAgICAgLy8g6Ziy5q2i5aSa5LiqYnLlh7rnjrDnmoTmg4XlhrVcbiAgICAgICAgaWYgKChjb250ZW50U2VjdGlvbiA9PT0gbnVsbCB8fCBjb250ZW50U2VjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGVudFNlY3Rpb24ubm9kZU5hbWUpICE9PSAnQlInKSB7XG4gICAgICAgICAgdmFyICRiciA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKFwiPGJyPlwiKTtcbiAgICAgICAgICAkYnIuaW5zZXJ0QWZ0ZXIoJGlucHV0Y29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGlvbi5tb3ZlQ3Vyc29yKHRvZG9MaUVsZW0sIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0aW9uLm1vdmVDdXJzb3IodG9kb0xpRWxlbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiDoh6rlrprkuYnliKDpmaTkuovku7bvvIznlKjmnaXlpITnkIblhYnmoIflnKjmnIDliY3pnaLliKDpmaRpbnB1dOS6p+eUn+eahOmXrumimFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRlbERvd24oZSkge1xuICAgIHZhciBfYSwgX2I7XG5cbiAgICBpZiAodXRpbF8xLmlzQWxsVG9kbyhlZGl0b3IpKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgICAgIHZhciAkdG9wU2VsZWN0RWxlbSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZVRvcE5vZGVzKClbMF07XG4gICAgICB2YXIgJGxpID0gKF9hID0gJHRvcFNlbGVjdEVsZW0uY2hpbGROb2RlcygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Tm9kZSgpO1xuICAgICAgdmFyICRwID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8cD48L3A+XCIpO1xuICAgICAgdmFyIHBfMSA9ICRwLmdldE5vZGUoKTtcbiAgICAgIHZhciBzZWxlY3Rpb25Ob2RlID0gKF9iID0gd2luZG93LmdldFNlbGVjdGlvbigpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYW5jaG9yTm9kZTtcbiAgICAgIHZhciBwb3MgPSBzZWxlY3Rpb24uZ2V0Q3Vyc29yUG9zKCk7XG4gICAgICB2YXIgcHJldk5vZGUgPSBzZWxlY3Rpb25Ob2RlLnByZXZpb3VzU2libGluZzsgLy8g5aSE55CG5YaF5a655Li656m655qE5oOF5Ya1XG5cbiAgICAgIGlmICgkdG9wU2VsZWN0RWxlbS50ZXh0KCkgPT09ICcnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyICRuZXdQID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY29uc3RfMS5FTVBUWV9QKTtcbiAgICAgICAgJG5ld1AuaW5zZXJ0QWZ0ZXIoJHRvcFNlbGVjdEVsZW0pO1xuICAgICAgICAkdG9wU2VsZWN0RWxlbS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZWN0aW9uLm1vdmVDdXJzb3IoJG5ld1AuZ2V0Tm9kZSgpLCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyDlpITnkIbmnInlhoXlrrnml7bvvIzlhYnmoIflnKjmnIDliY3pnaLnmoTmg4XlhrVcblxuXG4gICAgICBpZiAoKHByZXZOb2RlID09PSBudWxsIHx8IHByZXZOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmV2Tm9kZS5ub2RlTmFtZSkgPT09ICdTUEFOJyAmJiBwcmV2Tm9kZS5jaGlsZE5vZGVzWzBdLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIHBvcyA9PT0gMCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkbGkgPT09IG51bGwgfHwgJGxpID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9ICRsaS5jaGlsZE5vZGVzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAodiwgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHJldHVybjtcbiAgICAgICAgICBwXzEuYXBwZW5kQ2hpbGQodi5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHAuaW5zZXJ0QWZ0ZXIoJHRvcFNlbGVjdEVsZW0pO1xuICAgICAgICAkdG9wU2VsZWN0RWxlbS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIOiHquWumuS5ieWIoOmZpOmUrnVw5LqL5Lu2XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGVsZXRlVXAoKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgdmFyICR0b3BTZWxlY3RFbGVtID0gc2VsZWN0aW9uLmdldFNlbGVjdGlvblJhbmdlVG9wTm9kZXMoKVswXTtcblxuICAgIGlmICgkdG9wU2VsZWN0RWxlbSAmJiB1dGlsXzIuaXNUb2RvKCR0b3BTZWxlY3RFbGVtKSkge1xuICAgICAgaWYgKCR0b3BTZWxlY3RFbGVtLnRleHQoKSA9PT0gJycpIHtcbiAgICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oY29uc3RfMS5FTVBUWV9QKS5pbnNlcnRBZnRlcigkdG9wU2VsZWN0RWxlbSk7XG4gICAgICAgICR0b3BTZWxlY3RFbGVtLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogaW5wdXQg55qE54K55Ye75LqL5Lu277yIIGlucHV0IOm7mOiupOS4jeS8muS6p+eUnyBhdHRyaWJ1dGUg55qE5pS55Y+YIO+8iVxuICAgKiBAcGFyYW0gZSDkuovku7blsZ7mgKdcbiAgICovXG5cblxuICBmdW5jdGlvbiBpbnB1dENsaWNrKGUpIHtcbiAgICBpZiAoZSAmJiBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlmIChlLnRhcmdldC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5lbnRlckRvd25FdmVudHMucHVzaCh0b2RvRW50ZXIpO1xuICBlZGl0b3IudHh0LmV2ZW50SG9va3MuZGVsZXRlVXBFdmVudHMucHVzaChkZWxldGVVcCk7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5kZWxldGVEb3duRXZlbnRzLnB1c2goZGVsRG93bik7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jbGlja0V2ZW50cy5wdXNoKGlucHV0Q2xpY2spO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRFdmVudDtcblxuLyoqKi8gfSksXG4vKiA0MzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOWIneWni+WMlue8lui+keWZqCBET00g57uT5p6EXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZWxlY3RvclZhbGlkYXRvciA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIGNvbnN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgdGV4dF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpKTtcblxudmFyIHN0eWxlU2V0dGluZ3MgPSB7XG4gIGJvcmRlcjogJzFweCBzb2xpZCAjYzlkOGRiJyxcbiAgdG9vbGJhckJnQ29sb3I6ICcjRkZGJyxcbiAgdG9vbGJhckJvdHRvbUJvcmRlcjogJzFweCBzb2xpZCAjRUVFJ1xufTtcblxuZnVuY3Rpb24gZGVmYXVsdF8xKGVkaXRvcikge1xuICB2YXIgdG9vbGJhclNlbGVjdG9yID0gZWRpdG9yLnRvb2xiYXJTZWxlY3RvcjtcbiAgdmFyICR0b29sYmFyU2VsZWN0b3IgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0b29sYmFyU2VsZWN0b3IpO1xuICB2YXIgdGV4dFNlbGVjdG9yID0gZWRpdG9yLnRleHRTZWxlY3RvcjtcbiAgdmFyIGNvbmZpZyA9IGVkaXRvci5jb25maWc7XG4gIHZhciBoZWlnaHQgPSBjb25maWcuaGVpZ2h0O1xuICB2YXIgaTE4bmV4dCA9IGVkaXRvci5pMThuZXh0O1xuICB2YXIgJHRvb2xiYXJFbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oJzxkaXY+PC9kaXY+Jyk7XG4gIHZhciAkdGV4dENvbnRhaW5lckVsZW0gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSgnPGRpdj48L2Rpdj4nKTtcbiAgdmFyICR0ZXh0RWxlbTtcbiAgdmFyICRjaGlsZHJlbjtcbiAgdmFyICRzdWJDaGlsZHJlbiA9IG51bGw7XG5cbiAgaWYgKHRleHRTZWxlY3RvciA9PSBudWxsKSB7XG4gICAgLy8g5bCG57yW6L6R5Zmo5Yy65Z+f5Y6f5pyJ55qE5YaF5a6577yM5pqC5a2Y6LW35p2lXG4gICAgJGNoaWxkcmVuID0gJHRvb2xiYXJTZWxlY3Rvci5jaGlsZHJlbigpOyAvLyDmt7vliqDliLAgRE9NIOe7k+aehOS4rVxuXG4gICAgJHRvb2xiYXJTZWxlY3Rvci5hcHBlbmQoJHRvb2xiYXJFbGVtKS5hcHBlbmQoJHRleHRDb250YWluZXJFbGVtKTsgLy8g6Ieq6KGM5Yib5bu655qE77yM6ZyA6KaB6YWN572u6buY6K6k55qE5qC35byPXG5cbiAgICAkdG9vbGJhckVsZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgc3R5bGVTZXR0aW5ncy50b29sYmFyQmdDb2xvcikuY3NzKCdib3JkZXInLCBzdHlsZVNldHRpbmdzLmJvcmRlcikuY3NzKCdib3JkZXItYm90dG9tJywgc3R5bGVTZXR0aW5ncy50b29sYmFyQm90dG9tQm9yZGVyKTtcbiAgICAkdGV4dENvbnRhaW5lckVsZW0uY3NzKCdib3JkZXInLCBzdHlsZVNldHRpbmdzLmJvcmRlcikuY3NzKCdib3JkZXItdG9wJywgJ25vbmUnKS5jc3MoJ2hlaWdodCcsIGhlaWdodCArIFwicHhcIik7XG4gIH0gZWxzZSB7XG4gICAgLy8gdG9vbGJhclNlbGVjdG9yIOWSjCB0ZXh0U2VsZWN0b3Ig6YO95pyJXG4gICAgJHRvb2xiYXJTZWxlY3Rvci5hcHBlbmQoJHRvb2xiYXJFbGVtKTsgLy8g6I+c5Y2V5YiG56a75ZCO77yM5paH5pys5Yy65Z+f5YaF5a655pqC5a2YXG5cbiAgICAkc3ViQ2hpbGRyZW4gPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0ZXh0U2VsZWN0b3IpLmNoaWxkcmVuKCk7XG4gICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odGV4dFNlbGVjdG9yKS5hcHBlbmQoJHRleHRDb250YWluZXJFbGVtKTsgLy8g5bCG57yW6L6R5Zmo5Yy65Z+f5Y6f5pyJ55qE5YaF5a6577yM5pqC5a2Y6LW35p2lXG5cbiAgICAkY2hpbGRyZW4gPSAkdGV4dENvbnRhaW5lckVsZW0uY2hpbGRyZW4oKTtcbiAgfSAvLyDnvJbovpHljLrln59cblxuXG4gICR0ZXh0RWxlbSA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2PjwvZGl2PicpO1xuICAkdGV4dEVsZW0uYXR0cignY29udGVudGVkaXRhYmxlJywgJ3RydWUnKS5jc3MoJ3dpZHRoJywgJzEwMCUnKS5jc3MoJ2hlaWdodCcsICcxMDAlJyk7IC8vIOa3u+WKoCBwbGFjZWhvbGRlclxuXG4gIHZhciAkcGxhY2Vob2xkZXI7XG4gIHZhciBwbGFjZWhvbGRlciA9IGVkaXRvci5jb25maWcucGxhY2Vob2xkZXI7XG5cbiAgaWYgKHBsYWNlaG9sZGVyICE9PSB0ZXh0XzFbXCJkZWZhdWx0XCJdLnBsYWNlaG9sZGVyKSB7XG4gICAgJHBsYWNlaG9sZGVyID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2PlwiICsgcGxhY2Vob2xkZXIgKyBcIjwvZGl2PlwiKTtcbiAgfSBlbHNlIHtcbiAgICAkcGxhY2Vob2xkZXIgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShcIjxkaXY+XCIgKyBpMThuZXh0LnQocGxhY2Vob2xkZXIpICsgXCI8L2Rpdj5cIik7XG4gIH1cblxuICAkcGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ3BsYWNlaG9sZGVyJyk7IC8vIOWIneWni+WMlue8lui+keWMuuWfn+WGheWuuVxuXG4gIGlmICgkY2hpbGRyZW4gJiYgJGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICR0ZXh0RWxlbS5hcHBlbmQoJGNoaWxkcmVuKTsgLy8g57yW6L6R5Zmo5pyJ6buY6K6k5YC855qE5pe25YCZ6ZqQ6JePcGxhY2Vob2xkZXJcblxuICAgICRwbGFjZWhvbGRlci5oaWRlKCk7XG4gIH0gZWxzZSB7XG4gICAgJHRleHRFbGVtLmFwcGVuZChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShjb25zdF8xLkVNUFRZX1ApKTsgLy8g5paw5aKe5LiA6KGM77yM5pa55L6/57un57ut57yW6L6RXG4gIH0gLy8g6I+c5Y2V5YiG56a75ZCO77yM5paH5pys5Yy65Z+f5pyJ5qCH562+55qE5bim5YWl57yW6L6R5Zmo5YaFXG5cblxuICBpZiAoJHN1YkNoaWxkcmVuICYmICRzdWJDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAkdGV4dEVsZW0uYXBwZW5kKCRzdWJDaGlsZHJlbik7IC8vIOe8lui+keWZqOaciem7mOiupOWAvOeahOaXtuWAmemakOiXj3BsYWNlaG9sZGVyXG5cbiAgICAkcGxhY2Vob2xkZXIuaGlkZSgpO1xuICB9IC8vIOe8lui+keWMuuWfn+WKoOWFpURPTVxuXG5cbiAgJHRleHRDb250YWluZXJFbGVtLmFwcGVuZCgkdGV4dEVsZW0pOyAvLyDmt7vliqBwbGFjZWhvbGRlclxuXG4gICR0ZXh0Q29udGFpbmVyRWxlbS5hcHBlbmQoJHBsYWNlaG9sZGVyKTsgLy8g6K6+572u6YCa55So55qEIGNsYXNzXG5cbiAgJHRvb2xiYXJFbGVtLmFkZENsYXNzKCd3LWUtdG9vbGJhcicpLmNzcygnei1pbmRleCcsIGVkaXRvci56SW5kZXguZ2V0KCd0b29sYmFyJykpO1xuICAkdGV4dENvbnRhaW5lckVsZW0uYWRkQ2xhc3MoJ3ctZS10ZXh0LWNvbnRhaW5lcicpO1xuICAkdGV4dENvbnRhaW5lckVsZW0uY3NzKCd6LWluZGV4JywgZWRpdG9yLnpJbmRleC5nZXQoKSk7XG4gICR0ZXh0RWxlbS5hZGRDbGFzcygndy1lLXRleHQnKTsgLy8g5re75YqgIElEXG5cbiAgdmFyIHRvb2xiYXJFbGVtSWQgPSB1dGlsXzEuZ2V0UmFuZG9tKCd0b29sYmFyLWVsZW0nKTtcbiAgJHRvb2xiYXJFbGVtLmF0dHIoJ2lkJywgdG9vbGJhckVsZW1JZCk7XG4gIHZhciB0ZXh0RWxlbUlkID0gdXRpbF8xLmdldFJhbmRvbSgndGV4dC1lbGVtJyk7XG4gICR0ZXh0RWxlbS5hdHRyKCdpZCcsIHRleHRFbGVtSWQpOyAvLyDliKTmlq3nvJbovpHljLrkuI7lrrnlmajpq5jluqbmmK/lkKbkuIDoh7RcblxuICB2YXIgdGV4dENvbnRhaW5lckNsaWhlaWdodCA9ICR0ZXh0Q29udGFpbmVyRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gIHZhciB0ZXh0RWxlbUNsaWVudEhlaWdodCA9ICR0ZXh0RWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgaWYgKHRleHRDb250YWluZXJDbGloZWlnaHQgIT09IHRleHRFbGVtQ2xpZW50SGVpZ2h0KSB7XG4gICAgJHRleHRFbGVtLmNzcygnbWluLWhlaWdodCcsIHRleHRDb250YWluZXJDbGloZWlnaHQgKyAncHgnKTtcbiAgfSAvLyDorrDlvZXlsZ7mgKdcblxuXG4gIGVkaXRvci4kdG9vbGJhckVsZW0gPSAkdG9vbGJhckVsZW07XG4gIGVkaXRvci4kdGV4dENvbnRhaW5lckVsZW0gPSAkdGV4dENvbnRhaW5lckVsZW07XG4gIGVkaXRvci4kdGV4dEVsZW0gPSAkdGV4dEVsZW07XG4gIGVkaXRvci50b29sYmFyRWxlbUlkID0gdG9vbGJhckVsZW1JZDtcbiAgZWRpdG9yLnRleHRFbGVtSWQgPSB0ZXh0RWxlbUlkO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlZmF1bHRfMTtcbi8qKlxuICog5bel5YW35qCPL+aWh+acrOWMuuWfnyBET00gc2VsZWN0b3Ig5pyJ5pWI5oCn6aqM6K+BXG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cbmZ1bmN0aW9uIHNlbGVjdG9yVmFsaWRhdG9yKGVkaXRvcikge1xuICB2YXIgbmFtZSA9ICdkYXRhLXdlLWlkJztcbiAgdmFyIHJlZ2V4cCA9IC9ed2FuZ0VkaXRvci1cXGQrJC87XG4gIHZhciB0ZXh0U2VsZWN0b3IgPSBlZGl0b3IudGV4dFNlbGVjdG9yLFxuICAgICAgdG9vbGJhclNlbGVjdG9yID0gZWRpdG9yLnRvb2xiYXJTZWxlY3RvcjtcbiAgdmFyICRlbCA9IHtcbiAgICBiYXI6IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2PjwvZGl2PicpLFxuICAgIHRleHQ6IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKCc8ZGl2PjwvZGl2PicpXG4gIH07XG5cbiAgaWYgKHRvb2xiYXJTZWxlY3RvciA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCfplJnor6/vvJrliJ3lp4vljJbnvJbovpHlmajml7blgJnmnKrkvKDlhaXku7vkvZXlj4LmlbDvvIzor7fmn6XpmIXmlofmoaMnKTtcbiAgfSBlbHNlIHtcbiAgICAkZWwuYmFyID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0odG9vbGJhclNlbGVjdG9yKTtcblxuICAgIGlmICghJGVsLmJhci5lbGVtcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcdTY1RTBcXHU2NTQ4XFx1NzY4NFxcdTgyODJcXHU3MEI5XFx1OTAwOVxcdTYyRTlcXHU1NjY4XFx1RkYxQVwiICsgdG9vbGJhclNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpZiAocmVnZXhwLnRlc3QoJGVsLmJhci5hdHRyKG5hbWUpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfliJ3lp4vljJboioLngrnlt7LlrZjlnKjnvJbovpHlmajlrp7kvovvvIzml6Dms5Xph43lpI3liJvlu7rnvJbovpHlmagnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGV4dFNlbGVjdG9yKSB7XG4gICAgJGVsLnRleHQgPSBkb21fY29yZV8xW1wiZGVmYXVsdFwiXSh0ZXh0U2VsZWN0b3IpO1xuXG4gICAgaWYgKCEkZWwudGV4dC5lbGVtcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcdTY1RTBcXHU2NTQ4XFx1NzY4NFxcdTgyODJcXHU3MEI5XFx1OTAwOVxcdTYyRTlcXHU1NjY4XFx1RkYxQVwiICsgdGV4dFNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpZiAocmVnZXhwLnRlc3QoJGVsLnRleHQuYXR0cihuYW1lKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5Yid5aeL5YyW6IqC54K55bey5a2Y5Zyo57yW6L6R5Zmo5a6e5L6L77yM5peg5rOV6YeN5aSN5Yib5bu657yW6L6R5ZmoJyk7XG4gICAgfVxuICB9IC8vIOe7meiKgueCueWBmuS4iuagh+iusFxuXG5cbiAgJGVsLmJhci5hdHRyKG5hbWUsIGVkaXRvci5pZCk7XG4gICRlbC50ZXh0LmF0dHIobmFtZSwgZWRpdG9yLmlkKTsgLy8g5Zyo57yW6L6R5Zmo6ZSA5q+B5YmN5Y+W5raI5qCH6K6wXG5cbiAgZWRpdG9yLmJlZm9yZURlc3Ryb3koZnVuY3Rpb24gKCkge1xuICAgICRlbC5iYXIucmVtb3ZlQXR0cihuYW1lKTtcbiAgICAkZWwudGV4dC5yZW1vdmVBdHRyKG5hbWUpO1xuICB9KTtcbn1cblxuZXhwb3J0cy5zZWxlY3RvclZhbGlkYXRvciA9IHNlbGVjdG9yVmFsaWRhdG9yO1xuXG4vKioqLyB9KSxcbi8qIDQzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Yid5aeL5YyW57yW6L6R5Zmo6YCJ5Yy677yM5bCG5YWJ5qCH5a6a5L2N5Yiw5paH5qGj5pyr5bC+XG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qKlxuICog5Yid5aeL5YyW57yW6L6R5Zmo6YCJ5Yy677yM5bCG5YWJ5qCH5a6a5L2N5Yiw5paH5qGj5pyr5bC+XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICogQHBhcmFtIG5ld0xpbmUg5piv5ZCm5paw5aKe5LiA6KGMXG4gKi9cblxuXG5mdW5jdGlvbiBpbml0U2VsZWN0aW9uKGVkaXRvciwgbmV3TGluZSkge1xuICB2YXIgJHRleHRFbGVtID0gZWRpdG9yLiR0ZXh0RWxlbTtcbiAgdmFyICRjaGlsZHJlbiA9ICR0ZXh0RWxlbS5jaGlsZHJlbigpO1xuXG4gIGlmICghJGNoaWxkcmVuIHx8ICEkY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgLy8g5aaC5p6c57yW6L6R5Zmo5Yy65Z+f5peg5YaF5a6577yM5re75Yqg5LiA5Liq56m66KGM77yM6YeN5paw6K6+572u6YCJ5Yy6XG4gICAgJHRleHRFbGVtLmFwcGVuZChkb21fY29yZV8xW1wiZGVmYXVsdFwiXShjb25zdF8xLkVNUFRZX1ApKTtcbiAgICBpbml0U2VsZWN0aW9uKGVkaXRvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyICRsYXN0ID0gJGNoaWxkcmVuLmxhc3QoKTtcblxuICBpZiAobmV3TGluZSkge1xuICAgIC8vIOaWsOWinuS4gOS4quepuuihjFxuICAgIHZhciBodG1sID0gJGxhc3QuaHRtbCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIG5vZGVOYW1lID0gJGxhc3QuZ2V0Tm9kZU5hbWUoKTtcblxuICAgIGlmIChodG1sICE9PSAnPGJyPicgJiYgaHRtbCAhPT0gJzxici8+JyB8fCBub2RlTmFtZSAhPT0gJ1AnKSB7XG4gICAgICAvLyDmnIDlkI7kuIDkuKrlhYPntKDkuI3mmK8g56m65qCH562+77yM5re75Yqg5LiA5Liq56m66KGM77yM6YeN5paw6K6+572u6YCJ5Yy6XG4gICAgICAkdGV4dEVsZW0uYXBwZW5kKGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGNvbnN0XzEuRU1QVFlfUCkpO1xuICAgICAgaW5pdFNlbGVjdGlvbihlZGl0b3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGVkaXRvci5zZWxlY3Rpb24uY3JlYXRlUmFuZ2VCeUVsZW0oJGxhc3QsIGZhbHNlLCB0cnVlKTtcblxuICBpZiAoZWRpdG9yLmNvbmZpZy5mb2N1cykge1xuICAgIGVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIC8vIOmYsuatomZvY3VzPWZhbHNl5Y+X5YW25LuW5Zug57Sg5b2x5ZONXG4gICAgZWRpdG9yLnNlbGVjdGlvbi5jbGVhcldpbmRvd1NlbGVjdGlvblJhbmdlKCk7XG4gIH1cbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpbml0U2VsZWN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDQzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57uR5a6a57yW6L6R5Zmo5LqL5Lu2IGNoYW5nZSBibHVyIGZvY3VzXG4gKiBAYXV0aG9yIHdhbmdmdXBlbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBkb21fY29yZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cbmZ1bmN0aW9uIGJpbmRFdmVudChlZGl0b3IpIHtcbiAgLy8g57uR5a6aIGNoYW5nZSDkuovku7ZcbiAgX2JpbmRDaGFuZ2UoZWRpdG9yKTsgLy8g57uR5a6aIGZvY3VzIGJsdXIg5LqL5Lu2XG5cblxuICBfYmluZEZvY3VzQW5kQmx1cihlZGl0b3IpOyAvLyDnu5HlrpogaW5wdXQg6L6T5YWlXG5cblxuICBfYmluZElucHV0KGVkaXRvcik7XG59XG4vKipcbiAqIOe7keWumiBjaGFuZ2Ug5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gX2JpbmRDaGFuZ2UoZWRpdG9yKSB7XG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jaGFuZ2VFdmVudHMucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9uY2hhbmdlID0gZWRpdG9yLmNvbmZpZy5vbmNoYW5nZTtcblxuICAgIGlmIChvbmNoYW5nZSkge1xuICAgICAgdmFyIGh0bWwgPSBlZGl0b3IudHh0Lmh0bWwoKSB8fCAnJzsgLy8gb25jaGFuZ2Xop6blj5Hml7bvvIzmmK9mb2N1c+eKtuaAge+8jOivpuingWh0dHBzOi8vZ2l0aHViLmNvbS93YW5nZWRpdG9yLXRlYW0vd2FuZ0VkaXRvci9pc3N1ZXMvMzAzNFxuXG4gICAgICBlZGl0b3IuaXNGb2N1cyA9IHRydWU7XG4gICAgICBvbmNoYW5nZShodG1sKTtcbiAgICB9XG5cbiAgICBlZGl0b3IudHh0LnRvZ2dsZVBsYWNlaG9sZGVyKCk7XG4gIH0pO1xufVxuLyoqXG4gKiDnu5HlrpogZm9jdXMgYmx1ciDkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBfYmluZEZvY3VzQW5kQmx1cihlZGl0b3IpIHtcbiAgLy8g5b2T5YmN57yW6L6R5Zmo5piv5ZCm5piv54Sm54K554q25oCBXG4gIGVkaXRvci5pc0ZvY3VzID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbGlzdGVuZXIoZSkge1xuICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICB2YXIgJHRhcmdldCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKHRhcmdldCk7XG4gICAgdmFyICR0ZXh0RWxlbSA9IGVkaXRvci4kdGV4dEVsZW07XG4gICAgdmFyICR0b29sYmFyRWxlbSA9IGVkaXRvci4kdG9vbGJhckVsZW07IC8v5Yik5pat5b2T5YmN54K55Ye75YWD57Sg5piv5ZCm5Zyo57yW6L6R5Zmo5YaFXG5cbiAgICB2YXIgaXNDaGlsZCA9ICR0ZXh0RWxlbS5pc0NvbnRhaW4oJHRhcmdldCk7IC8v5Yik5pat5b2T5YmN54K55Ye75YWD57Sg5piv5ZCm5Li65bel5YW35qCPXG5cbiAgICB2YXIgaXNUb29sYmFyID0gJHRvb2xiYXJFbGVtLmlzQ29udGFpbigkdGFyZ2V0KTtcbiAgICB2YXIgaXNNZW51ID0gJHRvb2xiYXJFbGVtLmVsZW1zWzBdID09IGUudGFyZ2V0ID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgaWYgKCFpc0NoaWxkKSB7XG4gICAgICAvLyDoi6XkuLrpgInmi6nlt6XlhbfmoI/kuK3nmoTlip/og73vvIzliJnkuI3op4bkuLrmiJAgYmx1ciDmk43kvZxcbiAgICAgIGlmIChpc1Rvb2xiYXIgJiYgIWlzTWVudSB8fCAhZWRpdG9yLmlzRm9jdXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfYmx1ckhhbmRsZXIoZWRpdG9yKTtcblxuICAgICAgZWRpdG9yLmlzRm9jdXMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlZGl0b3IuaXNGb2N1cykge1xuICAgICAgICBfZm9jdXNIYW5kbGVyKGVkaXRvcik7XG4gICAgICB9XG5cbiAgICAgIGVkaXRvci5pc0ZvY3VzID0gdHJ1ZTtcbiAgICB9XG4gIH0gLy8gZml4OiDlop7liqDliKTmlq3mnaHku7bvvIzpmLLmraLlvZPnlKjmiLforr7nva5pc0ZvY3VzPWZhbHNl5pe277yM5Yid5aeL5YyW5a6M5oiQ5ZCO54K55Ye75YW25LuW5YWD57Sg5L6d5pen5Lya6Kem5Y+RYmx1cuS6i+S7tueahOmXrumimFxuXG5cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVkaXRvci4kdGV4dEVsZW0uZWxlbXNbMF0gJiYgZWRpdG9yLmNvbmZpZy5mb2N1cykge1xuICAgIF9mb2N1c0hhbmRsZXIoZWRpdG9yKTtcblxuICAgIGVkaXRvci5pc0ZvY3VzID0gdHJ1ZTtcbiAgfSAvLyDnu5Hlrprnm5HlkKzkuovku7ZcblxuXG4gIGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5vbignY2xpY2snLCBsaXN0ZW5lcik7IC8vIOWFqOWxgOS6i+S7tuWcqOe8lui+keWZqOWunuS+i+mUgOavgeeahOaXtuWAmei/m+ihjOino+e7kVxuXG4gIGVkaXRvci5iZWZvcmVEZXN0cm95KGZ1bmN0aW9uICgpIHtcbiAgICBkb21fY29yZV8xW1wiZGVmYXVsdFwiXShkb2N1bWVudCkub2ZmKCdjbGljaycsIGxpc3RlbmVyKTtcbiAgfSk7XG59XG4vKipcbiAqIOe7keWumiBpbnB1dCDkuovku7ZcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuXG5mdW5jdGlvbiBfYmluZElucHV0KGVkaXRvcikge1xuICAvLyDnu5HlrprkuK3mlofovpPlhaVcbiAgZWRpdG9yLiR0ZXh0RWxlbS5vbignY29tcG9zaXRpb25zdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICBlZGl0b3IuaXNDb21wb3NpbmcgPSB0cnVlO1xuICAgIGVkaXRvci50eHQudG9nZ2xlUGxhY2Vob2xkZXIoKTtcbiAgfSkub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xuICAgIGVkaXRvci5pc0NvbXBvc2luZyA9IGZhbHNlO1xuICAgIGVkaXRvci50eHQudG9nZ2xlUGxhY2Vob2xkZXIoKTtcbiAgfSk7XG59XG4vKipcbiAqIGJsdXIg5LqL5Lu2XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cblxuZnVuY3Rpb24gX2JsdXJIYW5kbGVyKGVkaXRvcikge1xuICB2YXIgX2NvbnRleHQ7XG5cbiAgdmFyIGNvbmZpZyA9IGVkaXRvci5jb25maWc7XG4gIHZhciBvbmJsdXIgPSBjb25maWcub25ibHVyO1xuICB2YXIgY3VycmVudEh0bWwgPSBlZGl0b3IudHh0Lmh0bWwoKSB8fCAnJztcbiAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSBlZGl0b3IudHh0LmV2ZW50SG9va3Mub25CbHVyRXZlbnRzKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gZm4oKTtcbiAgfSk7XG4gIG9uYmx1cihjdXJyZW50SHRtbCk7XG59XG4vKipcbiAqIGZvY3VzIOS6i+S7tlxuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlrp7kvotcbiAqL1xuXG5cbmZ1bmN0aW9uIF9mb2N1c0hhbmRsZXIoZWRpdG9yKSB7XG4gIHZhciBjb25maWcgPSBlZGl0b3IuY29uZmlnO1xuICB2YXIgb25mb2N1cyA9IGNvbmZpZy5vbmZvY3VzO1xuICB2YXIgY3VycmVudEh0bWwgPSBlZGl0b3IudHh0Lmh0bWwoKSB8fCAnJztcbiAgb25mb2N1cyhjdXJyZW50SHRtbCk7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEV2ZW50O1xuXG4vKioqLyB9KSxcbi8qIDQzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Zu96ZmF5YyWIOWIneWni+WMllxuICogQGF1dGhvciB0b25naGFuXG4gKiBpMThuZXh0IOaYr+S9v+eUqCBKYXZhU2NyaXB0IOe8luWGmeeahOWbvemZheWMluahhuaetlxuICogaTE4bmV4dCDmj5DkvpvkuobmoIflh4bnmoRpMThu5Yqf6IO977yM5L6L5aaC77yI5aSN5pWw77yM5LiK5LiL5paH77yM5o+S5YC877yM5qC85byP77yJ562JXG4gKiBpMThuZXh0IOaWh+aho+WcsOWdgO+8miBodHRwczovL3d3dy5pMThuZXh0LmNvbS9vdmVydmlldy9nZXR0aW5nLXN0YXJ0ZWRcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBpMThuZXh0SW5pdChlZGl0b3IpIHtcbiAgdmFyIF9hID0gZWRpdG9yLmNvbmZpZyxcbiAgICAgIGxhbmcgPSBfYS5sYW5nLFxuICAgICAgbGFuZ3VhZ2VzID0gX2EubGFuZ3VhZ2VzO1xuXG4gIGlmIChlZGl0b3IuaTE4bmV4dCAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGVkaXRvci5pMThuZXh0LmluaXQoe1xuICAgICAgICBuczogJ3dhbmdFZGl0b3InLFxuICAgICAgICBsbmc6IGxhbmcsXG4gICAgICAgIGRlZmF1bHROUzogJ3dhbmdFZGl0b3InLFxuICAgICAgICByZXNvdXJjZXM6IGxhbmd1YWdlc1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaTE4bmV4dDonICsgZXJyb3IpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSAvLyDmsqHmnInlvJXlhaUgaTE4bmV4dCDnmoTmm7/ku6Plk4FcblxuXG4gIGVkaXRvci5pMThuZXh0ID0ge1xuICAgIHQ6IGZ1bmN0aW9uIHQoc3RyKSB7XG4gICAgICB2YXIgc3RyQXJyID0gc3RyLnNwbGl0KCcuJyk7XG4gICAgICByZXR1cm4gc3RyQXJyW3N0ckFyci5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaTE4bmV4dEluaXQ7XG5cbi8qKiovIH0pLFxuLyogNDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlhajlsY/lip/og71cbiAqIEBhdXRob3IgeGlhb2t5b1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZXRVbkZ1bGxTY3JlZW4gPSBleHBvcnRzLnNldEZ1bGxTY3JlZW4gPSB2b2lkIDA7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0MzcpO1xuXG52YXIgaWNvbkZ1bGxTY3JlZW5UZXh0ID0gJ3ctZS1pY29uLWZ1bGxzY3JlZW4nOyAvLyDlhajlsY9pY29uIGNsYXNzXG5cbnZhciBpY29uRXhpdEZ1bGxTY3JlZW5UZXh0ID0gJ3ctZS1pY29uLWZ1bGxzY3JlZW5fZXhpdCc7IC8vIOmAgOWHuuWFqOWxj2ljb24gY2xhc3NcblxudmFyIGNsYXNzZnVsbFNjcmVlbkVkaXRvciA9ICd3LWUtZnVsbC1zY3JlZW4tZWRpdG9yJzsgLy8g5YWo5bGP5re75Yqg6Iez57yW6L6R5Zmo55qEY2xhc3NcblxuLyoqXG4gKiDorr7nva7lhajlsY9cbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxudmFyIHNldEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiBzZXRGdWxsU2NyZWVuKGVkaXRvcikge1xuICB2YXIgJGVkaXRvclBhcmVudCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGVkaXRvci50b29sYmFyU2VsZWN0b3IpO1xuICB2YXIgJHRleHRDb250YWluZXJFbGVtID0gZWRpdG9yLiR0ZXh0Q29udGFpbmVyRWxlbTtcbiAgdmFyICR0b29sYmFyRWxlbSA9IGVkaXRvci4kdG9vbGJhckVsZW07XG4gIHZhciAkaWNvbkVsZW0gPSAoMCwgX2ZpbmRbXCJkZWZhdWx0XCJdKSgkdG9vbGJhckVsZW0pLmNhbGwoJHRvb2xiYXJFbGVtLCBcImkuXCIgKyBpY29uRnVsbFNjcmVlblRleHQpO1xuICB2YXIgY29uZmlnID0gZWRpdG9yLmNvbmZpZztcbiAgJGljb25FbGVtLnJlbW92ZUNsYXNzKGljb25GdWxsU2NyZWVuVGV4dCk7XG4gICRpY29uRWxlbS5hZGRDbGFzcyhpY29uRXhpdEZ1bGxTY3JlZW5UZXh0KTtcbiAgJGVkaXRvclBhcmVudC5hZGRDbGFzcyhjbGFzc2Z1bGxTY3JlZW5FZGl0b3IpO1xuICAkZWRpdG9yUGFyZW50LmNzcygnei1pbmRleCcsIGNvbmZpZy56SW5kZXhGdWxsU2NyZWVuKTtcbiAgdmFyIGJhciA9ICR0b29sYmFyRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgJHRleHRDb250YWluZXJFbGVtLmNzcygnaGVpZ2h0JywgXCJjYWxjKDEwMCUgLSBcIiArIGJhci5oZWlnaHQgKyBcInB4KVwiKTtcbn07XG5cbmV4cG9ydHMuc2V0RnVsbFNjcmVlbiA9IHNldEZ1bGxTY3JlZW47XG4vKipcbiAqIOWPlua2iOWFqOWxj1xuICogQHBhcmFtIGVkaXRvciDnvJbovpHlmajlrp7kvotcbiAqL1xuXG52YXIgc2V0VW5GdWxsU2NyZWVuID0gZnVuY3Rpb24gc2V0VW5GdWxsU2NyZWVuKGVkaXRvcikge1xuICB2YXIgJGVkaXRvclBhcmVudCA9IGRvbV9jb3JlXzFbXCJkZWZhdWx0XCJdKGVkaXRvci50b29sYmFyU2VsZWN0b3IpO1xuICB2YXIgJHRleHRDb250YWluZXJFbGVtID0gZWRpdG9yLiR0ZXh0Q29udGFpbmVyRWxlbTtcbiAgdmFyICR0b29sYmFyRWxlbSA9IGVkaXRvci4kdG9vbGJhckVsZW07XG4gIHZhciAkaWNvbkVsZW0gPSAoMCwgX2ZpbmRbXCJkZWZhdWx0XCJdKSgkdG9vbGJhckVsZW0pLmNhbGwoJHRvb2xiYXJFbGVtLCBcImkuXCIgKyBpY29uRXhpdEZ1bGxTY3JlZW5UZXh0KTtcbiAgdmFyIGNvbmZpZyA9IGVkaXRvci5jb25maWc7XG4gICRpY29uRWxlbS5yZW1vdmVDbGFzcyhpY29uRXhpdEZ1bGxTY3JlZW5UZXh0KTtcbiAgJGljb25FbGVtLmFkZENsYXNzKGljb25GdWxsU2NyZWVuVGV4dCk7XG4gICRlZGl0b3JQYXJlbnQucmVtb3ZlQ2xhc3MoY2xhc3NmdWxsU2NyZWVuRWRpdG9yKTtcbiAgJGVkaXRvclBhcmVudC5jc3MoJ3otaW5kZXgnLCAnYXV0bycpO1xuICAkdGV4dENvbnRhaW5lckVsZW0uY3NzKCdoZWlnaHQnLCBjb25maWcuaGVpZ2h0ICsgJ3B4Jyk7XG59O1xuXG5leHBvcnRzLnNldFVuRnVsbFNjcmVlbiA9IHNldFVuRnVsbFNjcmVlbjtcbi8qKlxuICog5Yid5aeL5YyW5YWo5bGP5Yqf6IO9XG4gKiBAcGFyYW0gZWRpdG9yIOe8lui+keWZqOWunuS+i1xuICovXG5cbnZhciBpbml0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uIGluaXRGdWxsU2NyZWVuKGVkaXRvcikge1xuICAvLyDlvZN0ZXh0U2VsZWN0b3LmnInlgLznmoTml7blgJnvvIzkuZ/lsLHmmK/nvJbovpHlmajmmK/lt6XlhbfmoI/lkoznvJbovpHljLrln5/liIbnprvnmoTmg4XlhrXvvIwg5YiZ5LiN55Sf5oiQ5YWo5bGP5Yqf6IO95oyJ6ZKuXG4gIGlmIChlZGl0b3IudGV4dFNlbGVjdG9yKSByZXR1cm47XG4gIGlmICghZWRpdG9yLmNvbmZpZy5zaG93RnVsbFNjcmVlbikgcmV0dXJuO1xuICB2YXIgJHRvb2xiYXJFbGVtID0gZWRpdG9yLiR0b29sYmFyRWxlbTtcbiAgdmFyICRlbGVtID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudVxcXCIgZGF0YS10aXRsZT1cXFwiXFx1NTE2OFxcdTVDNEZcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJcIiArIGljb25GdWxsU2NyZWVuVGV4dCArIFwiXFxcIj48L2k+XFxuICAgICAgICA8L2Rpdj5cIik7XG4gICRlbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuXG4gICAgdmFyICRlbGVtSWNvbiA9ICgwLCBfZmluZFtcImRlZmF1bHRcIl0pKF9jb250ZXh0ID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZS5jdXJyZW50VGFyZ2V0KSkuY2FsbChfY29udGV4dCwgJ2knKTtcblxuICAgIGlmICgkZWxlbUljb24uaGFzQ2xhc3MoaWNvbkZ1bGxTY3JlZW5UZXh0KSkge1xuICAgICAgJGVsZW0uYXR0cignZGF0YS10aXRsZScsICflj5bmtojlhajlsY8nKTtcbiAgICAgIGV4cG9ydHMuc2V0RnVsbFNjcmVlbihlZGl0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZWxlbS5hdHRyKCdkYXRhLXRpdGxlJywgJ+WFqOWxjycpO1xuICAgICAgZXhwb3J0cy5zZXRVbkZ1bGxTY3JlZW4oZWRpdG9yKTtcbiAgICB9XG4gIH0pO1xuICAkdG9vbGJhckVsZW0uYXBwZW5kKCRlbGVtKTtcbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5pdEZ1bGxTY3JlZW47XG5cbi8qKiovIH0pLFxuLyogNDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzgpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9O1xuXG4vKioqLyB9KSxcbi8qIDQzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgXCIudy1lLWZ1bGwtc2NyZWVuLWVkaXRvciB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJSFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDEwMCUhaW1wb3J0YW50O1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDQzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5rua5Yqo5Yiw5oyH5a6a6ZSa54K5XG4gKiBAYXV0aG9yIHpoZW5nd2VuamlhblxuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzMikpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiDnvJbovpHlmajmu5rliqjliLDmjIflrprplJrngrlcbiAqIEBwYXJhbSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKiBAcGFyYW0gaWQg5qCH6aKY6ZSa54K5aWRcbiAqL1xuXG52YXIgc2Nyb2xsVG9IZWFkID0gZnVuY3Rpb24gc2Nyb2xsVG9IZWFkKGVkaXRvciwgaWQpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIHZhciAkdGV4dEVsZW0gPSBlZGl0b3IuaXNFbmFibGUgPyBlZGl0b3IuJHRleHRFbGVtIDogKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSBlZGl0b3IuJHRleHRDb250YWluZXJFbGVtKS5jYWxsKF9jb250ZXh0LCAnLnctZS1jb250ZW50LW1hbnRsZScpO1xuICB2YXIgJHRhcmdldEhlYWQgPSAoMCwgX2ZpbmRbXCJkZWZhdWx0XCJdKSgkdGV4dEVsZW0pLmNhbGwoJHRleHRFbGVtLCBcIltpZD0nXCIgKyBpZCArIFwiJ11cIik7XG4gIHZhciB0YXJnZXRUb3AgPSAkdGFyZ2V0SGVhZC5nZXRPZmZzZXREYXRhKCkudG9wO1xuICAkdGV4dEVsZW0uc2Nyb2xsVG9wKHRhcmdldFRvcCk7XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHNjcm9sbFRvSGVhZDtcblxuLyoqKi8gfSksXG4vKiA0NDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgc3R5bGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTMzKSk7XG5cbnZhciB0aWVyID0ge1xuICBtZW51OiAyLFxuICBwYW5lbDogMixcbiAgdG9vbGJhcjogMSxcbiAgdG9vbHRpcDogMSxcbiAgdGV4dENvbnRhaW5lcjogMSAvLyDnvJbovpHljLrln59cblxufTtcblxudmFyIFpJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWkluZGV4KCkge1xuICAgIC8vIOWxgue6p+WPguaVsFxuICAgIHRoaXMudGllciA9IHRpZXI7IC8vIOm7mOiupOWAvFxuXG4gICAgdGhpcy5iYXNlWkluZGV4ID0gc3R5bGVfMVtcImRlZmF1bHRcIl0uekluZGV4O1xuICB9IC8vIOiOt+WPliB0aWVyTmFtZSDlr7nlupTnmoQgei1pbmRleCDnmoTlgLzjgILlpoLmnpwgdGllck5hbWUg5pyq5a6a5LmJ5YiZ6L+U5Zue6buY6K6k55qEIHotaW5kZXgg5YC8XG5cblxuICBaSW5kZXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0aWVyTmFtZSkge1xuICAgIGlmICh0aWVyTmFtZSAmJiB0aGlzLnRpZXJbdGllck5hbWVdKSB7XG4gICAgICByZXR1cm4gdGhpcy5iYXNlWkluZGV4ICsgdGhpcy50aWVyW3RpZXJOYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5iYXNlWkluZGV4O1xuICB9OyAvLyDliJ3lp4vljJZcblxuXG4gIFpJbmRleC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChlZGl0b3IpIHtcbiAgICBpZiAodGhpcy5iYXNlWkluZGV4ID09IHN0eWxlXzFbXCJkZWZhdWx0XCJdLnpJbmRleCkge1xuICAgICAgdGhpcy5iYXNlWkluZGV4ID0gZWRpdG9yLmNvbmZpZy56SW5kZXg7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBaSW5kZXg7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gWkluZGV4O1xuXG4vKioqLyB9KSxcbi8qIDQ0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g57yW6L6R5ZmoIGNoYW5nZSDkuovku7ZcbiAqIEBhdXRob3IgZmFuZ3poaWNvbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZpbHRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg3NikpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBtdXRhdGlvbl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NDIpKTtcblxudmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBjb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qKlxuICog5YmU6Zmk57yW6L6R5Yy65a655Zmo55qEIGF0dHJpYnV0ZSDlj5jljJbkuK3nmoTpnZ4gY29udGVudGVkaXRhYmxlIOWPmOWMllxuICogQHBhcmFtIG11dGF0aW9ucyBNdXRhdGlvblJlY29yZFtdXG4gKiBAcGFyYW0gdGFyIOe8lui+keWMuuWuueWZqOeahCBET00g6IqC54K5XG4gKi9cblxuXG5mdW5jdGlvbiBtdXRhdGlvbnNGaWx0ZXIobXV0YXRpb25zLCB0YXIpIHtcbiAgLy8g5YmU6Zmk57yW6L6R5Yy65a655Zmo55qEIGF0dHJpYnV0ZSDlj5jljJbkuK3nmoTpnZ4gY29udGVudGVkaXRhYmxlIOWPmOWMllxuICByZXR1cm4gKDAsIF9maWx0ZXJbXCJkZWZhdWx0XCJdKShtdXRhdGlvbnMpLmNhbGwobXV0YXRpb25zLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgIHRhcmdldCA9IF9hLnRhcmdldCxcbiAgICAgICAgYXR0cmlidXRlTmFtZSA9IF9hLmF0dHJpYnV0ZU5hbWU7XG4gICAgcmV0dXJuIHR5cGUgIT0gJ2F0dHJpYnV0ZXMnIHx8IHR5cGUgPT0gJ2F0dHJpYnV0ZXMnICYmIChhdHRyaWJ1dGVOYW1lID09ICdjb250ZW50ZWRpdGFibGUnIHx8IHRhcmdldCAhPSB0YXIpO1xuICB9KTtcbn1cbi8qKlxuICogQ2hhbmdlIOWunueOsFxuICovXG5cblxudmFyIENoYW5nZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgdHNsaWJfMS5fX2V4dGVuZHMoQ2hhbmdlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIENoYW5nZShlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmdW5jdGlvbiAobXV0YXRpb25zLCBvYnNlcnZlcikge1xuICAgICAgdmFyIF9hOyAvLyDmlbDmja7ov4fmu6RcblxuXG4gICAgICBtdXRhdGlvbnMgPSBtdXRhdGlvbnNGaWx0ZXIobXV0YXRpb25zLCBvYnNlcnZlci50YXJnZXQpOyAvLyDlrZjlgqjmlbDmja5cblxuICAgICAgKF9hID0gX3RoaXMuZGF0YSkucHVzaC5hcHBseShfYSwgbXV0YXRpb25zKTsgLy8g5qCH5YeG5qih5byP5LiLXG5cblxuICAgICAgaWYgKCFlZGl0b3IuaXNDb21wYXRpYmxlTW9kZSkge1xuICAgICAgICAvLyDlnKjpnZ7kuK3mlofovpPlhaXnirbmgIHkuIvml7bmiY3kv53lrZjmlbDmja5cbiAgICAgICAgaWYgKCFlZGl0b3IuaXNDb21wb3NpbmcpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYXN5bmNTYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8g5YW85a655qih5byP5LiLXG4gICAgICBlbHNlIHtcbiAgICAgICAgX3RoaXMuYXN5bmNTYXZlKCk7XG4gICAgICB9XG4gICAgfSkgfHwgdGhpcztcblxuICAgIF90aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAvKipcbiAgICAgKiDlj5jljJbnmoTmlbDmja7pm4blkIhcbiAgICAgKi9cblxuICAgIF90aGlzLmRhdGEgPSBbXTtcbiAgICAvKipcbiAgICAgKiDlvILmraXkv53lrZjmlbDmja5cbiAgICAgKi9cblxuICAgIF90aGlzLmFzeW5jU2F2ZSA9IGNvbnN0XzEuRU1QVFlfRk47XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiDkv53lrZjlj5jljJbnmoTmlbDmja7lubblj5HluIMgY2hhbmdlIGV2ZW50XG4gICAqL1xuXG5cbiAgQ2hhbmdlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIOacieaVsOaNrlxuICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAvLyDkv53lrZjlj5jljJbmlbDmja5cbiAgICAgIHRoaXMuZWRpdG9yLmhpc3Rvcnkuc2F2ZSh0aGlzLmRhdGEpOyAvLyDmuIXpmaTnvJPlrZhcblxuICAgICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmVtaXQoKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiDlj5HluIMgY2hhbmdlIGV2ZW50XG4gICAqL1xuXG5cbiAgQ2hhbmdlLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfY29udGV4dDtcblxuICAgIC8vIOaJp+ihjCBvbmNoYW5nZSDlm57osINcbiAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShfY29udGV4dCA9IHRoaXMuZWRpdG9yLnR4dC5ldmVudEhvb2tzLmNoYW5nZUV2ZW50cykuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9KTtcbiAgfTsgLy8g6YeN5YaZIG9ic2VydmVcblxuXG4gIENoYW5nZS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3N1cGVyLnByb3RvdHlwZS5vYnNlcnZlLmNhbGwodGhpcywgdGhpcy5lZGl0b3IuJHRleHRFbGVtLmVsZW1zWzBdKTtcblxuICAgIHZhciB0aW1lb3V0ID0gdGhpcy5lZGl0b3IuY29uZmlnLm9uY2hhbmdlVGltZW91dDtcbiAgICB0aGlzLmFzeW5jU2F2ZSA9IHV0aWxfMS5kZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zYXZlKCk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICBpZiAoIXRoaXMuZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUpIHtcbiAgICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmFzeW5jU2F2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDaGFuZ2U7XG59KG11dGF0aW9uXzFbXCJkZWZhdWx0XCJdKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGFuZ2U7XG5cbi8qKiovIH0pLFxuLyogNDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlsIHoo4UgTXV0YXRpb25PYnNlcnZlclxuICogQGF1dGhvciBmYW5nemhpY29uZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vKipcbiAqIOWwgeijhSBNdXRhdGlvbk9ic2VydmVy77yM5oq956a75oiQ5YWs5YWx57G7XG4gKi9cblxudmFyIE11dGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICog5p6E6YCg5ZmoXG4gICAqIEBwYXJhbSBmbiDlj5HnlJ/lj5jljJbml7bmiafooYznmoTlm57osIPlh73mlbBcbiAgICogQHBhcmFtIG9wdGlvbnMg6Ieq5a6a5LmJ6YWN572u6aG5XG4gICAqL1xuICBmdW5jdGlvbiBNdXRhdGlvbihmbiwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLyoqXG4gICAgICog6buY6K6k55qEIE11dGF0aW9uT2JzZXJ2ZXJJbml0IOmFjee9rlxuICAgICAqL1xuXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZVxuICAgIH07XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgZm4obXV0YXRpb25zLCBfdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmNhbGxiYWNrKTtcbiAgICBvcHRpb25zICYmICh0aGlzLm9wdGlvbnMgPSBvcHRpb25zKTtcbiAgfVxuXG4gICgwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShNdXRhdGlvbi5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIC8qKlxuICAgKiDnu5Hlrprnm5HlkKzoioLngrnvvIjliJ3mrKHnu5HlrprmnInmlYjvvIlcbiAgICogQHBhcmFtIG5vZGUg6ZyA6KaB6KKr55uR5ZCs55qE6IqC54K5XG4gICAqL1xuXG4gIE11dGF0aW9uLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoISh0aGlzLm5vZGUgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOi/nuaOpeebkeWQrOWZqO+8iOW8gOWni+inguWvn++8iVxuICAgKi9cblxuXG4gIE11dGF0aW9uLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm5vZGUpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLm5vZGUsIHRoaXMub3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ+i/mOacquWIneWni+WMlue7keWumu+8jOivt+aCqOWFiOe7keWumuacieaViOeahCBOb2RlIOiKgueCuScpO1xuICB9O1xuICAvKipcbiAgICog5pat5byA55uR5ZCs5Zmo77yI5YGc5q2i6KeC5a+f77yJXG4gICAqL1xuXG5cbiAgTXV0YXRpb24ucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxpc3QgPSB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgbGlzdC5sZW5ndGggJiYgdGhpcy5jYWxsYmFjayhsaXN0KTtcbiAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfTtcblxuICByZXR1cm4gTXV0YXRpb247XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTXV0YXRpb247XG5cbi8qKiovIH0pLFxuLyogNDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDljoblj7LorrDlvZVcbiAqIEBhdXRob3IgZmFuZ3poaWNvbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBjb250ZW50XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0NCkpO1xuXG52YXIgc2Nyb2xsXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1MSkpO1xuXG52YXIgcmFuZ2VfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDUyKSk7XG4vKipcbiAqIOWOhuWPsuiusOW9le+8iOaSpOmUgOOAgeaBouWkje+8iVxuICovXG5cblxudmFyIEhpc3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhpc3RvcnkoZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5jb250ZW50ID0gbmV3IGNvbnRlbnRfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbiAgICB0aGlzLnNjcm9sbCA9IG5ldyBzY3JvbGxfMVtcImRlZmF1bHRcIl0oZWRpdG9yKTtcbiAgICB0aGlzLnJhbmdlID0gbmV3IHJhbmdlXzFbXCJkZWZhdWx0XCJdKGVkaXRvcik7XG4gIH1cblxuICAoMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoSGlzdG9yeS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgLyoqXG4gICAgICogIOiOt+WPlue8k+WtmOS4reeahOaVsOaNrumVv+W6puOAguagvOW8j+S4uu+8mlvmraPluLjnmoTmlbDmja7nmoTmnaHmlbDvvIzooqvmkqTplIDnmoTmlbDmja7nmoTmnaHmlbBdXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGwuc2l6ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXG4gICAqIOWIneWni+WMlue7keWumuOAguWcqCBlZGl0b3IuY3JlYXRlKCkg57uT5bC+5pe26LCD55SoXG4gICAqL1xuXG4gIEhpc3RvcnkucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jb250ZW50Lm9ic2VydmUoKTtcbiAgICB0aGlzLnNjcm9sbC5vYnNlcnZlKCk7IC8vIOagh+WHhuaooeW8j+S4i+aJjei/m+ihjOWIneWni+WMlue7keWumlxuXG4gICAgIXRoaXMuZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUgJiYgdGhpcy5yYW5nZS5vYnNlcnZlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDkv53lrZjmlbDmja5cbiAgICovXG5cblxuICBIaXN0b3J5LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNvbnRlbnQuc2F2ZShtdXRhdGlvbnMpO1xuICAgICAgdGhpcy5zY3JvbGwuc2F2ZSgpOyAvLyDmoIflh4bmqKHlvI/kuIvmiY3ov5vooYznvJPlrZhcblxuICAgICAgIXRoaXMuZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUgJiYgdGhpcy5yYW5nZS5zYXZlKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICog5pKk6ZSAXG4gICAqL1xuXG5cbiAgSGlzdG9yeS5wcm90b3R5cGUucmV2b2tlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZWRpdG9yLmNoYW5nZS5kaXNjb25uZWN0KCk7XG4gICAgdmFyIHJlcyA9IHRoaXMuY29udGVudC5yZXZva2UoKTtcblxuICAgIGlmIChyZXMpIHtcbiAgICAgIHRoaXMuc2Nyb2xsLnJldm9rZSgpOyAvLyDmoIflh4bmqKHlvI/kuIvmiY3miafooYxcblxuICAgICAgaWYgKCF0aGlzLmVkaXRvci5pc0NvbXBhdGlibGVNb2RlKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmV2b2tlKCk7XG4gICAgICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZWRpdG9yLmNoYW5nZS5jb25uZWN0KCk7IC8vIOWmguaenOeUqOaIt+WcqCBvbmNoYW5nZSDkuK3kv67mlLnkuoblhoXlrrnvvIhET03vvInvvIzpgqPkuYjnvJPlrZjkuK3nmoToioLngrnmlbDmja7lj6/og73kuI3ov57otK/kuobvvIzkuI3ov57otK/nmoTmlbDmja7lv4XlsIblr7zoh7TmgaLlpI3lpLHotKXvvIzmiYDku6Xlv4XpobvlsIbnlKjmiLfnmoQgb25jaGFuZ2Ug5aSE5LqO55uR5o6n54q25oCB5LitXG5cbiAgICByZXMgJiYgdGhpcy5lZGl0b3IuY2hhbmdlLmVtaXQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIOaBouWkjVxuICAgKi9cblxuXG4gIEhpc3RvcnkucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lZGl0b3IuY2hhbmdlLmRpc2Nvbm5lY3QoKTtcbiAgICB2YXIgcmVzID0gdGhpcy5jb250ZW50LnJlc3RvcmUoKTtcblxuICAgIGlmIChyZXMpIHtcbiAgICAgIHRoaXMuc2Nyb2xsLnJlc3RvcmUoKTsgLy8g5qCH5YeG5qih5byP5LiL5omN5omn6KGMXG5cbiAgICAgIGlmICghdGhpcy5lZGl0b3IuaXNDb21wYXRpYmxlTW9kZSkge1xuICAgICAgICB0aGlzLnJhbmdlLnJlc3RvcmUoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuJHRleHRFbGVtLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lZGl0b3IuY2hhbmdlLmNvbm5lY3QoKTsgLy8g5LiOIHJldm9rZSDlkIznkIZcblxuICAgIHJlcyAmJiB0aGlzLmVkaXRvci5jaGFuZ2UuZW1pdCgpO1xuICB9O1xuXG4gIHJldHVybiBIaXN0b3J5O1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEhpc3Rvcnk7XG5cbi8qKiovIH0pLFxuLyogNDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmlbTlkIjlt67lvILlpIfku73lkozlhoXlrrnlpIfku73vvIzov5vooYznu5/kuIDnrqHnkIZcbiAqIEBhdXRob3IgZmFuZ3poaWNvbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBub2RlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0NSkpO1xuXG52YXIgaHRtbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NDkpKTtcblxudmFyIENvbnRlbnRDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29udGVudENhY2hlKGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICB9XG4gIC8qKlxuICAgKiDliJ3lp4vljJbnu5HlrppcbiAgICovXG5cblxuICBDb250ZW50Q2FjaGUucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZWRpdG9yLmlzQ29tcGF0aWJsZU1vZGUpIHtcbiAgICAgIC8vIOWFvOWuueaooeW8j++8iOWGheWuueWkh+S7ve+8iVxuICAgICAgdGhpcy5jYWNoZSA9IG5ldyBodG1sXzFbXCJkZWZhdWx0XCJdKHRoaXMuZWRpdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5qCH5YeG5qih5byP77yI5beu5byC5aSH5Lu9L+iKgueCueWkh+S7ve+8iVxuICAgICAgdGhpcy5jYWNoZSA9IG5ldyBub2RlXzFbXCJkZWZhdWx0XCJdKHRoaXMuZWRpdG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhY2hlLm9ic2VydmUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIOS/neWtmFxuICAgKi9cblxuXG4gIENvbnRlbnRDYWNoZS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICBpZiAodGhpcy5lZGl0b3IuaXNDb21wYXRpYmxlTW9kZSkge1xuICAgICAgO1xuICAgICAgdGhpcy5jYWNoZS5zYXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIDtcbiAgICAgIHRoaXMuY2FjaGUuY29tcGlsZShtdXRhdGlvbnMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIOaSpOmUgFxuICAgKi9cblxuXG4gIENvbnRlbnRDYWNoZS5wcm90b3R5cGUucmV2b2tlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcblxuICAgIHJldHVybiAoX2EgPSB0aGlzLmNhY2hlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmV2b2tlKCk7XG4gIH07XG4gIC8qKlxuICAgKiDmgaLlpI1cbiAgICovXG5cblxuICBDb250ZW50Q2FjaGUucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgcmV0dXJuIChfYSA9IHRoaXMuY2FjaGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXN0b3JlKCk7XG4gIH07XG5cbiAgcmV0dXJuIENvbnRlbnRDYWNoZTtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb250ZW50Q2FjaGU7XG5cbi8qKiovIH0pLFxuLyogNDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDlt67lvILlpIfku71cbiAqIEBhdXRob3IgZmFuZ3poaWNvbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBjYWNoZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpKTtcblxudmFyIGNvbXBpbGVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDQ3KSk7XG5cbnZhciBkZWNvbXBpbGF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0OCk7XG5cbnZhciBOb2RlQ2FjaGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKE5vZGVDYWNoZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBOb2RlQ2FjaGUoZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWRpdG9yLmNvbmZpZy5oaXN0b3J5TWF4U2l6ZSkgfHwgdGhpcztcblxuICAgIF90aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBOb2RlQ2FjaGUucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZXNldE1heFNpemUodGhpcy5lZGl0b3IuY29uZmlnLmhpc3RvcnlNYXhTaXplKTtcbiAgfTtcbiAgLyoqXG4gICAqIOe8luivkeW5tuS/neWtmOaVsOaNrlxuICAgKi9cblxuXG4gIE5vZGVDYWNoZS5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdGhpcy5zYXZlKGNvbXBpbGVfMVtcImRlZmF1bHRcIl0oZGF0YSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICog5pKk6ZSAXG4gICAqL1xuXG5cbiAgTm9kZUNhY2hlLnByb3RvdHlwZS5yZXZva2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmV2b2tlLmNhbGwodGhpcywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlY29tcGlsYXRpb25fMS5yZXZva2UoZGF0YSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiDmgaLlpI1cbiAgICovXG5cblxuICBOb2RlQ2FjaGUucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVzdG9yZS5jYWxsKHRoaXMsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBkZWNvbXBpbGF0aW9uXzEucmVzdG9yZShkYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gTm9kZUNhY2hlO1xufShjYWNoZV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTm9kZUNhY2hlO1xuXG4vKioqLyB9KSxcbi8qIDQ0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5pWw5o2u57uT5p6EIC0g5qCIXG4gKiBAYXV0aG9yIGZhbmd6aGljb25nXG4gKi9cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ2VpbFN0YWNrID0gdm9pZCAwO1xuLyoqXG4gKiDmoIjvvIjpmZDliLbmnIDlpKfmlbDmja7mnaHmlbDvvIzmoIjmu6HlkI7lj6/ku6Xnu6fnu63lhaXmoIjvvIzogIzlhYjlhaXmoIjnmoTmlbDmja7lsIblpLHmlYjvvIlcbiAqL1xuLy8g5Y+W5ZCN54G15oSf5p2l6IeqIE1hdGguY2VpbO+8jOWQkeS4iuWPluacieaViOWAvFxuXG52YXIgQ2VpbFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDZWlsU3RhY2sobWF4KSB7XG4gICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7XG4gICAgICBtYXggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmlbDmja7nvJPlrZhcbiAgICAgKi9cblxuXG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgLyoqXG4gICAgICog5qCI55qE5pyA5aSn6ZW/5bqm44CC5Li66Zu25YiZ6ZW/5bqm5LiN6ZmQXG4gICAgICovXG5cbiAgICB0aGlzLm1heCA9IDA7XG4gICAgLyoqXG4gICAgICog5qCH6K+G5piv5ZCm6YeN6K6+6L+HIG1heCDlgLxcbiAgICAgKi9cblxuICAgIHRoaXMucmVzZXQgPSBmYWxzZTtcbiAgICBtYXggPSBNYXRoLmFicyhtYXgpO1xuICAgIG1heCAmJiAodGhpcy5tYXggPSBtYXgpO1xuICB9XG4gIC8qKlxuICAgKiDlhYHorrjnlKjmiLfph43orr7kuIDmrKEgbWF4IOWAvFxuICAgKi9cblxuXG4gIENlaWxTdGFjay5wcm90b3R5cGUucmVzZXRNYXggPSBmdW5jdGlvbiAobWF4U2l6ZSkge1xuICAgIG1heFNpemUgPSBNYXRoLmFicyhtYXhTaXplKTtcblxuICAgIGlmICghdGhpcy5yZXNldCAmJiAhaXNOYU4obWF4U2l6ZSkpIHtcbiAgICAgIHRoaXMubWF4ID0gbWF4U2l6ZTtcbiAgICAgIHRoaXMucmVzZXQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAoMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoQ2VpbFN0YWNrLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAvKipcbiAgICAgKiDlvZPliY3moIjkuK3nmoTmlbDmja7mnaHmlbBcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICAvKipcbiAgICog5YWl5qCIXG4gICAqIEBwYXJhbSBkYXRhIOWFpeagiOeahOaVsOaNrlxuICAgKi9cblxuICBDZWlsU3RhY2sucHJvdG90eXBlLmluc3RhY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHRoaXMuZGF0YS51bnNoaWZ0KGRhdGEpO1xuXG4gICAgaWYgKHRoaXMubWF4ICYmIHRoaXMuc2l6ZSA+IHRoaXMubWF4KSB7XG4gICAgICB0aGlzLmRhdGEubGVuZ3RoID0gdGhpcy5tYXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiDlh7rmoIhcbiAgICovXG5cblxuICBDZWlsU3RhY2sucHJvdG90eXBlLm91dHN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuc2hpZnQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIOa4heepuuagiFxuICAgKi9cblxuXG4gIENlaWxTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIENlaWxTdGFjaztcbn0oKTtcblxuZXhwb3J0cy5DZWlsU3RhY2sgPSBDZWlsU3RhY2s7XG5cbi8qKiovIH0pLFxuLyogNDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmlbDmja7mlbTnkIZcbiAqIEBhdXRob3IgZmFuZ3poaWNvbmdcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjgpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29tcGxpZVBvc2l0aW9uID0gZXhwb3J0cy5jb21wbGllTm9kZXMgPSBleHBvcnRzLmNvbXBpbGVWYWx1ZSA9IGV4cG9ydHMuY29tcGlsZVR5cGUgPSB2b2lkIDA7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyoqXG4gKiDmlbDmja7nsbvlnotcbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbXBpbGVUeXBlKGRhdGEpIHtcbiAgc3dpdGNoIChkYXRhKSB7XG4gICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgIHJldHVybiAnbm9kZSc7XG5cbiAgICBjYXNlICdhdHRyaWJ1dGVzJzpcbiAgICAgIHJldHVybiAnYXR0cic7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICd0ZXh0JztcbiAgfVxufVxuXG5leHBvcnRzLmNvbXBpbGVUeXBlID0gY29tcGlsZVR5cGU7XG4vKipcbiAqIOiOt+WPluW9k+WJjeeahOaWh+acrOWGheWuuVxuICovXG5cbmZ1bmN0aW9uIGNvbXBpbGVWYWx1ZShkYXRhKSB7XG4gIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgY2FzZSAnYXR0cmlidXRlcyc6XG4gICAgICByZXR1cm4gZGF0YS50YXJnZXQuZ2V0QXR0cmlidXRlKGRhdGEuYXR0cmlidXRlTmFtZSkgfHwgJyc7XG5cbiAgICBjYXNlICdjaGFyYWN0ZXJEYXRhJzpcbiAgICAgIHJldHVybiBkYXRhLnRhcmdldC50ZXh0Q29udGVudDtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0cy5jb21waWxlVmFsdWUgPSBjb21waWxlVmFsdWU7XG4vKipcbiAqIGFkZGVkTm9kZXMvcmVtb3ZlZE5vZGVzXG4gKi9cblxuZnVuY3Rpb24gY29tcGxpZU5vZGVzKGRhdGEpIHtcbiAgdmFyIHRlbXAgPSB7fTtcblxuICBpZiAoZGF0YS5hZGRlZE5vZGVzLmxlbmd0aCkge1xuICAgIHRlbXAuYWRkID0gdXRpbF8xLnRvQXJyYXkoZGF0YS5hZGRlZE5vZGVzKTtcbiAgfVxuXG4gIGlmIChkYXRhLnJlbW92ZWROb2Rlcy5sZW5ndGgpIHtcbiAgICB0ZW1wLnJlbW92ZSA9IHV0aWxfMS50b0FycmF5KGRhdGEucmVtb3ZlZE5vZGVzKTtcbiAgfVxuXG4gIHJldHVybiB0ZW1wO1xufVxuXG5leHBvcnRzLmNvbXBsaWVOb2RlcyA9IGNvbXBsaWVOb2Rlcztcbi8qKlxuICogYWRkZWROb2Rlcy9yZW1vdmVkTm9kZXMg55qE55u45a+55L2N572uXG4gKi9cblxuZnVuY3Rpb24gY29tcGxpZVBvc2l0aW9uKGRhdGEpIHtcbiAgdmFyIHRlbXA7XG5cbiAgaWYgKGRhdGEucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgdGVtcCA9IHtcbiAgICAgIHR5cGU6ICdiZWZvcmUnLFxuICAgICAgdGFyZ2V0OiBkYXRhLnByZXZpb3VzU2libGluZ1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZGF0YS5uZXh0U2libGluZykge1xuICAgIHRlbXAgPSB7XG4gICAgICB0eXBlOiAnYWZ0ZXInLFxuICAgICAgdGFyZ2V0OiBkYXRhLm5leHRTaWJsaW5nXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0ge1xuICAgICAgdHlwZTogJ3BhcmVudCcsXG4gICAgICB0YXJnZXQ6IGRhdGEudGFyZ2V0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB0ZW1wO1xufVxuXG5leHBvcnRzLmNvbXBsaWVQb3NpdGlvbiA9IGNvbXBsaWVQb3NpdGlvbjtcbi8qKlxuICog6KGl5YWoIEZpcmVmb3gg5pWw5o2u55qE54m55q6K5qCH562+XG4gKi9cblxudmFyIHRhZyA9IFsnVUwnLCAnT0wnLCAnSDEnLCAnSDInLCAnSDMnLCAnSDQnLCAnSDUnLCAnSDYnXTtcbi8qKlxuICog5bCGIE11dGF0aW9uUmVjb3JkIOi9rOaNouaIkOiHquWumuS5ieagvOW8j+eahOaVsOaNrlxuICovXG5cbmZ1bmN0aW9uIGNvbXBpbGUoZGF0YSkge1xuICB2YXIgdGVtcCA9IFtdOyAvLyDku6XkuIvkuKTkuKrlj5jph4/mmK/lhbzlrrkgRmlyZWZveCDml7bkvb/nlKjliLDnmoRcbiAgLy8g5YmN5LiA5qyh5pON5L2c5Li65Yig6Zmk5YWD57Sg6IqC54K5XG5cbiAgdmFyIHJlbW92ZU5vZGUgPSBmYWxzZTsgLy8g6L+e57ut55qE6IqC54K55Yig6Zmk6K6w5b2VXG5cbiAgdmFyIHJlbW92ZUNhY2hlID0gW107XG4gICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGRhdGEpLmNhbGwoZGF0YSwgZnVuY3Rpb24gKHJlY29yZCwgaW5kZXgpIHtcbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIHR5cGU6IGNvbXBpbGVUeXBlKHJlY29yZC50eXBlKSxcbiAgICAgIHRhcmdldDogcmVjb3JkLnRhcmdldCxcbiAgICAgIGF0dHI6IHJlY29yZC5hdHRyaWJ1dGVOYW1lIHx8ICcnLFxuICAgICAgdmFsdWU6IGNvbXBpbGVWYWx1ZShyZWNvcmQpIHx8ICcnLFxuICAgICAgb2xkVmFsdWU6IHJlY29yZC5vbGRWYWx1ZSB8fCAnJyxcbiAgICAgIG5vZGVzOiBjb21wbGllTm9kZXMocmVjb3JkKSxcbiAgICAgIHBvc2l0aW9uOiBjb21wbGllUG9zaXRpb24ocmVjb3JkKVxuICAgIH07XG4gICAgdGVtcC5wdXNoKGl0ZW0pOyAvLyDlhbzlrrkgRmlyZWZveO+8jOihpeWFqOaVsOaNru+8iOi/meWHoOWNgeihjOS7o+eggeWGmeW+l+WQkOihgO+8jOi3nyBJRSDmnInlvpfkuIDmi7zvvIlcblxuICAgIGlmICghdXRpbF8xLlVBLmlzRmlyZWZveCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8g5q2j5bi455qE5pWw5o2u77ya57yp6L+b44CB6KGM6auY44CB6LaF6ZO+5o6l44CB5a+56b2Q5pa55byP44CB5byV55So44CB5o+S5YWl6KGo5oOF44CB5o+S5YWl5Zu+54mH44CB5YiG5Ymy57q/44CB6KGo5qC844CB5o+S5YWl5Luj56CBXG4gICAgLy8g5pmu6YCa55qE5pWw5o2u6KGl5YWo77ya5qCH6aKY77yI57qv5paH5pys5YaF5a6577yJ44CB5Yqg57KX44CB5pac5L2T44CB5Yig6Zmk57q/44CB5LiL5YiS57q/44CB6aKc6Imy44CB6IOM5pmv6Imy44CB5a2X5L2T44CB5a2X5Y+344CB5YiX6KGo77yI57qv5paH5pys5YaF5a6577yJXG4gICAgLy8g54m55q6K55qE5pWw5o2u6KGl5YWo77ya5qCH6aKY77yI5YyF5ZCrIEhUTUxFbGVtZW5077yJ44CB5YiX6KGo77yI5YyF5ZCrIEhUTUxFbGVtZW50IOaIliB1bCAtPiBvbCDmiJYgb2wgLT4gdWwg5oiWIEVudGVy77yJXG5cblxuICAgIGlmIChyZW1vdmVOb2RlICYmIHJlY29yZC5hZGRlZE5vZGVzLmxlbmd0aCAmJiByZWNvcmQuYWRkZWROb2Rlc1swXS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAvLyDpnIDopoHooqvlhajmlbDmja7nmoTnm67moIfoioLngrlcbiAgICAgIHZhciByZXBsZW5pc2hOb2RlID0gcmVjb3JkLmFkZGVkTm9kZXNbMF07XG4gICAgICB2YXIgcmVwbGVuaXNoRGF0YSA9IHtcbiAgICAgICAgdHlwZTogJ25vZGUnLFxuICAgICAgICB0YXJnZXQ6IHJlcGxlbmlzaE5vZGUsXG4gICAgICAgIGF0dHI6ICcnLFxuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIG9sZFZhbHVlOiAnJyxcbiAgICAgICAgbm9kZXM6IHtcbiAgICAgICAgICBhZGQ6IFtyZW1vdmVOb2RlXVxuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHR5cGU6ICdwYXJlbnQnLFxuICAgICAgICAgIHRhcmdldDogcmVwbGVuaXNoTm9kZVxuICAgICAgICB9XG4gICAgICB9OyAvLyDnibnmrornmoTmoIfnrb7vvJpbJ1VMJywgJ09MJywgJ0gxJywgJ0gyJywgJ0gzJywgJ0g0JywgJ0g1JywgJ0g2J11cblxuICAgICAgaWYgKCgwLCBfaW5kZXhPZltcImRlZmF1bHRcIl0pKHRhZykuY2FsbCh0YWcsIHJlcGxlbmlzaE5vZGUubm9kZU5hbWUpICE9IC0xKSB7XG4gICAgICAgIHJlcGxlbmlzaERhdGEubm9kZXMuYWRkID0gdXRpbF8xLnRvQXJyYXkocmVwbGVuaXNoTm9kZS5jaGlsZE5vZGVzKTtcbiAgICAgICAgdGVtcC5wdXNoKHJlcGxlbmlzaERhdGEpO1xuICAgICAgfSAvLyDkuIrkuIDkuKrliKDpmaTlhYPntKDmmK/mlofmnKzoioLngrlcbiAgICAgIGVsc2UgaWYgKHJlbW92ZU5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICBpZiAoY29udGFpbnMocmVwbGVuaXNoTm9kZSwgcmVtb3ZlQ2FjaGUpKSB7XG4gICAgICAgICAgcmVwbGVuaXNoRGF0YS5ub2Rlcy5hZGQgPSB1dGlsXzEudG9BcnJheShyZXBsZW5pc2hOb2RlLmNoaWxkTm9kZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGVtcC5wdXNoKHJlcGxlbmlzaERhdGEpO1xuICAgICAgfSAvLyDkuIrkuIDkuKrliKDpmaTlhYPntKDmmK8gRWxlbWVudCAmJiDnlLHov5HliLDov5znmoTliKDpmaTlhYPntKDoh7PlsJHmnInkuIDkuKrmmK/pnIDopoHooaXlhajmlbDmja7oioLngrnnmoTlrZDoioLngrlcbiAgICAgIGVsc2UgaWYgKCgwLCBfaW5kZXhPZltcImRlZmF1bHRcIl0pKHRhZykuY2FsbCh0YWcsIHJlY29yZC50YXJnZXQubm9kZU5hbWUpID09IC0xICYmIGNvbnRhaW5zKHJlcGxlbmlzaE5vZGUsIHJlbW92ZUNhY2hlKSkge1xuICAgICAgICByZXBsZW5pc2hEYXRhLm5vZGVzLmFkZCA9IHV0aWxfMS50b0FycmF5KHJlcGxlbmlzaE5vZGUuY2hpbGROb2Rlcyk7XG4gICAgICAgIHRlbXAucHVzaChyZXBsZW5pc2hEYXRhKTtcbiAgICAgIH1cbiAgICB9IC8vIOiusOW9leacrOasoeeahOiKgueCueS/oeaBr1xuXG5cbiAgICBpZiAoaXRlbS50eXBlID09ICdub2RlJyAmJiByZWNvcmQucmVtb3ZlZE5vZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZW1vdmVOb2RlID0gcmVjb3JkLnJlbW92ZWROb2Rlc1swXTtcbiAgICAgIHJlbW92ZUNhY2hlLnB1c2gocmVtb3ZlTm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZU5vZGUgPSBmYWxzZTtcbiAgICAgIHJlbW92ZUNhY2hlLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRlbXA7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcGlsZTsgLy8g5Yig6Zmk5YWD57Sg55qE5Y6G5Y+y6K6w5b2V5Lit5YyF5ZCr5pyJ5aSa5bCR5Liq55uu5qCH6IqC54K555qE5a2Q5YWD57SgXG5cbmZ1bmN0aW9uIGNvbnRhaW5zKHRhciwgY2hpbGRzKSB7XG4gIHZhciBjb3VudCA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IGNoaWxkcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgaWYgKHRhci5jb250YWlucyhjaGlsZHNbaV0pKSB7XG4gICAgICBjb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY291bnQ7XG59XG5cbi8qKiovIH0pLFxuLyogNDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfZm9yRWFjaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cbnZhciBfZW50cmllcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucmVzdG9yZSA9IGV4cG9ydHMucmV2b2tlID0gdm9pZCAwO1xuLyoqXG4gKiDlsIboioLngrnmt7vliqDliLAgRE9NIOagkeS4rVxuICogQHBhcmFtIGRhdGEg5pWw5o2u6aG5XG4gKiBAcGFyYW0gbGlzdCDoioLngrnpm4blkIjvvIhhZGRlZE5vZGVzIOaIliByZW1vdmVkTm9kZXPvvIlcbiAqL1xuXG5mdW5jdGlvbiBpbnNlcnROb2RlKGRhdGEsIGxpc3QpIHtcbiAgdmFyIHJlZmVyZW5jZSA9IGRhdGEucG9zaXRpb24udGFyZ2V0O1xuXG4gIHN3aXRjaCAoZGF0YS5wb3NpdGlvbi50eXBlKSB7XG4gICAgLy8gcmVmZXJlbmNlIOWcqOi/meS6m+iKgueCueeahOWJjemdolxuICAgIGNhc2UgJ2JlZm9yZSc6XG4gICAgICBpZiAocmVmZXJlbmNlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5uZXh0U2libGluZztcbiAgICAgICAgKDAsIF9mb3JFYWNoW1wiZGVmYXVsdFwiXSkobGlzdCkuY2FsbChsaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGRhdGEudGFyZ2V0Lmluc2VydEJlZm9yZShpdGVtLCByZWZlcmVuY2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxpc3QpLmNhbGwobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBkYXRhLnRhcmdldC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICAgIC8vIHJlZmVyZW5jZSDlnKjov5nkupvoioLngrnnmoTlkI7pnaJcblxuICAgIGNhc2UgJ2FmdGVyJzpcbiAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxpc3QpLmNhbGwobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgZGF0YS50YXJnZXQuaW5zZXJ0QmVmb3JlKGl0ZW0sIHJlZmVyZW5jZSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIHBhcmVudFxuICAgIC8vIHJlZmVyZW5jZSDmmK/ov5nkupvoioLngrnnmoTniLboioLngrlcblxuICAgIGRlZmF1bHQ6XG4gICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShsaXN0KS5jYWxsKGxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJlZmVyZW5jZS5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDmkqTplIDpgLvovpEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblxuZnVuY3Rpb24gcmV2b2tlTm9kZShkYXRhKSB7XG4gIGZvciAodmFyIF9pID0gMCwgX2EgPSAoMCwgX2VudHJpZXNbXCJkZWZhdWx0XCJdKShkYXRhLm5vZGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgX2IgPSBfYVtfaV0sXG4gICAgICAgIHJlbGF0aXZlID0gX2JbMF0sXG4gICAgICAgIGxpc3QgPSBfYlsxXTtcblxuICAgIHN3aXRjaCAocmVsYXRpdmUpIHtcbiAgICAgIC8vIOWPjeWQkeaTjeS9nO+8jOWwhui/meS6m+iKgueCueS7jiBET00g5Lit56e76ZmkXG4gICAgICBjYXNlICdhZGQnOlxuICAgICAgICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKShsaXN0KS5jYWxsKGxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgZGF0YS50YXJnZXQucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHJlbW92Ze+8iOWPjeWQkeaTjeS9nO+8jOWwhui/meS6m+iKgueCuea3u+WKoOWIsCBET00g5Lit77yJXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpbnNlcnROb2RlKGRhdGEsIGxpc3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIOaSpOmUgCBhdHRyaWJ1dGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHJldm9rZUF0dHIoZGF0YSkge1xuICB2YXIgdGFyZ2V0ID0gZGF0YS50YXJnZXQ7XG5cbiAgaWYgKGRhdGEub2xkVmFsdWUgPT0gbnVsbCkge1xuICAgIHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoZGF0YS5hdHRyKTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuc2V0QXR0cmlidXRlKGRhdGEuYXR0ciwgZGF0YS5vbGRWYWx1ZSk7XG4gIH1cbn1cbi8qKlxuICog5pKk6ZSA5paH5pys5YaF5a65XG4gKi9cblxuXG5mdW5jdGlvbiByZXZva2VUZXh0KGRhdGEpIHtcbiAgZGF0YS50YXJnZXQudGV4dENvbnRlbnQgPSBkYXRhLm9sZFZhbHVlO1xufVxuXG52YXIgcmV2b2tlRm5zID0ge1xuICBub2RlOiByZXZva2VOb2RlLFxuICB0ZXh0OiByZXZva2VUZXh0LFxuICBhdHRyOiByZXZva2VBdHRyXG59OyAvLyDmkqTplIAgLSDlr7nlpJbmmrTpnLLnmoTmjqXlj6NcblxuZnVuY3Rpb24gcmV2b2tlKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICB2YXIgaXRlbSA9IGRhdGFbaV07XG4gICAgcmV2b2tlRm5zW2l0ZW0udHlwZV0oaXRlbSk7XG4gIH1cbn1cblxuZXhwb3J0cy5yZXZva2UgPSByZXZva2U7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5oGi5aSN6YC76L6RIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5mdW5jdGlvbiByZXN0b3JlTm9kZShkYXRhKSB7XG4gIGZvciAodmFyIF9pID0gMCwgX2EgPSAoMCwgX2VudHJpZXNbXCJkZWZhdWx0XCJdKShkYXRhLm5vZGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgX2IgPSBfYVtfaV0sXG4gICAgICAgIHJlbGF0aXZlID0gX2JbMF0sXG4gICAgICAgIGxpc3QgPSBfYlsxXTtcblxuICAgIHN3aXRjaCAocmVsYXRpdmUpIHtcbiAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgIHtcbiAgICAgICAgICBpbnNlcnROb2RlKGRhdGEsIGxpc3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvLyByZW1vdmVcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgICgwLCBfZm9yRWFjaFtcImRlZmF1bHRcIl0pKGxpc3QpLmNhbGwobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlVGV4dChkYXRhKSB7XG4gIGRhdGEudGFyZ2V0LnRleHRDb250ZW50ID0gZGF0YS52YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZUF0dHIoZGF0YSkge1xuICA7XG4gIGRhdGEudGFyZ2V0LnNldEF0dHJpYnV0ZShkYXRhLmF0dHIsIGRhdGEudmFsdWUpO1xufVxuXG52YXIgcmVzdG9yZUZucyA9IHtcbiAgbm9kZTogcmVzdG9yZU5vZGUsXG4gIHRleHQ6IHJlc3RvcmVUZXh0LFxuICBhdHRyOiByZXN0b3JlQXR0clxufTsgLy8g5oGi5aSNIC0g5a+55aSW5pq06Zyy55qE5o6l5Y+jXG5cbmZ1bmN0aW9uIHJlc3RvcmUoZGF0YSkge1xuICBmb3IgKHZhciBfaSA9IDAsIGRhdGFfMSA9IGRhdGE7IF9pIDwgZGF0YV8xLmxlbmd0aDsgX2krKykge1xuICAgIHZhciBpdGVtID0gZGF0YV8xW19pXTtcbiAgICByZXN0b3JlRm5zW2l0ZW0udHlwZV0oaXRlbSk7XG4gIH1cbn1cblxuZXhwb3J0cy5yZXN0b3JlID0gcmVzdG9yZTtcblxuLyoqKi8gfSksXG4vKiA0NDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIGNoYWluXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1MCk7XG5cbnZhciBIdG1sQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEh0bWxDYWNoZShlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLmRhdGEgPSBuZXcgY2hhaW5fMS5UYWlsQ2hhaW4oKTtcbiAgfVxuICAvKipcbiAgICog5Yid5aeL5YyW57uR5a6aXG4gICAqL1xuXG5cbiAgSHRtbENhY2hlLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGF0YS5yZXNldE1heCh0aGlzLmVkaXRvci5jb25maWcuaGlzdG9yeU1heFNpemUpOyAvLyDkv53lrZjliJ3lp4vljJblgLxcblxuICAgIHRoaXMuZGF0YS5pbnNlcnRMYXN0KHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5odG1sKCkpO1xuICB9O1xuICAvKipcbiAgICog5L+d5a2YXG4gICAqL1xuXG5cbiAgSHRtbENhY2hlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGF0YS5pbnNlcnRMYXN0KHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5odG1sKCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICog5pKk6ZSAXG4gICAqL1xuXG5cbiAgSHRtbENhY2hlLnByb3RvdHlwZS5yZXZva2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEucHJldigpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5odG1sKGRhdGEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICAvKipcbiAgICog5oGi5aSNXG4gICAqL1xuXG5cbiAgSHRtbENhY2hlLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhLm5leHQoKTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLmVkaXRvci4kdGV4dEVsZW0uaHRtbChkYXRhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4gSHRtbENhY2hlO1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEh0bWxDYWNoZTtcblxuLyoqKi8gfSksXG4vKiA0NTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOaVsOaNrue7k+aehCAtIOmTvuihqFxuICogQGF1dGhvciBmYW5nemhpY29uZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbnZhciBfc3BsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlRhaWxDaGFpbiA9IHZvaWQgMDtcbi8qKlxuICog54m55q6K6ZO+6KGo77yI5pWw5o2u5bC+5o+S5YWl44CB5o+S5YWl5YmN6Ieq5Yqo5riF55CG5oyH6ZKI5ZCO6L6555qE5pWw5o2u44CB5o+S5YWl5ZCO5oyH6ZKI5rC46L+c5a6a5L2N5LqO5pyA5ZCO5LiA5L2N5YWD57Sg44CB5Y+v6ZmQ5Yi26ZO+6KGo6ZW/5bqm44CB5oyH6ZKI5Y+M5ZCR56e75Yqo77yJXG4gKi9cblxudmFyIFRhaWxDaGFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGFpbENoYWluKCkge1xuICAgIC8qKlxuICAgICAqIOmTvuihqOaVsOaNrlxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIC8qKlxuICAgICAqIOmTvuihqOacgOWkp+mVv+W6pu+8jOmbtuihqOekuumVv+W6puS4jemZkFxuICAgICAqL1xuXG4gICAgdGhpcy5tYXggPSAwO1xuICAgIC8qKlxuICAgICAqIOaMh+mSiFxuICAgICAqL1xuXG4gICAgdGhpcy5wb2ludCA9IDA7IC8vIOW9k+WJjeaMh+mSiOaYr+WQpuS6uuS4uuaTjeS9nOi/h1xuXG4gICAgdGhpcy5pc1JlID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIOWFgeiuuOeUqOaIt+mHjeiuvuS4gOasoSBtYXgg5YC8XG4gICAqL1xuXG5cbiAgVGFpbENoYWluLnByb3RvdHlwZS5yZXNldE1heCA9IGZ1bmN0aW9uIChtYXhTaXplKSB7XG4gICAgbWF4U2l6ZSA9IE1hdGguYWJzKG1heFNpemUpO1xuICAgIG1heFNpemUgJiYgKHRoaXMubWF4ID0gbWF4U2l6ZSk7XG4gIH07XG5cbiAgKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKFRhaWxDaGFpbi5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgLyoqXG4gICAgICog5b2T5YmN6ZO+6KGo55qE6ZW/5bqmXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgLyoqXG4gICAqIOWwvuaPkuWFpVxuICAgKiBAcGFyYW0gZGF0YSDmj5LlhaXnmoTmlbDmja5cbiAgICovXG5cbiAgVGFpbENoYWluLnByb3RvdHlwZS5pbnNlcnRMYXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAvLyDkurrkuLrmk43kvZzov4fmjIfpkojvvIzmuIXpmaTmjIfpkojlkI7pnaLnmoTlhYPntKBcbiAgICBpZiAodGhpcy5pc1JlKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgICgwLCBfc3BsaWNlW1wiZGVmYXVsdFwiXSkoX2NvbnRleHQgPSB0aGlzLmRhdGEpLmNhbGwoX2NvbnRleHQsIHRoaXMucG9pbnQgKyAxKTtcbiAgICAgIHRoaXMuaXNSZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZGF0YS5wdXNoKGRhdGEpOyAvLyDotoXlh7rpk77ooajmnIDlpKfplb/luqZcblxuICAgIHdoaWxlICh0aGlzLm1heCAmJiB0aGlzLnNpemUgPiB0aGlzLm1heCkge1xuICAgICAgdGhpcy5kYXRhLnNoaWZ0KCk7XG4gICAgfSAvLyDku47mlrDlrprkvY3mjIfpkojliLDmnIDlkI7kuIDkuKrlhYPntKBcblxuXG4gICAgdGhpcy5wb2ludCA9IHRoaXMuc2l6ZSAtIDE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiDojrflj5blvZPliY3mjIfpkojlhYPntKBcbiAgICovXG5cblxuICBUYWlsQ2hhaW4ucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLnBvaW50XTtcbiAgfTtcbiAgLyoqXG4gICAqIOiOt+WPluS4iuS4gOaMh+mSiOWFg+e0oFxuICAgKi9cblxuXG4gIFRhaWxDaGFpbi5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICAhdGhpcy5pc1JlICYmICh0aGlzLmlzUmUgPSB0cnVlKTtcbiAgICB0aGlzLnBvaW50LS07XG5cbiAgICBpZiAodGhpcy5wb2ludCA8IDApIHtcbiAgICAgIHRoaXMucG9pbnQgPSAwO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jdXJyZW50KCk7XG4gIH07XG4gIC8qKlxuICAgKiDkuIvkuIDmjIfpkojlhYPntKBcbiAgICovXG5cblxuICBUYWlsQ2hhaW4ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIXRoaXMuaXNSZSAmJiAodGhpcy5pc1JlID0gdHJ1ZSk7XG4gICAgdGhpcy5wb2ludCsrO1xuXG4gICAgaWYgKHRoaXMucG9pbnQgPj0gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLnBvaW50ID0gdGhpcy5zaXplIC0gMTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudCgpO1xuICB9O1xuXG4gIHJldHVybiBUYWlsQ2hhaW47XG59KCk7XG5cbmV4cG9ydHMuVGFpbENoYWluID0gVGFpbENoYWluO1xuXG4vKioqLyB9KSxcbi8qIDQ1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6K6w5b2VIHNjcm9sbFRvcFxuICogQGF1dGhvciBmYW5nemhpY29uZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGNhY2hlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNikpO1xuXG52YXIgU2Nyb2xsQ2FjaGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFNjcm9sbENhY2hlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIFNjcm9sbENhY2hlKGVkaXRvcikge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVkaXRvci5jb25maWcuaGlzdG9yeU1heFNpemUpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgLyoqXG4gICAgICog5LiK5LiA5qyh55qEIHNjcm9sbFRvcFxuICAgICAqL1xuXG4gICAgX3RoaXMubGFzdCA9IDA7XG4gICAgX3RoaXMudGFyZ2V0ID0gZWRpdG9yLiR0ZXh0RWxlbS5lbGVtc1swXTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIOe7mee8lui+keWMuuWuueWZqOe7keWumiBzY3JvbGwg5LqL5Lu2XG4gICAqL1xuXG5cbiAgU2Nyb2xsQ2FjaGUucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5lZGl0b3IuJHRleHRFbGVtLmVsZW1zWzBdO1xuICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMubGFzdCA9IF90aGlzLnRhcmdldC5zY3JvbGxUb3A7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNldE1heFNpemUodGhpcy5lZGl0b3IuY29uZmlnLmhpc3RvcnlNYXhTaXplKTtcbiAgfTtcbiAgLyoqXG4gICAqIOS/neWtmCBzY3JvbGxUb3Ag5YC8XG4gICAqL1xuXG5cbiAgU2Nyb2xsQ2FjaGUucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3N1cGVyLnByb3RvdHlwZS5zYXZlLmNhbGwodGhpcywgW3RoaXMubGFzdCwgdGhpcy50YXJnZXQuc2Nyb2xsVG9wXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIOaSpOmUgFxuICAgKi9cblxuXG4gIFNjcm9sbENhY2hlLnByb3RvdHlwZS5yZXZva2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJldm9rZS5jYWxsKHRoaXMsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBfdGhpcy50YXJnZXQuc2Nyb2xsVG9wID0gZGF0YVswXTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOaBouWkjVxuICAgKi9cblxuXG4gIFNjcm9sbENhY2hlLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXN0b3JlLmNhbGwodGhpcywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIF90aGlzLnRhcmdldC5zY3JvbGxUb3AgPSBkYXRhWzFdO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBTY3JvbGxDYWNoZTtcbn0oY2FjaGVfMVtcImRlZmF1bHRcIl0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNjcm9sbENhY2hlO1xuXG4vKioqLyB9KSxcbi8qIDQ1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6K6w5b2VIHJhbmdlIOWPmOWMllxuICogQGF1dGhvciBmYW5nemhpY29uZ1xuICovXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGNhY2hlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNikpO1xuXG52YXIgZG9tX2NvcmVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXG52YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qKlxuICog5oqKIFJhbmdlIOWvueixoei9rOaNouaIkOe8k+WtmOWvueixoVxuICogQHBhcmFtIHJhbmdlIFJhbmdlIOWvueixoVxuICovXG5cblxuZnVuY3Rpb24gcmFuZ2VUb09iamVjdChyYW5nZSkge1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBbcmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0XSxcbiAgICBlbmQ6IFtyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldF0sXG4gICAgcm9vdDogcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIsXG4gICAgY29sbGFwc2VkOiByYW5nZS5jb2xsYXBzZWRcbiAgfTtcbn1cbi8qKlxuICog57yW6L6R5Yy6IHJhbmdlIOe8k+WtmOeuoeeQhuWZqFxuICovXG5cblxudmFyIFJhbmdlQ2FjaGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIHRzbGliXzEuX19leHRlbmRzKFJhbmdlQ2FjaGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gUmFuZ2VDYWNoZShlZGl0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlZGl0b3IuY29uZmlnLmhpc3RvcnlNYXhTaXplKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIF90aGlzLmxhc3RSYW5nZSA9IHJhbmdlVG9PYmplY3QoZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7XG4gICAgX3RoaXMucm9vdCA9IGVkaXRvci4kdGV4dEVsZW0uZWxlbXNbMF07XG4gICAgX3RoaXMudXBkYXRlTGFzdFJhbmdlID0gdXRpbF8xLmRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmxhc3RSYW5nZSA9IHJhbmdlVG9PYmplY3QoX3RoaXMucmFuZ2VIYW5kbGUpO1xuICAgIH0sIGVkaXRvci5jb25maWcub25jaGFuZ2VUaW1lb3V0KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAoMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoUmFuZ2VDYWNoZS5wcm90b3R5cGUsIFwicmFuZ2VIYW5kbGVcIiwge1xuICAgIC8qKlxuICAgICAqIOiOt+WPliBSYW5nZSDlr7nosaFcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPyBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKSA6IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIC8qKlxuICAgKiDliJ3lp4vljJbnu5HlrppcbiAgICovXG5cbiAgUmFuZ2VDYWNoZS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIOWQjOatpeiKgueCueaVsOaNrlxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5lZGl0b3IuJHRleHRFbGVtLmVsZW1zWzBdO1xuICAgIHRoaXMucmVzZXRNYXhTaXplKHRoaXMuZWRpdG9yLmNvbmZpZy5oaXN0b3J5TWF4U2l6ZSk7IC8vIHNlbGVjdGlvbiBjaGFuZ2Ug5Zue6LCD5Ye95pWwXG5cbiAgICBmdW5jdGlvbiBzZWxlY3Rpb25jaGFuZ2UoKSB7XG4gICAgICB2YXIgaGFuZGxlID0gc2VsZi5yYW5nZUhhbmRsZTtcblxuICAgICAgaWYgKHNlbGYucm9vdCA9PT0gaGFuZGxlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHNlbGYucm9vdC5jb250YWlucyhoYW5kbGUuY29tbW9uQW5jZXN0b3JDb250YWluZXIpKSB7XG4gICAgICAgIC8vIOmdnuS4reaWh+i+k+WFpeeKtuaAgeS4i+aJjei/m+ihjOiusOW9lVxuICAgICAgICBpZiAoIXNlbGYuZWRpdG9yLmlzQ29tcG9zaW5nKSB7XG4gICAgICAgICAgc2VsZi51cGRhdGVMYXN0UmFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gYmFja3NwYWNlIOWSjCBkZWxldGUg5omL5Yqo5pu05pawIFJhbmdlIOe8k+WtmFxuXG5cbiAgICBmdW5jdGlvbiBkZWxldGVjYWxsYmFjayhlKSB7XG4gICAgICBpZiAoZS5rZXkgPT0gJ0JhY2tzcGFjZScgfHwgZS5rZXkgPT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgLy8gc2VsZi5sYXN0UmFuZ2UgPSByYW5nZVRvT2JqZWN0KHNlbGYucmFuZ2VIYW5kbGUpXG4gICAgICAgIHNlbGYudXBkYXRlTGFzdFJhbmdlKCk7XG4gICAgICB9XG4gICAgfSAvLyDnu5Hlrprkuovku7bvvIjlv4Xpobvnu5HlrprlnKggZG9jdW1lbnQg5LiK77yM5LiN6IO957uR5a6a5ZyoIHdpbmRvdyDkuIrvvIlcblxuXG4gICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9uKCdzZWxlY3Rpb25jaGFuZ2UnLCBzZWxlY3Rpb25jaGFuZ2UpOyAvLyDop6PpmaTkuovku7bnu5HlrppcblxuICAgIHRoaXMuZWRpdG9yLmJlZm9yZURlc3Ryb3koZnVuY3Rpb24gKCkge1xuICAgICAgZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9mZignc2VsZWN0aW9uY2hhbmdlJywgc2VsZWN0aW9uY2hhbmdlKTtcbiAgICB9KTsgLy8g5Yig6Zmk5paH5pys5pe25omL5Yqo5pu05pawIHJhbmdlXG5cbiAgICBzZWxmLmVkaXRvci4kdGV4dEVsZW0ub24oJ2tleWRvd24nLCBkZWxldGVjYWxsYmFjayk7XG4gIH07XG4gIC8qKlxuICAgKiDkv53lrZggUmFuZ2VcbiAgICovXG5cblxuICBSYW5nZUNhY2hlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjdXJyZW50ID0gcmFuZ2VUb09iamVjdCh0aGlzLnJhbmdlSGFuZGxlKTtcblxuICAgIF9zdXBlci5wcm90b3R5cGUuc2F2ZS5jYWxsKHRoaXMsIFt0aGlzLmxhc3RSYW5nZSwgY3VycmVudF0pO1xuXG4gICAgdGhpcy5sYXN0UmFuZ2UgPSBjdXJyZW50O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICog6K6+572uIFJhbmdl77yM5ZyoIOaSpOmUgC/mgaLlpI0g5Lit6LCD55SoXG4gICAqIEBwYXJhbSByYW5nZSDnvJPlrZjnmoQgUmFuZ2Ug5pWw5o2uXG4gICAqL1xuXG5cbiAgUmFuZ2VDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICB2YXIgaGFuZGxlID0gdGhpcy5yYW5nZUhhbmRsZTtcbiAgICAgICAgaGFuZGxlLnNldFN0YXJ0LmFwcGx5KGhhbmRsZSwgcmFuZ2Uuc3RhcnQpO1xuICAgICAgICBoYW5kbGUuc2V0RW5kLmFwcGx5KGhhbmRsZSwgcmFuZ2UuZW5kKTtcbiAgICAgICAgdGhpcy5lZGl0b3IubWVudXMuY2hhbmdlQWN0aXZlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIOaSpOmUgFxuICAgKi9cblxuXG4gIFJhbmdlQ2FjaGUucHJvdG90eXBlLnJldm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmV2b2tlLmNhbGwodGhpcywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIF90aGlzLnNldChkYXRhWzBdKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIOaBouWkjVxuICAgKi9cblxuXG4gIFJhbmdlQ2FjaGUucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlc3RvcmUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgX3RoaXMuc2V0KGRhdGFbMV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZUNhY2hlO1xufShjYWNoZV8xW1wiZGVmYXVsdFwiXSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFuZ2VDYWNoZTtcblxuLyoqKi8gfSksXG4vKiA0NTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxudmFyIF9maW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSk7XG5cbigwLCBfZGVmaW5lUHJvcGVydHlbXCJkZWZhdWx0XCJdKShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRvbV9jb3JlXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0NTQpO1xuXG5mdW5jdGlvbiBkaXNhYmxlSW5pdChlZGl0b3IpIHtcbiAgdmFyIGlzQ3VydGFpbiA9IGZhbHNlOyAvLyDpgb/lhY3ph43lpI3nlJ/miJDluZXluINcblxuICB2YXIgJGNvbnRlbnREb207XG4gIHZhciAkbWVudURvbTsgLy8g56aB55So5pyf6Ze077yM6YCa6L+HIGpzIOS/ruaUueWGheWuueWQju+8jOWIt+aWsOWGheWuuVxuXG4gIGVkaXRvci50eHQuZXZlbnRIb29rcy5jaGFuZ2VFdmVudHMucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzQ3VydGFpbikge1xuICAgICAgKDAsIF9maW5kW1wiZGVmYXVsdFwiXSkoJGNvbnRlbnREb20pLmNhbGwoJGNvbnRlbnREb20sICcudy1lLWNvbnRlbnQtcHJldmlldycpLmh0bWwoZWRpdG9yLiR0ZXh0RWxlbS5odG1sKCkpO1xuICAgIH1cbiAgfSk7IC8vIOWIm+W7uuW5leW4g1xuXG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKGlzQ3VydGFpbikgcmV0dXJuOyAvLyDpmpDol4/nvJbovpHljLrln59cblxuICAgIGVkaXRvci4kdGV4dEVsZW0uaGlkZSgpOyAvLyDnlJ/miJBkaXYg5riy5p+T57yW6L6R5YaF5a65XG5cbiAgICB2YXIgdGV4dENvbnRhaW5lclppbmRleFZhbHVlID0gZWRpdG9yLnpJbmRleC5nZXQoJ3RleHRDb250YWluZXInKTtcbiAgICB2YXIgY29udGVudCA9IGVkaXRvci50eHQuaHRtbCgpO1xuICAgICRjb250ZW50RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtY29udGVudC1tYW50bGVcXFwiIHN0eWxlPVxcXCJ6LWluZGV4OlwiICsgdGV4dENvbnRhaW5lclppbmRleFZhbHVlICsgXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWUtY29udGVudC1wcmV2aWV3IHctZS10ZXh0XFxcIj5cIiArIGNvbnRlbnQgKyBcIjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICBlZGl0b3IuJHRleHRDb250YWluZXJFbGVtLmFwcGVuZCgkY29udGVudERvbSk7IC8vIOeUn+aIkGRpdiDoj5zljZXohpzluINcblxuICAgIHZhciBtZW51WmluZGV4VmFsdWUgPSBlZGl0b3IuekluZGV4LmdldCgnbWVudScpO1xuICAgICRtZW51RG9tID0gZG9tX2NvcmVfMVtcImRlZmF1bHRcIl0oXCI8ZGl2IGNsYXNzPVxcXCJ3LWUtbWVudWUtbWFudGxlXFxcIiBzdHlsZT1cXFwiei1pbmRleDpcIiArIG1lbnVaaW5kZXhWYWx1ZSArIFwiXFxcIj48L2Rpdj5cIik7XG4gICAgZWRpdG9yLiR0b29sYmFyRWxlbS5hcHBlbmQoJG1lbnVEb20pO1xuICAgIGlzQ3VydGFpbiA9IHRydWU7XG4gICAgZWRpdG9yLmlzRW5hYmxlID0gZmFsc2U7XG4gIH0gLy8g6ZSA5q+B5bmV5biD5bm25pi+56S65Y+v57yW6L6R5Yy65Z+fXG5cblxuICBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgaWYgKCFpc0N1cnRhaW4pIHJldHVybjtcbiAgICAkY29udGVudERvbS5yZW1vdmUoKTtcbiAgICAkbWVudURvbS5yZW1vdmUoKTtcbiAgICBlZGl0b3IuJHRleHRFbGVtLnNob3coKTtcbiAgICBpc0N1cnRhaW4gPSBmYWxzZTtcbiAgICBlZGl0b3IuaXNFbmFibGUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkaXNhYmxlOiBkaXNhYmxlLFxuICAgIGVuYWJsZTogZW5hYmxlXG4gIH07XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZGlzYWJsZUluaXQ7XG5cbi8qKiovIH0pLFxuLyogNDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NTUpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9O1xuXG4vKioqLyB9KSxcbi8qIDQ1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgXCIudy1lLWNvbnRlbnQtbWFudGxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG59XFxuLnctZS1jb250ZW50LW1hbnRsZSAudy1lLWNvbnRlbnQtcHJldmlldyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICBwYWRkaW5nOiAwIDEwcHg7XFxuICBsaW5lLWhlaWdodDogMS41O1xcbn1cXG4udy1lLWNvbnRlbnQtbWFudGxlIC53LWUtY29udGVudC1wcmV2aWV3IGltZyB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbi53LWUtY29udGVudC1tYW50bGUgLnctZS1jb250ZW50LXByZXZpZXcgaW1nOmhvdmVyIHtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxufVxcbi53LWUtbWVudWUtbWFudGxlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcblxuXG4vKioqLyB9KSxcbi8qIDQ1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgU2VsZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWxlY3Rpb25DaGFuZ2UoZWRpdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yOyAvLyDnu5HlrprnmoTkuovku7ZcblxuICAgIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IGVkaXRvci4kdGV4dEVsZW0uZWxlbXNbMF0pIHtcbiAgICAgICAgX3RoaXMuZW1pdCgpO1xuICAgICAgfVxuICAgIH07IC8vICDpgInlj5blj5jljJbkuovku7bnm5HlkKxcblxuXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGluaXQpOyAvLyDmkafmr4Hml7bnp7vpmaTnm5HlkKxcblxuICAgIHRoaXMuZWRpdG9yLmJlZm9yZURlc3Ryb3koZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGluaXQpO1xuICAgIH0pO1xuICB9XG5cbiAgU2VsZWN0aW9uQ2hhbmdlLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTsgLy8g5omn6KGMcmFuZ2VDaGFuZ2Xlh73mlbBcblxuXG4gICAgdmFyIG9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5lZGl0b3IuY29uZmlnLm9uU2VsZWN0aW9uQ2hhbmdlO1xuXG4gICAgaWYgKG9uU2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uO1xuICAgICAgc2VsZWN0aW9uLnNhdmVSYW5nZSgpO1xuICAgICAgaWYgKCFzZWxlY3Rpb24uaXNTZWxlY3Rpb25FbXB0eSgpKSBvblNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgIC8vIOW9k+WJjeaWh+acrFxuICAgICAgICB0ZXh0OiBzZWxlY3Rpb24uZ2V0U2VsZWN0aW9uVGV4dCgpLFxuICAgICAgICAvLyDlvZPliY3nmoRodG1sXG4gICAgICAgIGh0bWw6IChfYSA9IHNlbGVjdGlvbi5nZXRTZWxlY3Rpb25Db250YWluZXJFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtc1swXS5pbm5lckhUTUwsXG4gICAgICAgIC8vIHNlbGVjdOWvueixoVxuICAgICAgICBzZWxlY3Rpb246IHNlbGVjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTZWxlY3Rpb25DaGFuZ2U7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQ2hhbmdlO1xuXG4vKioqLyB9KSxcbi8qIDQ1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xuXG52YXIgX2Fzc2lnbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpKTtcblxudmFyIF9lbnRyaWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMikpO1xuXG52YXIgX2ZvckVhY2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXG4oMCwgX2RlZmluZVByb3BlcnR5W1wiZGVmYXVsdFwiXSkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5yZWdpc3RlclBsdWdpbiA9IHZvaWQgMDtcblxudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgZWRpdG9yXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KSk7XG5cbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyoqXG4gKiDmj5Lku7bms6jlhoxcbiAqIEBwYXJhbSB7IHN0cmluZyB9IG5hbWUg5o+S5Lu25ZCNXG4gKiBAcGFyYW0geyBSZWdpc3Rlck9wdGlvbnMgfSBvcHRpb25zIOaPkuS7tumFjee9rlxuICogQHBhcmFtIHsgcGx1Z2luc0xpc3RUeXBlIH0gbWVtb3J5IOWtmOWCqOS7i+i0qFxuICovXG5cblxuZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4obmFtZSwgb3B0aW9ucywgbWVtb3J5KSB7XG4gIGlmICghbmFtZSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ25hbWUgaXMgbm90IGRlZmluZScpO1xuICB9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucyBpcyBub3QgZGVmaW5lJyk7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMuaW50ZW50aW9uKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucy5pbnRlbnRpb24gaXMgbm90IGRlZmluZScpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaW50ZW50aW9uICYmIHR5cGVvZiBvcHRpb25zLmludGVudGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMuaW50ZW50aW9uIGlzIG5vdCBmdW5jdGlvbicpO1xuICB9XG5cbiAgaWYgKG1lbW9yeVtuYW1lXSkge1xuICAgIGNvbnNvbGUud2FybihcInBsdWdpbiBcIiArIG5hbWUgKyBcIiBcXHU1REYyXFx1NUI1OFxcdTU3MjhcXHVGRjBDXFx1NURGMlxcdTg5ODZcXHU3NkQ2XFx1MzAwMlwiKTtcbiAgfVxuXG4gIG1lbW9yeVtuYW1lXSA9IG9wdGlvbnM7XG59XG5cbmV4cG9ydHMucmVnaXN0ZXJQbHVnaW4gPSByZWdpc3RlclBsdWdpbjtcbi8qKlxuICog5o+S5Lu25Yid5aeL5YyWXG4gKiBAcGFyYW0geyBFZGl0b3IgfSBlZGl0b3Ig57yW6L6R5Zmo5a6e5L6LXG4gKi9cblxuZnVuY3Rpb24gaW5pdFBsdWdpbnMoZWRpdG9yKSB7XG4gIHZhciBwbHVnaW5zID0gKDAsIF9hc3NpZ25bXCJkZWZhdWx0XCJdKSh7fSwgdXRpbF8xLmRlZXBDbG9uZShlZGl0b3JfMVtcImRlZmF1bHRcIl0uZ2xvYmFsUGx1Z2luc0Z1bmN0aW9uTGlzdCksIHV0aWxfMS5kZWVwQ2xvbmUoZWRpdG9yLnBsdWdpbnNGdW5jdGlvbkxpc3QpKTtcbiAgdmFyIHZhbHVlcyA9ICgwLCBfZW50cmllc1tcImRlZmF1bHRcIl0pKHBsdWdpbnMpO1xuICAoMCwgX2ZvckVhY2hbXCJkZWZhdWx0XCJdKSh2YWx1ZXMpLmNhbGwodmFsdWVzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbmFtZSA9IF9hWzBdLFxuICAgICAgICBvcHRpb25zID0gX2FbMV07XG4gICAgY29uc29sZS5pbmZvKFwicGx1Z2luIFwiICsgbmFtZSArIFwiIGluaXRpYWxpemluZ1wiKTtcbiAgICB2YXIgaW50ZW50aW9uID0gb3B0aW9ucy5pbnRlbnRpb24sXG4gICAgICAgIGNvbmZpZyA9IG9wdGlvbnMuY29uZmlnO1xuICAgIGludGVudGlvbihlZGl0b3IsIGNvbmZpZyk7XG4gICAgY29uc29sZS5pbmZvKFwicGx1Z2luIFwiICsgbmFtZSArIFwiIGluaXRpYWxpemF0aW9uIGNvbXBsZXRlXCIpO1xuICB9KTtcbn1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpbml0UGx1Z2lucztcblxuLyoqKi8gfSksXG4vKiA0NTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblxuKDAsIF9kZWZpbmVQcm9wZXJ0eVtcImRlZmF1bHRcIl0pKGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FuZ0VkaXRvci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLFFBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/wangeditor/dist/wangEditor.js\n");

/***/ })

}]);