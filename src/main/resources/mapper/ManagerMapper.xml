<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.medusa.basemall.shop.dao.ManagerMapper">
    <resultMap id="BaseResultMap" type="com.medusa.basemall.shop.entity.Manager">
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="appmodel_id" jdbcType="VARCHAR" property="appmodelId" />
        <result column="flag" jdbcType="BIT" property="flag" />
        <result column="version" jdbcType="INTEGER" property="version" />
        <result column="create_time" jdbcType="VARCHAR" property="createTime" />
        <result column="expiry_date" jdbcType="TIMESTAMP" property="expiryDate" />
        <result column="last_time" jdbcType="VARCHAR" property="lastTime" />
        <result column="app_id" jdbcType="VARCHAR" property="appId" />
        <result column="mch_id" jdbcType="VARCHAR" property="mchId" />
        <result column="mch_key" jdbcType="VARCHAR" property="mchKey" />
        <result column="mini_name" jdbcType="VARCHAR" property="miniName" />
        <result column="certificate_path" jdbcType="VARCHAR" property="certificatePath" />
        <result column="version_subscript" jdbcType="VARCHAR" property="versionSubscript" />
        <result column="mini_code" jdbcType="VARCHAR" property="miniCode" />
        <result column="logo" jdbcType="VARCHAR" property="logo" />
        <result column="balance" jdbcType="DECIMAL" property="balance" />
        <result column="del_state" jdbcType="INTEGER" property="delState" />
        <result column="secret" jdbcType="VARCHAR" property="secret" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="user_name" jdbcType="VARCHAR" property="userName" />
        <result column="expiry_date_notify" jdbcType="VARCHAR" property="expiryDateNotify"/>
    </resultMap>

    <sql id="Base_Column_List">
    id, appmodel_id, flag, version, create_time, expiry_date, last_time, app_id, mch_id,
    mch_key, del_state, secret, password, user_name,certificate_path,mini_name,version_subscript,mini_code,logo,balance,expiry_date_notify
  </sql>

    <select id="selectByAppmodelId" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
            <include refid="Base_Column_List"/>
        from t_manager
        where appmodel_id = #{appmodelId,jdbcType=VARCHAR} and del_state=0
    </select>

</mapper>