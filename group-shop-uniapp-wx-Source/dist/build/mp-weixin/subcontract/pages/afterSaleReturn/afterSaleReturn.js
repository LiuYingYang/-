(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subcontract/pages/afterSaleReturn/afterSaleReturn"],{"0bc1":function(t,e,n){"use strict";var o=n("2203"),r=n.n(o);r.a},2203:function(t,e,n){},"25fb":function(t,e,n){"use strict";(function(t){function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("9ab4"),i=n("60a3"),u=n("1b35");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function y(t){var e=m();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var O=function(){n.e("components/goods/goods").then(function(){return resolve(n("58b2"))}.bind(null,n)).catch(n.oe)},P=function(e){d(o,e);var n=y(o);function o(){var t;return s(this,o),t=n.apply(this,arguments),t.goods={},t.form={deliveryCompany:"",deliverySn:"",deliveryCode:"",phone:"",reason:""},t.actions=[],t.sheetVisible=!1,t.afsId="",t}return p(o,[{key:"onLoad",value:function(t){var e=this,n=t.goods,o=t.afsId;this.goods=JSON.parse(n),this.afsId=o,(0,u.getLogisticsCompany)({}).then((function(t){var n=t.logisticsCompanyVos.map((function(t){return{name:t.name,id:t.logisticsCompanyId}}));e.actions=n})).catch((function(){e.$Popup.toast("获取失败")}))}},{key:"setForm",value:function(t){var e=t.detail,n=t.currentTarget.dataset.key;this.form=Object.assign(this.form,f({},n,e))}},{key:"handleReturn",value:function(){var e=this;return this.$global.isPhone(this.form.phone)?this.form.deliveryCompany?this.form.deliverySn?this.form.reason?void(0,u.returnOfGoods)(a({afsId:this.afsId},this.form)).then((function(){t.navigateBack({delta:-1}),e.$Popup.toast("退货成功")})).catch((function(){e.$Popup.toast("退货失败")})):this.$Popup.toast("请填写退货说明"):this.$Popup.toast("请填写物流单号"):this.$Popup.toast("请选择物流公司"):this.$Popup.toast("请填写正确手机号")}},{key:"onClose",value:function(){this.toggleSheetVisible()}},{key:"onSelect",value:function(t){var e=t.detail,n=e.name,o=e.id;this.form.deliveryCompany=n,this.form.deliveryCode=o}},{key:"toggleSheetVisible",value:function(){this.sheetVisible=!this.sheetVisible}}]),o}(i.Vue);P=(0,r.__decorate)([(0,i.Component)({components:{goods:O}})],P);var j=P;e.default=j}).call(this,n("543d")["default"])},7185:function(t,e,n){"use strict";n.r(e);var o=n("dea4"),r=n("d786");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("0bc1");var u,c=n("f0c5"),a=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"17e5cdca",null,!1,o["a"],u);e["default"]=a.exports},d786:function(t,e,n){"use strict";n.r(e);var o=n("25fb"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},d801:function(t,e,n){"use strict";(function(t){n("6cdc");var e=o(n("7185"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},dea4:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={goods:function(){return n.e("components/goods/goods").then(n.bind(null,"58b2"))}},r=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["d801","common/runtime","common/vendor"]]]);