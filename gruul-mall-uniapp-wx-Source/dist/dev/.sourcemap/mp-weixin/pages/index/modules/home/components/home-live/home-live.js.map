{"version":3,"sources":["webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?f0db","webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?e4fd","webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?05a4","webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?1501","uni-app:///src/pages/index/modules/home/components/home-live/home-live.vue?vue&type=script&lang=ts&","webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?1056","webpack:///./src/pages/index/modules/home/components/home-live/home-live.vue?ad35"],"names":[],"mappings":"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","file":"pages/index/modules/home/components/home-live/home-live.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home-live.vue?vue&type=template&id=6534762e&scoped=true&\"\nvar renderjs\nimport script from \"./home-live.vue?vue&type=script&lang=ts&\"\nexport * from \"./home-live.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./home-live.vue?vue&type=style&index=0&id=6534762e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6534762e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/modules/home/components/home-live/home-live.vue\"\nexport default component.exports","export * from \"-!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-live.vue?vue&type=template&id=6534762e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--14-1!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-live.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--14-1!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-live.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Component,\n  Vue,\n  Prop\n} from 'vue-property-decorator'\nimport {LiveProp,LiveState,ApiLiveItem} from './homeLiveType';\nimport {\n  view,\n  getLiveList\n} from \"@/api/modules/live\";\nimport cloneDeep from \"lodash/cloneDeep\";\ndeclare function requirePlugin(\n  /** 需要引入的插件的 alias */\n  module: string\n): any\nconst livePlayer = requirePlugin(\"live-player-plugin\");\n\n@Component({})\nexport default class HomeLive extends Vue implements LiveState {\n  @Prop({\n    type: Object\n  })\n  decoretionProperties: LiveProp\n  liveList = [] as ApiLiveItem[]\n  isFetch = false\n  timer=0\n  // 组件周期函数--监听组件挂载完毕\n  mounted() {\n    this.fetchLiveList(1);\n  }\n\n  /**\n   * 跳转直播间\n   */\n  goLiveList() {\n    uni.navigateTo({\n      url: \"/subcontract/pages/live/live\"\n    });\n  }\n\n  /**\n   * 跳转直播间\n   */\n  onGotoLive(e) {\n    const roomId = e.currentTarget.dataset.room_id;\n    const id = e.currentTarget.dataset.id;\n    let viewCount = e.currentTarget.dataset.count;\n    try {\n      viewCount = parseInt(viewCount, 10) + 1;\n    } catch (err) {\n      viewCount = 1;\n      console.log(err);\n    }\n    view({\n      id,\n      viewCount\n    }).then(() => this.fetchLiveList());\n    uni.navigateTo({\n      url: `plugin-private://wx2b03c6e691cd7370/pages/live-player-plugin?room_id=${roomId}`,\n    });\n  }\n\n  /**\n   * 动态设置样式\n   */\n  onGetBorderStyle() {\n    if (this.decoretionProperties.doodsAngle === 1) {\n      return `'borderRadius':'8px', 'overflow':\"hidden\"`;\n    } else {\n      return \"\";\n    }\n  }\n\n  /**\n   * 获取直播列表\n   */\n  async fetchLiveList(current = 1, isMore = false) {\n    this.isFetch = isMore ? false : true\n    // this.loading = isMore ? true : false\n    const res = await getLiveList({\n      current,\n      size: 20,\n    });\n    const list = res.list.filter(item => item.firstFlag === 1);\n    this.liveList = list\n    this.isFetch = false\n    setTimeout(() => {\n      this.updateStatus();\n      clearInterval(this.timer);\n      this.timer = setInterval(() => this.updateStatus(), 1000 * 60);\n    }, 100);\n  }\n\n  /**\n   * 更新直播状态\n   */\n  async updateStatus() {\n    const liveList = cloneDeep(this.liveList);\n    const asyncArrs: any[] = liveList.map(v => {\n      return livePlayer.getLiveStatus({\n        room_id: v.roomId\n      });\n    });\n    const arrRes = await Promise.all(asyncArrs);\n    this.liveList = cloneDeep(\n      liveList.map((v, i) => {\n        v.status = arrRes[i].liveStatus;\n        return v;\n      }),\n    )\n  }\n\n}\n","import mod from \"-!../../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-live.vue?vue&type=style&index=0&id=6534762e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home-live.vue?vue&type=style&index=0&id=6534762e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628754989542\n      var cssReload = require(\"E:/代码/group-shop-uniapp-wx-Source/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}