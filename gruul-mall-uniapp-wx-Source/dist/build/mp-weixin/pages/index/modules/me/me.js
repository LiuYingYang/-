(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/modules/me/me"],{"5d58":function(e,t,n){"use strict";var r=function(e){e.options.wxsCallMethods||(e.options.wxsCallMethods=[])};t["a"]=r},"5f7b":function(e,t,n){},"7f73":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return r}));var r={mIcon:function(){return n.e("components/m-icon/m-icon").then(n.bind(null,"c7bc"))},auth:function(){return n.e("components/auth/auth").then(n.bind(null,"f72f"))}},o=function(){var e=this,t=e.$createElement;e._self._c},u=[]},ba4e:function(e,t,n){"use strict";n.r(t);var r=n("c6ce"),o=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},c6ce:function(e,t,n){"use strict";(function(e){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("a34a")),u=n("9ab4"),a=n("60a3"),i=n("db76"),c=n("5eef");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,o,u,a){try{var i=e[u](a),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){l(u,r,o,a,i,"next",e)}function i(e){l(u,r,o,a,i,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=b();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var w=function(){n.e("components/auth/auth").then(function(){return resolve(n("f72f"))}.bind(null,n)).catch(n.oe)},T=function(){n.e("components/m-icon/m-icon").then(function(){return resolve(n("c7bc"))}.bind(null,n)).catch(n.oe)},O=function(t){y(r,t);var n=g(r);function r(){var e;return p(this,r),e=n.apply(this,arguments),e.name="mall",e.userCenter={customStyle:"",headStyle:1,id:0,menuStyle:1,menuVos:[],orderInfo:""},e.customStyle={},e.orderInfo={},e.expandMenu=[],e.gridMenu=[],e.qrcodeShow=!1,e.authType=!1,e.headStyleConfig={headBackGround:"",cardColor:"#45403C",textColor:"#E4CB98"},e.scrollHeight=0,e.scrollType=!1,e.collectNum=0,e.footNum=0,e.hasOpenEvaluate=!0,e.orderBadgeInfo={waitForPay:"",shipped:"",waitForPickup:"",withDelivery:""},e.APP_VERSION="0.1",e.shopInfo={},e.canIUseGetUserProfile=!1,e}return d(r,[{key:"userInfo",get:function(){return this.$STORE.userStore.userInfo}},{key:"isCurrent",get:function(){return this.$STORE.setStore.currentTab===this.name}},{key:"created",value:function(){var t=this;e.setNavigationBarTitle({title:"个人中心"}),this.$Pubsub.on("app-launch",(function(){t.getData()})),this.init(),e.getUserProfile&&(this.canIUseGetUserProfile=!0)}},{key:"init",value:function(){var t=f(o.default.mark((function t(){var n,r,u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{n=e.getSystemInfoSync().windowHeight,r=e.getSystemInfoSync().windowWidth,u=this.$STORE.userStore.userInfo,this.hasOpenEvaluate=this.$STORE.setStore.shopSetting.hasOpenEvaluate,this.scrollHeight=750*n/r,this.scrollType=!u.whetherAuthorization,this.updateAllData(this.$STORE.setStore.userCenter),this.getData()}catch(o){console.log(o)}case 1:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"getData",value:function(){var e=f(o.default.mark((function e(){var t;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$STORE.setStore.getAllUserCenterData();case 2:t=this.$STORE.setStore.userCenter,this.getUserMsg(),this.updateAllData(t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUserMsg",value:function(){var e=f(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.userMsgGet)({infoLevel:2});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateAllData",value:function(e){this.getUserCenterSetting(e.accountCenterVo),this.footNum=e.accountFootMarkCount,this.collectNum=e.collectCount,this.orderBadgeInfo=e.orderOverviewVo,this.shopInfo=this.$STORE.shopSetStore.shopInfo}},{key:"pageLink",value:function(t){var n=t.currentTarget.dataset.link;e.navigateTo({url:"/subcontract".concat(n)})}},{key:"gotoFooter",value:function(){e.navigateTo({url:"/subcontract/pages/footer/footer"})}},{key:"gotoCollect",value:function(){e.navigateTo({url:"/subcontract/pages/collect/collect"})}},{key:"authLoad",value:function(){this.authType=!0,this.scrollType=!1}},{key:"getUserInfo",value:function(){var t=f(o.default.mark((function t(n){var r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.detail,r.rawData){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.$STORE.userStore.updateUser(r.userInfo);case 7:this.getData(),e.showToast({title:"更新成功",icon:"none"});case 9:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getUserProfile",value:function(){var t=this;e.showLoading({title:"",mask:!0}),e.getUserProfile({desc:"用于完善会员资料",success:function(){var n=f(o.default.mark((function n(r){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.rawData){n.next=5;break}return e.hideLoading(),n.abrupt("return");case 5:return n.next=7,t.$STORE.userStore.updateUser(r.userInfo);case 7:t.getData(),e.hideLoading(),e.showToast({title:"更新成功",icon:"none"});case 10:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}(),fail:function(){e.hideLoading()}})}},{key:"cancel",value:function(){this.authType=!1,this.scrollType=!0}},{key:"getUserCenterSetting",value:function(){var e=f(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:n=t.menuVos.filter((function(e){return 1===e.styleType})).map((function(e){return"string"===typeof e.linkSelectItem&&(e.linkSelectItem=JSON.parse(e.linkSelectItem)),e})),r=t.menuVos.filter((function(e){return 2===e.styleType})).map((function(e){return"string"===typeof e.linkSelectItem&&(e.linkSelectItem=JSON.parse(e.linkSelectItem)),e})),this.userCenter=t,this.orderInfo=JSON.parse(t.orderInfo),this.customStyle=JSON.parse(t.customStyle),this.expandMenu=n,this.gridMenu=r,1===this.userCenter.headStyle&&(this.headStyleConfig.headBackGround="background-color: #FE4E63"),2===this.userCenter.headStyle&&(this.headStyleConfig.headBackGround="background-image: url(".concat(this.customStyle.backgroundImage,")"),this.headStyleConfig.cardColor=this.customStyle.cardColor,this.headStyleConfig.textColor=this.customStyle.textColor);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNew",value:function(){this.authType=!1}},{key:"goOrder",value:function(){e.navigateTo({url:"/subcontract/pages/order/order"})}},{key:"linkClick",value:function(t){var n=t.currentTarget.dataset.link;n.append&&"shopCar"===n.append?(0,c.navtofun)(n,this):n.type&&7===n.type?e.navigateToMiniProgram({appId:n.url,envVersion:"release"}):n.type&&(5===n.type||6===n.type)||"mall"===n.append?(0,c.navtofun)(n,this):this.linkLogcal(n)}},{key:"linkLogcal",value:function(t){if(t.url){if("/pages/index/index"!==t.url)return"设置"===t.menuName||"/pages/mySetting/mySetting"===t.url?(1===this.userCenter.menuStyle&&e.navigateTo({url:"/subcontract/pages/mySetting/mySetting?type=1"}),void(2===this.userCenter.menuStyle&&e.navigateTo({url:"/subcontract/pages/mySetting/mySetting?type=2"}))):void(t.type&&6===t.type?e.navigateTo({url:"/subcontract/pages/linkPge/linkPge?src="+t.url}):(e.navigateTo({url:"/subcontract"+t.url}),this.linkTypeHandle(t)));this.$STORE.setStore.setCurrentTab(t.append)}}},{key:"linkTypeHandle",value:function(t){if(2===t.type)return this.$STORE.setStore.setCurrentPageId(t.id+""),void this.$STORE.setStore.setCurrentTab(t.append);1!==t.type||e.navigateTo({url:"/subcontract"+t.url+"?id="+t.id})}},{key:"coverOrderClick",value:function(t){var n=t.currentTarget.dataset.url;e.navigateTo({url:"/subcontract".concat(n)})}}]),r}(a.Vue);O=(0,u.__decorate)([(0,a.Component)({components:{auth:w,mIcon:T}})],O);var C=O;t.default=C}).call(this,n("543d")["default"])},dc43:function(e,t,n){"use strict";n.r(t);var r=n("7f73"),o=n("ba4e");for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("e8b6");var a,i=n("f0c5"),c=n("5d58"),s=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"11e4df92",null,!1,r["a"],a);"function"===typeof c["a"]&&Object(c["a"])(s),t["default"]=s.exports},e8b6:function(e,t,n){"use strict";var r=n("5f7b"),o=n.n(r);o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/index/modules/me/me-create-component',
    {
        'pages/index/modules/me/me-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("dc43"))
        })
    },
    [['pages/index/modules/me/me-create-component']]
]);
