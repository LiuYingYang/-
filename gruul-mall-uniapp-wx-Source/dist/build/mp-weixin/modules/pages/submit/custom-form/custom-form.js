(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/pages/submit/custom-form/custom-form"],{"703f":function(t,e,n){"use strict";var r=function(t){t.options.wxsCallMethods||(t.options.wxsCallMethods=[])};e["a"]=r},c4c0:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},d52a:function(t,e,n){"use strict";(function(t){function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("9ab4"),a=n("60a3"),u=c(n("ef1b")),i=n("1105");function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return d(t)||m(t,e)||f(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,a=[],u=!0,i=!1;try{for(n=n.call(t);!(u=(r=n.next()).done);u=!0)if(a.push(r.value),e&&a.length===e)break}catch(c){i=!0,o=c}finally{try{u||null==n["return"]||n["return"]()}finally{if(i)throw o}}return a}}function d(t){if(Array.isArray(t))return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function D(t){var e=P();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?F(t):e}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var O=function(e){g(r,e);var n=D(r);function r(){var t;return y(this,r),t=n.apply(this,arguments),t.localForms=[],t.datePopVisible=!1,t.currentValue=(new Date).getTime(),t.currentFrom={},t.currentIndex=0,t.minHour=10,t.maxHour=20,t.minDate=(new Date).getTime(),t.maxDate=new Date(2019,10,1).getTime(),t.isFirstEnter=!1,t}return b(r,[{key:"created",value:function(){this.formsChange(this.forms)}},{key:"setForms",value:function(){this.formsChange(this.forms)}},{key:"formsChange",value:function(t){this.isFirstEnter||(this.transformFormToData(t),this.setData({isFirstEnter:!0}))}},{key:"transformFormToData",value:function(t){var e=t.map((function(t){return t.value="",t}));this.setData({localForms:e})}},{key:"onDateItemClick",value:function(t){var e=t.currentTarget.dataset,n=e.index,r=e.item;this.setData({currentFrom:r,currentIndex:n,currentValue:r.value||"time"===r.type?"12:00":(new Date).getTime()}),this.setDatePopVisible(!0)}},{key:"onChange",value:function(t){var e=t.detail,n=t.currentTarget.dataset.index;this.localForms[n].value=e}},{key:"onClose",value:function(){this.setDatePopVisible(!1)}},{key:"setDatePopVisible",value:function(t){this.setData({datePopVisible:t})}},{key:"onDateConfirm",value:function(){var t,e="",n=new u.default(this.currentValue);switch(this.currentFrom.type){case"date":e=n.getYMDs();break;case"time":e=this.currentValue;break;case"datetime":e=n.getYMDHMSs()}this.setData((t={},h(t,"localForms[".concat(this.currentIndex,"].value"),this.currentValue),h(t,"localForms[".concat(this.currentIndex,"].time"),e),t)),this.setDatePopVisible(!1)}},{key:"handleTakePhoto",value:function(e){var n=this,r=e.currentTarget.dataset.index;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var e=s(t.tempFilePaths,1),o=e[0];(0,i.uploadFile)(o).then((function(t){n.localForms[r].value=t})).catch((function(){n.$Popup.toast("上传失败")}))}})}},{key:"onDateInput",value:function(t){var e=t.detail;this.setData({currentValue:e})}},{key:"verificationField",value:function(t){switch(t.type){case"id":return this.$global.isIDnumber(t.value);case"phone":return this.$global.isPhone(t.value);case"number":return this.$global.isNumber(t.value);default:return!0}}},{key:"verificationForm",value:function(){var t=this,e=this.localForms.filter((function(t){return t.required})).find((function(t){return!t.value}));if(e)return this.$Popup.toast("".concat(e.key,"不可为空")),!1;var n=this.localForms.find((function(e){return!!e.value&&!t.verificationField(e)}));return!n||(this.$Popup.toast("请填写正确的".concat(n.key)),!1)}}]),r}(a.Vue);(0,o.__decorate)([(0,a.Prop)()],O.prototype,"forms",void 0),(0,o.__decorate)([(0,a.Watch)("forms")],O.prototype,"setForms",null),O=(0,o.__decorate)([a.Component],O);var x=O;e.default=x}).call(this,n("543d")["default"])},d5ec:function(t,e,n){"use strict";n.r(e);var r=n("d52a"),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a},e72d:function(t,e,n){"use strict";n.r(e);var r=n("c4c0"),o=n("d5ec");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var u,i=n("f0c5"),c=n("703f"),s=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"65478884",null,!1,r["a"],u);"function"===typeof c["a"]&&Object(c["a"])(s),e["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'modules/pages/submit/custom-form/custom-form-create-component',
    {
        'modules/pages/submit/custom-form/custom-form-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("e72d"))
        })
    },
    [['modules/pages/submit/custom-form/custom-form-create-component']]
]);
